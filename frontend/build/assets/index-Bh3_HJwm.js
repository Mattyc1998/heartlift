const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CiQpQRuu.js","assets/index-D5mZt9S9.js","assets/index-DeQv1Xs9.js"])))=>i.map(i=>d[i]);
var PS=Object.defineProperty;var Mp=e=>{throw TypeError(e)};var TS=(e,t,r)=>t in e?PS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var il=(e,t,r)=>TS(e,typeof t!="symbol"?t+"":t,r),ed=(e,t,r)=>t.has(e)||Mp("Cannot "+r);var U=(e,t,r)=>(ed(e,t,"read from private field"),r?r.call(e):t.get(e)),Se=(e,t,r)=>t.has(e)?Mp("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),pe=(e,t,r,n)=>(ed(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),vt=(e,t,r)=>(ed(e,t,"access private method"),r);var ll=(e,t,r,n)=>({set _(o){pe(e,t,o,r)},get _(){return U(e,t,n)}});function RS(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(n,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();var dr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function AS(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),r}var Rv={exports:{}},Yc={},Av={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ui=Symbol.for("react.element"),IS=Symbol.for("react.portal"),OS=Symbol.for("react.fragment"),MS=Symbol.for("react.strict_mode"),DS=Symbol.for("react.profiler"),LS=Symbol.for("react.provider"),$S=Symbol.for("react.context"),FS=Symbol.for("react.forward_ref"),US=Symbol.for("react.suspense"),zS=Symbol.for("react.memo"),HS=Symbol.for("react.lazy"),Dp=Symbol.iterator;function BS(e){return e===null||typeof e!="object"?null:(e=Dp&&e[Dp]||e["@@iterator"],typeof e=="function"?e:null)}var Iv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ov=Object.assign,Mv={};function ua(e,t,r){this.props=e,this.context=t,this.refs=Mv,this.updater=r||Iv}ua.prototype.isReactComponent={};ua.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ua.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Dv(){}Dv.prototype=ua.prototype;function If(e,t,r){this.props=e,this.context=t,this.refs=Mv,this.updater=r||Iv}var Of=If.prototype=new Dv;Of.constructor=If;Ov(Of,ua.prototype);Of.isPureReactComponent=!0;var Lp=Array.isArray,Lv=Object.prototype.hasOwnProperty,Mf={current:null},$v={key:!0,ref:!0,__self:!0,__source:!0};function Fv(e,t,r){var n,o={},a=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)Lv.call(t,n)&&!$v.hasOwnProperty(n)&&(o[n]=t[n]);var l=arguments.length-2;if(l===1)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)o[n]===void 0&&(o[n]=l[n]);return{$$typeof:Ui,type:e,key:a,ref:i,props:o,_owner:Mf.current}}function WS(e,t){return{$$typeof:Ui,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Df(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ui}function VS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var $p=/\/+/g;function td(e,t){return typeof e=="object"&&e!==null&&e.key!=null?VS(""+e.key):t.toString(36)}function $l(e,t,r,n,o){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Ui:case IS:i=!0}}if(i)return i=e,o=o(i),e=n===""?"."+td(i,0):n,Lp(o)?(r="",e!=null&&(r=e.replace($p,"$&/")+"/"),$l(o,t,r,"",function(u){return u})):o!=null&&(Df(o)&&(o=WS(o,r+(!o.key||i&&i.key===o.key?"":(""+o.key).replace($p,"$&/")+"/")+e)),t.push(o)),1;if(i=0,n=n===""?".":n+":",Lp(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+td(a,l);i+=$l(a,t,r,c,o)}else if(c=BS(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+td(a,l++),i+=$l(a,t,r,c,o);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function cl(e,t,r){if(e==null)return e;var n=[],o=0;return $l(e,n,"","",function(a){return t.call(r,a,o++)}),n}function qS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Tt={current:null},Fl={transition:null},KS={ReactCurrentDispatcher:Tt,ReactCurrentBatchConfig:Fl,ReactCurrentOwner:Mf};function Uv(){throw Error("act(...) is not supported in production builds of React.")}Ne.Children={map:cl,forEach:function(e,t,r){cl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return cl(e,function(){t++}),t},toArray:function(e){return cl(e,function(t){return t})||[]},only:function(e){if(!Df(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ne.Component=ua;Ne.Fragment=OS;Ne.Profiler=DS;Ne.PureComponent=If;Ne.StrictMode=MS;Ne.Suspense=US;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KS;Ne.act=Uv;Ne.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Ov({},e.props),o=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=Mf.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Lv.call(t,c)&&!$v.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Ui,type:e.type,key:o,ref:a,props:n,_owner:i}};Ne.createContext=function(e){return e={$$typeof:$S,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:LS,_context:e},e.Consumer=e};Ne.createElement=Fv;Ne.createFactory=function(e){var t=Fv.bind(null,e);return t.type=e,t};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(e){return{$$typeof:FS,render:e}};Ne.isValidElement=Df;Ne.lazy=function(e){return{$$typeof:HS,_payload:{_status:-1,_result:e},_init:qS}};Ne.memo=function(e,t){return{$$typeof:zS,type:e,compare:t===void 0?null:t}};Ne.startTransition=function(e){var t=Fl.transition;Fl.transition={};try{e()}finally{Fl.transition=t}};Ne.unstable_act=Uv;Ne.useCallback=function(e,t){return Tt.current.useCallback(e,t)};Ne.useContext=function(e){return Tt.current.useContext(e)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(e){return Tt.current.useDeferredValue(e)};Ne.useEffect=function(e,t){return Tt.current.useEffect(e,t)};Ne.useId=function(){return Tt.current.useId()};Ne.useImperativeHandle=function(e,t,r){return Tt.current.useImperativeHandle(e,t,r)};Ne.useInsertionEffect=function(e,t){return Tt.current.useInsertionEffect(e,t)};Ne.useLayoutEffect=function(e,t){return Tt.current.useLayoutEffect(e,t)};Ne.useMemo=function(e,t){return Tt.current.useMemo(e,t)};Ne.useReducer=function(e,t,r){return Tt.current.useReducer(e,t,r)};Ne.useRef=function(e){return Tt.current.useRef(e)};Ne.useState=function(e){return Tt.current.useState(e)};Ne.useSyncExternalStore=function(e,t,r){return Tt.current.useSyncExternalStore(e,t,r)};Ne.useTransition=function(){return Tt.current.useTransition()};Ne.version="18.3.1";Av.exports=Ne;var f=Av.exports;const G=Tv(f),Lf=RS({__proto__:null,default:G},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GS=f,YS=Symbol.for("react.element"),QS=Symbol.for("react.fragment"),JS=Object.prototype.hasOwnProperty,XS=GS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ZS={key:!0,ref:!0,__self:!0,__source:!0};function zv(e,t,r){var n,o={},a=null,i=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)JS.call(t,n)&&!ZS.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)o[n]===void 0&&(o[n]=t[n]);return{$$typeof:YS,type:e,key:a,ref:i,props:o,_owner:XS.current}}Yc.Fragment=QS;Yc.jsx=zv;Yc.jsxs=zv;Rv.exports=Yc;var s=Rv.exports,Hv={exports:{}},Zt={},Bv={exports:{}},Wv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,P){var F=k.length;k.push(P);e:for(;0<F;){var $=F-1>>>1,V=k[$];if(0<o(V,P))k[$]=P,k[F]=V,F=$;else break e}}function r(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var P=k[0],F=k.pop();if(F!==P){k[0]=F;e:for(var $=0,V=k.length,D=V>>>1;$<D;){var X=2*($+1)-1,oe=k[X],ue=X+1,R=k[ue];if(0>o(oe,F))ue<V&&0>o(R,oe)?(k[$]=R,k[ue]=F,$=ue):(k[$]=oe,k[X]=F,$=X);else if(ue<V&&0>o(R,F))k[$]=R,k[ue]=F,$=ue;else break e}}return P}function o(k,P){var F=k.sortIndex-P.sortIndex;return F!==0?F:k.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],h=1,d=null,m=3,x=!1,b=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(k){for(var P=r(u);P!==null;){if(P.callback===null)n(u);else if(P.startTime<=k)n(u),P.sortIndex=P.expirationTime,t(c,P);else break;P=r(u)}}function j(k){if(y=!1,v(k),!b)if(r(c)!==null)b=!0,M(N);else{var P=r(u);P!==null&&O(j,P.startTime-k)}}function N(k,P){b=!1,y&&(y=!1,p(C),C=-1),x=!0;var F=m;try{for(v(P),d=r(c);d!==null&&(!(d.expirationTime>P)||k&&!z());){var $=d.callback;if(typeof $=="function"){d.callback=null,m=d.priorityLevel;var V=$(d.expirationTime<=P);P=e.unstable_now(),typeof V=="function"?d.callback=V:d===r(c)&&n(c),v(P)}else n(c);d=r(c)}if(d!==null)var D=!0;else{var X=r(u);X!==null&&O(j,X.startTime-P),D=!1}return D}finally{d=null,m=F,x=!1}}var S=!1,_=null,C=-1,A=5,E=-1;function z(){return!(e.unstable_now()-E<A)}function I(){if(_!==null){var k=e.unstable_now();E=k;var P=!0;try{P=_(!0,k)}finally{P?L():(S=!1,_=null)}}else S=!1}var L;if(typeof g=="function")L=function(){g(I)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,B=T.port2;T.port1.onmessage=I,L=function(){B.postMessage(null)}}else L=function(){w(I,0)};function M(k){_=k,S||(S=!0,L())}function O(k,P){C=w(function(){k(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){b||x||(b=!0,M(N))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(k){switch(m){case 1:case 2:case 3:var P=3;break;default:P=m}var F=m;m=P;try{return k()}finally{m=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,P){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var F=m;m=k;try{return P()}finally{m=F}},e.unstable_scheduleCallback=function(k,P,F){var $=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?$+F:$):F=$,k){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=F+V,k={id:h++,callback:P,priorityLevel:k,startTime:F,expirationTime:V,sortIndex:-1},F>$?(k.sortIndex=F,t(u,k),r(c)===null&&k===r(u)&&(y?(p(C),C=-1):y=!0,O(j,F-$))):(k.sortIndex=V,t(c,k),b||x||(b=!0,M(N))),k},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(k){var P=m;return function(){var F=m;m=P;try{return k.apply(this,arguments)}finally{m=F}}}})(Wv);Bv.exports=Wv;var e_=Bv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_=f,Xt=e_;function q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vv=new Set,li={};function Xs(e,t){Qo(e,t),Qo(e+"Capture",t)}function Qo(e,t){for(li[e]=t,e=0;e<t.length;e++)Vv.add(t[e])}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jd=Object.prototype.hasOwnProperty,r_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fp={},Up={};function n_(e){return Jd.call(Up,e)?!0:Jd.call(Fp,e)?!1:r_.test(e)?Up[e]=!0:(Fp[e]=!0,!1)}function s_(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function o_(e,t,r,n){if(t===null||typeof t>"u"||s_(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Rt(e,t,r,n,o,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pt[e]=new Rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pt[t]=new Rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pt[e]=new Rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pt[e]=new Rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pt[e]=new Rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pt[e]=new Rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pt[e]=new Rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pt[e]=new Rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pt[e]=new Rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var $f=/[\-:]([a-z])/g;function Ff(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($f,Ff);pt[t]=new Rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($f,Ff);pt[t]=new Rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($f,Ff);pt[t]=new Rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pt[e]=new Rt(e,1,!1,e.toLowerCase(),null,!1,!1)});pt.xlinkHref=new Rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pt[e]=new Rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Uf(e,t,r,n){var o=pt.hasOwnProperty(t)?pt[t]:null;(o!==null?o.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(o_(t,r,o,n)&&(r=null),n||o===null?n_(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=r===null?o.type===3?!1:"":r:(t=o.attributeName,n=o.attributeNamespace,r===null?e.removeAttribute(t):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Sn=t_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ul=Symbol.for("react.element"),xo=Symbol.for("react.portal"),wo=Symbol.for("react.fragment"),zf=Symbol.for("react.strict_mode"),Xd=Symbol.for("react.profiler"),qv=Symbol.for("react.provider"),Kv=Symbol.for("react.context"),Hf=Symbol.for("react.forward_ref"),Zd=Symbol.for("react.suspense"),eh=Symbol.for("react.suspense_list"),Bf=Symbol.for("react.memo"),Mn=Symbol.for("react.lazy"),Gv=Symbol.for("react.offscreen"),zp=Symbol.iterator;function Ea(e){return e===null||typeof e!="object"?null:(e=zp&&e[zp]||e["@@iterator"],typeof e=="function"?e:null)}var He=Object.assign,rd;function za(e){if(rd===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);rd=t&&t[1]||""}return`
`+rd+e}var nd=!1;function sd(e,t){if(!e||nd)return"";nd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),a=n.stack.split(`
`),i=o.length-1,l=a.length-1;1<=i&&0<=l&&o[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(o[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||o[i]!==a[l]){var c=`
`+o[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{nd=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?za(e):""}function a_(e){switch(e.tag){case 5:return za(e.type);case 16:return za("Lazy");case 13:return za("Suspense");case 19:return za("SuspenseList");case 0:case 2:case 15:return e=sd(e.type,!1),e;case 11:return e=sd(e.type.render,!1),e;case 1:return e=sd(e.type,!0),e;default:return""}}function th(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case wo:return"Fragment";case xo:return"Portal";case Xd:return"Profiler";case zf:return"StrictMode";case Zd:return"Suspense";case eh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Kv:return(e.displayName||"Context")+".Consumer";case qv:return(e._context.displayName||"Context")+".Provider";case Hf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Bf:return t=e.displayName||null,t!==null?t:th(e.type)||"Memo";case Mn:t=e._payload,e=e._init;try{return th(e(t))}catch{}}return null}function i_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return th(t);case 8:return t===zf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function os(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function l_(e){var t=Yv(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){n=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function dl(e){e._valueTracker||(e._valueTracker=l_(e))}function Qv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Yv(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function sc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function rh(e,t){var r=t.checked;return He({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Hp(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=os(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Jv(e,t){t=t.checked,t!=null&&Uf(e,"checked",t,!1)}function nh(e,t){Jv(e,t);var r=os(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?sh(e,t.type,r):t.hasOwnProperty("defaultValue")&&sh(e,t.type,os(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Bp(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function sh(e,t,r){(t!=="number"||sc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ha=Array.isArray;function Ro(e,t,r,n){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&n&&(e[r].defaultSelected=!0)}else{for(r=""+os(r),t=null,o=0;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,n&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function oh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(q(91));return He({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Wp(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(q(92));if(Ha(r)){if(1<r.length)throw Error(q(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:os(r)}}function Xv(e,t){var r=os(t.value),n=os(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Vp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Zv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ah(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Zv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var hl,ex=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,o){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(hl=hl||document.createElement("div"),hl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=hl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ci(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ya={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},c_=["Webkit","ms","Moz","O"];Object.keys(Ya).forEach(function(e){c_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ya[t]=Ya[e]})});function tx(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ya.hasOwnProperty(e)&&Ya[e]?(""+t).trim():t+"px"}function rx(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,o=tx(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,o):e[r]=o}}var u_=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ih(e,t){if(t){if(u_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(q(62))}}function lh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ch=null;function Wf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var uh=null,Ao=null,Io=null;function qp(e){if(e=Bi(e)){if(typeof uh!="function")throw Error(q(280));var t=e.stateNode;t&&(t=eu(t),uh(e.stateNode,e.type,t))}}function nx(e){Ao?Io?Io.push(e):Io=[e]:Ao=e}function sx(){if(Ao){var e=Ao,t=Io;if(Io=Ao=null,qp(e),t)for(e=0;e<t.length;e++)qp(t[e])}}function ox(e,t){return e(t)}function ax(){}var od=!1;function ix(e,t,r){if(od)return e(t,r);od=!0;try{return ox(e,t,r)}finally{od=!1,(Ao!==null||Io!==null)&&(ax(),sx())}}function ui(e,t){var r=e.stateNode;if(r===null)return null;var n=eu(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(q(231,t,typeof r));return r}var dh=!1;if(gn)try{var Pa={};Object.defineProperty(Pa,"passive",{get:function(){dh=!0}}),window.addEventListener("test",Pa,Pa),window.removeEventListener("test",Pa,Pa)}catch{dh=!1}function d_(e,t,r,n,o,a,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(h){this.onError(h)}}var Qa=!1,oc=null,ac=!1,hh=null,h_={onError:function(e){Qa=!0,oc=e}};function f_(e,t,r,n,o,a,i,l,c){Qa=!1,oc=null,d_.apply(h_,arguments)}function m_(e,t,r,n,o,a,i,l,c){if(f_.apply(this,arguments),Qa){if(Qa){var u=oc;Qa=!1,oc=null}else throw Error(q(198));ac||(ac=!0,hh=u)}}function Zs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function lx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Kp(e){if(Zs(e)!==e)throw Error(q(188))}function p_(e){var t=e.alternate;if(!t){if(t=Zs(e),t===null)throw Error(q(188));return t!==e?null:e}for(var r=e,n=t;;){var o=r.return;if(o===null)break;var a=o.alternate;if(a===null){if(n=o.return,n!==null){r=n;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===r)return Kp(o),e;if(a===n)return Kp(o),t;a=a.sibling}throw Error(q(188))}if(r.return!==n.return)r=o,n=a;else{for(var i=!1,l=o.child;l;){if(l===r){i=!0,r=o,n=a;break}if(l===n){i=!0,n=o,r=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===r){i=!0,r=a,n=o;break}if(l===n){i=!0,n=a,r=o;break}l=l.sibling}if(!i)throw Error(q(189))}}if(r.alternate!==n)throw Error(q(190))}if(r.tag!==3)throw Error(q(188));return r.stateNode.current===r?e:t}function cx(e){return e=p_(e),e!==null?ux(e):null}function ux(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ux(e);if(t!==null)return t;e=e.sibling}return null}var dx=Xt.unstable_scheduleCallback,Gp=Xt.unstable_cancelCallback,g_=Xt.unstable_shouldYield,y_=Xt.unstable_requestPaint,Ve=Xt.unstable_now,v_=Xt.unstable_getCurrentPriorityLevel,Vf=Xt.unstable_ImmediatePriority,hx=Xt.unstable_UserBlockingPriority,ic=Xt.unstable_NormalPriority,x_=Xt.unstable_LowPriority,fx=Xt.unstable_IdlePriority,Qc=null,Kr=null;function w_(e){if(Kr&&typeof Kr.onCommitFiberRoot=="function")try{Kr.onCommitFiberRoot(Qc,e,void 0,(e.current.flags&128)===128)}catch{}}var Er=Math.clz32?Math.clz32:N_,b_=Math.log,j_=Math.LN2;function N_(e){return e>>>=0,e===0?32:31-(b_(e)/j_|0)|0}var fl=64,ml=4194304;function Ba(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function lc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,o=e.suspendedLanes,a=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~o;l!==0?n=Ba(l):(a&=i,a!==0&&(n=Ba(a)))}else i=r&~o,i!==0?n=Ba(i):a!==0&&(n=Ba(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&o)&&(o=n&-n,a=t&-t,o>=a||o===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Er(t),o=1<<r,n|=e[r],t&=~o;return n}function S_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function __(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-Er(a),l=1<<i,c=o[i];c===-1?(!(l&r)||l&n)&&(o[i]=S_(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function fh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function mx(){var e=fl;return fl<<=1,!(fl&4194240)&&(fl=64),e}function ad(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function zi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Er(t),e[t]=r}function C_(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-Er(r),a=1<<o;t[o]=0,n[o]=-1,e[o]=-1,r&=~a}}function qf(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Er(r),o=1<<n;o&t|e[n]&t&&(e[n]|=t),r&=~o}}var ke=0;function px(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var gx,Kf,yx,vx,xx,mh=!1,pl=[],Yn=null,Qn=null,Jn=null,di=new Map,hi=new Map,Ln=[],k_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yp(e,t){switch(e){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":Qn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":di.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hi.delete(t.pointerId)}}function Ta(e,t,r,n,o,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[o]},t!==null&&(t=Bi(t),t!==null&&Kf(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function E_(e,t,r,n,o){switch(t){case"focusin":return Yn=Ta(Yn,e,t,r,n,o),!0;case"dragenter":return Qn=Ta(Qn,e,t,r,n,o),!0;case"mouseover":return Jn=Ta(Jn,e,t,r,n,o),!0;case"pointerover":var a=o.pointerId;return di.set(a,Ta(di.get(a)||null,e,t,r,n,o)),!0;case"gotpointercapture":return a=o.pointerId,hi.set(a,Ta(hi.get(a)||null,e,t,r,n,o)),!0}return!1}function wx(e){var t=ks(e.target);if(t!==null){var r=Zs(t);if(r!==null){if(t=r.tag,t===13){if(t=lx(r),t!==null){e.blockedOn=t,xx(e.priority,function(){yx(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ul(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ph(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ch=n,r.target.dispatchEvent(n),ch=null}else return t=Bi(r),t!==null&&Kf(t),e.blockedOn=r,!1;t.shift()}return!0}function Qp(e,t,r){Ul(e)&&r.delete(t)}function P_(){mh=!1,Yn!==null&&Ul(Yn)&&(Yn=null),Qn!==null&&Ul(Qn)&&(Qn=null),Jn!==null&&Ul(Jn)&&(Jn=null),di.forEach(Qp),hi.forEach(Qp)}function Ra(e,t){e.blockedOn===t&&(e.blockedOn=null,mh||(mh=!0,Xt.unstable_scheduleCallback(Xt.unstable_NormalPriority,P_)))}function fi(e){function t(o){return Ra(o,e)}if(0<pl.length){Ra(pl[0],e);for(var r=1;r<pl.length;r++){var n=pl[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Yn!==null&&Ra(Yn,e),Qn!==null&&Ra(Qn,e),Jn!==null&&Ra(Jn,e),di.forEach(t),hi.forEach(t),r=0;r<Ln.length;r++)n=Ln[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ln.length&&(r=Ln[0],r.blockedOn===null);)wx(r),r.blockedOn===null&&Ln.shift()}var Oo=Sn.ReactCurrentBatchConfig,cc=!0;function T_(e,t,r,n){var o=ke,a=Oo.transition;Oo.transition=null;try{ke=1,Gf(e,t,r,n)}finally{ke=o,Oo.transition=a}}function R_(e,t,r,n){var o=ke,a=Oo.transition;Oo.transition=null;try{ke=4,Gf(e,t,r,n)}finally{ke=o,Oo.transition=a}}function Gf(e,t,r,n){if(cc){var o=ph(e,t,r,n);if(o===null)gd(e,t,n,uc,r),Yp(e,n);else if(E_(o,e,t,r,n))n.stopPropagation();else if(Yp(e,n),t&4&&-1<k_.indexOf(e)){for(;o!==null;){var a=Bi(o);if(a!==null&&gx(a),a=ph(e,t,r,n),a===null&&gd(e,t,n,uc,r),a===o)break;o=a}o!==null&&n.stopPropagation()}else gd(e,t,n,null,r)}}var uc=null;function ph(e,t,r,n){if(uc=null,e=Wf(n),e=ks(e),e!==null)if(t=Zs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=lx(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return uc=e,null}function bx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(v_()){case Vf:return 1;case hx:return 4;case ic:case x_:return 16;case fx:return 536870912;default:return 16}default:return 16}}var qn=null,Yf=null,zl=null;function jx(){if(zl)return zl;var e,t=Yf,r=t.length,n,o="value"in qn?qn.value:qn.textContent,a=o.length;for(e=0;e<r&&t[e]===o[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===o[a-n];n++);return zl=o.slice(e,1<n?1-n:void 0)}function Hl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gl(){return!0}function Jp(){return!1}function er(e){function t(r,n,o,a,i){this._reactName=r,this._targetInst=o,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?gl:Jp,this.isPropagationStopped=Jp,this}return He(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=gl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=gl)},persist:function(){},isPersistent:gl}),t}var da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qf=er(da),Hi=He({},da,{view:0,detail:0}),A_=er(Hi),id,ld,Aa,Jc=He({},Hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Aa&&(Aa&&e.type==="mousemove"?(id=e.screenX-Aa.screenX,ld=e.screenY-Aa.screenY):ld=id=0,Aa=e),id)},movementY:function(e){return"movementY"in e?e.movementY:ld}}),Xp=er(Jc),I_=He({},Jc,{dataTransfer:0}),O_=er(I_),M_=He({},Hi,{relatedTarget:0}),cd=er(M_),D_=He({},da,{animationName:0,elapsedTime:0,pseudoElement:0}),L_=er(D_),$_=He({},da,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),F_=er($_),U_=He({},da,{data:0}),Zp=er(U_),z_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},B_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=B_[e])?!!t[e]:!1}function Jf(){return W_}var V_=He({},Hi,{key:function(e){if(e.key){var t=z_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?H_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jf,charCode:function(e){return e.type==="keypress"?Hl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),q_=er(V_),K_=He({},Jc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eg=er(K_),G_=He({},Hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jf}),Y_=er(G_),Q_=He({},da,{propertyName:0,elapsedTime:0,pseudoElement:0}),J_=er(Q_),X_=He({},Jc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Z_=er(X_),eC=[9,13,27,32],Xf=gn&&"CompositionEvent"in window,Ja=null;gn&&"documentMode"in document&&(Ja=document.documentMode);var tC=gn&&"TextEvent"in window&&!Ja,Nx=gn&&(!Xf||Ja&&8<Ja&&11>=Ja),tg=" ",rg=!1;function Sx(e,t){switch(e){case"keyup":return eC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _x(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bo=!1;function rC(e,t){switch(e){case"compositionend":return _x(t);case"keypress":return t.which!==32?null:(rg=!0,tg);case"textInput":return e=t.data,e===tg&&rg?null:e;default:return null}}function nC(e,t){if(bo)return e==="compositionend"||!Xf&&Sx(e,t)?(e=jx(),zl=Yf=qn=null,bo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nx&&t.locale!=="ko"?null:t.data;default:return null}}var sC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ng(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sC[e.type]:t==="textarea"}function Cx(e,t,r,n){nx(n),t=dc(t,"onChange"),0<t.length&&(r=new Qf("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Xa=null,mi=null;function oC(e){Lx(e,0)}function Xc(e){var t=So(e);if(Qv(t))return e}function aC(e,t){if(e==="change")return t}var kx=!1;if(gn){var ud;if(gn){var dd="oninput"in document;if(!dd){var sg=document.createElement("div");sg.setAttribute("oninput","return;"),dd=typeof sg.oninput=="function"}ud=dd}else ud=!1;kx=ud&&(!document.documentMode||9<document.documentMode)}function og(){Xa&&(Xa.detachEvent("onpropertychange",Ex),mi=Xa=null)}function Ex(e){if(e.propertyName==="value"&&Xc(mi)){var t=[];Cx(t,mi,e,Wf(e)),ix(oC,t)}}function iC(e,t,r){e==="focusin"?(og(),Xa=t,mi=r,Xa.attachEvent("onpropertychange",Ex)):e==="focusout"&&og()}function lC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xc(mi)}function cC(e,t){if(e==="click")return Xc(t)}function uC(e,t){if(e==="input"||e==="change")return Xc(t)}function dC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tr=typeof Object.is=="function"?Object.is:dC;function pi(e,t){if(Tr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var o=r[n];if(!Jd.call(t,o)||!Tr(e[o],t[o]))return!1}return!0}function ag(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ig(e,t){var r=ag(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ag(r)}}function Px(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Px(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Tx(){for(var e=window,t=sc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=sc(e.document)}return t}function Zf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function hC(e){var t=Tx(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Px(r.ownerDocument.documentElement,r)){if(n!==null&&Zf(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=r.textContent.length,a=Math.min(n.start,o);n=n.end===void 0?a:Math.min(n.end,o),!e.extend&&a>n&&(o=n,n=a,a=o),o=ig(r,a);var i=ig(r,n);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fC=gn&&"documentMode"in document&&11>=document.documentMode,jo=null,gh=null,Za=null,yh=!1;function lg(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;yh||jo==null||jo!==sc(n)||(n=jo,"selectionStart"in n&&Zf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Za&&pi(Za,n)||(Za=n,n=dc(gh,"onSelect"),0<n.length&&(t=new Qf("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=jo)))}function yl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var No={animationend:yl("Animation","AnimationEnd"),animationiteration:yl("Animation","AnimationIteration"),animationstart:yl("Animation","AnimationStart"),transitionend:yl("Transition","TransitionEnd")},hd={},Rx={};gn&&(Rx=document.createElement("div").style,"AnimationEvent"in window||(delete No.animationend.animation,delete No.animationiteration.animation,delete No.animationstart.animation),"TransitionEvent"in window||delete No.transitionend.transition);function Zc(e){if(hd[e])return hd[e];if(!No[e])return e;var t=No[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Rx)return hd[e]=t[r];return e}var Ax=Zc("animationend"),Ix=Zc("animationiteration"),Ox=Zc("animationstart"),Mx=Zc("transitionend"),Dx=new Map,cg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cs(e,t){Dx.set(e,t),Xs(t,[e])}for(var fd=0;fd<cg.length;fd++){var md=cg[fd],mC=md.toLowerCase(),pC=md[0].toUpperCase()+md.slice(1);cs(mC,"on"+pC)}cs(Ax,"onAnimationEnd");cs(Ix,"onAnimationIteration");cs(Ox,"onAnimationStart");cs("dblclick","onDoubleClick");cs("focusin","onFocus");cs("focusout","onBlur");cs(Mx,"onTransitionEnd");Qo("onMouseEnter",["mouseout","mouseover"]);Qo("onMouseLeave",["mouseout","mouseover"]);Qo("onPointerEnter",["pointerout","pointerover"]);Qo("onPointerLeave",["pointerout","pointerover"]);Xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wa));function ug(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,m_(n,t,void 0,e),e.currentTarget=null}function Lx(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],o=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&o.isPropagationStopped())break e;ug(o,l,u),a=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&o.isPropagationStopped())break e;ug(o,l,u),a=c}}}if(ac)throw e=hh,ac=!1,hh=null,e}function Oe(e,t){var r=t[jh];r===void 0&&(r=t[jh]=new Set);var n=e+"__bubble";r.has(n)||($x(t,e,2,!1),r.add(n))}function pd(e,t,r){var n=0;t&&(n|=4),$x(r,e,n,t)}var vl="_reactListening"+Math.random().toString(36).slice(2);function gi(e){if(!e[vl]){e[vl]=!0,Vv.forEach(function(r){r!=="selectionchange"&&(gC.has(r)||pd(r,!1,e),pd(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vl]||(t[vl]=!0,pd("selectionchange",!1,t))}}function $x(e,t,r,n){switch(bx(t)){case 1:var o=T_;break;case 4:o=R_;break;default:o=Gf}r=o.bind(null,t,r,e),o=void 0,!dh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),n?o!==void 0?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):o!==void 0?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function gd(e,t,r,n,o){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;i=i.return}for(;l!==null;){if(i=ks(l),i===null)return;if(c=i.tag,c===5||c===6){n=a=i;continue e}l=l.parentNode}}n=n.return}ix(function(){var u=a,h=Wf(r),d=[];e:{var m=Dx.get(e);if(m!==void 0){var x=Qf,b=e;switch(e){case"keypress":if(Hl(r)===0)break e;case"keydown":case"keyup":x=q_;break;case"focusin":b="focus",x=cd;break;case"focusout":b="blur",x=cd;break;case"beforeblur":case"afterblur":x=cd;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Xp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=O_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Y_;break;case Ax:case Ix:case Ox:x=L_;break;case Mx:x=J_;break;case"scroll":x=A_;break;case"wheel":x=Z_;break;case"copy":case"cut":case"paste":x=F_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=eg}var y=(t&4)!==0,w=!y&&e==="scroll",p=y?m!==null?m+"Capture":null:m;y=[];for(var g=u,v;g!==null;){v=g;var j=v.stateNode;if(v.tag===5&&j!==null&&(v=j,p!==null&&(j=ui(g,p),j!=null&&y.push(yi(g,j,v)))),w)break;g=g.return}0<y.length&&(m=new x(m,b,null,r,h),d.push({event:m,listeners:y}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",m&&r!==ch&&(b=r.relatedTarget||r.fromElement)&&(ks(b)||b[yn]))break e;if((x||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,x?(b=r.relatedTarget||r.toElement,x=u,b=b?ks(b):null,b!==null&&(w=Zs(b),b!==w||b.tag!==5&&b.tag!==6)&&(b=null)):(x=null,b=u),x!==b)){if(y=Xp,j="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=eg,j="onPointerLeave",p="onPointerEnter",g="pointer"),w=x==null?m:So(x),v=b==null?m:So(b),m=new y(j,g+"leave",x,r,h),m.target=w,m.relatedTarget=v,j=null,ks(h)===u&&(y=new y(p,g+"enter",b,r,h),y.target=v,y.relatedTarget=w,j=y),w=j,x&&b)t:{for(y=x,p=b,g=0,v=y;v;v=ao(v))g++;for(v=0,j=p;j;j=ao(j))v++;for(;0<g-v;)y=ao(y),g--;for(;0<v-g;)p=ao(p),v--;for(;g--;){if(y===p||p!==null&&y===p.alternate)break t;y=ao(y),p=ao(p)}y=null}else y=null;x!==null&&dg(d,m,x,y,!1),b!==null&&w!==null&&dg(d,w,b,y,!0)}}e:{if(m=u?So(u):window,x=m.nodeName&&m.nodeName.toLowerCase(),x==="select"||x==="input"&&m.type==="file")var N=aC;else if(ng(m))if(kx)N=uC;else{N=lC;var S=iC}else(x=m.nodeName)&&x.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=cC);if(N&&(N=N(e,u))){Cx(d,N,r,h);break e}S&&S(e,m,u),e==="focusout"&&(S=m._wrapperState)&&S.controlled&&m.type==="number"&&sh(m,"number",m.value)}switch(S=u?So(u):window,e){case"focusin":(ng(S)||S.contentEditable==="true")&&(jo=S,gh=u,Za=null);break;case"focusout":Za=gh=jo=null;break;case"mousedown":yh=!0;break;case"contextmenu":case"mouseup":case"dragend":yh=!1,lg(d,r,h);break;case"selectionchange":if(fC)break;case"keydown":case"keyup":lg(d,r,h)}var _;if(Xf)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else bo?Sx(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(Nx&&r.locale!=="ko"&&(bo||C!=="onCompositionStart"?C==="onCompositionEnd"&&bo&&(_=jx()):(qn=h,Yf="value"in qn?qn.value:qn.textContent,bo=!0)),S=dc(u,C),0<S.length&&(C=new Zp(C,e,null,r,h),d.push({event:C,listeners:S}),_?C.data=_:(_=_x(r),_!==null&&(C.data=_)))),(_=tC?rC(e,r):nC(e,r))&&(u=dc(u,"onBeforeInput"),0<u.length&&(h=new Zp("onBeforeInput","beforeinput",null,r,h),d.push({event:h,listeners:u}),h.data=_))}Lx(d,t)})}function yi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function dc(e,t){for(var r=t+"Capture",n=[];e!==null;){var o=e,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=ui(e,r),a!=null&&n.unshift(yi(e,a,o)),a=ui(e,t),a!=null&&n.push(yi(e,a,o))),e=e.return}return n}function ao(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function dg(e,t,r,n,o){for(var a=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,o?(c=ui(r,a),c!=null&&i.unshift(yi(r,c,l))):o||(c=ui(r,a),c!=null&&i.push(yi(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var yC=/\r\n?/g,vC=/\u0000|\uFFFD/g;function hg(e){return(typeof e=="string"?e:""+e).replace(yC,`
`).replace(vC,"")}function xl(e,t,r){if(t=hg(t),hg(e)!==t&&r)throw Error(q(425))}function hc(){}var vh=null,xh=null;function wh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bh=typeof setTimeout=="function"?setTimeout:void 0,xC=typeof clearTimeout=="function"?clearTimeout:void 0,fg=typeof Promise=="function"?Promise:void 0,wC=typeof queueMicrotask=="function"?queueMicrotask:typeof fg<"u"?function(e){return fg.resolve(null).then(e).catch(bC)}:bh;function bC(e){setTimeout(function(){throw e})}function yd(e,t){var r=t,n=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(n===0){e.removeChild(o),fi(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=o}while(r);fi(t)}function Xn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function mg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ha=Math.random().toString(36).slice(2),Br="__reactFiber$"+ha,vi="__reactProps$"+ha,yn="__reactContainer$"+ha,jh="__reactEvents$"+ha,jC="__reactListeners$"+ha,NC="__reactHandles$"+ha;function ks(e){var t=e[Br];if(t)return t;for(var r=e.parentNode;r;){if(t=r[yn]||r[Br]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=mg(e);e!==null;){if(r=e[Br])return r;e=mg(e)}return t}e=r,r=e.parentNode}return null}function Bi(e){return e=e[Br]||e[yn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function So(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function eu(e){return e[vi]||null}var Nh=[],_o=-1;function us(e){return{current:e}}function De(e){0>_o||(e.current=Nh[_o],Nh[_o]=null,_o--)}function Pe(e,t){_o++,Nh[_o]=e.current,e.current=t}var as={},jt=us(as),zt=us(!1),Fs=as;function Jo(e,t){var r=e.type.contextTypes;if(!r)return as;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in r)o[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ht(e){return e=e.childContextTypes,e!=null}function fc(){De(zt),De(jt)}function pg(e,t,r){if(jt.current!==as)throw Error(q(168));Pe(jt,t),Pe(zt,r)}function Fx(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var o in n)if(!(o in t))throw Error(q(108,i_(e)||"Unknown",o));return He({},r,n)}function mc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||as,Fs=jt.current,Pe(jt,e),Pe(zt,zt.current),!0}function gg(e,t,r){var n=e.stateNode;if(!n)throw Error(q(169));r?(e=Fx(e,t,Fs),n.__reactInternalMemoizedMergedChildContext=e,De(zt),De(jt),Pe(jt,e)):De(zt),Pe(zt,r)}var ln=null,tu=!1,vd=!1;function Ux(e){ln===null?ln=[e]:ln.push(e)}function SC(e){tu=!0,Ux(e)}function ds(){if(!vd&&ln!==null){vd=!0;var e=0,t=ke;try{var r=ln;for(ke=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ln=null,tu=!1}catch(o){throw ln!==null&&(ln=ln.slice(e+1)),dx(Vf,ds),o}finally{ke=t,vd=!1}}return null}var Co=[],ko=0,pc=null,gc=0,sr=[],or=0,Us=null,un=1,dn="";function ws(e,t){Co[ko++]=gc,Co[ko++]=pc,pc=e,gc=t}function zx(e,t,r){sr[or++]=un,sr[or++]=dn,sr[or++]=Us,Us=e;var n=un;e=dn;var o=32-Er(n)-1;n&=~(1<<o),r+=1;var a=32-Er(t)+o;if(30<a){var i=o-o%5;a=(n&(1<<i)-1).toString(32),n>>=i,o-=i,un=1<<32-Er(t)+o|r<<o|n,dn=a+e}else un=1<<a|r<<o|n,dn=e}function em(e){e.return!==null&&(ws(e,1),zx(e,1,0))}function tm(e){for(;e===pc;)pc=Co[--ko],Co[ko]=null,gc=Co[--ko],Co[ko]=null;for(;e===Us;)Us=sr[--or],sr[or]=null,dn=sr[--or],sr[or]=null,un=sr[--or],sr[or]=null}var Qt=null,Yt=null,$e=!1,kr=null;function Hx(e,t){var r=ir(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function yg(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qt=e,Yt=Xn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qt=e,Yt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Us!==null?{id:un,overflow:dn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ir(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Qt=e,Yt=null,!0):!1;default:return!1}}function Sh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _h(e){if($e){var t=Yt;if(t){var r=t;if(!yg(e,t)){if(Sh(e))throw Error(q(418));t=Xn(r.nextSibling);var n=Qt;t&&yg(e,t)?Hx(n,r):(e.flags=e.flags&-4097|2,$e=!1,Qt=e)}}else{if(Sh(e))throw Error(q(418));e.flags=e.flags&-4097|2,$e=!1,Qt=e}}}function vg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qt=e}function wl(e){if(e!==Qt)return!1;if(!$e)return vg(e),$e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!wh(e.type,e.memoizedProps)),t&&(t=Yt)){if(Sh(e))throw Bx(),Error(q(418));for(;t;)Hx(e,t),t=Xn(t.nextSibling)}if(vg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Yt=Xn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Yt=null}}else Yt=Qt?Xn(e.stateNode.nextSibling):null;return!0}function Bx(){for(var e=Yt;e;)e=Xn(e.nextSibling)}function Xo(){Yt=Qt=null,$e=!1}function rm(e){kr===null?kr=[e]:kr.push(e)}var _C=Sn.ReactCurrentBatchConfig;function Ia(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(q(309));var n=r.stateNode}if(!n)throw Error(q(147,e));var o=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=o.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(q(284));if(!r._owner)throw Error(q(290,e))}return e}function bl(e,t){throw e=Object.prototype.toString.call(t),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xg(e){var t=e._init;return t(e._payload)}function Wx(e){function t(p,g){if(e){var v=p.deletions;v===null?(p.deletions=[g],p.flags|=16):v.push(g)}}function r(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function n(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function o(p,g){return p=rs(p,g),p.index=0,p.sibling=null,p}function a(p,g,v){return p.index=v,e?(v=p.alternate,v!==null?(v=v.index,v<g?(p.flags|=2,g):v):(p.flags|=2,g)):(p.flags|=1048576,g)}function i(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,g,v,j){return g===null||g.tag!==6?(g=_d(v,p.mode,j),g.return=p,g):(g=o(g,v),g.return=p,g)}function c(p,g,v,j){var N=v.type;return N===wo?h(p,g,v.props.children,j,v.key):g!==null&&(g.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Mn&&xg(N)===g.type)?(j=o(g,v.props),j.ref=Ia(p,g,v),j.return=p,j):(j=Yl(v.type,v.key,v.props,null,p.mode,j),j.ref=Ia(p,g,v),j.return=p,j)}function u(p,g,v,j){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Cd(v,p.mode,j),g.return=p,g):(g=o(g,v.children||[]),g.return=p,g)}function h(p,g,v,j,N){return g===null||g.tag!==7?(g=$s(v,p.mode,j,N),g.return=p,g):(g=o(g,v),g.return=p,g)}function d(p,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=_d(""+g,p.mode,v),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ul:return v=Yl(g.type,g.key,g.props,null,p.mode,v),v.ref=Ia(p,null,g),v.return=p,v;case xo:return g=Cd(g,p.mode,v),g.return=p,g;case Mn:var j=g._init;return d(p,j(g._payload),v)}if(Ha(g)||Ea(g))return g=$s(g,p.mode,v,null),g.return=p,g;bl(p,g)}return null}function m(p,g,v,j){var N=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return N!==null?null:l(p,g,""+v,j);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ul:return v.key===N?c(p,g,v,j):null;case xo:return v.key===N?u(p,g,v,j):null;case Mn:return N=v._init,m(p,g,N(v._payload),j)}if(Ha(v)||Ea(v))return N!==null?null:h(p,g,v,j,null);bl(p,v)}return null}function x(p,g,v,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return p=p.get(v)||null,l(g,p,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ul:return p=p.get(j.key===null?v:j.key)||null,c(g,p,j,N);case xo:return p=p.get(j.key===null?v:j.key)||null,u(g,p,j,N);case Mn:var S=j._init;return x(p,g,v,S(j._payload),N)}if(Ha(j)||Ea(j))return p=p.get(v)||null,h(g,p,j,N,null);bl(g,j)}return null}function b(p,g,v,j){for(var N=null,S=null,_=g,C=g=0,A=null;_!==null&&C<v.length;C++){_.index>C?(A=_,_=null):A=_.sibling;var E=m(p,_,v[C],j);if(E===null){_===null&&(_=A);break}e&&_&&E.alternate===null&&t(p,_),g=a(E,g,C),S===null?N=E:S.sibling=E,S=E,_=A}if(C===v.length)return r(p,_),$e&&ws(p,C),N;if(_===null){for(;C<v.length;C++)_=d(p,v[C],j),_!==null&&(g=a(_,g,C),S===null?N=_:S.sibling=_,S=_);return $e&&ws(p,C),N}for(_=n(p,_);C<v.length;C++)A=x(_,p,C,v[C],j),A!==null&&(e&&A.alternate!==null&&_.delete(A.key===null?C:A.key),g=a(A,g,C),S===null?N=A:S.sibling=A,S=A);return e&&_.forEach(function(z){return t(p,z)}),$e&&ws(p,C),N}function y(p,g,v,j){var N=Ea(v);if(typeof N!="function")throw Error(q(150));if(v=N.call(v),v==null)throw Error(q(151));for(var S=N=null,_=g,C=g=0,A=null,E=v.next();_!==null&&!E.done;C++,E=v.next()){_.index>C?(A=_,_=null):A=_.sibling;var z=m(p,_,E.value,j);if(z===null){_===null&&(_=A);break}e&&_&&z.alternate===null&&t(p,_),g=a(z,g,C),S===null?N=z:S.sibling=z,S=z,_=A}if(E.done)return r(p,_),$e&&ws(p,C),N;if(_===null){for(;!E.done;C++,E=v.next())E=d(p,E.value,j),E!==null&&(g=a(E,g,C),S===null?N=E:S.sibling=E,S=E);return $e&&ws(p,C),N}for(_=n(p,_);!E.done;C++,E=v.next())E=x(_,p,C,E.value,j),E!==null&&(e&&E.alternate!==null&&_.delete(E.key===null?C:E.key),g=a(E,g,C),S===null?N=E:S.sibling=E,S=E);return e&&_.forEach(function(I){return t(p,I)}),$e&&ws(p,C),N}function w(p,g,v,j){if(typeof v=="object"&&v!==null&&v.type===wo&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ul:e:{for(var N=v.key,S=g;S!==null;){if(S.key===N){if(N=v.type,N===wo){if(S.tag===7){r(p,S.sibling),g=o(S,v.props.children),g.return=p,p=g;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Mn&&xg(N)===S.type){r(p,S.sibling),g=o(S,v.props),g.ref=Ia(p,S,v),g.return=p,p=g;break e}r(p,S);break}else t(p,S);S=S.sibling}v.type===wo?(g=$s(v.props.children,p.mode,j,v.key),g.return=p,p=g):(j=Yl(v.type,v.key,v.props,null,p.mode,j),j.ref=Ia(p,g,v),j.return=p,p=j)}return i(p);case xo:e:{for(S=v.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){r(p,g.sibling),g=o(g,v.children||[]),g.return=p,p=g;break e}else{r(p,g);break}else t(p,g);g=g.sibling}g=Cd(v,p.mode,j),g.return=p,p=g}return i(p);case Mn:return S=v._init,w(p,g,S(v._payload),j)}if(Ha(v))return b(p,g,v,j);if(Ea(v))return y(p,g,v,j);bl(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(r(p,g.sibling),g=o(g,v),g.return=p,p=g):(r(p,g),g=_d(v,p.mode,j),g.return=p,p=g),i(p)):r(p,g)}return w}var Zo=Wx(!0),Vx=Wx(!1),yc=us(null),vc=null,Eo=null,nm=null;function sm(){nm=Eo=vc=null}function om(e){var t=yc.current;De(yc),e._currentValue=t}function Ch(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Mo(e,t){vc=e,nm=Eo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ut=!0),e.firstContext=null)}function hr(e){var t=e._currentValue;if(nm!==e)if(e={context:e,memoizedValue:t,next:null},Eo===null){if(vc===null)throw Error(q(308));Eo=e,vc.dependencies={lanes:0,firstContext:e}}else Eo=Eo.next=e;return t}var Es=null;function am(e){Es===null?Es=[e]:Es.push(e)}function qx(e,t,r,n){var o=t.interleaved;return o===null?(r.next=r,am(t)):(r.next=o.next,o.next=r),t.interleaved=r,vn(e,n)}function vn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Dn=!1;function im(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,_e&2){var o=n.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),n.pending=t,vn(e,r)}return o=n.interleaved,o===null?(t.next=t,am(n)):(t.next=o.next,o.next=t),n.interleaved=t,vn(e,r)}function Bl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,qf(e,r)}}function wg(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var o=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?o=a=i:a=a.next=i,r=r.next}while(r!==null);a===null?o=a=t:a=a.next=t}else o=a=t;r={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function xc(e,t,r,n){var o=e.updateQueue;Dn=!1;var a=o.firstBaseUpdate,i=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==i&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(a!==null){var d=o.baseState;i=0,h=u=c=null,l=a;do{var m=l.lane,x=l.eventTime;if((n&m)===m){h!==null&&(h=h.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,y=l;switch(m=t,x=r,y.tag){case 1:if(b=y.payload,typeof b=="function"){d=b.call(x,d,m);break e}d=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=y.payload,m=typeof b=="function"?b.call(x,d,m):b,m==null)break e;d=He({},d,m);break e;case 2:Dn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=o.effects,m===null?o.effects=[l]:m.push(l))}else x={eventTime:x,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=x,c=d):h=h.next=x,i|=m;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;m=l,l=m.next,m.next=null,o.lastBaseUpdate=m,o.shared.pending=null}}while(!0);if(h===null&&(c=d),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=h,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else a===null&&(o.shared.lanes=0);Hs|=i,e.lanes=i,e.memoizedState=d}}function bg(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(o!==null){if(n.callback=null,n=r,typeof o!="function")throw Error(q(191,o));o.call(n)}}}var Wi={},Gr=us(Wi),xi=us(Wi),wi=us(Wi);function Ps(e){if(e===Wi)throw Error(q(174));return e}function lm(e,t){switch(Pe(wi,t),Pe(xi,e),Pe(Gr,Wi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ah(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ah(t,e)}De(Gr),Pe(Gr,t)}function ea(){De(Gr),De(xi),De(wi)}function Gx(e){Ps(wi.current);var t=Ps(Gr.current),r=ah(t,e.type);t!==r&&(Pe(xi,e),Pe(Gr,r))}function cm(e){xi.current===e&&(De(Gr),De(xi))}var Fe=us(0);function wc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xd=[];function um(){for(var e=0;e<xd.length;e++)xd[e]._workInProgressVersionPrimary=null;xd.length=0}var Wl=Sn.ReactCurrentDispatcher,wd=Sn.ReactCurrentBatchConfig,zs=0,Ue=null,Ze=null,st=null,bc=!1,ei=!1,bi=0,CC=0;function xt(){throw Error(q(321))}function dm(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Tr(e[r],t[r]))return!1;return!0}function hm(e,t,r,n,o,a){if(zs=a,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Wl.current=e===null||e.memoizedState===null?TC:RC,e=r(n,o),ei){a=0;do{if(ei=!1,bi=0,25<=a)throw Error(q(301));a+=1,st=Ze=null,t.updateQueue=null,Wl.current=AC,e=r(n,o)}while(ei)}if(Wl.current=jc,t=Ze!==null&&Ze.next!==null,zs=0,st=Ze=Ue=null,bc=!1,t)throw Error(q(300));return e}function fm(){var e=bi!==0;return bi=0,e}function $r(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?Ue.memoizedState=st=e:st=st.next=e,st}function fr(){if(Ze===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var t=st===null?Ue.memoizedState:st.next;if(t!==null)st=t,Ze=e;else{if(e===null)throw Error(q(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},st===null?Ue.memoizedState=st=e:st=st.next=e}return st}function ji(e,t){return typeof t=="function"?t(e):t}function bd(e){var t=fr(),r=t.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=e;var n=Ze,o=n.baseQueue,a=r.pending;if(a!==null){if(o!==null){var i=o.next;o.next=a.next,a.next=i}n.baseQueue=o=a,r.pending=null}if(o!==null){a=o.next,n=n.baseState;var l=i=null,c=null,u=a;do{var h=u.lane;if((zs&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,i=n):c=c.next=d,Ue.lanes|=h,Hs|=h}u=u.next}while(u!==null&&u!==a);c===null?i=n:c.next=l,Tr(n,t.memoizedState)||(Ut=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){o=e;do a=o.lane,Ue.lanes|=a,Hs|=a,o=o.next;while(o!==e)}else o===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function jd(e){var t=fr(),r=t.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=e;var n=r.dispatch,o=r.pending,a=t.memoizedState;if(o!==null){r.pending=null;var i=o=o.next;do a=e(a,i.action),i=i.next;while(i!==o);Tr(a,t.memoizedState)||(Ut=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Yx(){}function Qx(e,t){var r=Ue,n=fr(),o=t(),a=!Tr(n.memoizedState,o);if(a&&(n.memoizedState=o,Ut=!0),n=n.queue,mm(Zx.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||st!==null&&st.memoizedState.tag&1){if(r.flags|=2048,Ni(9,Xx.bind(null,r,n,o,t),void 0,null),at===null)throw Error(q(349));zs&30||Jx(r,t,o)}return o}function Jx(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Xx(e,t,r,n){t.value=r,t.getSnapshot=n,ew(t)&&tw(e)}function Zx(e,t,r){return r(function(){ew(t)&&tw(e)})}function ew(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Tr(e,r)}catch{return!0}}function tw(e){var t=vn(e,1);t!==null&&Pr(t,e,1,-1)}function jg(e){var t=$r();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:e},t.queue=e,e=e.dispatch=PC.bind(null,Ue,e),[t.memoizedState,e]}function Ni(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function rw(){return fr().memoizedState}function Vl(e,t,r,n){var o=$r();Ue.flags|=e,o.memoizedState=Ni(1|t,r,void 0,n===void 0?null:n)}function ru(e,t,r,n){var o=fr();n=n===void 0?null:n;var a=void 0;if(Ze!==null){var i=Ze.memoizedState;if(a=i.destroy,n!==null&&dm(n,i.deps)){o.memoizedState=Ni(t,r,a,n);return}}Ue.flags|=e,o.memoizedState=Ni(1|t,r,a,n)}function Ng(e,t){return Vl(8390656,8,e,t)}function mm(e,t){return ru(2048,8,e,t)}function nw(e,t){return ru(4,2,e,t)}function sw(e,t){return ru(4,4,e,t)}function ow(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function aw(e,t,r){return r=r!=null?r.concat([e]):null,ru(4,4,ow.bind(null,t,e),r)}function pm(){}function iw(e,t){var r=fr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&dm(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function lw(e,t){var r=fr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&dm(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function cw(e,t,r){return zs&21?(Tr(r,t)||(r=mx(),Ue.lanes|=r,Hs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ut=!0),e.memoizedState=r)}function kC(e,t){var r=ke;ke=r!==0&&4>r?r:4,e(!0);var n=wd.transition;wd.transition={};try{e(!1),t()}finally{ke=r,wd.transition=n}}function uw(){return fr().memoizedState}function EC(e,t,r){var n=ts(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},dw(e))hw(t,r);else if(r=qx(e,t,r,n),r!==null){var o=Pt();Pr(r,e,n,o),fw(r,t,n)}}function PC(e,t,r){var n=ts(e),o={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(dw(e))hw(t,o);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,r);if(o.hasEagerState=!0,o.eagerState=l,Tr(l,i)){var c=t.interleaved;c===null?(o.next=o,am(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}r=qx(e,t,o,n),r!==null&&(o=Pt(),Pr(r,e,n,o),fw(r,t,n))}}function dw(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function hw(e,t){ei=bc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function fw(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,qf(e,r)}}var jc={readContext:hr,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},TC={readContext:hr,useCallback:function(e,t){return $r().memoizedState=[e,t===void 0?null:t],e},useContext:hr,useEffect:Ng,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Vl(4194308,4,ow.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Vl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vl(4,2,e,t)},useMemo:function(e,t){var r=$r();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=$r();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=EC.bind(null,Ue,e),[n.memoizedState,e]},useRef:function(e){var t=$r();return e={current:e},t.memoizedState=e},useState:jg,useDebugValue:pm,useDeferredValue:function(e){return $r().memoizedState=e},useTransition:function(){var e=jg(!1),t=e[0];return e=kC.bind(null,e[1]),$r().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ue,o=$r();if($e){if(r===void 0)throw Error(q(407));r=r()}else{if(r=t(),at===null)throw Error(q(349));zs&30||Jx(n,t,r)}o.memoizedState=r;var a={value:r,getSnapshot:t};return o.queue=a,Ng(Zx.bind(null,n,a,e),[e]),n.flags|=2048,Ni(9,Xx.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=$r(),t=at.identifierPrefix;if($e){var r=dn,n=un;r=(n&~(1<<32-Er(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=bi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=CC++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},RC={readContext:hr,useCallback:iw,useContext:hr,useEffect:mm,useImperativeHandle:aw,useInsertionEffect:nw,useLayoutEffect:sw,useMemo:lw,useReducer:bd,useRef:rw,useState:function(){return bd(ji)},useDebugValue:pm,useDeferredValue:function(e){var t=fr();return cw(t,Ze.memoizedState,e)},useTransition:function(){var e=bd(ji)[0],t=fr().memoizedState;return[e,t]},useMutableSource:Yx,useSyncExternalStore:Qx,useId:uw,unstable_isNewReconciler:!1},AC={readContext:hr,useCallback:iw,useContext:hr,useEffect:mm,useImperativeHandle:aw,useInsertionEffect:nw,useLayoutEffect:sw,useMemo:lw,useReducer:jd,useRef:rw,useState:function(){return jd(ji)},useDebugValue:pm,useDeferredValue:function(e){var t=fr();return Ze===null?t.memoizedState=e:cw(t,Ze.memoizedState,e)},useTransition:function(){var e=jd(ji)[0],t=fr().memoizedState;return[e,t]},useMutableSource:Yx,useSyncExternalStore:Qx,useId:uw,unstable_isNewReconciler:!1};function br(e,t){if(e&&e.defaultProps){t=He({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function kh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:He({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var nu={isMounted:function(e){return(e=e._reactInternals)?Zs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Pt(),o=ts(e),a=mn(n,o);a.payload=t,r!=null&&(a.callback=r),t=Zn(e,a,o),t!==null&&(Pr(t,e,o,n),Bl(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Pt(),o=ts(e),a=mn(n,o);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Zn(e,a,o),t!==null&&(Pr(t,e,o,n),Bl(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Pt(),n=ts(e),o=mn(r,n);o.tag=2,t!=null&&(o.callback=t),t=Zn(e,o,n),t!==null&&(Pr(t,e,n,r),Bl(t,e,n))}};function Sg(e,t,r,n,o,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,i):t.prototype&&t.prototype.isPureReactComponent?!pi(r,n)||!pi(o,a):!0}function mw(e,t,r){var n=!1,o=as,a=t.contextType;return typeof a=="object"&&a!==null?a=hr(a):(o=Ht(t)?Fs:jt.current,n=t.contextTypes,a=(n=n!=null)?Jo(e,o):as),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=nu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function _g(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&nu.enqueueReplaceState(t,t.state,null)}function Eh(e,t,r,n){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs={},im(e);var a=t.contextType;typeof a=="object"&&a!==null?o.context=hr(a):(a=Ht(t)?Fs:jt.current,o.context=Jo(e,a)),o.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(kh(e,t,a,r),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&nu.enqueueReplaceState(o,o.state,null),xc(e,r,o,n),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function ta(e,t){try{var r="",n=t;do r+=a_(n),n=n.return;while(n);var o=r}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:o,digest:null}}function Nd(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ph(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var IC=typeof WeakMap=="function"?WeakMap:Map;function pw(e,t,r){r=mn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Sc||(Sc=!0,Fh=n),Ph(e,t)},r}function gw(e,t,r){r=mn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var o=t.value;r.payload=function(){return n(o)},r.callback=function(){Ph(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Ph(e,t),typeof n!="function"&&(es===null?es=new Set([this]):es.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Cg(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new IC;var o=new Set;n.set(t,o)}else o=n.get(t),o===void 0&&(o=new Set,n.set(t,o));o.has(r)||(o.add(r),e=KC.bind(null,e,t,r),t.then(e,e))}function kg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Eg(e,t,r,n,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=mn(-1,1),t.tag=2,Zn(r,t,1))),r.lanes|=1),e)}var OC=Sn.ReactCurrentOwner,Ut=!1;function Ct(e,t,r,n){t.child=e===null?Vx(t,null,r,n):Zo(t,e.child,r,n)}function Pg(e,t,r,n,o){r=r.render;var a=t.ref;return Mo(t,o),n=hm(e,t,r,n,a,o),r=fm(),e!==null&&!Ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,xn(e,t,o)):($e&&r&&em(t),t.flags|=1,Ct(e,t,n,o),t.child)}function Tg(e,t,r,n,o){if(e===null){var a=r.type;return typeof a=="function"&&!Nm(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,yw(e,t,a,n,o)):(e=Yl(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&o)){var i=a.memoizedProps;if(r=r.compare,r=r!==null?r:pi,r(i,n)&&e.ref===t.ref)return xn(e,t,o)}return t.flags|=1,e=rs(a,n),e.ref=t.ref,e.return=t,t.child=e}function yw(e,t,r,n,o){if(e!==null){var a=e.memoizedProps;if(pi(a,n)&&e.ref===t.ref)if(Ut=!1,t.pendingProps=n=a,(e.lanes&o)!==0)e.flags&131072&&(Ut=!0);else return t.lanes=e.lanes,xn(e,t,o)}return Th(e,t,r,n,o)}function vw(e,t,r){var n=t.pendingProps,o=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(To,Kt),Kt|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pe(To,Kt),Kt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Pe(To,Kt),Kt|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Pe(To,Kt),Kt|=n;return Ct(e,t,o,r),t.child}function xw(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Th(e,t,r,n,o){var a=Ht(r)?Fs:jt.current;return a=Jo(t,a),Mo(t,o),r=hm(e,t,r,n,a,o),n=fm(),e!==null&&!Ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,xn(e,t,o)):($e&&n&&em(t),t.flags|=1,Ct(e,t,r,o),t.child)}function Rg(e,t,r,n,o){if(Ht(r)){var a=!0;mc(t)}else a=!1;if(Mo(t,o),t.stateNode===null)ql(e,t),mw(t,r,n),Eh(t,r,n,o),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=hr(u):(u=Ht(r)?Fs:jt.current,u=Jo(t,u));var h=r.getDerivedStateFromProps,d=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&_g(t,i,n,u),Dn=!1;var m=t.memoizedState;i.state=m,xc(t,n,i,o),c=t.memoizedState,l!==n||m!==c||zt.current||Dn?(typeof h=="function"&&(kh(t,r,h,n),c=t.memoizedState),(l=Dn||Sg(t,r,l,n,m,c,u))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Kx(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:br(t.type,l),i.props=u,d=t.pendingProps,m=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=hr(c):(c=Ht(r)?Fs:jt.current,c=Jo(t,c));var x=r.getDerivedStateFromProps;(h=typeof x=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==d||m!==c)&&_g(t,i,n,c),Dn=!1,m=t.memoizedState,i.state=m,xc(t,n,i,o);var b=t.memoizedState;l!==d||m!==b||zt.current||Dn?(typeof x=="function"&&(kh(t,r,x,n),b=t.memoizedState),(u=Dn||Sg(t,r,u,n,m,b,c)||!1)?(h||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,b,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,b,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),i.props=n,i.state=b,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Rh(e,t,r,n,a,o)}function Rh(e,t,r,n,o,a){xw(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return o&&gg(t,r,!1),xn(e,t,a);n=t.stateNode,OC.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Zo(t,e.child,null,a),t.child=Zo(t,null,l,a)):Ct(e,t,l,a),t.memoizedState=n.state,o&&gg(t,r,!0),t.child}function ww(e){var t=e.stateNode;t.pendingContext?pg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&pg(e,t.context,!1),lm(e,t.containerInfo)}function Ag(e,t,r,n,o){return Xo(),rm(o),t.flags|=256,Ct(e,t,r,n),t.child}var Ah={dehydrated:null,treeContext:null,retryLane:0};function Ih(e){return{baseLanes:e,cachePool:null,transitions:null}}function bw(e,t,r){var n=t.pendingProps,o=Fe.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Pe(Fe,o&1),e===null)return _h(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,a?(n=t.mode,a=t.child,i={mode:"hidden",children:i},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=au(i,n,0,null),e=$s(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ih(r),t.memoizedState=Ah,e):gm(t,i));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return MC(e,t,i,n,l,o,r);if(a){a=n.fallback,i=t.mode,o=e.child,l=o.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==o?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=rs(o,c),n.subtreeFlags=o.subtreeFlags&14680064),l!==null?a=rs(l,a):(a=$s(a,i,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,i=e.child.memoizedState,i=i===null?Ih(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~r,t.memoizedState=Ah,n}return a=e.child,e=a.sibling,n=rs(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function gm(e,t){return t=au({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function jl(e,t,r,n){return n!==null&&rm(n),Zo(t,e.child,null,r),e=gm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function MC(e,t,r,n,o,a,i){if(r)return t.flags&256?(t.flags&=-257,n=Nd(Error(q(422))),jl(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,o=t.mode,n=au({mode:"visible",children:n.children},o,0,null),a=$s(a,o,i,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Zo(t,e.child,null,i),t.child.memoizedState=Ih(i),t.memoizedState=Ah,a);if(!(t.mode&1))return jl(e,t,i,null);if(o.data==="$!"){if(n=o.nextSibling&&o.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(q(419)),n=Nd(a,n,void 0),jl(e,t,i,n)}if(l=(i&e.childLanes)!==0,Ut||l){if(n=at,n!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(n.suspendedLanes|i)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,vn(e,o),Pr(n,e,o,-1))}return jm(),n=Nd(Error(q(421))),jl(e,t,i,n)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=GC.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,Yt=Xn(o.nextSibling),Qt=t,$e=!0,kr=null,e!==null&&(sr[or++]=un,sr[or++]=dn,sr[or++]=Us,un=e.id,dn=e.overflow,Us=t),t=gm(t,n.children),t.flags|=4096,t)}function Ig(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Ch(e.return,t,r)}function Sd(e,t,r,n,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=o)}function jw(e,t,r){var n=t.pendingProps,o=n.revealOrder,a=n.tail;if(Ct(e,t,n.children,r),n=Fe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ig(e,r,t);else if(e.tag===19)Ig(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Pe(Fe,n),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(r=t.child,o=null;r!==null;)e=r.alternate,e!==null&&wc(e)===null&&(o=r),r=r.sibling;r=o,r===null?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),Sd(t,!1,o,r,a);break;case"backwards":for(r=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&wc(e)===null){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}Sd(t,!0,r,null,a);break;case"together":Sd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ql(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Hs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(q(153));if(t.child!==null){for(e=t.child,r=rs(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=rs(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function DC(e,t,r){switch(t.tag){case 3:ww(t),Xo();break;case 5:Gx(t);break;case 1:Ht(t.type)&&mc(t);break;case 4:lm(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,o=t.memoizedProps.value;Pe(yc,n._currentValue),n._currentValue=o;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Pe(Fe,Fe.current&1),t.flags|=128,null):r&t.child.childLanes?bw(e,t,r):(Pe(Fe,Fe.current&1),e=xn(e,t,r),e!==null?e.sibling:null);Pe(Fe,Fe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return jw(e,t,r);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Pe(Fe,Fe.current),n)break;return null;case 22:case 23:return t.lanes=0,vw(e,t,r)}return xn(e,t,r)}var Nw,Oh,Sw,_w;Nw=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Oh=function(){};Sw=function(e,t,r,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,Ps(Gr.current);var a=null;switch(r){case"input":o=rh(e,o),n=rh(e,n),a=[];break;case"select":o=He({},o,{value:void 0}),n=He({},n,{value:void 0}),a=[];break;case"textarea":o=oh(e,o),n=oh(e,n),a=[];break;default:typeof o.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=hc)}ih(r,n);var i;r=null;for(u in o)if(!n.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var l=o[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(li.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=o!=null?o[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(li.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Oe("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};_w=function(e,t,r,n){r!==n&&(t.flags|=4)};function Oa(e,t){if(!$e)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function wt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags&14680064,n|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function LC(e,t,r){var n=t.pendingProps;switch(tm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(t),null;case 1:return Ht(t.type)&&fc(),wt(t),null;case 3:return n=t.stateNode,ea(),De(zt),De(jt),um(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(wl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,kr!==null&&(Hh(kr),kr=null))),Oh(e,t),wt(t),null;case 5:cm(t);var o=Ps(wi.current);if(r=t.type,e!==null&&t.stateNode!=null)Sw(e,t,r,n,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(q(166));return wt(t),null}if(e=Ps(Gr.current),wl(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Br]=t,n[vi]=a,e=(t.mode&1)!==0,r){case"dialog":Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":case"embed":Oe("load",n);break;case"video":case"audio":for(o=0;o<Wa.length;o++)Oe(Wa[o],n);break;case"source":Oe("error",n);break;case"img":case"image":case"link":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"input":Hp(n,a),Oe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Oe("invalid",n);break;case"textarea":Wp(n,a),Oe("invalid",n)}ih(r,a),o=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&xl(n.textContent,l,e),o=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&xl(n.textContent,l,e),o=["children",""+l]):li.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Oe("scroll",n)}switch(r){case"input":dl(n),Bp(n,a,!0);break;case"textarea":dl(n),Vp(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=hc)}n=o,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Zv(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Br]=t,e[vi]=n,Nw(e,t,!1,!1),t.stateNode=e;e:{switch(i=lh(r,n),r){case"dialog":Oe("cancel",e),Oe("close",e),o=n;break;case"iframe":case"object":case"embed":Oe("load",e),o=n;break;case"video":case"audio":for(o=0;o<Wa.length;o++)Oe(Wa[o],e);o=n;break;case"source":Oe("error",e),o=n;break;case"img":case"image":case"link":Oe("error",e),Oe("load",e),o=n;break;case"details":Oe("toggle",e),o=n;break;case"input":Hp(e,n),o=rh(e,n),Oe("invalid",e);break;case"option":o=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=He({},n,{value:void 0}),Oe("invalid",e);break;case"textarea":Wp(e,n),o=oh(e,n),Oe("invalid",e);break;default:o=n}ih(r,o),l=o;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?rx(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ex(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ci(e,c):typeof c=="number"&&ci(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(li.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Oe("scroll",e):c!=null&&Uf(e,a,c,i))}switch(r){case"input":dl(e),Bp(e,n,!1);break;case"textarea":dl(e),Vp(e);break;case"option":n.value!=null&&e.setAttribute("value",""+os(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Ro(e,!!n.multiple,a,!1):n.defaultValue!=null&&Ro(e,!!n.multiple,n.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=hc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return wt(t),null;case 6:if(e&&t.stateNode!=null)_w(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(q(166));if(r=Ps(wi.current),Ps(Gr.current),wl(t)){if(n=t.stateNode,r=t.memoizedProps,n[Br]=t,(a=n.nodeValue!==r)&&(e=Qt,e!==null))switch(e.tag){case 3:xl(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xl(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Br]=t,t.stateNode=n}return wt(t),null;case 13:if(De(Fe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if($e&&Yt!==null&&t.mode&1&&!(t.flags&128))Bx(),Xo(),t.flags|=98560,a=!1;else if(a=wl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(q(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(q(317));a[Br]=t}else Xo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;wt(t),a=!1}else kr!==null&&(Hh(kr),kr=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Fe.current&1?et===0&&(et=3):jm())),t.updateQueue!==null&&(t.flags|=4),wt(t),null);case 4:return ea(),Oh(e,t),e===null&&gi(t.stateNode.containerInfo),wt(t),null;case 10:return om(t.type._context),wt(t),null;case 17:return Ht(t.type)&&fc(),wt(t),null;case 19:if(De(Fe),a=t.memoizedState,a===null)return wt(t),null;if(n=(t.flags&128)!==0,i=a.rendering,i===null)if(n)Oa(a,!1);else{if(et!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=wc(e),i!==null){for(t.flags|=128,Oa(a,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Pe(Fe,Fe.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ve()>ra&&(t.flags|=128,n=!0,Oa(a,!1),t.lanes=4194304)}else{if(!n)if(e=wc(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Oa(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!$e)return wt(t),null}else 2*Ve()-a.renderingStartTime>ra&&r!==1073741824&&(t.flags|=128,n=!0,Oa(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(r=a.last,r!==null?r.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ve(),t.sibling=null,r=Fe.current,Pe(Fe,n?r&1|2:r&1),t):(wt(t),null);case 22:case 23:return bm(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Kt&1073741824&&(wt(t),t.subtreeFlags&6&&(t.flags|=8192)):wt(t),null;case 24:return null;case 25:return null}throw Error(q(156,t.tag))}function $C(e,t){switch(tm(t),t.tag){case 1:return Ht(t.type)&&fc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ea(),De(zt),De(jt),um(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return cm(t),null;case 13:if(De(Fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(q(340));Xo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return De(Fe),null;case 4:return ea(),null;case 10:return om(t.type._context),null;case 22:case 23:return bm(),null;case 24:return null;default:return null}}var Nl=!1,bt=!1,FC=typeof WeakSet=="function"?WeakSet:Set,se=null;function Po(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){We(e,t,n)}else r.current=null}function Mh(e,t,r){try{r()}catch(n){We(e,t,n)}}var Og=!1;function UC(e,t){if(vh=cc,e=Tx(),Zf(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var o=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,h=0,d=e,m=null;t:for(;;){for(var x;d!==r||o!==0&&d.nodeType!==3||(l=i+o),d!==a||n!==0&&d.nodeType!==3||(c=i+n),d.nodeType===3&&(i+=d.nodeValue.length),(x=d.firstChild)!==null;)m=d,d=x;for(;;){if(d===e)break t;if(m===r&&++u===o&&(l=i),m===a&&++h===n&&(c=i),(x=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=x}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(xh={focusedElem:e,selectionRange:r},cc=!1,se=t;se!==null;)if(t=se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,se=e;else for(;se!==null;){t=se;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var y=b.memoizedProps,w=b.memoizedState,p=t.stateNode,g=p.getSnapshotBeforeUpdate(t.elementType===t.type?y:br(t.type,y),w);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(j){We(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,se=e;break}se=t.return}return b=Og,Og=!1,b}function ti(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,a!==void 0&&Mh(t,r,a)}o=o.next}while(o!==n)}}function su(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Dh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Cw(e){var t=e.alternate;t!==null&&(e.alternate=null,Cw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Br],delete t[vi],delete t[jh],delete t[jC],delete t[NC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function kw(e){return e.tag===5||e.tag===3||e.tag===4}function Mg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=hc));else if(n!==4&&(e=e.child,e!==null))for(Lh(e,t,r),e=e.sibling;e!==null;)Lh(e,t,r),e=e.sibling}function $h(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for($h(e,t,r),e=e.sibling;e!==null;)$h(e,t,r),e=e.sibling}var ht=null,_r=!1;function En(e,t,r){for(r=r.child;r!==null;)Ew(e,t,r),r=r.sibling}function Ew(e,t,r){if(Kr&&typeof Kr.onCommitFiberUnmount=="function")try{Kr.onCommitFiberUnmount(Qc,r)}catch{}switch(r.tag){case 5:bt||Po(r,t);case 6:var n=ht,o=_r;ht=null,En(e,t,r),ht=n,_r=o,ht!==null&&(_r?(e=ht,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ht.removeChild(r.stateNode));break;case 18:ht!==null&&(_r?(e=ht,r=r.stateNode,e.nodeType===8?yd(e.parentNode,r):e.nodeType===1&&yd(e,r),fi(e)):yd(ht,r.stateNode));break;case 4:n=ht,o=_r,ht=r.stateNode.containerInfo,_r=!0,En(e,t,r),ht=n,_r=o;break;case 0:case 11:case 14:case 15:if(!bt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){o=n=n.next;do{var a=o,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Mh(r,t,i),o=o.next}while(o!==n)}En(e,t,r);break;case 1:if(!bt&&(Po(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){We(r,t,l)}En(e,t,r);break;case 21:En(e,t,r);break;case 22:r.mode&1?(bt=(n=bt)||r.memoizedState!==null,En(e,t,r),bt=n):En(e,t,r);break;default:En(e,t,r)}}function Dg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new FC),t.forEach(function(n){var o=YC.bind(null,e,n);r.has(n)||(r.add(n),n.then(o,o))})}}function vr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var o=r[n];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:ht=l.stateNode,_r=!1;break e;case 3:ht=l.stateNode.containerInfo,_r=!0;break e;case 4:ht=l.stateNode.containerInfo,_r=!0;break e}l=l.return}if(ht===null)throw Error(q(160));Ew(a,i,o),ht=null,_r=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(u){We(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Pw(t,e),t=t.sibling}function Pw(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vr(t,e),Dr(e),n&4){try{ti(3,e,e.return),su(3,e)}catch(y){We(e,e.return,y)}try{ti(5,e,e.return)}catch(y){We(e,e.return,y)}}break;case 1:vr(t,e),Dr(e),n&512&&r!==null&&Po(r,r.return);break;case 5:if(vr(t,e),Dr(e),n&512&&r!==null&&Po(r,r.return),e.flags&32){var o=e.stateNode;try{ci(o,"")}catch(y){We(e,e.return,y)}}if(n&4&&(o=e.stateNode,o!=null)){var a=e.memoizedProps,i=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Jv(o,a),lh(l,i);var u=lh(l,a);for(i=0;i<c.length;i+=2){var h=c[i],d=c[i+1];h==="style"?rx(o,d):h==="dangerouslySetInnerHTML"?ex(o,d):h==="children"?ci(o,d):Uf(o,h,d,u)}switch(l){case"input":nh(o,a);break;case"textarea":Xv(o,a);break;case"select":var m=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var x=a.value;x!=null?Ro(o,!!a.multiple,x,!1):m!==!!a.multiple&&(a.defaultValue!=null?Ro(o,!!a.multiple,a.defaultValue,!0):Ro(o,!!a.multiple,a.multiple?[]:"",!1))}o[vi]=a}catch(y){We(e,e.return,y)}}break;case 6:if(vr(t,e),Dr(e),n&4){if(e.stateNode===null)throw Error(q(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(y){We(e,e.return,y)}}break;case 3:if(vr(t,e),Dr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{fi(t.containerInfo)}catch(y){We(e,e.return,y)}break;case 4:vr(t,e),Dr(e);break;case 13:vr(t,e),Dr(e),o=e.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(xm=Ve())),n&4&&Dg(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(bt=(u=bt)||h,vr(t,e),bt=u):vr(t,e),Dr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(se=e,h=e.child;h!==null;){for(d=se=h;se!==null;){switch(m=se,x=m.child,m.tag){case 0:case 11:case 14:case 15:ti(4,m,m.return);break;case 1:Po(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(y){We(n,r,y)}}break;case 5:Po(m,m.return);break;case 22:if(m.memoizedState!==null){$g(d);continue}}x!==null?(x.return=m,se=x):$g(d)}h=h.sibling}e:for(h=null,d=e;;){if(d.tag===5){if(h===null){h=d;try{o=d.stateNode,u?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=d.stateNode,c=d.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=tx("display",i))}catch(y){We(e,e.return,y)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){We(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vr(t,e),Dr(e),n&4&&Dg(e);break;case 21:break;default:vr(t,e),Dr(e)}}function Dr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(kw(r)){var n=r;break e}r=r.return}throw Error(q(160))}switch(n.tag){case 5:var o=n.stateNode;n.flags&32&&(ci(o,""),n.flags&=-33);var a=Mg(e);$h(e,a,o);break;case 3:case 4:var i=n.stateNode.containerInfo,l=Mg(e);Lh(e,l,i);break;default:throw Error(q(161))}}catch(c){We(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function zC(e,t,r){se=e,Tw(e)}function Tw(e,t,r){for(var n=(e.mode&1)!==0;se!==null;){var o=se,a=o.child;if(o.tag===22&&n){var i=o.memoizedState!==null||Nl;if(!i){var l=o.alternate,c=l!==null&&l.memoizedState!==null||bt;l=Nl;var u=bt;if(Nl=i,(bt=c)&&!u)for(se=o;se!==null;)i=se,c=i.child,i.tag===22&&i.memoizedState!==null?Fg(o):c!==null?(c.return=i,se=c):Fg(o);for(;a!==null;)se=a,Tw(a),a=a.sibling;se=o,Nl=l,bt=u}Lg(e)}else o.subtreeFlags&8772&&a!==null?(a.return=o,se=a):Lg(e)}}function Lg(e){for(;se!==null;){var t=se;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:bt||su(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!bt)if(r===null)n.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:br(t.type,r.memoizedProps);n.componentDidUpdate(o,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&bg(t,a,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}bg(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&fi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}bt||t.flags&512&&Dh(t)}catch(m){We(t,t.return,m)}}if(t===e){se=null;break}if(r=t.sibling,r!==null){r.return=t.return,se=r;break}se=t.return}}function $g(e){for(;se!==null;){var t=se;if(t===e){se=null;break}var r=t.sibling;if(r!==null){r.return=t.return,se=r;break}se=t.return}}function Fg(e){for(;se!==null;){var t=se;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{su(4,t)}catch(c){We(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var o=t.return;try{n.componentDidMount()}catch(c){We(t,o,c)}}var a=t.return;try{Dh(t)}catch(c){We(t,a,c)}break;case 5:var i=t.return;try{Dh(t)}catch(c){We(t,i,c)}}}catch(c){We(t,t.return,c)}if(t===e){se=null;break}var l=t.sibling;if(l!==null){l.return=t.return,se=l;break}se=t.return}}var HC=Math.ceil,Nc=Sn.ReactCurrentDispatcher,ym=Sn.ReactCurrentOwner,cr=Sn.ReactCurrentBatchConfig,_e=0,at=null,Je=null,mt=0,Kt=0,To=us(0),et=0,Si=null,Hs=0,ou=0,vm=0,ri=null,$t=null,xm=0,ra=1/0,on=null,Sc=!1,Fh=null,es=null,Sl=!1,Kn=null,_c=0,ni=0,Uh=null,Kl=-1,Gl=0;function Pt(){return _e&6?Ve():Kl!==-1?Kl:Kl=Ve()}function ts(e){return e.mode&1?_e&2&&mt!==0?mt&-mt:_C.transition!==null?(Gl===0&&(Gl=mx()),Gl):(e=ke,e!==0||(e=window.event,e=e===void 0?16:bx(e.type)),e):1}function Pr(e,t,r,n){if(50<ni)throw ni=0,Uh=null,Error(q(185));zi(e,r,n),(!(_e&2)||e!==at)&&(e===at&&(!(_e&2)&&(ou|=r),et===4&&$n(e,mt)),Bt(e,n),r===1&&_e===0&&!(t.mode&1)&&(ra=Ve()+500,tu&&ds()))}function Bt(e,t){var r=e.callbackNode;__(e,t);var n=lc(e,e===at?mt:0);if(n===0)r!==null&&Gp(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Gp(r),t===1)e.tag===0?SC(Ug.bind(null,e)):Ux(Ug.bind(null,e)),wC(function(){!(_e&6)&&ds()}),r=null;else{switch(px(n)){case 1:r=Vf;break;case 4:r=hx;break;case 16:r=ic;break;case 536870912:r=fx;break;default:r=ic}r=$w(r,Rw.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Rw(e,t){if(Kl=-1,Gl=0,_e&6)throw Error(q(327));var r=e.callbackNode;if(Do()&&e.callbackNode!==r)return null;var n=lc(e,e===at?mt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Cc(e,n);else{t=n;var o=_e;_e|=2;var a=Iw();(at!==e||mt!==t)&&(on=null,ra=Ve()+500,Ls(e,t));do try{VC();break}catch(l){Aw(e,l)}while(!0);sm(),Nc.current=a,_e=o,Je!==null?t=0:(at=null,mt=0,t=et)}if(t!==0){if(t===2&&(o=fh(e),o!==0&&(n=o,t=zh(e,o))),t===1)throw r=Si,Ls(e,0),$n(e,n),Bt(e,Ve()),r;if(t===6)$n(e,n);else{if(o=e.current.alternate,!(n&30)&&!BC(o)&&(t=Cc(e,n),t===2&&(a=fh(e),a!==0&&(n=a,t=zh(e,a))),t===1))throw r=Si,Ls(e,0),$n(e,n),Bt(e,Ve()),r;switch(e.finishedWork=o,e.finishedLanes=n,t){case 0:case 1:throw Error(q(345));case 2:bs(e,$t,on);break;case 3:if($n(e,n),(n&130023424)===n&&(t=xm+500-Ve(),10<t)){if(lc(e,0)!==0)break;if(o=e.suspendedLanes,(o&n)!==n){Pt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=bh(bs.bind(null,e,$t,on),t);break}bs(e,$t,on);break;case 4:if($n(e,n),(n&4194240)===n)break;for(t=e.eventTimes,o=-1;0<n;){var i=31-Er(n);a=1<<i,i=t[i],i>o&&(o=i),n&=~a}if(n=o,n=Ve()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*HC(n/1960))-n,10<n){e.timeoutHandle=bh(bs.bind(null,e,$t,on),n);break}bs(e,$t,on);break;case 5:bs(e,$t,on);break;default:throw Error(q(329))}}}return Bt(e,Ve()),e.callbackNode===r?Rw.bind(null,e):null}function zh(e,t){var r=ri;return e.current.memoizedState.isDehydrated&&(Ls(e,t).flags|=256),e=Cc(e,t),e!==2&&(t=$t,$t=r,t!==null&&Hh(t)),e}function Hh(e){$t===null?$t=e:$t.push.apply($t,e)}function BC(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var o=r[n],a=o.getSnapshot;o=o.value;try{if(!Tr(a(),o))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $n(e,t){for(t&=~vm,t&=~ou,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Er(t),n=1<<r;e[r]=-1,t&=~n}}function Ug(e){if(_e&6)throw Error(q(327));Do();var t=lc(e,0);if(!(t&1))return Bt(e,Ve()),null;var r=Cc(e,t);if(e.tag!==0&&r===2){var n=fh(e);n!==0&&(t=n,r=zh(e,n))}if(r===1)throw r=Si,Ls(e,0),$n(e,t),Bt(e,Ve()),r;if(r===6)throw Error(q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bs(e,$t,on),Bt(e,Ve()),null}function wm(e,t){var r=_e;_e|=1;try{return e(t)}finally{_e=r,_e===0&&(ra=Ve()+500,tu&&ds())}}function Bs(e){Kn!==null&&Kn.tag===0&&!(_e&6)&&Do();var t=_e;_e|=1;var r=cr.transition,n=ke;try{if(cr.transition=null,ke=1,e)return e()}finally{ke=n,cr.transition=r,_e=t,!(_e&6)&&ds()}}function bm(){Kt=To.current,De(To)}function Ls(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,xC(r)),Je!==null)for(r=Je.return;r!==null;){var n=r;switch(tm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&fc();break;case 3:ea(),De(zt),De(jt),um();break;case 5:cm(n);break;case 4:ea();break;case 13:De(Fe);break;case 19:De(Fe);break;case 10:om(n.type._context);break;case 22:case 23:bm()}r=r.return}if(at=e,Je=e=rs(e.current,null),mt=Kt=t,et=0,Si=null,vm=ou=Hs=0,$t=ri=null,Es!==null){for(t=0;t<Es.length;t++)if(r=Es[t],n=r.interleaved,n!==null){r.interleaved=null;var o=n.next,a=r.pending;if(a!==null){var i=a.next;a.next=o,n.next=i}r.pending=n}Es=null}return e}function Aw(e,t){do{var r=Je;try{if(sm(),Wl.current=jc,bc){for(var n=Ue.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}bc=!1}if(zs=0,st=Ze=Ue=null,ei=!1,bi=0,ym.current=null,r===null||r.return===null){et=1,Si=t,Je=null;break}e:{var a=e,i=r.return,l=r,c=t;if(t=mt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var x=kg(i);if(x!==null){x.flags&=-257,Eg(x,i,l,a,t),x.mode&1&&Cg(a,u,t),t=x,c=u;var b=t.updateQueue;if(b===null){var y=new Set;y.add(c),t.updateQueue=y}else b.add(c);break e}else{if(!(t&1)){Cg(a,u,t),jm();break e}c=Error(q(426))}}else if($e&&l.mode&1){var w=kg(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Eg(w,i,l,a,t),rm(ta(c,l));break e}}a=c=ta(c,l),et!==4&&(et=2),ri===null?ri=[a]:ri.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var p=pw(a,c,t);wg(a,p);break e;case 1:l=c;var g=a.type,v=a.stateNode;if(!(a.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(es===null||!es.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=gw(a,l,t);wg(a,j);break e}}a=a.return}while(a!==null)}Mw(r)}catch(N){t=N,Je===r&&r!==null&&(Je=r=r.return);continue}break}while(!0)}function Iw(){var e=Nc.current;return Nc.current=jc,e===null?jc:e}function jm(){(et===0||et===3||et===2)&&(et=4),at===null||!(Hs&268435455)&&!(ou&268435455)||$n(at,mt)}function Cc(e,t){var r=_e;_e|=2;var n=Iw();(at!==e||mt!==t)&&(on=null,Ls(e,t));do try{WC();break}catch(o){Aw(e,o)}while(!0);if(sm(),_e=r,Nc.current=n,Je!==null)throw Error(q(261));return at=null,mt=0,et}function WC(){for(;Je!==null;)Ow(Je)}function VC(){for(;Je!==null&&!g_();)Ow(Je)}function Ow(e){var t=Lw(e.alternate,e,Kt);e.memoizedProps=e.pendingProps,t===null?Mw(e):Je=t,ym.current=null}function Mw(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=$C(r,t),r!==null){r.flags&=32767,Je=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{et=6,Je=null;return}}else if(r=LC(r,t,Kt),r!==null){Je=r;return}if(t=t.sibling,t!==null){Je=t;return}Je=t=e}while(t!==null);et===0&&(et=5)}function bs(e,t,r){var n=ke,o=cr.transition;try{cr.transition=null,ke=1,qC(e,t,r,n)}finally{cr.transition=o,ke=n}return null}function qC(e,t,r,n){do Do();while(Kn!==null);if(_e&6)throw Error(q(327));r=e.finishedWork;var o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(q(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(C_(e,a),e===at&&(Je=at=null,mt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Sl||(Sl=!0,$w(ic,function(){return Do(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=cr.transition,cr.transition=null;var i=ke;ke=1;var l=_e;_e|=4,ym.current=null,UC(e,r),Pw(r,e),hC(xh),cc=!!vh,xh=vh=null,e.current=r,zC(r),y_(),_e=l,ke=i,cr.transition=a}else e.current=r;if(Sl&&(Sl=!1,Kn=e,_c=o),a=e.pendingLanes,a===0&&(es=null),w_(r.stateNode),Bt(e,Ve()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)o=t[r],n(o.value,{componentStack:o.stack,digest:o.digest});if(Sc)throw Sc=!1,e=Fh,Fh=null,e;return _c&1&&e.tag!==0&&Do(),a=e.pendingLanes,a&1?e===Uh?ni++:(ni=0,Uh=e):ni=0,ds(),null}function Do(){if(Kn!==null){var e=px(_c),t=cr.transition,r=ke;try{if(cr.transition=null,ke=16>e?16:e,Kn===null)var n=!1;else{if(e=Kn,Kn=null,_c=0,_e&6)throw Error(q(331));var o=_e;for(_e|=4,se=e.current;se!==null;){var a=se,i=a.child;if(se.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(se=u;se!==null;){var h=se;switch(h.tag){case 0:case 11:case 15:ti(8,h,a)}var d=h.child;if(d!==null)d.return=h,se=d;else for(;se!==null;){h=se;var m=h.sibling,x=h.return;if(Cw(h),h===u){se=null;break}if(m!==null){m.return=x,se=m;break}se=x}}}var b=a.alternate;if(b!==null){var y=b.child;if(y!==null){b.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}se=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,se=i;else e:for(;se!==null;){if(a=se,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ti(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,se=p;break e}se=a.return}}var g=e.current;for(se=g;se!==null;){i=se;var v=i.child;if(i.subtreeFlags&2064&&v!==null)v.return=i,se=v;else e:for(i=g;se!==null;){if(l=se,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:su(9,l)}}catch(N){We(l,l.return,N)}if(l===i){se=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,se=j;break e}se=l.return}}if(_e=o,ds(),Kr&&typeof Kr.onPostCommitFiberRoot=="function")try{Kr.onPostCommitFiberRoot(Qc,e)}catch{}n=!0}return n}finally{ke=r,cr.transition=t}}return!1}function zg(e,t,r){t=ta(r,t),t=pw(e,t,1),e=Zn(e,t,1),t=Pt(),e!==null&&(zi(e,1,t),Bt(e,t))}function We(e,t,r){if(e.tag===3)zg(e,e,r);else for(;t!==null;){if(t.tag===3){zg(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(es===null||!es.has(n))){e=ta(r,e),e=gw(t,e,1),t=Zn(t,e,1),e=Pt(),t!==null&&(zi(t,1,e),Bt(t,e));break}}t=t.return}}function KC(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Pt(),e.pingedLanes|=e.suspendedLanes&r,at===e&&(mt&r)===r&&(et===4||et===3&&(mt&130023424)===mt&&500>Ve()-xm?Ls(e,0):vm|=r),Bt(e,t)}function Dw(e,t){t===0&&(e.mode&1?(t=ml,ml<<=1,!(ml&130023424)&&(ml=4194304)):t=1);var r=Pt();e=vn(e,t),e!==null&&(zi(e,t,r),Bt(e,r))}function GC(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Dw(e,r)}function YC(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;o!==null&&(r=o.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(q(314))}n!==null&&n.delete(t),Dw(e,r)}var Lw;Lw=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||zt.current)Ut=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ut=!1,DC(e,t,r);Ut=!!(e.flags&131072)}else Ut=!1,$e&&t.flags&1048576&&zx(t,gc,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ql(e,t),e=t.pendingProps;var o=Jo(t,jt.current);Mo(t,r),o=hm(null,t,n,e,o,r);var a=fm();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ht(n)?(a=!0,mc(t)):a=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,im(t),o.updater=nu,t.stateNode=o,o._reactInternals=t,Eh(t,n,e,r),t=Rh(null,t,n,!0,a,r)):(t.tag=0,$e&&a&&em(t),Ct(null,t,o,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ql(e,t),e=t.pendingProps,o=n._init,n=o(n._payload),t.type=n,o=t.tag=JC(n),e=br(n,e),o){case 0:t=Th(null,t,n,e,r);break e;case 1:t=Rg(null,t,n,e,r);break e;case 11:t=Pg(null,t,n,e,r);break e;case 14:t=Tg(null,t,n,br(n.type,e),r);break e}throw Error(q(306,n,""))}return t;case 0:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:br(n,o),Th(e,t,n,o,r);case 1:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:br(n,o),Rg(e,t,n,o,r);case 3:e:{if(ww(t),e===null)throw Error(q(387));n=t.pendingProps,a=t.memoizedState,o=a.element,Kx(e,t),xc(t,n,null,r);var i=t.memoizedState;if(n=i.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){o=ta(Error(q(423)),t),t=Ag(e,t,n,r,o);break e}else if(n!==o){o=ta(Error(q(424)),t),t=Ag(e,t,n,r,o);break e}else for(Yt=Xn(t.stateNode.containerInfo.firstChild),Qt=t,$e=!0,kr=null,r=Vx(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Xo(),n===o){t=xn(e,t,r);break e}Ct(e,t,n,r)}t=t.child}return t;case 5:return Gx(t),e===null&&_h(t),n=t.type,o=t.pendingProps,a=e!==null?e.memoizedProps:null,i=o.children,wh(n,o)?i=null:a!==null&&wh(n,a)&&(t.flags|=32),xw(e,t),Ct(e,t,i,r),t.child;case 6:return e===null&&_h(t),null;case 13:return bw(e,t,r);case 4:return lm(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Zo(t,null,n,r):Ct(e,t,n,r),t.child;case 11:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:br(n,o),Pg(e,t,n,o,r);case 7:return Ct(e,t,t.pendingProps,r),t.child;case 8:return Ct(e,t,t.pendingProps.children,r),t.child;case 12:return Ct(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,o=t.pendingProps,a=t.memoizedProps,i=o.value,Pe(yc,n._currentValue),n._currentValue=i,a!==null)if(Tr(a.value,i)){if(a.children===o.children&&!zt.current){t=xn(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=mn(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Ch(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(q(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Ch(i,r,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}Ct(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,n=t.pendingProps.children,Mo(t,r),o=hr(o),n=n(o),t.flags|=1,Ct(e,t,n,r),t.child;case 14:return n=t.type,o=br(n,t.pendingProps),o=br(n.type,o),Tg(e,t,n,o,r);case 15:return yw(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:br(n,o),ql(e,t),t.tag=1,Ht(n)?(e=!0,mc(t)):e=!1,Mo(t,r),mw(t,n,o),Eh(t,n,o,r),Rh(null,t,n,!0,e,r);case 19:return jw(e,t,r);case 22:return vw(e,t,r)}throw Error(q(156,t.tag))};function $w(e,t){return dx(e,t)}function QC(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(e,t,r,n){return new QC(e,t,r,n)}function Nm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function JC(e){if(typeof e=="function")return Nm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Hf)return 11;if(e===Bf)return 14}return 2}function rs(e,t){var r=e.alternate;return r===null?(r=ir(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Yl(e,t,r,n,o,a){var i=2;if(n=e,typeof e=="function")Nm(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case wo:return $s(r.children,o,a,t);case zf:i=8,o|=8;break;case Xd:return e=ir(12,r,t,o|2),e.elementType=Xd,e.lanes=a,e;case Zd:return e=ir(13,r,t,o),e.elementType=Zd,e.lanes=a,e;case eh:return e=ir(19,r,t,o),e.elementType=eh,e.lanes=a,e;case Gv:return au(r,o,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qv:i=10;break e;case Kv:i=9;break e;case Hf:i=11;break e;case Bf:i=14;break e;case Mn:i=16,n=null;break e}throw Error(q(130,e==null?e:typeof e,""))}return t=ir(i,r,t,o),t.elementType=e,t.type=n,t.lanes=a,t}function $s(e,t,r,n){return e=ir(7,e,n,t),e.lanes=r,e}function au(e,t,r,n){return e=ir(22,e,n,t),e.elementType=Gv,e.lanes=r,e.stateNode={isHidden:!1},e}function _d(e,t,r){return e=ir(6,e,null,t),e.lanes=r,e}function Cd(e,t,r){return t=ir(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function XC(e,t,r,n,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ad(0),this.expirationTimes=ad(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ad(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Sm(e,t,r,n,o,a,i,l,c){return e=new XC(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=ir(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},im(a),e}function ZC(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Fw(e){if(!e)return as;e=e._reactInternals;e:{if(Zs(e)!==e||e.tag!==1)throw Error(q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(q(171))}if(e.tag===1){var r=e.type;if(Ht(r))return Fx(e,r,t)}return t}function Uw(e,t,r,n,o,a,i,l,c){return e=Sm(r,n,!0,e,o,a,i,l,c),e.context=Fw(null),r=e.current,n=Pt(),o=ts(r),a=mn(n,o),a.callback=t??null,Zn(r,a,o),e.current.lanes=o,zi(e,o,n),Bt(e,n),e}function iu(e,t,r,n){var o=t.current,a=Pt(),i=ts(o);return r=Fw(r),t.context===null?t.context=r:t.pendingContext=r,t=mn(a,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Zn(o,t,i),e!==null&&(Pr(e,o,i,a),Bl(e,o,i)),i}function kc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Hg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function _m(e,t){Hg(e,t),(e=e.alternate)&&Hg(e,t)}function ek(){return null}var zw=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cm(e){this._internalRoot=e}lu.prototype.render=Cm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(q(409));iu(e,t,null,null)};lu.prototype.unmount=Cm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Bs(function(){iu(null,e,null,null)}),t[yn]=null}};function lu(e){this._internalRoot=e}lu.prototype.unstable_scheduleHydration=function(e){if(e){var t=vx();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ln.length&&t!==0&&t<Ln[r].priority;r++);Ln.splice(r,0,e),r===0&&wx(e)}};function km(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function cu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Bg(){}function tk(e,t,r,n,o){if(o){if(typeof n=="function"){var a=n;n=function(){var u=kc(i);a.call(u)}}var i=Uw(t,n,e,0,null,!1,!1,"",Bg);return e._reactRootContainer=i,e[yn]=i.current,gi(e.nodeType===8?e.parentNode:e),Bs(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof n=="function"){var l=n;n=function(){var u=kc(c);l.call(u)}}var c=Sm(e,0,!1,null,null,!1,!1,"",Bg);return e._reactRootContainer=c,e[yn]=c.current,gi(e.nodeType===8?e.parentNode:e),Bs(function(){iu(t,c,r,n)}),c}function uu(e,t,r,n,o){var a=r._reactRootContainer;if(a){var i=a;if(typeof o=="function"){var l=o;o=function(){var c=kc(i);l.call(c)}}iu(t,i,e,o)}else i=tk(r,t,e,o,n);return kc(i)}gx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ba(t.pendingLanes);r!==0&&(qf(t,r|1),Bt(t,Ve()),!(_e&6)&&(ra=Ve()+500,ds()))}break;case 13:Bs(function(){var n=vn(e,1);if(n!==null){var o=Pt();Pr(n,e,1,o)}}),_m(e,1)}};Kf=function(e){if(e.tag===13){var t=vn(e,134217728);if(t!==null){var r=Pt();Pr(t,e,134217728,r)}_m(e,134217728)}};yx=function(e){if(e.tag===13){var t=ts(e),r=vn(e,t);if(r!==null){var n=Pt();Pr(r,e,t,n)}_m(e,t)}};vx=function(){return ke};xx=function(e,t){var r=ke;try{return ke=e,t()}finally{ke=r}};uh=function(e,t,r){switch(t){case"input":if(nh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var o=eu(n);if(!o)throw Error(q(90));Qv(n),nh(n,o)}}}break;case"textarea":Xv(e,r);break;case"select":t=r.value,t!=null&&Ro(e,!!r.multiple,t,!1)}};ox=wm;ax=Bs;var rk={usingClientEntryPoint:!1,Events:[Bi,So,eu,nx,sx,wm]},Ma={findFiberByHostInstance:ks,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nk={bundleType:Ma.bundleType,version:Ma.version,rendererPackageName:Ma.rendererPackageName,rendererConfig:Ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=cx(e),e===null?null:e.stateNode},findFiberByHostInstance:Ma.findFiberByHostInstance||ek,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_l.isDisabled&&_l.supportsFiber)try{Qc=_l.inject(nk),Kr=_l}catch{}}Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rk;Zt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!km(t))throw Error(q(200));return ZC(e,t,null,r)};Zt.createRoot=function(e,t){if(!km(e))throw Error(q(299));var r=!1,n="",o=zw;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Sm(e,1,!1,null,null,r,!1,n,o),e[yn]=t.current,gi(e.nodeType===8?e.parentNode:e),new Cm(t)};Zt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=cx(t),e=e===null?null:e.stateNode,e};Zt.flushSync=function(e){return Bs(e)};Zt.hydrate=function(e,t,r){if(!cu(t))throw Error(q(200));return uu(null,e,t,!0,r)};Zt.hydrateRoot=function(e,t,r){if(!km(e))throw Error(q(405));var n=r!=null&&r.hydratedSources||null,o=!1,a="",i=zw;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=Uw(t,null,e,1,r??null,o,!1,a,i),e[yn]=t.current,gi(e),n)for(e=0;e<n.length;e++)r=n[e],o=r._getVersion,o=o(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new lu(t)};Zt.render=function(e,t,r){if(!cu(t))throw Error(q(200));return uu(null,e,t,!1,r)};Zt.unmountComponentAtNode=function(e){if(!cu(e))throw Error(q(40));return e._reactRootContainer?(Bs(function(){uu(null,null,e,!1,function(){e._reactRootContainer=null,e[yn]=null})}),!0):!1};Zt.unstable_batchedUpdates=wm;Zt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!cu(r))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return uu(e,t,r,!1,n)};Zt.version="18.3.1-next-f1338f8080-20240426";function Hw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hw)}catch(e){console.error(e)}}Hw(),Hv.exports=Zt;var eo=Hv.exports;const Bw=Tv(eo);var Ww,Wg=eo;Ww=Wg.createRoot,Wg.hydrateRoot;const sk=1,ok=1e6;let kd=0;function ak(){return kd=(kd+1)%Number.MAX_SAFE_INTEGER,kd.toString()}const Ed=new Map,Vg=e=>{if(Ed.has(e))return;const t=setTimeout(()=>{Ed.delete(e),si({type:"REMOVE_TOAST",toastId:e})},ok);Ed.set(e,t)},ik=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,sk)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Vg(r):e.toasts.forEach(n=>{Vg(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Ql=[];let Jl={toasts:[]};function si(e){Jl=ik(Jl,e),Ql.forEach(t=>{t(Jl)})}function lk({...e}){const t=ak(),r=o=>si({type:"UPDATE_TOAST",toast:{...o,id:t}}),n=()=>si({type:"DISMISS_TOAST",toastId:t});return si({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||n()}}}),{id:t,dismiss:n,update:r}}function At(){const[e,t]=f.useState(Jl);return f.useEffect(()=>(Ql.push(t),()=>{const r=Ql.indexOf(t);r>-1&&Ql.splice(r,1)}),[e]),{...e,toast:lk,dismiss:r=>si({type:"DISMISS_TOAST",toastId:r})}}function Q(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e==null||e(o),r===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function qg(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function du(...e){return t=>{let r=!1;const n=e.map(o=>{const a=qg(o,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let o=0;o<n.length;o++){const a=n[o];typeof a=="function"?a():qg(e[o],null)}}}}function ye(...e){return f.useCallback(du(...e),e)}function ck(e,t){const r=f.createContext(t),n=a=>{const{children:i,...l}=a,c=f.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function o(a){const i=f.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,o]}function It(e,t=[]){let r=[];function n(a,i){const l=f.createContext(i),c=r.length;r=[...r,i];const u=d=>{var p;const{scope:m,children:x,...b}=d,y=((p=m==null?void 0:m[e])==null?void 0:p[c])||l,w=f.useMemo(()=>b,Object.values(b));return s.jsx(y.Provider,{value:w,children:x})};u.displayName=a+"Provider";function h(d,m){var y;const x=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,b=f.useContext(x);if(b)return b;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${a}\``)}return[u,h]}const o=()=>{const a=r.map(i=>f.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return f.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return o.scopeName=e,[n,uk(o,...t)]}function uk(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(a)[`__scope${u}`];return{...l,...d}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Ws(e){const t=hk(e),r=f.forwardRef((n,o)=>{const{children:a,...i}=n,l=f.Children.toArray(a),c=l.find(mk);if(c){const u=c.props.children,h=l.map(d=>d===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:d);return s.jsx(t,{...i,ref:o,children:f.isValidElement(u)?f.cloneElement(u,void 0,h):null})}return s.jsx(t,{...i,ref:o,children:a})});return r.displayName=`${e}.Slot`,r}var dk=Ws("Slot");function hk(e){const t=f.forwardRef((r,n)=>{const{children:o,...a}=r;if(f.isValidElement(o)){const i=gk(o),l=pk(a,o.props);return o.type!==f.Fragment&&(l.ref=n?du(n,i):i),f.cloneElement(o,l)}return f.Children.count(o)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Vw=Symbol("radix.slottable");function fk(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=Vw,t}function mk(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Vw}function pk(e,t){const r={...t};for(const n in t){const o=e[n],a=t[n];/^on[A-Z]/.test(n)?o&&a?r[n]=(...l)=>{const c=a(...l);return o(...l),c}:o&&(r[n]=o):n==="style"?r[n]={...o,...a}:n==="className"&&(r[n]=[o,a].filter(Boolean).join(" "))}return{...e,...r}}function gk(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function hu(e){const t=e+"CollectionProvider",[r,n]=It(t),[o,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=y=>{const{scope:w,children:p}=y,g=G.useRef(null),v=G.useRef(new Map).current;return s.jsx(o,{scope:w,itemMap:v,collectionRef:g,children:p})};i.displayName=t;const l=e+"CollectionSlot",c=Ws(l),u=G.forwardRef((y,w)=>{const{scope:p,children:g}=y,v=a(l,p),j=ye(w,v.collectionRef);return s.jsx(c,{ref:j,children:g})});u.displayName=l;const h=e+"CollectionItemSlot",d="data-radix-collection-item",m=Ws(h),x=G.forwardRef((y,w)=>{const{scope:p,children:g,...v}=y,j=G.useRef(null),N=ye(w,j),S=a(h,p);return G.useEffect(()=>(S.itemMap.set(j,{ref:j,...v}),()=>void S.itemMap.delete(j))),s.jsx(m,{[d]:"",ref:N,children:g})});x.displayName=h;function b(y){const w=a(e+"CollectionConsumer",y);return G.useCallback(()=>{const g=w.collectionRef.current;if(!g)return[];const v=Array.from(g.querySelectorAll(`[${d}]`));return Array.from(w.itemMap.values()).sort((S,_)=>v.indexOf(S.ref.current)-v.indexOf(_.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:i,Slot:u,ItemSlot:x},b,n]}var yk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ae=yk.reduce((e,t)=>{const r=Ws(`Primitive.${t}`),n=f.forwardRef((o,a)=>{const{asChild:i,...l}=o,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Em(e,t){e&&eo.flushSync(()=>e.dispatchEvent(t))}function qe(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function vk(e,t=globalThis==null?void 0:globalThis.document){const r=qe(e);f.useEffect(()=>{const n=o=>{o.key==="Escape"&&r(o)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var xk="DismissableLayer",Bh="dismissableLayer.update",wk="dismissableLayer.pointerDownOutside",bk="dismissableLayer.focusOutside",Kg,qw=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fa=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=f.useContext(qw),[h,d]=f.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=f.useState({}),b=ye(t,_=>d(_)),y=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),p=y.indexOf(w),g=h?y.indexOf(h):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,j=g>=p,N=Nk(_=>{const C=_.target,A=[...u.branches].some(E=>E.contains(C));!j||A||(o==null||o(_),i==null||i(_),_.defaultPrevented||l==null||l())},m),S=Sk(_=>{const C=_.target;[...u.branches].some(E=>E.contains(C))||(a==null||a(_),i==null||i(_),_.defaultPrevented||l==null||l())},m);return vk(_=>{g===u.layers.size-1&&(n==null||n(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},m),f.useEffect(()=>{if(h)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Kg=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),Gg(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Kg)}},[h,m,r,u]),f.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),Gg())},[h,u]),f.useEffect(()=>{const _=()=>x({});return document.addEventListener(Bh,_),()=>document.removeEventListener(Bh,_)},[]),s.jsx(ae.div,{...c,ref:b,style:{pointerEvents:v?j?"auto":"none":void 0,...e.style},onFocusCapture:Q(e.onFocusCapture,S.onFocusCapture),onBlurCapture:Q(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Q(e.onPointerDownCapture,N.onPointerDownCapture)})});fa.displayName=xk;var jk="DismissableLayerBranch",Kw=f.forwardRef((e,t)=>{const r=f.useContext(qw),n=f.useRef(null),o=ye(t,n);return f.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),s.jsx(ae.div,{...e,ref:o})});Kw.displayName=jk;function Nk(e,t=globalThis==null?void 0:globalThis.document){const r=qe(e),n=f.useRef(!1),o=f.useRef(()=>{});return f.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){Gw(wk,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=c,t.addEventListener("click",o.current,{once:!0})):c()}else t.removeEventListener("click",o.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Sk(e,t=globalThis==null?void 0:globalThis.document){const r=qe(e),n=f.useRef(!1);return f.useEffect(()=>{const o=a=>{a.target&&!n.current&&Gw(bk,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Gg(){const e=new CustomEvent(Bh);document.dispatchEvent(e)}function Gw(e,t,r,{discrete:n}){const o=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?Em(o,a):o.dispatchEvent(a)}var _k=fa,Ck=Kw,lt=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},kk="Portal",Vi=f.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[o,a]=f.useState(!1);lt(()=>a(!0),[]);const i=r||o&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?Bw.createPortal(s.jsx(ae.div,{...n,ref:t}),i):null});Vi.displayName=kk;function Ek(e,t){return f.useReducer((r,n)=>t[r][n]??r,e)}var gt=e=>{const{present:t,children:r}=e,n=Pk(t),o=typeof r=="function"?r({present:n.isPresent}):f.Children.only(r),a=ye(n.ref,Tk(o));return typeof r=="function"||n.isPresent?f.cloneElement(o,{ref:a}):null};gt.displayName="Presence";function Pk(e){const[t,r]=f.useState(),n=f.useRef(null),o=f.useRef(e),a=f.useRef("none"),i=e?"mounted":"unmounted",[l,c]=Ek(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const u=Cl(n.current);a.current=l==="mounted"?u:"none"},[l]),lt(()=>{const u=n.current,h=o.current;if(h!==e){const m=a.current,x=Cl(u);e?c("MOUNT"):x==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&m!==x?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,c]),lt(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,d=x=>{const y=Cl(n.current).includes(CSS.escape(x.animationName));if(x.target===t&&y&&(c("ANIMATION_END"),!o.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},m=x=>{x.target===t&&(a.current=Cl(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:f.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Cl(e){return(e==null?void 0:e.animationName)||"none"}function Tk(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Rk=Lf[" useInsertionEffect ".trim().toString()]||lt;function wn({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[o,a,i]=Ak({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:o;{const h=f.useRef(e!==void 0);f.useEffect(()=>{const d=h.current;d!==l&&console.warn(`${n} is changing from ${d?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,n])}const u=f.useCallback(h=>{var d;if(l){const m=Ik(h)?h(e):h;m!==e&&((d=i.current)==null||d.call(i,m))}else a(h)},[l,e,a,i]);return[c,u]}function Ak({defaultProp:e,onChange:t}){const[r,n]=f.useState(e),o=f.useRef(r),a=f.useRef(t);return Rk(()=>{a.current=t},[t]),f.useEffect(()=>{var i;o.current!==r&&((i=a.current)==null||i.call(a,r),o.current=r)},[r,o]),[r,n,a]}function Ik(e){return typeof e=="function"}var Yw=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Ok="VisuallyHidden",fu=f.forwardRef((e,t)=>s.jsx(ae.span,{...e,ref:t,style:{...Yw,...e.style}}));fu.displayName=Ok;var Mk=fu,Pm="ToastProvider",[Tm,Dk,Lk]=hu("Toast"),[Qw]=It("Toast",[Lk]),[$k,mu]=Qw(Pm),Jw=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:o="right",swipeThreshold:a=50,children:i}=e,[l,c]=f.useState(null),[u,h]=f.useState(0),d=f.useRef(!1),m=f.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Pm}\`. Expected non-empty \`string\`.`),s.jsx(Tm.Provider,{scope:t,children:s.jsx($k,{scope:t,label:r,duration:n,swipeDirection:o,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:f.useCallback(()=>h(x=>x+1),[]),onToastRemove:f.useCallback(()=>h(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:m,children:i})})};Jw.displayName=Pm;var Xw="ToastViewport",Fk=["F8"],Wh="toast.viewportPause",Vh="toast.viewportResume",Zw=f.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=Fk,label:o="Notifications ({hotkey})",...a}=e,i=mu(Xw,r),l=Dk(r),c=f.useRef(null),u=f.useRef(null),h=f.useRef(null),d=f.useRef(null),m=ye(t,d,i.onViewportChange),x=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=i.toastCount>0;f.useEffect(()=>{const w=p=>{var v;n.length!==0&&n.every(j=>p[j]||p.code===j)&&((v=d.current)==null||v.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),f.useEffect(()=>{const w=c.current,p=d.current;if(b&&w&&p){const g=()=>{if(!i.isClosePausedRef.current){const S=new CustomEvent(Wh);p.dispatchEvent(S),i.isClosePausedRef.current=!0}},v=()=>{if(i.isClosePausedRef.current){const S=new CustomEvent(Vh);p.dispatchEvent(S),i.isClosePausedRef.current=!1}},j=S=>{!w.contains(S.relatedTarget)&&v()},N=()=>{w.contains(document.activeElement)||v()};return w.addEventListener("focusin",g),w.addEventListener("focusout",j),w.addEventListener("pointermove",g),w.addEventListener("pointerleave",N),window.addEventListener("blur",g),window.addEventListener("focus",v),()=>{w.removeEventListener("focusin",g),w.removeEventListener("focusout",j),w.removeEventListener("pointermove",g),w.removeEventListener("pointerleave",N),window.removeEventListener("blur",g),window.removeEventListener("focus",v)}}},[b,i.isClosePausedRef]);const y=f.useCallback(({tabbingDirection:w})=>{const g=l().map(v=>{const j=v.ref.current,N=[j,...Xk(j)];return w==="forwards"?N:N.reverse()});return(w==="forwards"?g.reverse():g).flat()},[l]);return f.useEffect(()=>{const w=d.current;if(w){const p=g=>{var N,S,_;const v=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!v){const C=document.activeElement,A=g.shiftKey;if(g.target===w&&A){(N=u.current)==null||N.focus();return}const I=y({tabbingDirection:A?"backwards":"forwards"}),L=I.findIndex(T=>T===C);Pd(I.slice(L+1))?g.preventDefault():A?(S=u.current)==null||S.focus():(_=h.current)==null||_.focus()}};return w.addEventListener("keydown",p),()=>w.removeEventListener("keydown",p)}},[l,y]),s.jsxs(Ck,{ref:c,role:"region","aria-label":o.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&s.jsx(qh,{ref:u,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"forwards"});Pd(w)}}),s.jsx(Tm.Slot,{scope:r,children:s.jsx(ae.ol,{tabIndex:-1,...a,ref:m})}),b&&s.jsx(qh,{ref:h,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"backwards"});Pd(w)}})]})});Zw.displayName=Xw;var e0="ToastFocusProxy",qh=f.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...o}=e,a=mu(e0,r);return s.jsx(fu,{tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&n()}})});qh.displayName=e0;var qi="Toast",Uk="toast.swipeStart",zk="toast.swipeMove",Hk="toast.swipeCancel",Bk="toast.swipeEnd",t0=f.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:o,onOpenChange:a,...i}=e,[l,c]=wn({prop:n,defaultProp:o??!0,onChange:a,caller:qi});return s.jsx(gt,{present:r||l,children:s.jsx(qk,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:qe(e.onPause),onResume:qe(e.onResume),onSwipeStart:Q(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Q(e.onSwipeMove,u=>{const{x:h,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Q(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Q(e.onSwipeEnd,u=>{const{x:h,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),c(!1)})})})});t0.displayName=qi;var[Wk,Vk]=Qw(qi,{onClose(){}}),qk=f.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:o,open:a,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:h,onSwipeMove:d,onSwipeCancel:m,onSwipeEnd:x,...b}=e,y=mu(qi,r),[w,p]=f.useState(null),g=ye(t,T=>p(T)),v=f.useRef(null),j=f.useRef(null),N=o||y.duration,S=f.useRef(0),_=f.useRef(N),C=f.useRef(0),{onToastAdd:A,onToastRemove:E}=y,z=qe(()=>{var B;(w==null?void 0:w.contains(document.activeElement))&&((B=y.viewport)==null||B.focus()),i()}),I=f.useCallback(T=>{!T||T===1/0||(window.clearTimeout(C.current),S.current=new Date().getTime(),C.current=window.setTimeout(z,T))},[z]);f.useEffect(()=>{const T=y.viewport;if(T){const B=()=>{I(_.current),u==null||u()},M=()=>{const O=new Date().getTime()-S.current;_.current=_.current-O,window.clearTimeout(C.current),c==null||c()};return T.addEventListener(Wh,M),T.addEventListener(Vh,B),()=>{T.removeEventListener(Wh,M),T.removeEventListener(Vh,B)}}},[y.viewport,N,c,u,I]),f.useEffect(()=>{a&&!y.isClosePausedRef.current&&I(N)},[a,N,y.isClosePausedRef,I]),f.useEffect(()=>(A(),()=>E()),[A,E]);const L=f.useMemo(()=>w?l0(w):null,[w]);return y.viewport?s.jsxs(s.Fragment,{children:[L&&s.jsx(Kk,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:L}),s.jsx(Wk,{scope:r,onClose:z,children:eo.createPortal(s.jsx(Tm.ItemSlot,{scope:r,children:s.jsx(_k,{asChild:!0,onEscapeKeyDown:Q(l,()=>{y.isFocusedToastEscapeKeyDownRef.current||z(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(ae.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":y.swipeDirection,...b,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Q(e.onKeyDown,T=>{T.key==="Escape"&&(l==null||l(T.nativeEvent),T.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,z()))}),onPointerDown:Q(e.onPointerDown,T=>{T.button===0&&(v.current={x:T.clientX,y:T.clientY})}),onPointerMove:Q(e.onPointerMove,T=>{if(!v.current)return;const B=T.clientX-v.current.x,M=T.clientY-v.current.y,O=!!j.current,k=["left","right"].includes(y.swipeDirection),P=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,F=k?P(0,B):0,$=k?0:P(0,M),V=T.pointerType==="touch"?10:2,D={x:F,y:$},X={originalEvent:T,delta:D};O?(j.current=D,kl(zk,d,X,{discrete:!1})):Yg(D,y.swipeDirection,V)?(j.current=D,kl(Uk,h,X,{discrete:!1}),T.target.setPointerCapture(T.pointerId)):(Math.abs(B)>V||Math.abs(M)>V)&&(v.current=null)}),onPointerUp:Q(e.onPointerUp,T=>{const B=j.current,M=T.target;if(M.hasPointerCapture(T.pointerId)&&M.releasePointerCapture(T.pointerId),j.current=null,v.current=null,B){const O=T.currentTarget,k={originalEvent:T,delta:B};Yg(B,y.swipeDirection,y.swipeThreshold)?kl(Bk,x,k,{discrete:!0}):kl(Hk,m,k,{discrete:!0}),O.addEventListener("click",P=>P.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),Kk=e=>{const{__scopeToast:t,children:r,...n}=e,o=mu(qi,t),[a,i]=f.useState(!1),[l,c]=f.useState(!1);return Qk(()=>i(!0)),f.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(Vi,{asChild:!0,children:s.jsx(fu,{...n,children:a&&s.jsxs(s.Fragment,{children:[o.label," ",r]})})})},Gk="ToastTitle",r0=f.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(ae.div,{...n,ref:t})});r0.displayName=Gk;var Yk="ToastDescription",n0=f.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(ae.div,{...n,ref:t})});n0.displayName=Yk;var s0="ToastAction",o0=f.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(i0,{altText:r,asChild:!0,children:s.jsx(Rm,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${s0}\`. Expected non-empty \`string\`.`),null)});o0.displayName=s0;var a0="ToastClose",Rm=f.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,o=Vk(a0,r);return s.jsx(i0,{asChild:!0,children:s.jsx(ae.button,{type:"button",...n,ref:t,onClick:Q(e.onClick,o.onClose)})})});Rm.displayName=a0;var i0=f.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...o}=e;return s.jsx(ae.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...o,ref:t})});function l0(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),Jk(n)){const o=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!o)if(a){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...l0(n))}}),t}function kl(e,t,r,{discrete:n}){const o=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?Em(o,a):o.dispatchEvent(a)}var Yg=(e,t,r=0)=>{const n=Math.abs(e.x),o=Math.abs(e.y),a=n>o;return t==="left"||t==="right"?a&&n>r:!a&&o>r};function Qk(e=()=>{}){const t=qe(e);lt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function Jk(e){return e.nodeType===e.ELEMENT_NODE}function Xk(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Pd(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var Zk=Jw,c0=Zw,u0=t0,d0=r0,h0=n0,f0=o0,m0=Rm;function p0(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=p0(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function g0(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=p0(e))&&(n&&(n+=" "),n+=t);return n}const Qg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Jg=g0,Ki=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Jg(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:o,defaultVariants:a}=t,i=Object.keys(o).map(u=>{const h=r==null?void 0:r[u],d=a==null?void 0:a[u];if(h===null)return null;const m=Qg(h)||Qg(d);return o[u][m]}),l=r&&Object.entries(r).reduce((u,h)=>{let[d,m]=h;return m===void 0||(u[d]=m),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,h)=>{let{class:d,className:m,...x}=h;return Object.entries(x).every(b=>{let[y,w]=b;return Array.isArray(w)?w.includes({...a,...l}[y]):{...a,...l}[y]===w})?[...u,d,m]:u},[]);return Jg(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),y0=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:a,iconNode:i,...l},c)=>f.createElement("svg",{ref:c,...tE,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:y0("lucide",o),...l},[...i.map(([u,h])=>f.createElement(u,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=(e,t)=>{const r=f.forwardRef(({className:n,...o},a)=>f.createElement(rE,{ref:a,iconNode:t,className:y0(`lucide-${eE(e)}`,n),...o}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=re("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=re("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=re("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=re("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=re("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=re("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=re("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=re("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=re("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=re("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=re("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=re("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=re("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=re("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=re("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=re("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=re("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=re("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=re("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=re("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=re("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=re("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=re("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=re("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=re("Flower2",[["path",{d:"M12 5a3 3 0 1 1 3 3m-3-3a3 3 0 1 0-3 3m3-3v1M9 8a3 3 0 1 0 3 3M9 8h1m5 0a3 3 0 1 1-3 3m3-3h-1m-2 3v-1",key:"3pnvol"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M12 10v12",key:"6ubwww"}],["path",{d:"M12 22c4.2 0 7-1.667 7-5-4.2 0-7 1.667-7 5Z",key:"9hd38g"}],["path",{d:"M12 22c-4.2 0-7-1.667-7-5 4.2 0 7 1.667 7 5Z",key:"ufn41s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=re("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=re("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=re("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=re("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=re("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=re("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=re("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=re("Laugh",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M18 13a6 6 0 0 1-6 5 6 6 0 0 1-6-5h12Z",key:"b2q4dd"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=re("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=re("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=re("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=re("Meh",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15",key:"1xb1d9"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=re("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=re("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=re("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=re("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=re("Rainbow",[["path",{d:"M22 17a10 10 0 0 0-20 0",key:"ozegv"}],["path",{d:"M6 17a6 6 0 0 1 12 0",key:"5giftw"}],["path",{d:"M10 17a2 2 0 0 1 4 0",key:"gnsikk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=re("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=re("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=re("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=re("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=re("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=re("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=re("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=re("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=re("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=re("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=re("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=re("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=re("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=re("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=re("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Am="-",OE=e=>{const t=DE(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(Am);return l[0]===""&&l.length!==1&&l.shift(),S0(l,t)||ME(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},S0=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),o=n?S0(e.slice(1),n):void 0;if(o)return o;if(t.validators.length===0)return;const a=e.join(Am);return(i=t.validators.find(({validator:l})=>l(a)))==null?void 0:i.classGroupId},ey=/^\[(.+)\]$/,ME=e=>{if(ey.test(e)){const t=ey.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},DE=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return $E(Object.entries(e.classGroups),r).forEach(([a,i])=>{Gh(i,n,a,t)}),n},Gh=(e,t,r,n)=>{e.forEach(o=>{if(typeof o=="string"){const a=o===""?t:ty(t,o);a.classGroupId=r;return}if(typeof o=="function"){if(LE(o)){Gh(o(n),t,r,n);return}t.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([a,i])=>{Gh(i,ty(t,a),r,n)})})},ty=(e,t)=>{let r=e;return t.split(Am).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},LE=e=>e.isThemeGetter,$E=(e,t)=>t?e.map(([r,n])=>{const o=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([i,l])=>[t+i,l])):a);return[r,o]}):e,FE=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const o=(a,i)=>{r.set(a,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let i=r.get(a);if(i!==void 0)return i;if((i=n.get(a))!==void 0)return o(a,i),i},set(a,i){r.has(a)?r.set(a,i):o(a,i)}}},_0="!",UE=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,o=t[0],a=t.length,i=l=>{const c=[];let u=0,h=0,d;for(let w=0;w<l.length;w++){let p=l[w];if(u===0){if(p===o&&(n||l.slice(w,w+a)===t)){c.push(l.slice(h,w)),h=w+a;continue}if(p==="/"){d=w;continue}}p==="["?u++:p==="]"&&u--}const m=c.length===0?l:l.substring(h),x=m.startsWith(_0),b=x?m.substring(1):m,y=d&&d>h?d-h:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:b,maybePostfixModifierPosition:y}};return r?l=>r({className:l,parseClassName:i}):i},zE=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},HE=e=>({cache:FE(e.cacheSize),parseClassName:UE(e),...OE(e)}),BE=/\s+/,WE=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o}=t,a=[],i=e.trim().split(BE);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:h,hasImportantModifier:d,baseClassName:m,maybePostfixModifierPosition:x}=r(u);let b=!!x,y=n(b?m.substring(0,x):m);if(!y){if(!b){l=u+(l.length>0?" "+l:l);continue}if(y=n(m),!y){l=u+(l.length>0?" "+l:l);continue}b=!1}const w=zE(h).join(":"),p=d?w+_0:w,g=p+y;if(a.includes(g))continue;a.push(g);const v=o(y,b);for(let j=0;j<v.length;++j){const N=v[j];a.push(p+N)}l=u+(l.length>0?" "+l:l)}return l};function VE(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=C0(t))&&(n&&(n+=" "),n+=r);return n}const C0=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=C0(e[n]))&&(r&&(r+=" "),r+=t);return r};function qE(e,...t){let r,n,o,a=i;function i(c){const u=t.reduce((h,d)=>d(h),e());return r=HE(u),n=r.cache.get,o=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const h=WE(c,r);return o(c,h),h}return function(){return a(VE.apply(null,arguments))}}const Ie=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},k0=/^\[(?:([a-z-]+):)?(.+)\]$/i,KE=/^\d+\/\d+$/,GE=new Set(["px","full","screen"]),YE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,QE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,JE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,XE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ZE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,nn=e=>$o(e)||GE.has(e)||KE.test(e),Pn=e=>ma(e,"length",i2),$o=e=>!!e&&!Number.isNaN(Number(e)),Td=e=>ma(e,"number",$o),Da=e=>!!e&&Number.isInteger(Number(e)),e2=e=>e.endsWith("%")&&$o(e.slice(0,-1)),xe=e=>k0.test(e),Tn=e=>YE.test(e),t2=new Set(["length","size","percentage"]),r2=e=>ma(e,t2,E0),n2=e=>ma(e,"position",E0),s2=new Set(["image","url"]),o2=e=>ma(e,s2,c2),a2=e=>ma(e,"",l2),La=()=>!0,ma=(e,t,r)=>{const n=k0.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},i2=e=>QE.test(e)&&!JE.test(e),E0=()=>!1,l2=e=>XE.test(e),c2=e=>ZE.test(e),u2=()=>{const e=Ie("colors"),t=Ie("spacing"),r=Ie("blur"),n=Ie("brightness"),o=Ie("borderColor"),a=Ie("borderRadius"),i=Ie("borderSpacing"),l=Ie("borderWidth"),c=Ie("contrast"),u=Ie("grayscale"),h=Ie("hueRotate"),d=Ie("invert"),m=Ie("gap"),x=Ie("gradientColorStops"),b=Ie("gradientColorStopPositions"),y=Ie("inset"),w=Ie("margin"),p=Ie("opacity"),g=Ie("padding"),v=Ie("saturate"),j=Ie("scale"),N=Ie("sepia"),S=Ie("skew"),_=Ie("space"),C=Ie("translate"),A=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto",xe,t],I=()=>[xe,t],L=()=>["",nn,Pn],T=()=>["auto",$o,xe],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],k=()=>["start","end","center","between","around","evenly","stretch"],P=()=>["","0",xe],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[$o,xe];return{cacheSize:500,separator:":",theme:{colors:[La],spacing:[nn,Pn],blur:["none","",Tn,xe],brightness:$(),borderColor:[e],borderRadius:["none","","full",Tn,xe],borderSpacing:I(),borderWidth:L(),contrast:$(),grayscale:P(),hueRotate:$(),invert:P(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[e2,Pn],inset:z(),margin:z(),opacity:$(),padding:I(),saturate:$(),scale:$(),sepia:P(),skew:$(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",xe]}],container:["container"],columns:[{columns:[Tn]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),xe]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Da,xe]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",xe]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",Da,xe]}],"grid-cols":[{"grid-cols":[La]}],"col-start-end":[{col:["auto",{span:["full",Da,xe]},xe]}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":[La]}],"row-start-end":[{row:["auto",{span:[Da,xe]},xe]}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",xe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",xe]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...k()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...k(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...k(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",xe,t]}],"min-w":[{"min-w":[xe,t,"min","max","fit"]}],"max-w":[{"max-w":[xe,t,"none","full","min","max","fit","prose",{screen:[Tn]},Tn]}],h:[{h:[xe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[xe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[xe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[xe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Tn,Pn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Td]}],"font-family":[{font:[La]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",xe]}],"line-clamp":[{"line-clamp":["none",$o,Td]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",nn,xe]}],"list-image":[{"list-image":["none",xe]}],"list-style-type":[{list:["none","disc","decimal",xe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",nn,Pn]}],"underline-offset":[{"underline-offset":["auto",nn,xe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),n2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",r2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},o2]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:M()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[nn,xe]}],"outline-w":[{outline:[nn,Pn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[nn,Pn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Tn,a2]}],"shadow-color":[{shadow:[La]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...O(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Tn,xe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[d]}],saturate:[{saturate:[v]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",xe]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",xe]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",xe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Da,xe]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",xe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[nn,Pn,Td]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},d2=qE(u2);function ie(...e){return d2(g0(e))}const h2=Zk,P0=f.forwardRef(({className:e,...t},r)=>s.jsx(c0,{ref:r,className:ie("fixed top-12 left-1/2 -translate-x-1/2 z-[100] flex max-h-screen w-[calc(100%-2rem)] max-w-md flex-col gap-2 sm:top-4 sm:left-auto sm:right-4 sm:translate-x-0",e),...t}));P0.displayName=c0.displayName;const f2=Ki("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),T0=f.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(u0,{ref:n,className:ie(f2({variant:t}),e),...r}));T0.displayName=u0.displayName;const m2=f.forwardRef(({className:e,...t},r)=>s.jsx(f0,{ref:r,className:ie("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));m2.displayName=f0.displayName;const R0=f.forwardRef(({className:e,...t},r)=>s.jsx(m0,{ref:r,className:ie("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(vu,{className:"h-4 w-4"})}));R0.displayName=m0.displayName;const A0=f.forwardRef(({className:e,...t},r)=>s.jsx(d0,{ref:r,className:ie("text-sm font-semibold",e),...t}));A0.displayName=d0.displayName;const I0=f.forwardRef(({className:e,...t},r)=>s.jsx(h0,{ref:r,className:ie("text-sm opacity-90",e),...t}));I0.displayName=h0.displayName;function p2(){const{toasts:e}=At();return s.jsxs(h2,{children:[e.map(function({id:t,title:r,description:n,action:o,...a}){return s.jsxs(T0,{...a,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(A0,{children:r}),n&&s.jsx(I0,{children:n})]}),o,s.jsx(R0,{})]},t)}),s.jsx(P0,{})]})}var ry=["light","dark"],g2="(prefers-color-scheme: dark)",y2=f.createContext(void 0),v2={setTheme:e=>{},themes:[]},x2=()=>{var e;return(e=f.useContext(y2))!=null?e:v2};f.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:o,defaultTheme:a,value:i,attrs:l,nonce:c})=>{let u=a==="system",h=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,d=o?ry.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(b,y=!1,w=!0)=>{let p=i?i[b]:b,g=y?b+"|| ''":`'${p}'`,v="";return o&&w&&!y&&ry.includes(b)&&(v+=`d.style.colorScheme = '${b}';`),r==="class"?y||p?v+=`c.add(${g})`:v+="null":p&&(v+=`d[s](n,${g})`),v},x=e?`!function(){${h}${m(e)}}()`:n?`!function(){try{${h}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${g2}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}${u?"":"else{"+m(a,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}else{${m(a,!1,!1)};}${d}}catch(t){}}();`;return f.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:x}})});function w2(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const b2=e=>{switch(e){case"success":return S2;case"info":return C2;case"warning":return _2;case"error":return k2;default:return null}},j2=Array(12).fill(0),N2=({visible:e,className:t})=>G.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},G.createElement("div",{className:"sonner-spinner"},j2.map((r,n)=>G.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),S2=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),_2=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),C2=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),k2=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),E2=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},G.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),G.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),P2=()=>{const[e,t]=G.useState(document.hidden);return G.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let Yh=1;class T2{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...o}=t,a=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:Yh++,i=this.toasts.find(c=>c.id===a),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(c=>c.id===a?(this.publish({...c,...t,id:a,title:n}),{...c,...t,id:a,dismissible:l,title:n}):c):this.addToast({title:n,...o,dismissible:l,id:a}),a},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const o=Promise.resolve(t instanceof Function?t():t);let a=n!==void 0,i;const l=o.then(async u=>{if(i=["resolve",u],G.isValidElement(u))a=!1,this.create({id:n,type:"default",message:u});else if(A2(u)&&!u.ok){a=!1;const d=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,m=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,b=typeof d=="object"&&!G.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:m,...b})}else if(u instanceof Error){a=!1;const d=typeof r.error=="function"?await r.error(u):r.error,m=typeof r.description=="function"?await r.description(u):r.description,b=typeof d=="object"&&!G.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:m,...b})}else if(r.success!==void 0){a=!1;const d=typeof r.success=="function"?await r.success(u):r.success,m=typeof r.description=="function"?await r.description(u):r.description,b=typeof d=="object"&&!G.isValidElement(d)?d:{message:d};this.create({id:n,type:"success",description:m,...b})}}).catch(async u=>{if(i=["reject",u],r.error!==void 0){a=!1;const h=typeof r.error=="function"?await r.error(u):r.error,d=typeof r.description=="function"?await r.description(u):r.description,x=typeof h=="object"&&!G.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:d,...x})}}).finally(()=>{a&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),c=()=>new Promise((u,h)=>l.then(()=>i[0]==="reject"?h(i[1]):u(i[1])).catch(h));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||Yh++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Lt=new T2,R2=(e,t)=>{const r=(t==null?void 0:t.id)||Yh++;return Lt.addToast({title:e,...t,id:r}),r},A2=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",I2=R2,O2=()=>Lt.toasts,M2=()=>Lt.getActiveToasts(),be=Object.assign(I2,{success:Lt.success,info:Lt.info,warning:Lt.warning,error:Lt.error,custom:Lt.custom,message:Lt.message,promise:Lt.promise,dismiss:Lt.dismiss,loading:Lt.loading},{getHistory:O2,getToasts:M2});w2("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function El(e){return e.label!==void 0}const D2=3,L2="24px",$2="16px",ny=4e3,F2=356,U2=14,z2=45,H2=200;function Lr(...e){return e.filter(Boolean).join(" ")}function B2(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const W2=e=>{var t,r,n,o,a,i,l,c,u;const{invert:h,toast:d,unstyled:m,interacting:x,setHeights:b,visibleToasts:y,heights:w,index:p,toasts:g,expanded:v,removeToast:j,defaultRichColors:N,closeButton:S,style:_,cancelButtonStyle:C,actionButtonStyle:A,className:E="",descriptionClassName:z="",duration:I,position:L,gap:T,expandByDefault:B,classNames:M,icons:O,closeButtonAriaLabel:k="Close toast"}=e,[P,F]=G.useState(null),[$,V]=G.useState(null),[D,X]=G.useState(!1),[oe,ue]=G.useState(!1),[R,K]=G.useState(!1),[te,le]=G.useState(!1),[me,he]=G.useState(!1),[Re,ne]=G.useState(0),[ce,Ce]=G.useState(0),Le=G.useRef(d.duration||I||ny),ct=G.useRef(null),we=G.useRef(null),Nt=p===0,so=p+1<=y,Ae=d.type,Mt=d.dismissible!==!1,pr=d.className||"",Mr=d.descriptionClassName||"",Wt=G.useMemo(()=>w.findIndex(ve=>ve.toastId===d.id)||0,[w,d.id]),tn=G.useMemo(()=>{var ve;return(ve=d.closeButton)!=null?ve:S},[d.closeButton,S]),Ca=G.useMemo(()=>d.duration||I||ny,[d.duration,I]),oo=G.useRef(0),_n=G.useRef(0),nl=G.useRef(0),Cn=G.useRef(null),[rn,ka]=L.split("-"),sl=G.useMemo(()=>w.reduce((ve,rt,yt)=>yt>=Wt?ve:ve+rt.height,0),[w,Wt]),Rp=P2(),CS=d.invert||h,Zu=Ae==="loading";_n.current=G.useMemo(()=>Wt*T+sl,[Wt,sl]),G.useEffect(()=>{Le.current=Ca},[Ca]),G.useEffect(()=>{X(!0)},[]),G.useEffect(()=>{const ve=we.current;if(ve){const rt=ve.getBoundingClientRect().height;return Ce(rt),b(yt=>[{toastId:d.id,height:rt,position:d.position},...yt]),()=>b(yt=>yt.filter(Vt=>Vt.toastId!==d.id))}},[b,d.id]),G.useLayoutEffect(()=>{if(!D)return;const ve=we.current,rt=ve.style.height;ve.style.height="auto";const yt=ve.getBoundingClientRect().height;ve.style.height=rt,Ce(yt),b(Vt=>Vt.find(ut=>ut.toastId===d.id)?Vt.map(ut=>ut.toastId===d.id?{...ut,height:yt}:ut):[{toastId:d.id,height:yt,position:d.position},...Vt])},[D,d.title,d.description,b,d.id,d.jsx,d.action,d.cancel]);const kn=G.useCallback(()=>{ue(!0),ne(_n.current),b(ve=>ve.filter(rt=>rt.toastId!==d.id)),setTimeout(()=>{j(d)},H2)},[d,j,b,_n]);G.useEffect(()=>{if(d.promise&&Ae==="loading"||d.duration===1/0||d.type==="loading")return;let ve;return v||x||Rp?(()=>{if(nl.current<oo.current){const Vt=new Date().getTime()-oo.current;Le.current=Le.current-Vt}nl.current=new Date().getTime()})():(()=>{Le.current!==1/0&&(oo.current=new Date().getTime(),ve=setTimeout(()=>{d.onAutoClose==null||d.onAutoClose.call(d,d),kn()},Le.current))})(),()=>clearTimeout(ve)},[v,x,d,Ae,Rp,kn]),G.useEffect(()=>{d.delete&&(kn(),d.onDismiss==null||d.onDismiss.call(d,d))},[kn,d.delete]);function kS(){var ve;if(O!=null&&O.loading){var rt;return G.createElement("div",{className:Lr(M==null?void 0:M.loader,d==null||(rt=d.classNames)==null?void 0:rt.loader,"sonner-loader"),"data-visible":Ae==="loading"},O.loading)}return G.createElement(N2,{className:Lr(M==null?void 0:M.loader,d==null||(ve=d.classNames)==null?void 0:ve.loader),visible:Ae==="loading"})}const ES=d.icon||(O==null?void 0:O[Ae])||b2(Ae);var Ap,Ip;return G.createElement("li",{tabIndex:0,ref:we,className:Lr(E,pr,M==null?void 0:M.toast,d==null||(t=d.classNames)==null?void 0:t.toast,M==null?void 0:M.default,M==null?void 0:M[Ae],d==null||(r=d.classNames)==null?void 0:r[Ae]),"data-sonner-toast":"","data-rich-colors":(Ap=d.richColors)!=null?Ap:N,"data-styled":!(d.jsx||d.unstyled||m),"data-mounted":D,"data-promise":!!d.promise,"data-swiped":me,"data-removed":oe,"data-visible":so,"data-y-position":rn,"data-x-position":ka,"data-index":p,"data-front":Nt,"data-swiping":R,"data-dismissible":Mt,"data-type":Ae,"data-invert":CS,"data-swipe-out":te,"data-swipe-direction":$,"data-expanded":!!(v||B&&D),"data-testid":d.testId,style:{"--index":p,"--toasts-before":p,"--z-index":g.length-p,"--offset":`${oe?Re:_n.current}px`,"--initial-height":B?"auto":`${ce}px`,..._,...d.style},onDragEnd:()=>{K(!1),F(null),Cn.current=null},onPointerDown:ve=>{ve.button!==2&&(Zu||!Mt||(ct.current=new Date,ne(_n.current),ve.target.setPointerCapture(ve.pointerId),ve.target.tagName!=="BUTTON"&&(K(!0),Cn.current={x:ve.clientX,y:ve.clientY})))},onPointerUp:()=>{var ve,rt,yt;if(te||!Mt)return;Cn.current=null;const Vt=Number(((ve=we.current)==null?void 0:ve.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ol=Number(((rt=we.current)==null?void 0:rt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ut=new Date().getTime()-((yt=ct.current)==null?void 0:yt.getTime()),rr=P==="x"?Vt:ol,al=Math.abs(rr)/ut;if(Math.abs(rr)>=z2||al>.11){ne(_n.current),d.onDismiss==null||d.onDismiss.call(d,d),V(P==="x"?Vt>0?"right":"left":ol>0?"down":"up"),kn(),le(!0);return}else{var gr,yr;(gr=we.current)==null||gr.style.setProperty("--swipe-amount-x","0px"),(yr=we.current)==null||yr.style.setProperty("--swipe-amount-y","0px")}he(!1),K(!1),F(null)},onPointerMove:ve=>{var rt,yt,Vt;if(!Cn.current||!Mt||((rt=window.getSelection())==null?void 0:rt.toString().length)>0)return;const ut=ve.clientY-Cn.current.y,rr=ve.clientX-Cn.current.x;var al;const gr=(al=e.swipeDirections)!=null?al:B2(L);!P&&(Math.abs(rr)>1||Math.abs(ut)>1)&&F(Math.abs(rr)>Math.abs(ut)?"x":"y");let yr={x:0,y:0};const Op=ys=>1/(1.5+Math.abs(ys)/20);if(P==="y"){if(gr.includes("top")||gr.includes("bottom"))if(gr.includes("top")&&ut<0||gr.includes("bottom")&&ut>0)yr.y=ut;else{const ys=ut*Op(ut);yr.y=Math.abs(ys)<Math.abs(ut)?ys:ut}}else if(P==="x"&&(gr.includes("left")||gr.includes("right")))if(gr.includes("left")&&rr<0||gr.includes("right")&&rr>0)yr.x=rr;else{const ys=rr*Op(rr);yr.x=Math.abs(ys)<Math.abs(rr)?ys:rr}(Math.abs(yr.x)>0||Math.abs(yr.y)>0)&&he(!0),(yt=we.current)==null||yt.style.setProperty("--swipe-amount-x",`${yr.x}px`),(Vt=we.current)==null||Vt.style.setProperty("--swipe-amount-y",`${yr.y}px`)}},tn&&!d.jsx&&Ae!=="loading"?G.createElement("button",{"aria-label":k,"data-disabled":Zu,"data-close-button":!0,onClick:Zu||!Mt?()=>{}:()=>{kn(),d.onDismiss==null||d.onDismiss.call(d,d)},className:Lr(M==null?void 0:M.closeButton,d==null||(n=d.classNames)==null?void 0:n.closeButton)},(Ip=O==null?void 0:O.close)!=null?Ip:E2):null,(Ae||d.icon||d.promise)&&d.icon!==null&&((O==null?void 0:O[Ae])!==null||d.icon)?G.createElement("div",{"data-icon":"",className:Lr(M==null?void 0:M.icon,d==null||(o=d.classNames)==null?void 0:o.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||kS():null,d.type!=="loading"?ES:null):null,G.createElement("div",{"data-content":"",className:Lr(M==null?void 0:M.content,d==null||(a=d.classNames)==null?void 0:a.content)},G.createElement("div",{"data-title":"",className:Lr(M==null?void 0:M.title,d==null||(i=d.classNames)==null?void 0:i.title)},d.jsx?d.jsx:typeof d.title=="function"?d.title():d.title),d.description?G.createElement("div",{"data-description":"",className:Lr(z,Mr,M==null?void 0:M.description,d==null||(l=d.classNames)==null?void 0:l.description)},typeof d.description=="function"?d.description():d.description):null),G.isValidElement(d.cancel)?d.cancel:d.cancel&&El(d.cancel)?G.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||C,onClick:ve=>{El(d.cancel)&&Mt&&(d.cancel.onClick==null||d.cancel.onClick.call(d.cancel,ve),kn())},className:Lr(M==null?void 0:M.cancelButton,d==null||(c=d.classNames)==null?void 0:c.cancelButton)},d.cancel.label):null,G.isValidElement(d.action)?d.action:d.action&&El(d.action)?G.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||A,onClick:ve=>{El(d.action)&&(d.action.onClick==null||d.action.onClick.call(d.action,ve),!ve.defaultPrevented&&kn())},className:Lr(M==null?void 0:M.actionButton,d==null||(u=d.classNames)==null?void 0:u.actionButton)},d.action.label):null)};function sy(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function V2(e,t){const r={};return[e,t].forEach((n,o)=>{const a=o===1,i=a?"--mobile-offset":"--offset",l=a?$2:L2;function c(u){["top","right","bottom","left"].forEach(h=>{r[`${i}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${i}-${u}`]=l:r[`${i}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}const q2=G.forwardRef(function(t,r){const{id:n,invert:o,position:a="bottom-right",hotkey:i=["altKey","KeyT"],expand:l,closeButton:c,className:u,offset:h,mobileOffset:d,theme:m="light",richColors:x,duration:b,style:y,visibleToasts:w=D2,toastOptions:p,dir:g=sy(),gap:v=U2,icons:j,containerAriaLabel:N="Notifications"}=t,[S,_]=G.useState([]),C=G.useMemo(()=>n?S.filter(D=>D.toasterId===n):S.filter(D=>!D.toasterId),[S,n]),A=G.useMemo(()=>Array.from(new Set([a].concat(C.filter(D=>D.position).map(D=>D.position)))),[C,a]),[E,z]=G.useState([]),[I,L]=G.useState(!1),[T,B]=G.useState(!1),[M,O]=G.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),k=G.useRef(null),P=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=G.useRef(null),$=G.useRef(!1),V=G.useCallback(D=>{_(X=>{var oe;return(oe=X.find(ue=>ue.id===D.id))!=null&&oe.delete||Lt.dismiss(D.id),X.filter(({id:ue})=>ue!==D.id)})},[]);return G.useEffect(()=>Lt.subscribe(D=>{if(D.dismiss){requestAnimationFrame(()=>{_(X=>X.map(oe=>oe.id===D.id?{...oe,delete:!0}:oe))});return}setTimeout(()=>{Bw.flushSync(()=>{_(X=>{const oe=X.findIndex(ue=>ue.id===D.id);return oe!==-1?[...X.slice(0,oe),{...X[oe],...D},...X.slice(oe+1)]:[D,...X]})})})}),[S]),G.useEffect(()=>{if(m!=="system"){O(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?O("dark"):O("light")),typeof window>"u")return;const D=window.matchMedia("(prefers-color-scheme: dark)");try{D.addEventListener("change",({matches:X})=>{O(X?"dark":"light")})}catch{D.addListener(({matches:oe})=>{try{O(oe?"dark":"light")}catch(ue){console.error(ue)}})}},[m]),G.useEffect(()=>{S.length<=1&&L(!1)},[S]),G.useEffect(()=>{const D=X=>{var oe;if(i.every(K=>X[K]||X.code===K)){var R;L(!0),(R=k.current)==null||R.focus()}X.code==="Escape"&&(document.activeElement===k.current||(oe=k.current)!=null&&oe.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[i]),G.useEffect(()=>{if(k.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,$.current=!1)}},[k.current]),G.createElement("section",{ref:r,"aria-label":`${N} ${P}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},A.map((D,X)=>{var oe;const[ue,R]=D.split("-");return C.length?G.createElement("ol",{key:D,dir:g==="auto"?sy():g,tabIndex:-1,ref:k,className:u,"data-sonner-toaster":!0,"data-sonner-theme":M,"data-y-position":ue,"data-x-position":R,style:{"--front-toast-height":`${((oe=E[0])==null?void 0:oe.height)||0}px`,"--width":`${F2}px`,"--gap":`${v}px`,...y,...V2(h,d)},onBlur:K=>{$.current&&!K.currentTarget.contains(K.relatedTarget)&&($.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||$.current||($.current=!0,F.current=K.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{T||L(!1)},onDragEnd:()=>L(!1),onPointerDown:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||B(!0)},onPointerUp:()=>B(!1)},C.filter(K=>!K.position&&X===0||K.position===D).map((K,te)=>{var le,me;return G.createElement(W2,{key:K.id,icons:j,index:te,toast:K,defaultRichColors:x,duration:(le=p==null?void 0:p.duration)!=null?le:b,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:o,visibleToasts:w,closeButton:(me=p==null?void 0:p.closeButton)!=null?me:c,interacting:T,position:D,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,closeButtonAriaLabel:p==null?void 0:p.closeButtonAriaLabel,removeToast:V,toasts:C.filter(he=>he.position==K.position),heights:E.filter(he=>he.position==K.position),setHeights:z,expandByDefault:l,gap:v,expanded:I,swipeDirections:t.swipeDirections})})):null}))}),K2=({...e})=>{const{theme:t="system"}=x2();return s.jsx(q2,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var G2=Lf[" useId ".trim().toString()]||(()=>{}),Y2=0;function Yr(e){const[t,r]=f.useState(G2());return lt(()=>{r(n=>n??String(Y2++))},[e]),t?`radix-${t}`:""}const Q2=["top","right","bottom","left"],is=Math.min,Gt=Math.max,Tc=Math.round,Pl=Math.floor,Qr=e=>({x:e,y:e}),J2={left:"right",right:"left",bottom:"top",top:"bottom"},X2={start:"end",end:"start"};function Qh(e,t,r){return Gt(e,is(t,r))}function bn(e,t){return typeof e=="function"?e(t):e}function jn(e){return e.split("-")[0]}function pa(e){return e.split("-")[1]}function Im(e){return e==="x"?"y":"x"}function Om(e){return e==="y"?"height":"width"}const Z2=new Set(["top","bottom"]);function qr(e){return Z2.has(jn(e))?"y":"x"}function Mm(e){return Im(qr(e))}function eP(e,t,r){r===void 0&&(r=!1);const n=pa(e),o=Mm(e),a=Om(o);let i=o==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=Rc(i)),[i,Rc(i)]}function tP(e){const t=Rc(e);return[Jh(e),t,Jh(t)]}function Jh(e){return e.replace(/start|end/g,t=>X2[t])}const oy=["left","right"],ay=["right","left"],rP=["top","bottom"],nP=["bottom","top"];function sP(e,t,r){switch(e){case"top":case"bottom":return r?t?ay:oy:t?oy:ay;case"left":case"right":return t?rP:nP;default:return[]}}function oP(e,t,r,n){const o=pa(e);let a=sP(jn(e),r==="start",n);return o&&(a=a.map(i=>i+"-"+o),t&&(a=a.concat(a.map(Jh)))),a}function Rc(e){return e.replace(/left|right|bottom|top/g,t=>J2[t])}function aP(e){return{top:0,right:0,bottom:0,left:0,...e}}function O0(e){return typeof e!="number"?aP(e):{top:e,right:e,bottom:e,left:e}}function Ac(e){const{x:t,y:r,width:n,height:o}=e;return{width:n,height:o,top:r,left:t,right:t+n,bottom:r+o,x:t,y:r}}function iy(e,t,r){let{reference:n,floating:o}=e;const a=qr(t),i=Mm(t),l=Om(i),c=jn(t),u=a==="y",h=n.x+n.width/2-o.width/2,d=n.y+n.height/2-o.height/2,m=n[l]/2-o[l]/2;let x;switch(c){case"top":x={x:h,y:n.y-o.height};break;case"bottom":x={x:h,y:n.y+n.height};break;case"right":x={x:n.x+n.width,y:d};break;case"left":x={x:n.x-o.width,y:d};break;default:x={x:n.x,y:n.y}}switch(pa(t)){case"start":x[i]-=m*(r&&u?-1:1);break;case"end":x[i]+=m*(r&&u?-1:1);break}return x}const iP=async(e,t,r)=>{const{placement:n="bottom",strategy:o="absolute",middleware:a=[],platform:i}=r,l=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:o}),{x:h,y:d}=iy(u,n,c),m=n,x={},b=0;for(let y=0;y<l.length;y++){const{name:w,fn:p}=l[y],{x:g,y:v,data:j,reset:N}=await p({x:h,y:d,initialPlacement:n,placement:m,strategy:o,middlewareData:x,rects:u,platform:i,elements:{reference:e,floating:t}});h=g??h,d=v??d,x={...x,[w]:{...x[w],...j}},N&&b<=50&&(b++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(u=N.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:o}):N.rects),{x:h,y:d}=iy(u,m,c)),y=-1)}return{x:h,y:d,placement:m,strategy:o,middlewareData:x}};async function Ci(e,t){var r;t===void 0&&(t={});const{x:n,y:o,platform:a,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:d="floating",altBoundary:m=!1,padding:x=0}=bn(t,e),b=O0(x),w=l[m?d==="floating"?"reference":"floating":d],p=Ac(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(w)))==null||r?w:w.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),g=d==="floating"?{x:n,y:o,width:i.floating.width,height:i.floating.height}:i.reference,v=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),j=await(a.isElement==null?void 0:a.isElement(v))?await(a.getScale==null?void 0:a.getScale(v))||{x:1,y:1}:{x:1,y:1},N=Ac(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:v,strategy:c}):g);return{top:(p.top-N.top+b.top)/j.y,bottom:(N.bottom-p.bottom+b.bottom)/j.y,left:(p.left-N.left+b.left)/j.x,right:(N.right-p.right+b.right)/j.x}}const lP=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:o,rects:a,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:h=0}=bn(e,t)||{};if(u==null)return{};const d=O0(h),m={x:r,y:n},x=Mm(o),b=Om(x),y=await i.getDimensions(u),w=x==="y",p=w?"top":"left",g=w?"bottom":"right",v=w?"clientHeight":"clientWidth",j=a.reference[b]+a.reference[x]-m[x]-a.floating[b],N=m[x]-a.reference[x],S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let _=S?S[v]:0;(!_||!await(i.isElement==null?void 0:i.isElement(S)))&&(_=l.floating[v]||a.floating[b]);const C=j/2-N/2,A=_/2-y[b]/2-1,E=is(d[p],A),z=is(d[g],A),I=E,L=_-y[b]-z,T=_/2-y[b]/2+C,B=Qh(I,T,L),M=!c.arrow&&pa(o)!=null&&T!==B&&a.reference[b]/2-(T<I?E:z)-y[b]/2<0,O=M?T<I?T-I:T-L:0;return{[x]:m[x]+O,data:{[x]:B,centerOffset:T-B-O,...M&&{alignmentOffset:O}},reset:M}}}),cP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:o,middlewareData:a,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:h=!0,crossAxis:d=!0,fallbackPlacements:m,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:y=!0,...w}=bn(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const p=jn(o),g=qr(l),v=jn(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=m||(v||!y?[Rc(l)]:tP(l)),S=b!=="none";!m&&S&&N.push(...oP(l,y,b,j));const _=[l,...N],C=await Ci(t,w),A=[];let E=((n=a.flip)==null?void 0:n.overflows)||[];if(h&&A.push(C[p]),d){const T=eP(o,i,j);A.push(C[T[0]],C[T[1]])}if(E=[...E,{placement:o,overflows:A}],!A.every(T=>T<=0)){var z,I;const T=(((z=a.flip)==null?void 0:z.index)||0)+1,B=_[T];if(B&&(!(d==="alignment"?g!==qr(B):!1)||E.every(k=>qr(k.placement)===g?k.overflows[0]>0:!0)))return{data:{index:T,overflows:E},reset:{placement:B}};let M=(I=E.filter(O=>O.overflows[0]<=0).sort((O,k)=>O.overflows[1]-k.overflows[1])[0])==null?void 0:I.placement;if(!M)switch(x){case"bestFit":{var L;const O=(L=E.filter(k=>{if(S){const P=qr(k.placement);return P===g||P==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(P=>P>0).reduce((P,F)=>P+F,0)]).sort((k,P)=>k[1]-P[1])[0])==null?void 0:L[0];O&&(M=O);break}case"initialPlacement":M=l;break}if(o!==M)return{reset:{placement:M}}}return{}}}};function ly(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function cy(e){return Q2.some(t=>e[t]>=0)}const uP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...o}=bn(e,t);switch(n){case"referenceHidden":{const a=await Ci(t,{...o,elementContext:"reference"}),i=ly(a,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:cy(i)}}}case"escaped":{const a=await Ci(t,{...o,altBoundary:!0}),i=ly(a,r.floating);return{data:{escapedOffsets:i,escaped:cy(i)}}}default:return{}}}}},M0=new Set(["left","top"]);async function dP(e,t){const{placement:r,platform:n,elements:o}=e,a=await(n.isRTL==null?void 0:n.isRTL(o.floating)),i=jn(r),l=pa(r),c=qr(r)==="y",u=M0.has(i)?-1:1,h=a&&c?-1:1,d=bn(t,e);let{mainAxis:m,crossAxis:x,alignmentAxis:b}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof b=="number"&&(x=l==="end"?b*-1:b),c?{x:x*h,y:m*u}:{x:m*u,y:x*h}}const hP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:o,y:a,placement:i,middlewareData:l}=t,c=await dP(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:o+c.x,y:a+c.y,data:{...c,placement:i}}}}},fP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:o}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:l={fn:w=>{let{x:p,y:g}=w;return{x:p,y:g}}},...c}=bn(e,t),u={x:r,y:n},h=await Ci(t,c),d=qr(jn(o)),m=Im(d);let x=u[m],b=u[d];if(a){const w=m==="y"?"top":"left",p=m==="y"?"bottom":"right",g=x+h[w],v=x-h[p];x=Qh(g,x,v)}if(i){const w=d==="y"?"top":"left",p=d==="y"?"bottom":"right",g=b+h[w],v=b-h[p];b=Qh(g,b,v)}const y=l.fn({...t,[m]:x,[d]:b});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[m]:a,[d]:i}}}}}},mP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:o,rects:a,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=bn(e,t),h={x:r,y:n},d=qr(o),m=Im(d);let x=h[m],b=h[d];const y=bn(l,t),w=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const v=m==="y"?"height":"width",j=a.reference[m]-a.floating[v]+w.mainAxis,N=a.reference[m]+a.reference[v]-w.mainAxis;x<j?x=j:x>N&&(x=N)}if(u){var p,g;const v=m==="y"?"width":"height",j=M0.has(jn(o)),N=a.reference[d]-a.floating[v]+(j&&((p=i.offset)==null?void 0:p[d])||0)+(j?0:w.crossAxis),S=a.reference[d]+a.reference[v]+(j?0:((g=i.offset)==null?void 0:g[d])||0)-(j?w.crossAxis:0);b<N?b=N:b>S&&(b=S)}return{[m]:x,[d]:b}}}},pP=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:o,rects:a,platform:i,elements:l}=t,{apply:c=()=>{},...u}=bn(e,t),h=await Ci(t,u),d=jn(o),m=pa(o),x=qr(o)==="y",{width:b,height:y}=a.floating;let w,p;d==="top"||d==="bottom"?(w=d,p=m===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(p=d,w=m==="end"?"top":"bottom");const g=y-h.top-h.bottom,v=b-h.left-h.right,j=is(y-h[w],g),N=is(b-h[p],v),S=!t.middlewareData.shift;let _=j,C=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=v),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(_=g),S&&!m){const E=Gt(h.left,0),z=Gt(h.right,0),I=Gt(h.top,0),L=Gt(h.bottom,0);x?C=b-2*(E!==0||z!==0?E+z:Gt(h.left,h.right)):_=y-2*(I!==0||L!==0?I+L:Gt(h.top,h.bottom))}await c({...t,availableWidth:C,availableHeight:_});const A=await i.getDimensions(l.floating);return b!==A.width||y!==A.height?{reset:{rects:!0}}:{}}}};function xu(){return typeof window<"u"}function ga(e){return D0(e)?(e.nodeName||"").toLowerCase():"#document"}function Jt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Zr(e){var t;return(t=(D0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function D0(e){return xu()?e instanceof Node||e instanceof Jt(e).Node:!1}function Rr(e){return xu()?e instanceof Element||e instanceof Jt(e).Element:!1}function Xr(e){return xu()?e instanceof HTMLElement||e instanceof Jt(e).HTMLElement:!1}function uy(e){return!xu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Jt(e).ShadowRoot}const gP=new Set(["inline","contents"]);function Gi(e){const{overflow:t,overflowX:r,overflowY:n,display:o}=Ar(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!gP.has(o)}const yP=new Set(["table","td","th"]);function vP(e){return yP.has(ga(e))}const xP=[":popover-open",":modal"];function wu(e){return xP.some(t=>{try{return e.matches(t)}catch{return!1}})}const wP=["transform","translate","scale","rotate","perspective"],bP=["transform","translate","scale","rotate","perspective","filter"],jP=["paint","layout","strict","content"];function Dm(e){const t=Lm(),r=Rr(e)?Ar(e):e;return wP.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||bP.some(n=>(r.willChange||"").includes(n))||jP.some(n=>(r.contain||"").includes(n))}function NP(e){let t=ls(e);for(;Xr(t)&&!aa(t);){if(Dm(t))return t;if(wu(t))return null;t=ls(t)}return null}function Lm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const SP=new Set(["html","body","#document"]);function aa(e){return SP.has(ga(e))}function Ar(e){return Jt(e).getComputedStyle(e)}function bu(e){return Rr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ls(e){if(ga(e)==="html")return e;const t=e.assignedSlot||e.parentNode||uy(e)&&e.host||Zr(e);return uy(t)?t.host:t}function L0(e){const t=ls(e);return aa(t)?e.ownerDocument?e.ownerDocument.body:e.body:Xr(t)&&Gi(t)?t:L0(t)}function ki(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const o=L0(e),a=o===((n=e.ownerDocument)==null?void 0:n.body),i=Jt(o);if(a){const l=Xh(i);return t.concat(i,i.visualViewport||[],Gi(o)?o:[],l&&r?ki(l):[])}return t.concat(o,ki(o,[],r))}function Xh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function $0(e){const t=Ar(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const o=Xr(e),a=o?e.offsetWidth:r,i=o?e.offsetHeight:n,l=Tc(r)!==a||Tc(n)!==i;return l&&(r=a,n=i),{width:r,height:n,$:l}}function $m(e){return Rr(e)?e:e.contextElement}function Fo(e){const t=$m(e);if(!Xr(t))return Qr(1);const r=t.getBoundingClientRect(),{width:n,height:o,$:a}=$0(t);let i=(a?Tc(r.width):r.width)/n,l=(a?Tc(r.height):r.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const _P=Qr(0);function F0(e){const t=Jt(e);return!Lm()||!t.visualViewport?_P:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function CP(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Jt(e)?!1:t}function Ks(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const o=e.getBoundingClientRect(),a=$m(e);let i=Qr(1);t&&(n?Rr(n)&&(i=Fo(n)):i=Fo(e));const l=CP(a,r,n)?F0(a):Qr(0);let c=(o.left+l.x)/i.x,u=(o.top+l.y)/i.y,h=o.width/i.x,d=o.height/i.y;if(a){const m=Jt(a),x=n&&Rr(n)?Jt(n):n;let b=m,y=Xh(b);for(;y&&n&&x!==b;){const w=Fo(y),p=y.getBoundingClientRect(),g=Ar(y),v=p.left+(y.clientLeft+parseFloat(g.paddingLeft))*w.x,j=p.top+(y.clientTop+parseFloat(g.paddingTop))*w.y;c*=w.x,u*=w.y,h*=w.x,d*=w.y,c+=v,u+=j,b=Jt(y),y=Xh(b)}}return Ac({width:h,height:d,x:c,y:u})}function ju(e,t){const r=bu(e).scrollLeft;return t?t.left+r:Ks(Zr(e)).left+r}function U0(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-ju(e,r),o=r.top+t.scrollTop;return{x:n,y:o}}function kP(e){let{elements:t,rect:r,offsetParent:n,strategy:o}=e;const a=o==="fixed",i=Zr(n),l=t?wu(t.floating):!1;if(n===i||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=Qr(1);const h=Qr(0),d=Xr(n);if((d||!d&&!a)&&((ga(n)!=="body"||Gi(i))&&(c=bu(n)),Xr(n))){const x=Ks(n);u=Fo(n),h.x=x.x+n.clientLeft,h.y=x.y+n.clientTop}const m=i&&!d&&!a?U0(i,c):Qr(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+h.x+m.x,y:r.y*u.y-c.scrollTop*u.y+h.y+m.y}}function EP(e){return Array.from(e.getClientRects())}function PP(e){const t=Zr(e),r=bu(e),n=e.ownerDocument.body,o=Gt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Gt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+ju(e);const l=-r.scrollTop;return Ar(n).direction==="rtl"&&(i+=Gt(t.clientWidth,n.clientWidth)-o),{width:o,height:a,x:i,y:l}}const dy=25;function TP(e,t){const r=Jt(e),n=Zr(e),o=r.visualViewport;let a=n.clientWidth,i=n.clientHeight,l=0,c=0;if(o){a=o.width,i=o.height;const h=Lm();(!h||h&&t==="fixed")&&(l=o.offsetLeft,c=o.offsetTop)}const u=ju(n);if(u<=0){const h=n.ownerDocument,d=h.body,m=getComputedStyle(d),x=h.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,b=Math.abs(n.clientWidth-d.clientWidth-x);b<=dy&&(a-=b)}else u<=dy&&(a+=u);return{width:a,height:i,x:l,y:c}}const RP=new Set(["absolute","fixed"]);function AP(e,t){const r=Ks(e,!0,t==="fixed"),n=r.top+e.clientTop,o=r.left+e.clientLeft,a=Xr(e)?Fo(e):Qr(1),i=e.clientWidth*a.x,l=e.clientHeight*a.y,c=o*a.x,u=n*a.y;return{width:i,height:l,x:c,y:u}}function hy(e,t,r){let n;if(t==="viewport")n=TP(e,r);else if(t==="document")n=PP(Zr(e));else if(Rr(t))n=AP(t,r);else{const o=F0(e);n={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Ac(n)}function z0(e,t){const r=ls(e);return r===t||!Rr(r)||aa(r)?!1:Ar(r).position==="fixed"||z0(r,t)}function IP(e,t){const r=t.get(e);if(r)return r;let n=ki(e,[],!1).filter(l=>Rr(l)&&ga(l)!=="body"),o=null;const a=Ar(e).position==="fixed";let i=a?ls(e):e;for(;Rr(i)&&!aa(i);){const l=Ar(i),c=Dm(i);!c&&l.position==="fixed"&&(o=null),(a?!c&&!o:!c&&l.position==="static"&&!!o&&RP.has(o.position)||Gi(i)&&!c&&z0(e,i))?n=n.filter(h=>h!==i):o=l,i=ls(i)}return t.set(e,n),n}function OP(e){let{element:t,boundary:r,rootBoundary:n,strategy:o}=e;const i=[...r==="clippingAncestors"?wu(t)?[]:IP(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,h)=>{const d=hy(t,h,o);return u.top=Gt(d.top,u.top),u.right=is(d.right,u.right),u.bottom=is(d.bottom,u.bottom),u.left=Gt(d.left,u.left),u},hy(t,l,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function MP(e){const{width:t,height:r}=$0(e);return{width:t,height:r}}function DP(e,t,r){const n=Xr(t),o=Zr(t),a=r==="fixed",i=Ks(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Qr(0);function u(){c.x=ju(o)}if(n||!n&&!a)if((ga(t)!=="body"||Gi(o))&&(l=bu(t)),n){const x=Ks(t,!0,a,t);c.x=x.x+t.clientLeft,c.y=x.y+t.clientTop}else o&&u();a&&!n&&o&&u();const h=o&&!n&&!a?U0(o,l):Qr(0),d=i.left+l.scrollLeft-c.x-h.x,m=i.top+l.scrollTop-c.y-h.y;return{x:d,y:m,width:i.width,height:i.height}}function Rd(e){return Ar(e).position==="static"}function fy(e,t){if(!Xr(e)||Ar(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Zr(e)===r&&(r=r.ownerDocument.body),r}function H0(e,t){const r=Jt(e);if(wu(e))return r;if(!Xr(e)){let o=ls(e);for(;o&&!aa(o);){if(Rr(o)&&!Rd(o))return o;o=ls(o)}return r}let n=fy(e,t);for(;n&&vP(n)&&Rd(n);)n=fy(n,t);return n&&aa(n)&&Rd(n)&&!Dm(n)?r:n||NP(e)||r}const LP=async function(e){const t=this.getOffsetParent||H0,r=this.getDimensions,n=await r(e.floating);return{reference:DP(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function $P(e){return Ar(e).direction==="rtl"}const FP={convertOffsetParentRelativeRectToViewportRelativeRect:kP,getDocumentElement:Zr,getClippingRect:OP,getOffsetParent:H0,getElementRects:LP,getClientRects:EP,getDimensions:MP,getScale:Fo,isElement:Rr,isRTL:$P};function B0(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function UP(e,t){let r=null,n;const o=Zr(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:h,top:d,width:m,height:x}=u;if(l||t(),!m||!x)return;const b=Pl(d),y=Pl(o.clientWidth-(h+m)),w=Pl(o.clientHeight-(d+x)),p=Pl(h),v={rootMargin:-b+"px "+-y+"px "+-w+"px "+-p+"px",threshold:Gt(0,is(1,c))||1};let j=!0;function N(S){const _=S[0].intersectionRatio;if(_!==c){if(!j)return i();_?i(!1,_):n=setTimeout(()=>{i(!1,1e-7)},1e3)}_===1&&!B0(u,e.getBoundingClientRect())&&i(),j=!1}try{r=new IntersectionObserver(N,{...v,root:o.ownerDocument})}catch{r=new IntersectionObserver(N,v)}r.observe(e)}return i(!0),a}function zP(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=$m(e),h=o||a?[...u?ki(u):[],...ki(t)]:[];h.forEach(p=>{o&&p.addEventListener("scroll",r,{passive:!0}),a&&p.addEventListener("resize",r)});const d=u&&l?UP(u,r):null;let m=-1,x=null;i&&(x=new ResizeObserver(p=>{let[g]=p;g&&g.target===u&&x&&(x.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var v;(v=x)==null||v.observe(t)})),r()}),u&&!c&&x.observe(u),x.observe(t));let b,y=c?Ks(e):null;c&&w();function w(){const p=Ks(e);y&&!B0(y,p)&&r(),y=p,b=requestAnimationFrame(w)}return r(),()=>{var p;h.forEach(g=>{o&&g.removeEventListener("scroll",r),a&&g.removeEventListener("resize",r)}),d==null||d(),(p=x)==null||p.disconnect(),x=null,c&&cancelAnimationFrame(b)}}const HP=hP,BP=fP,WP=cP,VP=pP,qP=uP,my=lP,KP=mP,GP=(e,t,r)=>{const n=new Map,o={platform:FP,...r},a={...o.platform,_c:n};return iP(e,t,{...o,platform:a})};var YP=typeof document<"u",QP=function(){},ec=YP?f.useLayoutEffect:QP;function Ic(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Ic(e[n],t[n]))return!1;return!0}if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,o[n]))return!1;for(n=r;n--!==0;){const a=o[n];if(!(a==="_owner"&&e.$$typeof)&&!Ic(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function W0(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function py(e,t){const r=W0(e);return Math.round(t*r)/r}function Ad(e){const t=f.useRef(e);return ec(()=>{t.current=e}),t}function JP(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:o,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[h,d]=f.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,x]=f.useState(n);Ic(m,n)||x(n);const[b,y]=f.useState(null),[w,p]=f.useState(null),g=f.useCallback(k=>{k!==S.current&&(S.current=k,y(k))},[]),v=f.useCallback(k=>{k!==_.current&&(_.current=k,p(k))},[]),j=a||b,N=i||w,S=f.useRef(null),_=f.useRef(null),C=f.useRef(h),A=c!=null,E=Ad(c),z=Ad(o),I=Ad(u),L=f.useCallback(()=>{if(!S.current||!_.current)return;const k={placement:t,strategy:r,middleware:m};z.current&&(k.platform=z.current),GP(S.current,_.current,k).then(P=>{const F={...P,isPositioned:I.current!==!1};T.current&&!Ic(C.current,F)&&(C.current=F,eo.flushSync(()=>{d(F)}))})},[m,t,r,z,I]);ec(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,d(k=>({...k,isPositioned:!1})))},[u]);const T=f.useRef(!1);ec(()=>(T.current=!0,()=>{T.current=!1}),[]),ec(()=>{if(j&&(S.current=j),N&&(_.current=N),j&&N){if(E.current)return E.current(j,N,L);L()}},[j,N,L,E,A]);const B=f.useMemo(()=>({reference:S,floating:_,setReference:g,setFloating:v}),[g,v]),M=f.useMemo(()=>({reference:j,floating:N}),[j,N]),O=f.useMemo(()=>{const k={position:r,left:0,top:0};if(!M.floating)return k;const P=py(M.floating,h.x),F=py(M.floating,h.y);return l?{...k,transform:"translate("+P+"px, "+F+"px)",...W0(M.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:P,top:F}},[r,l,M.floating,h.x,h.y]);return f.useMemo(()=>({...h,update:L,refs:B,elements:M,floatingStyles:O}),[h,L,B,M,O])}const XP=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:o}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?my({element:n.current,padding:o}).fn(r):{}:n?my({element:n,padding:o}).fn(r):{}}}},ZP=(e,t)=>({...HP(e),options:[e,t]}),eT=(e,t)=>({...BP(e),options:[e,t]}),tT=(e,t)=>({...KP(e),options:[e,t]}),rT=(e,t)=>({...WP(e),options:[e,t]}),nT=(e,t)=>({...VP(e),options:[e,t]}),sT=(e,t)=>({...qP(e),options:[e,t]}),oT=(e,t)=>({...XP(e),options:[e,t]});var aT="Arrow",V0=f.forwardRef((e,t)=>{const{children:r,width:n=10,height:o=5,...a}=e;return s.jsx(ae.svg,{...a,ref:t,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});V0.displayName=aT;var iT=V0;function Fm(e){const[t,r]=f.useState(void 0);return lt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Um="Popper",[q0,ya]=It(Um),[lT,K0]=q0(Um),G0=e=>{const{__scopePopper:t,children:r}=e,[n,o]=f.useState(null);return s.jsx(lT,{scope:t,anchor:n,onAnchorChange:o,children:r})};G0.displayName=Um;var Y0="PopperAnchor",Q0=f.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...o}=e,a=K0(Y0,r),i=f.useRef(null),l=ye(t,i),c=f.useRef(null);return f.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||i.current,u!==c.current&&a.onAnchorChange(c.current)}),n?null:s.jsx(ae.div,{...o,ref:l})});Q0.displayName=Y0;var zm="PopperContent",[cT,uT]=q0(zm),J0=f.forwardRef((e,t)=>{var R,K,te,le,me,he;const{__scopePopper:r,side:n="bottom",sideOffset:o=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:d="partial",hideWhenDetached:m=!1,updatePositionStrategy:x="optimized",onPlaced:b,...y}=e,w=K0(zm,r),[p,g]=f.useState(null),v=ye(t,Re=>g(Re)),[j,N]=f.useState(null),S=Fm(j),_=(S==null?void 0:S.width)??0,C=(S==null?void 0:S.height)??0,A=n+(a!=="center"?"-"+a:""),E=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},z=Array.isArray(u)?u:[u],I=z.length>0,L={padding:E,boundary:z.filter(hT),altBoundary:I},{refs:T,floatingStyles:B,placement:M,isPositioned:O,middlewareData:k}=JP({strategy:"fixed",placement:A,whileElementsMounted:(...Re)=>zP(...Re,{animationFrame:x==="always"}),elements:{reference:w.anchor},middleware:[ZP({mainAxis:o+C,alignmentAxis:i}),c&&eT({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?tT():void 0,...L}),c&&rT({...L}),nT({...L,apply:({elements:Re,rects:ne,availableWidth:ce,availableHeight:Ce})=>{const{width:Le,height:ct}=ne.reference,we=Re.floating.style;we.setProperty("--radix-popper-available-width",`${ce}px`),we.setProperty("--radix-popper-available-height",`${Ce}px`),we.setProperty("--radix-popper-anchor-width",`${Le}px`),we.setProperty("--radix-popper-anchor-height",`${ct}px`)}}),j&&oT({element:j,padding:l}),fT({arrowWidth:_,arrowHeight:C}),m&&sT({strategy:"referenceHidden",...L})]}),[P,F]=eb(M),$=qe(b);lt(()=>{O&&($==null||$())},[O,$]);const V=(R=k.arrow)==null?void 0:R.x,D=(K=k.arrow)==null?void 0:K.y,X=((te=k.arrow)==null?void 0:te.centerOffset)!==0,[oe,ue]=f.useState();return lt(()=>{p&&ue(window.getComputedStyle(p).zIndex)},[p]),s.jsx("div",{ref:T.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:O?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:oe,"--radix-popper-transform-origin":[(le=k.transformOrigin)==null?void 0:le.x,(me=k.transformOrigin)==null?void 0:me.y].join(" "),...((he=k.hide)==null?void 0:he.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(cT,{scope:r,placedSide:P,onArrowChange:N,arrowX:V,arrowY:D,shouldHideArrow:X,children:s.jsx(ae.div,{"data-side":P,"data-align":F,...y,ref:v,style:{...y.style,animation:O?void 0:"none"}})})})});J0.displayName=zm;var X0="PopperArrow",dT={top:"bottom",right:"left",bottom:"top",left:"right"},Z0=f.forwardRef(function(t,r){const{__scopePopper:n,...o}=t,a=uT(X0,n),i=dT[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(iT,{...o,ref:r,style:{...o.style,display:"block"}})})});Z0.displayName=X0;function hT(e){return e!==null}var fT=e=>({name:"transformOrigin",options:e,fn(t){var w,p,g;const{placement:r,rects:n,middlewareData:o}=t,i=((w=o.arrow)==null?void 0:w.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,h]=eb(r),d={start:"0%",center:"50%",end:"100%"}[h],m=(((p=o.arrow)==null?void 0:p.x)??0)+l/2,x=(((g=o.arrow)==null?void 0:g.y)??0)+c/2;let b="",y="";return u==="bottom"?(b=i?d:`${m}px`,y=`${-c}px`):u==="top"?(b=i?d:`${m}px`,y=`${n.floating.height+c}px`):u==="right"?(b=`${-c}px`,y=i?d:`${x}px`):u==="left"&&(b=`${n.floating.width+c}px`,y=i?d:`${x}px`),{data:{x:b,y}}}});function eb(e){const[t,r="center"]=e.split("-");return[t,r]}var tb=G0,Hm=Q0,Bm=J0,Wm=Z0,[Nu]=It("Tooltip",[ya]),Vm=ya(),rb="TooltipProvider",mT=700,gy="tooltip.open",[pT,nb]=Nu(rb),sb=e=>{const{__scopeTooltip:t,delayDuration:r=mT,skipDelayDuration:n=300,disableHoverableContent:o=!1,children:a}=e,i=f.useRef(!0),l=f.useRef(!1),c=f.useRef(0);return f.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(pT,{scope:t,isOpenDelayedRef:i,delayDuration:r,onOpen:f.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:f.useCallback(u=>{l.current=u},[]),disableHoverableContent:o,children:a})};sb.displayName=rb;var ob="Tooltip",[JL,Su]=Nu(ob),Zh="TooltipTrigger",gT=f.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,o=Su(Zh,r),a=nb(Zh,r),i=Vm(r),l=f.useRef(null),c=ye(t,l,o.onTriggerChange),u=f.useRef(!1),h=f.useRef(!1),d=f.useCallback(()=>u.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),s.jsx(Hm,{asChild:!0,...i,children:s.jsx(ae.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...n,ref:c,onPointerMove:Q(e.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!a.isPointerInTransitRef.current&&(o.onTriggerEnter(),h.current=!0)}),onPointerLeave:Q(e.onPointerLeave,()=>{o.onTriggerLeave(),h.current=!1}),onPointerDown:Q(e.onPointerDown,()=>{o.open&&o.onClose(),u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Q(e.onFocus,()=>{u.current||o.onOpen()}),onBlur:Q(e.onBlur,o.onClose),onClick:Q(e.onClick,o.onClose)})})});gT.displayName=Zh;var yT="TooltipPortal",[XL,vT]=Nu(yT,{forceMount:void 0}),ia="TooltipContent",ab=f.forwardRef((e,t)=>{const r=vT(ia,e.__scopeTooltip),{forceMount:n=r.forceMount,side:o="top",...a}=e,i=Su(ia,e.__scopeTooltip);return s.jsx(gt,{present:n||i.open,children:i.disableHoverableContent?s.jsx(ib,{side:o,...a,ref:t}):s.jsx(xT,{side:o,...a,ref:t})})}),xT=f.forwardRef((e,t)=>{const r=Su(ia,e.__scopeTooltip),n=nb(ia,e.__scopeTooltip),o=f.useRef(null),a=ye(t,o),[i,l]=f.useState(null),{trigger:c,onClose:u}=r,h=o.current,{onPointerInTransitChange:d}=n,m=f.useCallback(()=>{l(null),d(!1)},[d]),x=f.useCallback((b,y)=>{const w=b.currentTarget,p={x:b.clientX,y:b.clientY},g=ST(p,w.getBoundingClientRect()),v=_T(p,g),j=CT(y.getBoundingClientRect()),N=ET([...v,...j]);l(N),d(!0)},[d]);return f.useEffect(()=>()=>m(),[m]),f.useEffect(()=>{if(c&&h){const b=w=>x(w,h),y=w=>x(w,c);return c.addEventListener("pointerleave",b),h.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",b),h.removeEventListener("pointerleave",y)}}},[c,h,x,m]),f.useEffect(()=>{if(i){const b=y=>{const w=y.target,p={x:y.clientX,y:y.clientY},g=(c==null?void 0:c.contains(w))||(h==null?void 0:h.contains(w)),v=!kT(p,i);g?m():v&&(m(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,h,i,u,m]),s.jsx(ib,{...e,ref:a})}),[wT,bT]=Nu(ob,{isInside:!1}),jT=fk("TooltipContent"),ib=f.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":o,onEscapeKeyDown:a,onPointerDownOutside:i,...l}=e,c=Su(ia,r),u=Vm(r),{onClose:h}=c;return f.useEffect(()=>(document.addEventListener(gy,h),()=>document.removeEventListener(gy,h)),[h]),f.useEffect(()=>{if(c.trigger){const d=m=>{const x=m.target;x!=null&&x.contains(c.trigger)&&h()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,h]),s.jsx(fa,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:d=>d.preventDefault(),onDismiss:h,children:s.jsxs(Bm,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(jT,{children:n}),s.jsx(wT,{scope:r,isInside:!0,children:s.jsx(Mk,{id:c.contentId,role:"tooltip",children:o||n})})]})})});ab.displayName=ia;var lb="TooltipArrow",NT=f.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,o=Vm(r);return bT(lb,r).isInside?null:s.jsx(Wm,{...o,...n,ref:t})});NT.displayName=lb;function ST(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,o,a)){case a:return"left";case o:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function _T(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function CT(e){const{top:t,right:r,bottom:n,left:o}=e;return[{x:o,y:t},{x:r,y:t},{x:r,y:n},{x:o,y:n}]}function kT(e,t){const{x:r,y:n}=e;let o=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a],c=t[i],u=l.x,h=l.y,d=c.x,m=c.y;h>n!=m>n&&r<(d-u)*(n-h)/(m-h)+u&&(o=!o)}return o}function ET(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),PT(t)}function PT(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const o=e[n];for(;t.length>=2;){const a=t[t.length-1],i=t[t.length-2];if((a.x-i.x)*(o.y-i.y)>=(a.y-i.y)*(o.x-i.x))t.pop();else break}t.push(o)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const o=e[n];for(;r.length>=2;){const a=r[r.length-1],i=r[r.length-2];if((a.x-i.x)*(o.y-i.y)>=(a.y-i.y)*(o.x-i.x))r.pop();else break}r.push(o)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var TT=sb,cb=ab;const RT=TT,AT=f.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(cb,{ref:n,sideOffset:t,className:ie("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));AT.displayName=cb.displayName;var _u=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},IT={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Un,Af,bv,OT=(bv=class{constructor(){Se(this,Un,IT);Se(this,Af,!1)}setTimeoutProvider(e){pe(this,Un,e)}setTimeout(e,t){return U(this,Un).setTimeout(e,t)}clearTimeout(e){U(this,Un).clearTimeout(e)}setInterval(e,t){return U(this,Un).setInterval(e,t)}clearInterval(e){U(this,Un).clearInterval(e)}},Un=new WeakMap,Af=new WeakMap,bv),ef=new OT;function MT(e){setTimeout(e,0)}var Cu=typeof window>"u"||"Deno"in globalThis;function jr(){}function DT(e,t){return typeof e=="function"?e(t):e}function LT(e){return typeof e=="number"&&e>=0&&e!==1/0}function $T(e,t){return Math.max(e+(t||0)-Date.now(),0)}function tf(e,t){return typeof e=="function"?e(t):e}function FT(e,t){return typeof e=="function"?e(t):e}function yy(e,t){const{type:r="all",exact:n,fetchStatus:o,predicate:a,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==qm(i,t.options))return!1}else if(!Pi(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||o&&o!==t.state.fetchStatus||a&&!a(t))}function vy(e,t){const{exact:r,status:n,predicate:o,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Ei(t.options.mutationKey)!==Ei(a))return!1}else if(!Pi(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||o&&!o(t))}function qm(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ei)(e)}function Ei(e){return JSON.stringify(e,(t,r)=>rf(r)?Object.keys(r).sort().reduce((n,o)=>(n[o]=r[o],n),{}):r)}function Pi(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Pi(e[r],t[r])):!1}var UT=Object.prototype.hasOwnProperty;function ub(e,t){if(e===t)return e;const r=xy(e)&&xy(t);if(!r&&!(rf(e)&&rf(t)))return t;const o=(r?e:Object.keys(e)).length,a=r?t:Object.keys(t),i=a.length,l=r?new Array(i):{};let c=0;for(let u=0;u<i;u++){const h=r?u:a[u],d=e[h],m=t[h];if(d===m){l[h]=d,(r?u<o:UT.call(e,h))&&c++;continue}if(d===null||m===null||typeof d!="object"||typeof m!="object"){l[h]=m;continue}const x=ub(d,m);l[h]=x,x===d&&c++}return o===i&&c===o?e:l}function xy(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function rf(e){if(!wy(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!wy(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function wy(e){return Object.prototype.toString.call(e)==="[object Object]"}function zT(e){return new Promise(t=>{ef.setTimeout(t,e)})}function HT(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?ub(e,t):t}function BT(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function WT(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Km=Symbol();function db(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Km?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Rs,zn,Ho,jv,VT=(jv=class extends _u{constructor(){super();Se(this,Rs);Se(this,zn);Se(this,Ho);pe(this,Ho,t=>{if(!Cu&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){U(this,zn)||this.setEventListener(U(this,Ho))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,zn))==null||t.call(this),pe(this,zn,void 0))}setEventListener(t){var r;pe(this,Ho,t),(r=U(this,zn))==null||r.call(this),pe(this,zn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){U(this,Rs)!==t&&(pe(this,Rs,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof U(this,Rs)=="boolean"?U(this,Rs):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Rs=new WeakMap,zn=new WeakMap,Ho=new WeakMap,jv),hb=new VT;function qT(){let e,t;const r=new Promise((o,a)=>{e=o,t=a});r.status="pending",r.catch(()=>{});function n(o){Object.assign(r,o),delete r.resolve,delete r.reject}return r.resolve=o=>{n({status:"fulfilled",value:o}),e(o)},r.reject=o=>{n({status:"rejected",reason:o}),t(o)},r}var KT=MT;function GT(){let e=[],t=0,r=l=>{l()},n=l=>{l()},o=KT;const a=l=>{t?e.push(l):o(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&o(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{o=l}}}var Et=GT(),Bo,Hn,Wo,Nv,YT=(Nv=class extends _u{constructor(){super();Se(this,Bo,!0);Se(this,Hn);Se(this,Wo);pe(this,Wo,t=>{if(!Cu&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){U(this,Hn)||this.setEventListener(U(this,Wo))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,Hn))==null||t.call(this),pe(this,Hn,void 0))}setEventListener(t){var r;pe(this,Wo,t),(r=U(this,Hn))==null||r.call(this),pe(this,Hn,t(this.setOnline.bind(this)))}setOnline(t){U(this,Bo)!==t&&(pe(this,Bo,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return U(this,Bo)}},Bo=new WeakMap,Hn=new WeakMap,Wo=new WeakMap,Nv),Oc=new YT;function QT(e){return Math.min(1e3*2**e,3e4)}function fb(e){return(e??"online")==="online"?Oc.isOnline():!0}var nf=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function mb(e){let t=!1,r=0,n;const o=qT(),a=()=>o.status!=="pending",i=y=>{var w;if(!a()){const p=new nf(y);m(p),(w=e.onCancel)==null||w.call(e,p)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>hb.isFocused()&&(e.networkMode==="always"||Oc.isOnline())&&e.canRun(),h=()=>fb(e.networkMode)&&e.canRun(),d=y=>{a()||(n==null||n(),o.resolve(y))},m=y=>{a()||(n==null||n(),o.reject(y))},x=()=>new Promise(y=>{var w;n=p=>{(a()||u())&&y(p)},(w=e.onPause)==null||w.call(e)}).then(()=>{var y;n=void 0,a()||(y=e.onContinue)==null||y.call(e)}),b=()=>{if(a())return;let y;const w=r===0?e.initialPromise:void 0;try{y=w??e.fn()}catch(p){y=Promise.reject(p)}Promise.resolve(y).then(d).catch(p=>{var S;if(a())return;const g=e.retry??(Cu?0:3),v=e.retryDelay??QT,j=typeof v=="function"?v(r,p):v,N=g===!0||typeof g=="number"&&r<g||typeof g=="function"&&g(r,p);if(t||!N){m(p);return}r++,(S=e.onFail)==null||S.call(e,r,p),zT(j).then(()=>u()?void 0:x()).then(()=>{t?m(p):b()})})};return{promise:o,status:()=>o.status,cancel:i,continue:()=>(n==null||n(),o),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?b():x().then(b),o)}}var As,Sv,pb=(Sv=class{constructor(){Se(this,As)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),LT(this.gcTime)&&pe(this,As,ef.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Cu?1/0:5*60*1e3))}clearGcTimeout(){U(this,As)&&(ef.clearTimeout(U(this,As)),pe(this,As,void 0))}},As=new WeakMap,Sv),Is,Vo,nr,Os,nt,Li,Ms,Nr,sn,_v,JT=(_v=class extends pb{constructor(t){super();Se(this,Nr);Se(this,Is);Se(this,Vo);Se(this,nr);Se(this,Os);Se(this,nt);Se(this,Li);Se(this,Ms);pe(this,Ms,!1),pe(this,Li,t.defaultOptions),this.setOptions(t.options),this.observers=[],pe(this,Os,t.client),pe(this,nr,U(this,Os).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,pe(this,Is,by(this.options)),this.state=t.state??U(this,Is),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=U(this,nt))==null?void 0:t.promise}setOptions(t){if(this.options={...U(this,Li),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=by(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),pe(this,Is,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,nr).remove(this)}setData(t,r){const n=HT(this.state.data,t,this.options);return vt(this,Nr,sn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){vt(this,Nr,sn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,o;const r=(n=U(this,nt))==null?void 0:n.promise;return(o=U(this,nt))==null||o.cancel(t),r?r.then(jr).catch(jr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,Is))}isActive(){return this.observers.some(t=>FT(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Km||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>tf(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!$T(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=U(this,nt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=U(this,nt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),U(this,nr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(U(this,nt)&&(U(this,Ms)?U(this,nt).cancel({revert:!0}):U(this,nt).cancelRetry()),this.scheduleGc()),U(this,nr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||vt(this,Nr,sn).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,h,d,m,x,b,y,w,p,g,v;if(this.state.fetchStatus!=="idle"&&((c=U(this,nt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,nt))return U(this,nt).continueRetry(),U(this,nt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(N=>N.options.queryFn);j&&this.setOptions(j.options)}const n=new AbortController,o=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(pe(this,Ms,!0),n.signal)})},a=()=>{const j=db(this.options,r),S=(()=>{const _={client:U(this,Os),queryKey:this.queryKey,meta:this.meta};return o(_),_})();return pe(this,Ms,!1),this.options.persister?this.options.persister(j,S,this):j(S)},l=(()=>{const j={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:U(this,Os),state:this.state,fetchFn:a};return o(j),j})();(u=this.options.behavior)==null||u.onFetch(l,this),pe(this,Vo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&vt(this,Nr,sn).call(this,{type:"fetch",meta:(d=l.fetchOptions)==null?void 0:d.meta}),pe(this,nt,mb({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:j=>{j instanceof nf&&j.revert&&this.setState({...U(this,Vo),fetchStatus:"idle"}),n.abort()},onFail:(j,N)=>{vt(this,Nr,sn).call(this,{type:"failed",failureCount:j,error:N})},onPause:()=>{vt(this,Nr,sn).call(this,{type:"pause"})},onContinue:()=>{vt(this,Nr,sn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await U(this,nt).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(x=(m=U(this,nr).config).onSuccess)==null||x.call(m,j,this),(y=(b=U(this,nr).config).onSettled)==null||y.call(b,j,this.state.error,this),j}catch(j){if(j instanceof nf){if(j.silent)return U(this,nt).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw vt(this,Nr,sn).call(this,{type:"error",error:j}),(p=(w=U(this,nr).config).onError)==null||p.call(w,j,this),(v=(g=U(this,nr).config).onSettled)==null||v.call(g,this.state.data,j,this),j}finally{this.scheduleGc()}}},Is=new WeakMap,Vo=new WeakMap,nr=new WeakMap,Os=new WeakMap,nt=new WeakMap,Li=new WeakMap,Ms=new WeakMap,Nr=new WeakSet,sn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...XT(n.data,this.options),fetchMeta:t.meta??null};case"success":const o={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return pe(this,Vo,t.manual?o:void 0),o;case"error":const a=t.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Et.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),U(this,nr).notify({query:this,type:"updated",action:t})})},_v);function XT(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:fb(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function by(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function jy(e){return{onFetch:(t,r)=>{var h,d,m,x,b;const n=t.options,o=(m=(d=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:d.fetchMore)==null?void 0:m.direction,a=((x=t.state.data)==null?void 0:x.pages)||[],i=((b=t.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let y=!1;const w=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},p=db(t.options,t.fetchOptions),g=async(v,j,N)=>{if(y)return Promise.reject();if(j==null&&v.pages.length)return Promise.resolve(v);const _=(()=>{const z={client:t.client,queryKey:t.queryKey,pageParam:j,direction:N?"backward":"forward",meta:t.options.meta};return w(z),z})(),C=await p(_),{maxPages:A}=t.options,E=N?WT:BT;return{pages:E(v.pages,C,A),pageParams:E(v.pageParams,j,A)}};if(o&&a.length){const v=o==="backward",j=v?ZT:Ny,N={pages:a,pageParams:i},S=j(n,N);l=await g(N,S,v)}else{const v=e??a.length;do{const j=c===0?i[0]??n.initialPageParam:Ny(n,l);if(c>0&&j==null)break;l=await g(l,j),c++}while(c<v)}return l};t.options.persister?t.fetchFn=()=>{var y,w;return(w=(y=t.options).persister)==null?void 0:w.call(y,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Ny(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function ZT(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var $i,Ur,_t,Ds,zr,An,Cv,eR=(Cv=class extends pb{constructor(t){super();Se(this,zr);Se(this,$i);Se(this,Ur);Se(this,_t);Se(this,Ds);pe(this,$i,t.client),this.mutationId=t.mutationId,pe(this,_t,t.mutationCache),pe(this,Ur,[]),this.state=t.state||tR(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){U(this,Ur).includes(t)||(U(this,Ur).push(t),this.clearGcTimeout(),U(this,_t).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){pe(this,Ur,U(this,Ur).filter(r=>r!==t)),this.scheduleGc(),U(this,_t).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){U(this,Ur).length||(this.state.status==="pending"?this.scheduleGc():U(this,_t).remove(this))}continue(){var t;return((t=U(this,Ds))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,l,c,u,h,d,m,x,b,y,w,p,g,v,j,N,S,_,C,A;const r=()=>{vt(this,zr,An).call(this,{type:"continue"})},n={client:U(this,$i),meta:this.options.meta,mutationKey:this.options.mutationKey};pe(this,Ds,mb({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(E,z)=>{vt(this,zr,An).call(this,{type:"failed",failureCount:E,error:z})},onPause:()=>{vt(this,zr,An).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,_t).canRun(this)}));const o=this.state.status==="pending",a=!U(this,Ds).canStart();try{if(o)r();else{vt(this,zr,An).call(this,{type:"pending",variables:t,isPaused:a}),await((l=(i=U(this,_t).config).onMutate)==null?void 0:l.call(i,t,this,n));const z=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));z!==this.state.context&&vt(this,zr,An).call(this,{type:"pending",context:z,variables:t,isPaused:a})}const E=await U(this,Ds).start();return await((d=(h=U(this,_t).config).onSuccess)==null?void 0:d.call(h,E,t,this.state.context,this,n)),await((x=(m=this.options).onSuccess)==null?void 0:x.call(m,E,t,this.state.context,n)),await((y=(b=U(this,_t).config).onSettled)==null?void 0:y.call(b,E,null,this.state.variables,this.state.context,this,n)),await((p=(w=this.options).onSettled)==null?void 0:p.call(w,E,null,t,this.state.context,n)),vt(this,zr,An).call(this,{type:"success",data:E}),E}catch(E){try{throw await((v=(g=U(this,_t).config).onError)==null?void 0:v.call(g,E,t,this.state.context,this,n)),await((N=(j=this.options).onError)==null?void 0:N.call(j,E,t,this.state.context,n)),await((_=(S=U(this,_t).config).onSettled)==null?void 0:_.call(S,void 0,E,this.state.variables,this.state.context,this,n)),await((A=(C=this.options).onSettled)==null?void 0:A.call(C,void 0,E,t,this.state.context,n)),E}finally{vt(this,zr,An).call(this,{type:"error",error:E})}}finally{U(this,_t).runNext(this)}}},$i=new WeakMap,Ur=new WeakMap,_t=new WeakMap,Ds=new WeakMap,zr=new WeakSet,An=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Et.batch(()=>{U(this,Ur).forEach(n=>{n.onMutationUpdate(t)}),U(this,_t).notify({mutation:this,type:"updated",action:t})})},Cv);function tR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var cn,Sr,Fi,kv,rR=(kv=class extends _u{constructor(t={}){super();Se(this,cn);Se(this,Sr);Se(this,Fi);this.config=t,pe(this,cn,new Set),pe(this,Sr,new Map),pe(this,Fi,0)}build(t,r,n){const o=new eR({client:t,mutationCache:this,mutationId:++ll(this,Fi)._,options:t.defaultMutationOptions(r),state:n});return this.add(o),o}add(t){U(this,cn).add(t);const r=Tl(t);if(typeof r=="string"){const n=U(this,Sr).get(r);n?n.push(t):U(this,Sr).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(U(this,cn).delete(t)){const r=Tl(t);if(typeof r=="string"){const n=U(this,Sr).get(r);if(n)if(n.length>1){const o=n.indexOf(t);o!==-1&&n.splice(o,1)}else n[0]===t&&U(this,Sr).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Tl(t);if(typeof r=="string"){const n=U(this,Sr).get(r),o=n==null?void 0:n.find(a=>a.state.status==="pending");return!o||o===t}else return!0}runNext(t){var n;const r=Tl(t);if(typeof r=="string"){const o=(n=U(this,Sr).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Et.batch(()=>{U(this,cn).forEach(t=>{this.notify({type:"removed",mutation:t})}),U(this,cn).clear(),U(this,Sr).clear()})}getAll(){return Array.from(U(this,cn))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>vy(r,n))}findAll(t={}){return this.getAll().filter(r=>vy(t,r))}notify(t){Et.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Et.batch(()=>Promise.all(t.map(r=>r.continue().catch(jr))))}},cn=new WeakMap,Sr=new WeakMap,Fi=new WeakMap,kv);function Tl(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Hr,Ev,nR=(Ev=class extends _u{constructor(t={}){super();Se(this,Hr);this.config=t,pe(this,Hr,new Map)}build(t,r,n){const o=r.queryKey,a=r.queryHash??qm(o,r);let i=this.get(a);return i||(i=new JT({client:t,queryKey:o,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(o)}),this.add(i)),i}add(t){U(this,Hr).has(t.queryHash)||(U(this,Hr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=U(this,Hr).get(t.queryHash);r&&(t.destroy(),r===t&&U(this,Hr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Et.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return U(this,Hr).get(t)}getAll(){return[...U(this,Hr).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>yy(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>yy(t,n)):r}notify(t){Et.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Et.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Et.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Hr=new WeakMap,Ev),Be,Bn,Wn,qo,Ko,Vn,Go,Yo,Pv,sR=(Pv=class{constructor(e={}){Se(this,Be);Se(this,Bn);Se(this,Wn);Se(this,qo);Se(this,Ko);Se(this,Vn);Se(this,Go);Se(this,Yo);pe(this,Be,e.queryCache||new nR),pe(this,Bn,e.mutationCache||new rR),pe(this,Wn,e.defaultOptions||{}),pe(this,qo,new Map),pe(this,Ko,new Map),pe(this,Vn,0)}mount(){ll(this,Vn)._++,U(this,Vn)===1&&(pe(this,Go,hb.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,Be).onFocus())})),pe(this,Yo,Oc.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,Be).onOnline())})))}unmount(){var e,t;ll(this,Vn)._--,U(this,Vn)===0&&((e=U(this,Go))==null||e.call(this),pe(this,Go,void 0),(t=U(this,Yo))==null||t.call(this),pe(this,Yo,void 0))}isFetching(e){return U(this,Be).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return U(this,Bn).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=U(this,Be).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=U(this,Be).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(tf(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return U(this,Be).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),o=U(this,Be).get(n.queryHash),a=o==null?void 0:o.state.data,i=DT(t,a);if(i!==void 0)return U(this,Be).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return Et.batch(()=>U(this,Be).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=U(this,Be).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=U(this,Be);Et.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=U(this,Be);return Et.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Et.batch(()=>U(this,Be).findAll(e).map(o=>o.cancel(r)));return Promise.all(n).then(jr).catch(jr)}invalidateQueries(e,t={}){return Et.batch(()=>(U(this,Be).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Et.batch(()=>U(this,Be).findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let a=o.fetch(void 0,r);return r.throwOnError||(a=a.catch(jr)),o.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(jr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=U(this,Be).build(this,t);return r.isStaleByTime(tf(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(jr).catch(jr)}fetchInfiniteQuery(e){return e.behavior=jy(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(jr).catch(jr)}ensureInfiniteQueryData(e){return e.behavior=jy(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Oc.isOnline()?U(this,Bn).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,Be)}getMutationCache(){return U(this,Bn)}getDefaultOptions(){return U(this,Wn)}setDefaultOptions(e){pe(this,Wn,e)}setQueryDefaults(e,t){U(this,qo).set(Ei(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...U(this,qo).values()],r={};return t.forEach(n=>{Pi(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){U(this,Ko).set(Ei(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...U(this,Ko).values()],r={};return t.forEach(n=>{Pi(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...U(this,Wn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=qm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Km&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...U(this,Wn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){U(this,Be).clear(),U(this,Bn).clear()}},Be=new WeakMap,Bn=new WeakMap,Wn=new WeakMap,qo=new WeakMap,Ko=new WeakMap,Vn=new WeakMap,Go=new WeakMap,Yo=new WeakMap,Pv),oR=f.createContext(void 0),aR=({client:e,children:t})=>(f.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(oR.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ti(){return Ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ti.apply(this,arguments)}var Gn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Gn||(Gn={}));const Sy="popstate";function iR(e){e===void 0&&(e={});function t(n,o){let{pathname:a,search:i,hash:l}=n.location;return sf("",{pathname:a,search:i,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(n,o){return typeof o=="string"?o:Mc(o)}return cR(t,r,null,e)}function Ke(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function gb(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function lR(){return Math.random().toString(36).substr(2,8)}function _y(e,t){return{usr:e.state,key:e.key,idx:t}}function sf(e,t,r,n){return r===void 0&&(r=null),Ti({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?va(t):t,{state:r,key:t&&t.key||n||lR()})}function Mc(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function va(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function cR(e,t,r,n){n===void 0&&(n={});let{window:o=document.defaultView,v5Compat:a=!1}=n,i=o.history,l=Gn.Pop,c=null,u=h();u==null&&(u=0,i.replaceState(Ti({},i.state,{idx:u}),""));function h(){return(i.state||{idx:null}).idx}function d(){l=Gn.Pop;let w=h(),p=w==null?null:w-u;u=w,c&&c({action:l,location:y.location,delta:p})}function m(w,p){l=Gn.Push;let g=sf(y.location,w,p);u=h()+1;let v=_y(g,u),j=y.createHref(g);try{i.pushState(v,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;o.location.assign(j)}a&&c&&c({action:l,location:y.location,delta:1})}function x(w,p){l=Gn.Replace;let g=sf(y.location,w,p);u=h();let v=_y(g,u),j=y.createHref(g);i.replaceState(v,"",j),a&&c&&c({action:l,location:y.location,delta:0})}function b(w){let p=o.location.origin!=="null"?o.location.origin:o.location.href,g=typeof w=="string"?w:Mc(w);return g=g.replace(/ $/,"%20"),Ke(p,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,p)}let y={get action(){return l},get location(){return e(o,i)},listen(w){if(c)throw new Error("A history only accepts one active listener");return o.addEventListener(Sy,d),c=w,()=>{o.removeEventListener(Sy,d),c=null}},createHref(w){return t(o,w)},createURL:b,encodeLocation(w){let p=b(w);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:m,replace:x,go(w){return i.go(w)}};return y}var Cy;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Cy||(Cy={}));function uR(e,t,r){return r===void 0&&(r="/"),dR(e,t,r)}function dR(e,t,r,n){let o=typeof t=="string"?va(t):t,a=Gm(o.pathname||"/",r);if(a==null)return null;let i=yb(e);hR(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=SR(a);l=bR(i[c],u)}return l}function yb(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let o=(a,i,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(Ke(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=ns([n,c.relativePath]),h=r.concat(c);a.children&&a.children.length>0&&(Ke(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),yb(a.children,t,h,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:xR(u,a.index),routesMeta:h})};return e.forEach((a,i)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))o(a,i);else for(let c of vb(a.path))o(a,i,c)}),t}function vb(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,o=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return o?[a,""]:[a];let i=vb(n.join("/")),l=[];return l.push(...i.map(c=>c===""?a:[a,c].join("/"))),o&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function hR(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:wR(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const fR=/^:[\w-]+$/,mR=3,pR=2,gR=1,yR=10,vR=-2,ky=e=>e==="*";function xR(e,t){let r=e.split("/"),n=r.length;return r.some(ky)&&(n+=vR),t&&(n+=pR),r.filter(o=>!ky(o)).reduce((o,a)=>o+(fR.test(a)?mR:a===""?gR:yR),n)}function wR(e,t){return e.length===t.length&&e.slice(0,-1).every((n,o)=>n===t[o])?e[e.length-1]-t[t.length-1]:0}function bR(e,t,r){let{routesMeta:n}=e,o={},a="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,h=a==="/"?t:t.slice(a.length)||"/",d=jR({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),m=c.route;if(!d)return null;Object.assign(o,d.params),i.push({params:o,pathname:ns([a,d.pathname]),pathnameBase:ER(ns([a,d.pathnameBase])),route:m}),d.pathnameBase!=="/"&&(a=ns([a,d.pathnameBase]))}return i}function jR(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=NR(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let a=o[0],i=a.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:n.reduce((u,h,d)=>{let{paramName:m,isOptional:x}=h;if(m==="*"){let y=l[d]||"";i=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const b=l[d];return x&&!b?u[m]=void 0:u[m]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function NR(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),gb(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),n]}function SR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gb(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Gm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function _R(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:o=""}=typeof e=="string"?va(e):e;return{pathname:r?r.startsWith("/")?r:CR(r,t):t,search:PR(n),hash:TR(o)}}function CR(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Id(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kR(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ym(e,t){let r=kR(e);return t?r.map((n,o)=>o===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Qm(e,t,r,n){n===void 0&&(n=!1);let o;typeof e=="string"?o=va(e):(o=Ti({},e),Ke(!o.pathname||!o.pathname.includes("?"),Id("?","pathname","search",o)),Ke(!o.pathname||!o.pathname.includes("#"),Id("#","pathname","hash",o)),Ke(!o.search||!o.search.includes("#"),Id("#","search","hash",o)));let a=e===""||o.pathname==="",i=a?"/":o.pathname,l;if(i==null)l=r;else{let d=t.length-1;if(!n&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),d-=1;o.pathname=m.join("/")}l=d>=0?t[d]:"/"}let c=_R(o,l),u=i&&i!=="/"&&i.endsWith("/"),h=(a||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const ns=e=>e.join("/").replace(/\/\/+/g,"/"),ER=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),PR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,TR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function RR(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const xb=["post","put","patch","delete"];new Set(xb);const AR=["get",...xb];new Set(AR);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ri(){return Ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ri.apply(this,arguments)}const Jm=f.createContext(null),IR=f.createContext(null),hs=f.createContext(null),ku=f.createContext(null),fs=f.createContext({outlet:null,matches:[],isDataRoute:!1}),wb=f.createContext(null);function OR(e,t){let{relative:r}=t===void 0?{}:t;xa()||Ke(!1);let{basename:n,navigator:o}=f.useContext(hs),{hash:a,pathname:i,search:l}=jb(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:ns([n,i])),o.createHref({pathname:c,search:l,hash:a})}function xa(){return f.useContext(ku)!=null}function tr(){return xa()||Ke(!1),f.useContext(ku).location}function bb(e){f.useContext(hs).static||f.useLayoutEffect(e)}function tt(){let{isDataRoute:e}=f.useContext(fs);return e?KR():MR()}function MR(){xa()||Ke(!1);let e=f.useContext(Jm),{basename:t,future:r,navigator:n}=f.useContext(hs),{matches:o}=f.useContext(fs),{pathname:a}=tr(),i=JSON.stringify(Ym(o,r.v7_relativeSplatPath)),l=f.useRef(!1);return bb(()=>{l.current=!0}),f.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let d=Qm(u,JSON.parse(i),a,h.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:ns([t,d.pathname])),(h.replace?n.replace:n.push)(d,h.state,h)},[t,n,i,a,e])}function jb(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=f.useContext(hs),{matches:o}=f.useContext(fs),{pathname:a}=tr(),i=JSON.stringify(Ym(o,n.v7_relativeSplatPath));return f.useMemo(()=>Qm(e,JSON.parse(i),a,r==="path"),[e,i,a,r])}function DR(e,t){return LR(e,t)}function LR(e,t,r,n){xa()||Ke(!1);let{navigator:o}=f.useContext(hs),{matches:a}=f.useContext(fs),i=a[a.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=tr(),h;if(t){var d;let w=typeof t=="string"?va(t):t;c==="/"||(d=w.pathname)!=null&&d.startsWith(c)||Ke(!1),h=w}else h=u;let m=h.pathname||"/",x=m;if(c!=="/"){let w=c.replace(/^\//,"").split("/");x="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let b=uR(e,{pathname:x}),y=HR(b&&b.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:ns([c,o.encodeLocation?o.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:ns([c,o.encodeLocation?o.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,r,n);return t&&y?f.createElement(ku.Provider,{value:{location:Ri({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Gn.Pop}},y):y}function $R(){let e=qR(),t=RR(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),r?f.createElement("pre",{style:o},r):null,null)}const FR=f.createElement($R,null);class UR extends f.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?f.createElement(fs.Provider,{value:this.props.routeContext},f.createElement(wb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zR(e){let{routeContext:t,match:r,children:n}=e,o=f.useContext(Jm);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),f.createElement(fs.Provider,{value:t},n)}function HR(e,t,r,n){var o;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(o=r)==null?void 0:o.errors;if(l!=null){let h=i.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);h>=0||Ke(!1),i=i.slice(0,Math.min(i.length,h+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<i.length;h++){let d=i[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:m,errors:x}=r,b=d.route.loader&&m[d.route.id]===void 0&&(!x||x[d.route.id]===void 0);if(d.route.lazy||b){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((h,d,m)=>{let x,b=!1,y=null,w=null;r&&(x=l&&d.route.id?l[d.route.id]:void 0,y=d.route.errorElement||FR,c&&(u<0&&m===0?(GR("route-fallback"),b=!0,w=null):u===m&&(b=!0,w=d.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,m+1)),g=()=>{let v;return x?v=y:b?v=w:d.route.Component?v=f.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=h,f.createElement(zR,{match:d,routeContext:{outlet:h,matches:p,isDataRoute:r!=null},children:v})};return r&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?f.createElement(UR,{location:r.location,revalidation:r.revalidation,component:y,error:x,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var Nb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Nb||{}),Sb=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Sb||{});function BR(e){let t=f.useContext(Jm);return t||Ke(!1),t}function WR(e){let t=f.useContext(IR);return t||Ke(!1),t}function VR(e){let t=f.useContext(fs);return t||Ke(!1),t}function _b(e){let t=VR(),r=t.matches[t.matches.length-1];return r.route.id||Ke(!1),r.route.id}function qR(){var e;let t=f.useContext(wb),r=WR(),n=_b();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function KR(){let{router:e}=BR(Nb.UseNavigateStable),t=_b(Sb.UseNavigateStable),r=f.useRef(!1);return bb(()=>{r.current=!0}),f.useCallback(function(o,a){a===void 0&&(a={}),r.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,Ri({fromRouteId:t},a)))},[e,t])}const Ey={};function GR(e,t,r){Ey[e]||(Ey[e]=!0)}function YR(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Cb(e){let{to:t,replace:r,state:n,relative:o}=e;xa()||Ke(!1);let{future:a,static:i}=f.useContext(hs),{matches:l}=f.useContext(fs),{pathname:c}=tr(),u=tt(),h=Qm(t,Ym(l,a.v7_relativeSplatPath),c,o==="path"),d=JSON.stringify(h);return f.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:o}),[u,d,o,r,n]),null}function St(e){Ke(!1)}function QR(e){let{basename:t="/",children:r=null,location:n,navigationType:o=Gn.Pop,navigator:a,static:i=!1,future:l}=e;xa()&&Ke(!1);let c=t.replace(/^\/*/,"/"),u=f.useMemo(()=>({basename:c,navigator:a,static:i,future:Ri({v7_relativeSplatPath:!1},l)}),[c,l,a,i]);typeof n=="string"&&(n=va(n));let{pathname:h="/",search:d="",hash:m="",state:x=null,key:b="default"}=n,y=f.useMemo(()=>{let w=Gm(h,c);return w==null?null:{location:{pathname:w,search:d,hash:m,state:x,key:b},navigationType:o}},[c,h,d,m,x,b,o]);return y==null?null:f.createElement(hs.Provider,{value:u},f.createElement(ku.Provider,{children:r,value:y}))}function JR(e){let{children:t,location:r}=e;return DR(of(t),r)}new Promise(()=>{});function of(e,t){t===void 0&&(t=[]);let r=[];return f.Children.forEach(e,(n,o)=>{if(!f.isValidElement(n))return;let a=[...t,o];if(n.type===f.Fragment){r.push.apply(r,of(n.props.children,a));return}n.type!==St&&Ke(!1),!n.props.index||!n.props.children||Ke(!1);let i={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=of(n.props.children,a)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function af(){return af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},af.apply(this,arguments)}function XR(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,a;for(a=0;a<n.length;a++)o=n[a],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function ZR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function eA(e,t){return e.button===0&&(!t||t==="_self")&&!ZR(e)}function lf(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(o=>[r,o]):[[r,n]])},[]))}function tA(e,t){let r=lf(e);return t&&t.forEach((n,o)=>{r.has(o)||t.getAll(o).forEach(a=>{r.append(o,a)})}),r}const rA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],nA="6";try{window.__reactRouterVersion=nA}catch{}const sA="startTransition",Py=Lf[sA];function oA(e){let{basename:t,children:r,future:n,window:o}=e,a=f.useRef();a.current==null&&(a.current=iR({window:o,v5Compat:!0}));let i=a.current,[l,c]=f.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},h=f.useCallback(d=>{u&&Py?Py(()=>c(d)):c(d)},[c,u]);return f.useLayoutEffect(()=>i.listen(h),[i,h]),f.useEffect(()=>YR(n),[n]),f.createElement(QR,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const aA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dc=f.forwardRef(function(t,r){let{onClick:n,relative:o,reloadDocument:a,replace:i,state:l,target:c,to:u,preventScrollReset:h,viewTransition:d}=t,m=XR(t,rA),{basename:x}=f.useContext(hs),b,y=!1;if(typeof u=="string"&&iA.test(u)&&(b=u,aA))try{let v=new URL(window.location.href),j=u.startsWith("//")?new URL(v.protocol+u):new URL(u),N=Gm(j.pathname,x);j.origin===v.origin&&N!=null?u=N+j.search+j.hash:y=!0}catch{}let w=OR(u,{relative:o}),p=lA(u,{replace:i,state:l,target:c,preventScrollReset:h,relative:o,viewTransition:d});function g(v){n&&n(v),v.defaultPrevented||p(v)}return f.createElement("a",af({},m,{href:b||w,onClick:y||a?n:g,ref:r,target:c}))});var Ty;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ty||(Ty={}));var Ry;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ry||(Ry={}));function lA(e,t){let{target:r,replace:n,state:o,preventScrollReset:a,relative:i,viewTransition:l}=t===void 0?{}:t,c=tt(),u=tr(),h=jb(e,{relative:i});return f.useCallback(d=>{if(eA(d,r)){d.preventDefault();let m=n!==void 0?n:Mc(u)===Mc(h);c(e,{replace:m,state:o,preventScrollReset:a,relative:i,viewTransition:l})}},[u,c,h,n,o,r,e,a,i,l])}function Eu(e){let t=f.useRef(lf(e)),r=f.useRef(!1),n=tr(),o=f.useMemo(()=>tA(n.search,r.current?null:t.current),[n.search]),a=tt(),i=f.useCallback((l,c)=>{const u=lf(typeof l=="function"?l(o):l);r.current=!0,a("?"+u,c)},[a,o]);return[o,i]}const cA="modulepreload",uA=function(e){return"/"+e},Ay={},Gs=function(t,r,n){let o=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));o=Promise.allSettled(r.map(c=>{if(c=uA(c),c in Ay)return;Ay[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":cA,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((m,x)=>{d.addEventListener("load",m),d.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return o.then(i=>{for(const l of i||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},dA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Gs(async()=>{const{default:n}=await Promise.resolve().then(()=>wa);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Xm extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Iy extends Xm{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Oy extends Xm{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class My extends Xm{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var cf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(cf||(cf={}));var hA=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(h){try{u(n.next(h))}catch(d){i(d)}}function c(h){try{u(n.throw(h))}catch(d){i(d)}}function u(h){h.done?a(h.value):o(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class fA{constructor(t,{headers:r={},customFetch:n,region:o=cf.Any}={}){this.url=t,this.headers=r,this.region=o,this.fetch=dA(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return hA(this,arguments,void 0,function*(r,n={}){var o;try{const{headers:a,method:i,body:l,signal:c}=n;let u={},{region:h}=n;h||(h=this.region);const d=new URL(`${this.url}/${r}`);h&&h!=="any"&&(u["x-region"]=h,d.searchParams.set("forceFunctionRegion",h));let m;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(u["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(u["Content-Type"]="application/json",m=JSON.stringify(l)));const x=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),a),body:m,signal:c}).catch(p=>{throw p.name==="AbortError"?p:new Iy(p)}),b=x.headers.get("x-relay-error");if(b&&b==="true")throw new Oy(x);if(!x.ok)throw new My(x);let y=((o=x.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),w;return y==="application/json"?w=yield x.json():y==="application/octet-stream"?w=yield x.blob():y==="text/event-stream"?w=x:y==="multipart/form-data"?w=yield x.formData():w=yield x.text(),{data:w,error:null,response:x}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new Iy(a)}:{data:null,error:a,response:a instanceof My||a instanceof Oy?a.context:void 0}}})}}var Ft={},Zm={},Pu={},Yi={},Tu={},Ru={},mA=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},la=mA();const pA=la.fetch,kb=la.fetch.bind(la),Eb=la.Headers,gA=la.Request,yA=la.Response,wa=Object.freeze(Object.defineProperty({__proto__:null,Headers:Eb,Request:gA,Response:yA,default:kb,fetch:pA},Symbol.toStringTag,{value:"Module"})),vA=AS(wa);var Au={};Object.defineProperty(Au,"__esModule",{value:!0});let xA=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Au.default=xA;var Pb=dr&&dr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ru,"__esModule",{value:!0});const wA=Pb(vA),bA=Pb(Au);let jA=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=wA.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let o=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var i,l,c,u;let h=null,d=null,m=null,x=a.status,b=a.statusText;if(a.ok){if(this.method!=="HEAD"){const g=await a.text();g===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((i=this.headers.get("Accept"))===null||i===void 0)&&i.includes("application/vnd.pgrst.plan+text"))?d=g:d=JSON.parse(g))}const w=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),p=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");w&&p&&p.length>1&&(m=parseInt(p[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(h={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,m=null,x=406,b="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await a.text();try{h=JSON.parse(w),Array.isArray(h)&&a.status===404&&(d=[],h=null,x=200,b="OK")}catch{a.status===404&&w===""?(x=204,b="No Content"):h={message:w}}if(h&&this.isMaybeSingle&&(!((u=h==null?void 0:h.details)===null||u===void 0)&&u.includes("0 rows"))&&(h=null,x=200,b="OK"),h&&this.shouldThrowOnError)throw new bA.default(h)}return{error:h,data:d,count:m,status:x,statusText:b}});return this.shouldThrowOnError||(o=o.catch(a=>{var i,l,c;return{error:{message:`${(i=a==null?void 0:a.name)!==null&&i!==void 0?i:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),o.then(t,r)}returns(){return this}overrideTypes(){return this}};Ru.default=jA;var NA=dr&&dr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tu,"__esModule",{value:!0});const SA=NA(Ru);let _A=class extends SA.default{select(t){let r=!1;const n=(t??"*").split("").map(o=>/\s/.test(o)&&!r?"":(o==='"'&&(r=!r),o)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:o,referencedTable:a=o}={}){const i=a?`${a}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(o,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:o=n}={}){const a=typeof o>"u"?"offset":`${o}.offset`,i=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(i,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:o=!1,wal:a=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,o?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Tu.default=_A;var CA=dr&&dr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yi,"__esModule",{value:!0});const kA=CA(Tu);let EA=class extends kA.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:o}={}){let a="";o==="plain"?a="pl":o==="phrase"?a="ph":o==="websearch"&&(a="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${i}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const o=n?`${n}.or`:"or";return this.url.searchParams.append(o,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Yi.default=EA;var PA=dr&&dr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pu,"__esModule",{value:!0});const $a=PA(Yi);let TA=class{constructor(t,{headers:r={},schema:n,fetch:o}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=o}select(t,r){const{head:n=!1,count:o}=r??{},a=n?"HEAD":"GET";let i=!1;const l=(t??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join("");return this.url.searchParams.set("select",l),o&&this.headers.append("Prefer",`count=${o}`),new $a.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var o;const a="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new $a.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:o,defaultToNull:a=!0}={}){var i;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),o&&this.headers.append("Prefer",`count=${o}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new $a.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:r}={}){var n;const o="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new $a.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new $a.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Pu.default=TA;var Tb=dr&&dr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zm,"__esModule",{value:!0});const RA=Tb(Pu),AA=Tb(Yi);let IA=class Rb{constructor(t,{headers:r={},schema:n,fetch:o}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=o}from(t){const r=new URL(`${this.url}/${t}`);return new RA.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Rb(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:o=!1,count:a}={}){var i;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||o?(l=n?"HEAD":"GET",Object.entries(r).filter(([d,m])=>m!==void 0).map(([d,m])=>[d,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([d,m])=>{c.searchParams.append(d,m)})):(l="POST",u=r);const h=new Headers(this.headers);return a&&h.set("Prefer",`count=${a}`),new AA.default({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};Zm.default=IA;var ba=dr&&dr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.PostgrestError=Ft.PostgrestBuilder=Ft.PostgrestTransformBuilder=Ft.PostgrestFilterBuilder=Ft.PostgrestQueryBuilder=Ft.PostgrestClient=void 0;const Ab=ba(Zm);Ft.PostgrestClient=Ab.default;const Ib=ba(Pu);Ft.PostgrestQueryBuilder=Ib.default;const Ob=ba(Yi);Ft.PostgrestFilterBuilder=Ob.default;const Mb=ba(Tu);Ft.PostgrestTransformBuilder=Mb.default;const Db=ba(Ru);Ft.PostgrestBuilder=Db.default;const Lb=ba(Au);Ft.PostgrestError=Lb.default;var OA=Ft.default={PostgrestClient:Ab.default,PostgrestQueryBuilder:Ib.default,PostgrestFilterBuilder:Ob.default,PostgrestTransformBuilder:Mb.default,PostgrestBuilder:Db.default,PostgrestError:Lb.default};const{PostgrestClient:MA,PostgrestQueryBuilder:s3,PostgrestFilterBuilder:o3,PostgrestTransformBuilder:a3,PostgrestBuilder:i3,PostgrestError:l3}=OA;class DA{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,o=parseInt(n.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const LA="2.75.1",$A=`realtime-js/${LA}`,FA="1.0.0",uf=1e4,UA=1e3,zA=100;var oi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(oi||(oi={}));var Xe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Xe||(Xe={}));var Cr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Cr||(Cr={}));var df;(function(e){e.websocket="websocket"})(df||(df={}));var _s;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(_s||(_s={}));class HA{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const o=r.getUint8(1),a=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(t.slice(i,i+o));i=i+o;const c=n.decode(t.slice(i,i+a));i=i+a;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class $b{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ee;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ee||(Ee={}));const Dy=(e,t,r={})=>{var n;const o=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,i)=>(a[i]=BA(i,e,t,o),a),{}):{}},BA=(e,t,r,n)=>{const o=t.find(l=>l.name===e),a=o==null?void 0:o.type,i=r[e];return a&&!n.includes(a)?Fb(a,i):hf(i)},Fb=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return KA(t,r)}switch(e){case Ee.bool:return WA(t);case Ee.float4:case Ee.float8:case Ee.int2:case Ee.int4:case Ee.int8:case Ee.numeric:case Ee.oid:return VA(t);case Ee.json:case Ee.jsonb:return qA(t);case Ee.timestamp:return GA(t);case Ee.abstime:case Ee.date:case Ee.daterange:case Ee.int4range:case Ee.int8range:case Ee.money:case Ee.reltime:case Ee.text:case Ee.time:case Ee.timestamptz:case Ee.timetz:case Ee.tsrange:case Ee.tstzrange:return hf(t);default:return hf(t)}},hf=e=>e,WA=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},VA=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},qA=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},KA=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const i=e.slice(1,r);try{a=JSON.parse("["+i+"]")}catch{a=i?i.split(","):[]}return a.map(l=>Fb(t,l))}return e},GA=e=>typeof e=="string"?e.replace(" ","T"):e,Ub=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Od{constructor(t,r,n={},o=uf){this.channel=t,this.event=r,this.payload=n,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ly;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ly||(Ly={}));class ai{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},o=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ai.syncState(this.state,o,a,i),this.pendingDiffs.forEach(c=>{this.state=ai.syncDiff(this.state,c,a,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},o=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=ai.syncDiff(this.state,o,a,i),l())}),this.onJoin((o,a,i)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:i})}),this.onLeave((o,a,i)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,o){const a=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(a,(u,h)=>{i[u]||(c[u]=h)}),this.map(i,(u,h)=>{const d=a[u];if(d){const m=h.map(w=>w.presence_ref),x=d.map(w=>w.presence_ref),b=h.filter(w=>x.indexOf(w.presence_ref)<0),y=d.filter(w=>m.indexOf(w.presence_ref)<0);b.length>0&&(l[u]=b),y.length>0&&(c[u]=y)}else l[u]=h}),this.syncDiff(a,{joins:l,leaves:c},n,o)}static syncDiff(t,r,n,o){const{joins:a,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),o||(o=()=>{}),this.map(a,(l,c)=>{var u;const h=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),h.length>0){const d=t[l].map(x=>x.presence_ref),m=h.filter(x=>d.indexOf(x.presence_ref)<0);t[l].unshift(...m)}n(l,h,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const h=c.map(d=>d.presence_ref);u=u.filter(d=>h.indexOf(d.presence_ref)<0),t[l]=u,o(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const o=t[n];return"metas"in o?r[n]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=o,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var $y;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})($y||($y={}));var ii;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ii||(ii={}));var an;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(an||(an={}));class ep{constructor(t,r={config:{}},n){var o,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Xe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Od(this,Cr.join,this.params,this.timeout),this.rejoinTimer=new $b(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Xe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Xe.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Xe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Xe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Xe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Cr.reply,{},(i,l)=>{this._trigger(this._replyEventName(l),i)}),this.presence=new ai(this),this.broadcastEndpointURL=Ub(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,o,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Xe.closed){const{config:{broadcast:i,presence:l,private:c}}=this.params,u=(o=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(x=>x.filter))!==null&&o!==void 0?o:[],h=!!this.bindings[ii.PRESENCE]&&this.bindings[ii.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,d={},m={broadcast:i,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(x=>t==null?void 0:t(an.CHANNEL_ERROR,x)),this._onClose(()=>t==null?void 0:t(an.CLOSED)),this.updateJoinPayload(Object.assign({config:m},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var b;if(this.socket.setAuth(),x===void 0){t==null||t(an.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,w=(b=y==null?void 0:y.length)!==null&&b!==void 0?b:0,p=[];for(let g=0;g<w;g++){const v=y[g],{filter:{event:j,schema:N,table:S,filter:_}}=v,C=x&&x[g];if(C&&C.event===j&&C.schema===N&&C.table===S&&C.filter===_)p.push(Object.assign(Object.assign({},v),{id:C.id}));else{this.unsubscribe(),this.state=Xe.errored,t==null||t(an.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(an.SUBSCRIBED);return}}).receive("error",x=>{this.state=Xe.errored,t==null||t(an.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(an.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Xe.joined&&t===ii.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,o;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((o=u.body)===null||o===void 0?void 0:o.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var i,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Xe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Cr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(o=>{n=new Od(this,Cr.leave,{},t),n.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Xe.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const o=new AbortController,a=setTimeout(()=>o.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(a),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Od(this,t,r,n);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>zA){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var o,a;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:h}=Cr;if(n&&[l,c,u,h].indexOf(i)>=0&&n!==this._joinRef())return;let m=this._onMessage(i,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(x=>{var b,y,w;return((b=x.filter)===null||b===void 0?void 0:b.event)==="*"||((w=(y=x.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===i}).map(x=>x.callback(m,n)):(a=this.bindings[i])===null||a===void 0||a.filter(x=>{var b,y,w,p,g,v;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in x){const j=x.id,N=(b=x.filter)===null||b===void 0?void 0:b.event;return j&&((y=r.ids)===null||y===void 0?void 0:y.includes(j))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(g=(p=x==null?void 0:x.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return j==="*"||j===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===i}).map(x=>{if(typeof m=="object"&&"ids"in m){const b=m.data,{schema:y,table:w,commit_timestamp:p,type:g,errors:v}=b;m=Object.assign(Object.assign({},{schema:y,table:w,commit_timestamp:p,eventType:g,new:{},old:{},errors:v}),this._getPayloadRecords(b))}x.callback(m,n)})}_isClosed(){return this.state===Xe.closed}_isJoined(){return this.state===Xe.joined}_isJoining(){return this.state===Xe.joining}_isLeaving(){return this.state===Xe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const o=t.toLocaleLowerCase(),a={type:o,filter:r,callback:n};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&ep.isEqual(o.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Cr.close,{},t)}_onError(t){this._on(Cr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Xe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Dy(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Dy(t.columns,t.old_record)),r}}const Md=()=>{},Rl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},YA=[1e3,2e3,5e3,1e4],QA=1e4,JA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class XA{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=uf,this.transport=null,this.heartbeatIntervalMs=Rl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Md,this.ref=0,this.reconnectTimer=null,this.logger=Md,this.conn=null,this.sendBuffer=[],this.serializer=new HA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...i)=>Gs(async()=>{const{default:l}=await Promise.resolve().then(()=>wa);return{default:l}},void 0).then(({default:l})=>l(...i)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...i)=>a(...i)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${df.websocket}`,this.httpEndpoint=Ub(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=DA.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:FA}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case oi.connecting:return _s.Connecting;case oi.open:return _s.Open;case oi.closing:return _s.Closing;default:return _s.Closed}}isConnected(){return this.connectionState()===_s.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,o=this.getChannels().find(a=>a.topic===n);if(o)return o;{const a=new ep(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:o,ref:a}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,o),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(UA,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Rl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:o,payload:a,ref:i}=r,l=i?`(${i})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${o} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(o,a,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Cr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${t}${n}${o}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([JA],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const o={access_token:r,version:$A};r&&n.updateJoinPayload(o),n.joinedOnce&&n._isJoined()&&n._push(Cr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new $b(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Rl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,o,a,i,l,c,u,h;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:uf,this.heartbeatIntervalMs=(o=t==null?void 0:t.heartbeatIntervalMs)!==null&&o!==void 0?o:Rl.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Md,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:d=>YA[d-1]||QA,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(d,m)=>m(JSON.stringify(d)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class tp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ye(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class ZA extends tp{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ff extends tp{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var eI=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(h){try{u(n.next(h))}catch(d){i(d)}}function c(h){try{u(n.throw(h))}catch(d){i(d)}}function u(h){h.done?a(h.value):o(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const zb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Gs(async()=>{const{default:n}=await Promise.resolve().then(()=>wa);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},tI=()=>eI(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Gs(()=>Promise.resolve().then(()=>wa),void 0)).Response:Response}),mf=e=>{if(Array.isArray(e))return e.map(r=>mf(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const o=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[o]=mf(n)}),t},rI=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var to=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(h){try{u(n.next(h))}catch(d){i(d)}}function c(h){try{u(n.throw(h))}catch(d){i(d)}}function u(h){h.done?a(h.value):o(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Dd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),nI=(e,t,r)=>to(void 0,void 0,void 0,function*(){const n=yield tI();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(o=>{const a=e.status||500,i=(o==null?void 0:o.statusCode)||a+"";t(new ZA(Dd(o),a,i))}).catch(o=>{t(new ff(Dd(o),o))}):t(new ff(Dd(e),e))}),sI=(e,t,r,n)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?o:(rI(n)?(o.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),o.body=JSON.stringify(n)):o.body=n,t!=null&&t.duplex&&(o.duplex=t.duplex),Object.assign(Object.assign({},o),r))};function Qi(e,t,r,n,o,a){return to(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,sI(t,n,o,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>nI(c,l,n))})})}function Lc(e,t,r,n){return to(this,void 0,void 0,function*(){return Qi(e,"GET",t,r,n)})}function Fr(e,t,r,n,o){return to(this,void 0,void 0,function*(){return Qi(e,"POST",t,n,o,r)})}function pf(e,t,r,n,o){return to(this,void 0,void 0,function*(){return Qi(e,"PUT",t,n,o,r)})}function oI(e,t,r,n){return to(this,void 0,void 0,function*(){return Qi(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Hb(e,t,r,n,o){return to(this,void 0,void 0,function*(){return Qi(e,"DELETE",t,n,o,r)})}var aI=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(h){try{u(n.next(h))}catch(d){i(d)}}function c(h){try{u(n.throw(h))}catch(d){i(d)}}function u(h){h.done?a(h.value):o(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class iI{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return aI(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ye(t))return{data:null,error:t};throw t}})}}var lI=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(h){try{u(n.next(h))}catch(d){i(d)}}function c(h){try{u(n.throw(h))}catch(d){i(d)}}function u(h){h.done?a(h.value):o(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})},Bb;class cI{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[Bb]="BlobDownloadBuilder",this.promise=null}asStream(){return new iI(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return lI(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ye(t))return{data:null,error:t};throw t}})}}Bb=Symbol.toStringTag;var Dt=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(h){try{u(n.next(h))}catch(d){i(d)}}function c(h){try{u(n.throw(h))}catch(d){i(d)}}function u(h){h.done?a(h.value):o(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const uI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Fy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class dI{constructor(t,r={},n,o){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=zb(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,o){return Dt(this,void 0,void 0,function*(){try{let a;const i=Object.assign(Object.assign({},Fy),o);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),o!=null&&o.headers&&(l=Object.assign(Object.assign({},l),o.headers));const u=this._removeEmptyFolders(r),h=this._getFinalPath(u),d=yield(t=="PUT"?pf:Fr)(this.fetch,`${this.url}/object/${h}`,a,Object.assign({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ye(a))return{data:null,error:a};throw a}})}upload(t,r,n){return Dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,o){return Dt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),i=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Fy.upsert},o),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType);const d=yield pf(this.fetch,l.toString(),c,{headers:h});return{data:{path:a,fullPath:d.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ye(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Dt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const o=Object.assign({},this.headers);r!=null&&r.upsert&&(o["x-upsert"]="true");const a=yield Fr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:o}),i=new URL(this.url+a.url),l=i.searchParams.get("token");if(!l)throw new tp("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}})}update(t,r,n){return Dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Dt(this,void 0,void 0,function*(){try{return{data:yield Fr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ye(o))return{data:null,error:o};throw o}})}copy(t,r,n){return Dt(this,void 0,void 0,function*(){try{return{data:{path:(yield Fr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ye(o))return{data:null,error:o};throw o}})}createSignedUrl(t,r,n){return Dt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),a=yield Fr(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${i}`)},{data:a,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ye(o))return{data:null,error:o};throw o}})}createSignedUrls(t,r,n){return Dt(this,void 0,void 0,function*(){try{const o=yield Fr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${a}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ye(o))return{data:null,error:o};throw o}})}download(t,r){const o=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=a?`?${a}`:"",l=this._getFinalPath(t),c=()=>Lc(this.fetch,`${this.url}/${o}/${l}${i}`,{headers:this.headers,noResolveJson:!0});return new cI(c,this.shouldThrowOnError)}info(t){return Dt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Lc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:mf(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}})}exists(t){return Dt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield oI(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ye(n)&&n instanceof ff){const o=n.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),o=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&o.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&o.push(c);let u=o.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Dt(this,void 0,void 0,function*(){try{return{data:yield Hb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}})}list(t,r,n){return Dt(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},uI),r),{prefix:t||""});return{data:yield Fr(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},n),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ye(o))return{data:null,error:o};throw o}})}listV2(t,r){return Dt(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Fr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const hI="2.75.1",fI={"X-Client-Info":`storage-js/${hI}`};var io=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(h){try{u(n.next(h))}catch(d){i(d)}}function c(h){try{u(n.throw(h))}catch(d){i(d)}}function u(h){h.done?a(h.value):o(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class mI{constructor(t,r={},n,o){this.shouldThrowOnError=!1;const a=new URL(t);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fI),r),this.fetch=zb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return io(this,void 0,void 0,function*(){try{return{data:yield Lc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ye(t))return{data:null,error:t};throw t}})}getBucket(t){return io(this,void 0,void 0,function*(){try{return{data:yield Lc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}})}createBucket(t){return io(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Fr(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ye(o))return{data:null,error:o};throw o}})}updateBucket(t,r){return io(this,void 0,void 0,function*(){try{return{data:yield pf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}})}emptyBucket(t){return io(this,void 0,void 0,function*(){try{return{data:yield Fr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}})}deleteBucket(t){return io(this,void 0,void 0,function*(){try{return{data:yield Hb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}})}}class pI extends mI{constructor(t,r={},n,o){super(t,r,n,o)}from(t){return new dI(this.url,this.headers,t,this.fetch)}}const gI="2.75.1";let qa="";typeof Deno<"u"?qa="deno":typeof document<"u"?qa="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qa="react-native":qa="node";const yI={"X-Client-Info":`supabase-js-${qa}/${gI}`},vI={headers:yI},xI={schema:"public"},wI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bI={};var jI=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(h){try{u(n.next(h))}catch(d){i(d)}}function c(h){try{u(n.throw(h))}catch(d){i(d)}}function u(h){h.done?a(h.value):o(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const NI=e=>{let t;return e?t=e:typeof fetch>"u"?t=kb:t=fetch,(...r)=>t(...r)},SI=()=>typeof Headers>"u"?Eb:Headers,_I=(e,t,r)=>{const n=NI(r),o=SI();return(a,i)=>jI(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new o(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},i),{headers:u}))})};var CI=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(h){try{u(n.next(h))}catch(d){i(d)}}function c(h){try{u(n.throw(h))}catch(d){i(d)}}function u(h){h.done?a(h.value):o(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function kI(e){return e.endsWith("/")?e:e+"/"}function EI(e,t){var r,n;const{db:o,auth:a,realtime:i,global:l}=e,{db:c,auth:u,realtime:h,global:d}=t,m={db:Object.assign(Object.assign({},c),o),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},h),i),storage:{},global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>CI(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function PI(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(kI(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Wb="2.75.1",yo=30*1e3,gf=3,Ld=gf*yo,TI="http://localhost:9999",RI="supabase.auth.token",AI={"X-Client-Info":`gotrue-js/${Wb}`},yf="X-Supabase-Api-Version",Vb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},II=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,OI=10*60*1e3;class Ai extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function de(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class MI extends Ai{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function DI(e){return de(e)&&e.name==="AuthApiError"}class Cs extends Ai{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ms extends Ai{constructor(t,r,n,o){super(t,n,o),this.name=r,this.status=n}}class In extends ms{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function LI(e){return de(e)&&e.name==="AuthSessionMissingError"}class lo extends ms{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Al extends ms{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Il extends ms{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function $I(e){return de(e)&&e.name==="AuthImplicitGrantRedirectError"}class Uy extends ms{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vf extends ms{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function $d(e){return de(e)&&e.name==="AuthRetryableFetchError"}class zy extends ms{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class xf extends ms{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const $c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Hy=` 	
\r=`.split(""),FI=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Hy.length;t+=1)e[Hy[t].charCodeAt(0)]=-2;for(let t=0;t<$c.length;t+=1)e[$c[t].charCodeAt(0)]=t;return e})();function By(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r($c[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r($c[n]),t.queuedBits-=6}}function qb(e,t,r){const n=FI[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Wy(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=i=>{HI(i,n,r)};for(let i=0;i<e.length;i+=1)qb(e.charCodeAt(i),o,a);return t.join("")}function UI(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function zI(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const o=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}UI(n,t)}}function HI(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Uo(e){const t=[],r={queue:0,queuedBits:0},n=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)qb(e.charCodeAt(o),r,n);return new Uint8Array(t)}function BI(e){const t=[];return zI(e,r=>t.push(r)),new Uint8Array(t)}function Ts(e){const t=[],r={queue:0,queuedBits:0},n=o=>{t.push(o)};return e.forEach(o=>By(o,r,n)),By(null,r,n),t.join("")}function WI(e){return Math.round(Date.now()/1e3)+e}function VI(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const qt=()=>typeof window<"u"&&typeof document<"u",vs={tested:!1,writable:!1},Kb=()=>{if(!qt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(vs.tested)return vs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),vs.tested=!0,vs.writable=!0}catch{vs.tested=!0,vs.writable=!1}return vs.writable};function qI(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,a)=>{t[a]=o})}catch{}return r.searchParams.forEach((n,o)=>{t[o]=n}),t}const Gb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Gs(async()=>{const{default:n}=await Promise.resolve().then(()=>wa);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},KI=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",vo=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},xs=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Rn=async(e,t)=>{await e.removeItem(t)};class Iu{constructor(){this.promise=new Iu.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Iu.promiseConstructor=Promise;function Fd(e){const t=e.split(".");if(t.length!==3)throw new xf("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!II.test(t[n]))throw new xf("JWT not in base64url format");return{header:JSON.parse(Wy(t[0])),payload:JSON.parse(Wy(t[1])),signature:Uo(t[2]),raw:{header:t[0],payload:t[1]}}}async function GI(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function YI(e,t){return new Promise((n,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const i=await e(a);if(!t(a,null,i)){n(i);return}}catch(i){if(!t(a,i)){o(i);return}}})()})}function QI(e){return("0"+e.toString(16)).substr(-2)}function JI(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let o="";for(let a=0;a<56;a++)o+=r.charAt(Math.floor(Math.random()*n));return o}return crypto.getRandomValues(t),Array.from(t,QI).join("")}async function XI(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(n);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function ZI(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await XI(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function co(e,t,r=!1){const n=JI();let o=n;r&&(o+="/PASSWORD_RECOVERY"),await vo(e,`${t}-code-verifier`,o);const a=await ZI(n);return[a,n===a?"plain":"s256"]}const e4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function t4(e){const t=e.headers.get(yf);if(!t||!t.match(e4))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function r4(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function n4(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const s4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function uo(e){if(!s4.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ud(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Vy(e){return JSON.parse(JSON.stringify(e))}var o4=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};const js=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),a4=[502,503,504];async function qy(e){var t;if(!KI(e))throw new vf(js(e),0);if(a4.includes(e.status))throw new vf(js(e),e.status);let r;try{r=await e.json()}catch(a){throw new Cs(js(a),a)}let n;const o=t4(e);if(o&&o.getTime()>=Vb["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new zy(js(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new In}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,i)=>a&&typeof i=="string",!0))throw new zy(js(r),e.status,r.weak_password.reasons);throw new MI(js(r),e.status||500,n)}const i4=(e,t,r,n)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),o.body=JSON.stringify(n),Object.assign(Object.assign({},o),r))};async function ge(e,t,r,n){var o;const a=Object.assign({},n==null?void 0:n.headers);a[yf]||(a[yf]=Vb["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const i=(o=n==null?void 0:n.query)!==null&&o!==void 0?o:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await l4(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function l4(e,t,r,n,o,a){const i=i4(t,n,o,a);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new vf(js(c),0)}if(l.ok||await qy(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await qy(c)}}function xr(e){var t;let r=null;d4(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=WI(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Ky(e){const t=xr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Fn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function c4(e){return{data:e,error:null}}function u4(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:o,verification_type:a}=e,i=o4(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:o,verification_type:a},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function Gy(e){return e}function d4(e){return e.access_token&&e.refresh_token&&e.expires_in}const zd=["global","local","others"];var h4=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};class f4{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Gb(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=zd[0]){if(zd.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${zd.join(", ")}`);try{return await ge(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Fn})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=h4(t,["options"]),o=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(o.new_email=n==null?void 0:n.newEmail,delete o.newEmail),await ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:u4,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(de(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ge(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Fn})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,o,a,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},h=await ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:Gy});if(h.error)throw h.error;const d=await h.json(),m=(i=h.headers.get("x-total-count"))!==null&&i!==void 0?i:0,x=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return x.length>0&&(x.forEach(b=>{const y=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);u[`${w}Page`]=y}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(de(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){uo(t);try{return await ge(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Fn})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){uo(t);try{return await ge(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Fn})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){uo(t);try{return await ge(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Fn})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){uo(t.userId);try{const{data:r,error:n}=await ge(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:n}}catch(r){if(de(r))return{data:null,error:r};throw r}}async _deleteFactor(t){uo(t.userId),uo(t.id);try{return{data:await ge(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,o,a,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},h=await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:Gy});if(h.error)throw h.error;const d=await h.json(),m=(i=h.headers.get("x-total-count"))!==null&&i!==void 0?i:0,x=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return x.length>0&&(x.forEach(b=>{const y=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);u[`${w}Page`]=y}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(de(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await ge(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}}function Yy(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const ho={debug:!!(globalThis&&Kb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Yb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class m4 extends Yb{}async function p4(e,t,r){ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ho.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async o=>{if(o){ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await r()}finally{ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new m4(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ho.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function g4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Qb(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function y4(e){return parseInt(e,16)}function v4(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function x4(e){var t;const{chainId:r,domain:n,expirationTime:o,issuedAt:a=new Date,nonce:i,notBefore:l,requestId:c,resources:u,scheme:h,uri:d,version:m}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const x=Qb(e.address),b=h?`${h}://${n}`:n,y=e.statement?`${e.statement}
`:"",w=`${b} wants you to sign in with your Ethereum account:
${x}

${y}`;let p=`URI: ${d}
Version: ${m}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${a.toISOString()}`;if(o&&(p+=`
Expiration Time: ${o.toISOString()}`),l&&(p+=`
Not Before: ${l.toISOString()}`),c&&(p+=`
Request ID: ${c}`),u){let g=`
Resources:`;for(const v of u){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);g+=`
- ${v}`}p+=g}return`${w}
${p}`}class Ge extends Error{constructor({message:t,code:r,cause:n,name:o}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=o??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Fc extends Ge{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function w4({error:e,options:t}){var r,n,o;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ge({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ge({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ge({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((o=a.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Ge({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ge({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ge({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Ge({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ge({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(Xb(i)){if(a.rp.id!==i)return new Ge({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ge({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Ge({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ge({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ge({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function b4({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ge({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ge({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Xb(n)){if(r.rpId!==n)return new Ge({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ge({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ge({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ge({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var Jb=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};class j4{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const N4=new j4;function S4(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,o=Jb(e,["challenge","user","excludeCredentials"]),a=Uo(t).buffer,i=Object.assign(Object.assign({},r),{id:Uo(r.id).buffer}),l=Object.assign(Object.assign({},o),{challenge:a,user:i});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Uo(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function _4(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Jb(e,["challenge","allowCredentials"]),o=Uo(t).buffer,a=Object.assign(Object.assign({},n),{challenge:o});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const l=r[i];a.allowCredentials[i]=Object.assign(Object.assign({},l),{id:Uo(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function C4(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ts(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ts(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function k4(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),o=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ts(new Uint8Array(o.authenticatorData)),clientDataJSON:Ts(new Uint8Array(o.clientDataJSON)),signature:Ts(new Uint8Array(o.signature)),userHandle:o.userHandle?Ts(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Xb(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Qy(){var e,t;return!!(qt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function E4(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Fc("Browser returned unexpected credential type",t)}:{data:null,error:new Fc("Empty credential response",t)}}catch(t){return{data:null,error:w4({error:t,options:e})}}}async function P4(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Fc("Browser returned unexpected credential type",t)}:{data:null,error:new Fc("Empty credential response",t)}}catch(t){return{data:null,error:b4({error:t,options:e})}}}const T4={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},R4={userVerification:"preferred",hints:["security-key"]};function Uc(...e){const t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),n={};for(const o of e)if(o)for(const a in o){const i=o[a];if(i!==void 0)if(Array.isArray(i))n[a]=i;else if(r(i))n[a]=i;else if(t(i)){const l=n[a];t(l)?n[a]=Uc(l,i):n[a]=Uc(i)}else n[a]=i}return n}function A4(e,t){return Uc(T4,e,t||{})}function I4(e,t){return Uc(R4,e,t||{})}class O4{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:o},a){try{const{data:i,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!i)return{data:null,error:l};const c=o??N4.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:u}=i.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(i.webauthn.type){case"create":{const u=A4(i.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:h,error:d}=await E4({publicKey:u,signal:c});return h?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:h}},error:null}:{data:null,error:d}}case"request":{const u=I4(i.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:h,error:d}=await P4(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:u,signal:c}));return h?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:h}},error:null}:{data:null,error:d}}}}catch(i){return de(i)?{data:null,error:i}:{data:null,error:new Cs("Unexpected error in challenge",i)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:o}},a){if(!r)return{data:null,error:new Ai("rpId is required for WebAuthn authentication")};try{if(!Qy())return{data:null,error:new Cs("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:o},{request:a});if(!i)return{data:null,error:l};const{webauthn:c}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(i){return de(i)?{data:null,error:i}:{data:null,error:new Cs("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:o},a){if(!r)return{data:null,error:new Ai("rpId is required for WebAuthn registration")};try{if(!Qy())return{data:null,error:new Cs("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(h=>{var d;return(d=h.data)===null||d===void 0?void 0:d.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:o},{create:a});return c?this._verify({factorId:i.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(i){return de(i)?{data:null,error:i}:{data:null,error:new Cs("Unexpected error in register",i)}}}}g4();const M4={url:TI,storageKey:RI,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:AI,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Jy(e,t,r){return await r()}const fo={};class Ii{get jwks(){var t,r;return(r=(t=fo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){fo[this.storageKey]=Object.assign(Object.assign({},fo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=fo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){fo[this.storageKey]=Object.assign(Object.assign({},fo[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ii.nextInstanceID,Ii.nextInstanceID+=1,this.instanceID>0&&qt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},M4),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new f4({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Gb(o.fetch),this.lock=o.lock||Jy,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:qt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=p4:this.lock=Jy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new O4(this)},this.persistSession?(o.storage?this.storage=o.storage:Kb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Yy(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Yy(this.memoryStorage)),qt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Wb}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=qI(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),qt()&&this.detectSessionInUrl&&n!=="none"){const{data:o,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),$I(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:i,redirectType:l}=o;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return de(r)?{error:r}:{error:new Cs("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,o;try{const a=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(o=t==null?void 0:t.options)===null||o===void 0?void 0:o.captchaToken}},xform:xr}),{data:i,error:l}=a;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(de(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,o;try{let a;if("email"in t){const{email:h,password:d,options:m}=t;let x=null,b=null;this.flowType==="pkce"&&([x,b]=await co(this.storage,this.storageKey)),a=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:h,password:d,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:x,code_challenge_method:b},xform:xr})}else if("phone"in t){const{phone:h,password:d,options:m}=t;a=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:d,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(o=m==null?void 0:m.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:xr})}else throw new Al("You must provide either an email or phone number and a password");const{data:i,error:l}=a;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(de(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:i,options:l}=t;r=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ky})}else if("phone"in t){const{phone:a,password:i,options:l}=t;r=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ky})}else throw new Al("You must provide either an email or phone number and a password");const{data:n,error:o}=r;return o?{data:{user:null,session:null},error:o}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new lo}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:o})}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,o,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,o,a,i,l,c,u,h,d,m;let x,b;if("message"in t)x=t.message,b=t.signature;else{const{chain:y,wallet:w,statement:p,options:g}=t;let v;if(qt())if(typeof w=="object")v=w;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")v=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=w}const j=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href),N=await v.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=Qb(N[0]);let _=(n=g==null?void 0:g.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!_){const A=await v.request({method:"eth_chainId"});_=y4(A)}const C={domain:j.host,address:S,statement:p,uri:j.href,version:"1",chainId:_,nonce:(o=g==null?void 0:g.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(i=(a=g==null?void 0:g.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(h=g==null?void 0:g.signInWithEthereum)===null||h===void 0?void 0:h.resources};x=x4(C),b=await v.request({method:"personal_sign",params:[v4(x),S]})}try{const{data:y,error:w}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:b},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:xr});if(w)throw w;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new lo}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:w})}catch(y){if(de(y))return{data:{user:null,session:null},error:y};throw y}}async signInWithSolana(t){var r,n,o,a,i,l,c,u,h,d,m,x;let b,y;if("message"in t)b=t.message,y=t.signature;else{const{chain:w,wallet:p,statement:g,options:v}=t;let j;if(qt())if(typeof p=="object")j=p;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))j=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=p}const N=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const S=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),g?{statement:g}:null));let _;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")_=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)_=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)b=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),y=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${N.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(o=(n=v==null?void 0:v.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((d=(h=v==null?void 0:v.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||d===void 0)&&d.length?["Resources",...v.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const S=await j.signMessage(new TextEncoder().encode(b),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=S}}try{const{data:w,error:p}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Ts(y)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:xr});if(p)throw p;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new lo}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:p})}catch(w){if(de(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await xs(this.storage,`${this.storageKey}-code-verifier`),[n,o]=(r??"").split("/");try{const{data:a,error:i}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:xr});if(await Rn(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new lo}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:i})}catch(a){if(de(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:o,access_token:a,nonce:i}=t,l=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:o,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:xr}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new lo}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,o,a,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await co(this.storage,this.storageKey));const{error:d}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:h}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=c==null?void 0:c.data)!==null&&o!==void 0?o:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new Al("You must provide either an email or phone number.")}catch(l){if(de(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let o,a;"options"in t&&(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:xr});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(de(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(t){var r,n,o;try{let a=null,i=null;return this.flowType==="pkce"&&([a,i]=await co(this.storage,this.storageKey)),await ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((o=t==null?void 0:t.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:i}),headers:this.headers,xform:c4})}catch(a){if(de(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new In;const{error:o}=await ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}})}catch(t){if(de(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:o,options:a}=t,{error:i}=await ge(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:o,options:a}=t,{data:i,error:l}=await ge(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new Al("You must provide either an email or phone number and a type")}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await xs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ld:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await xs(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=Ud()}if(this.storage.isServer&&t.user){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,h)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,h))})}return{data:{session:t},error:null}}const{data:o,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Fn}):await this._useSession(async r=>{var n,o,a;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new In}:await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=i.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:Fn})})}catch(r){if(de(r))return LI(r)&&(await this._removeSession(),await Rn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:o,error:a}=n;if(a)throw a;if(!o.session)throw new In;const i=o.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await co(this.storage,this.storageKey));const{data:u,error:h}=await ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:Fn});if(h)throw h;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new In;const r=Date.now()/1e3;let n=r,o=!0,a=null;const{payload:i}=Fd(t.access_token);if(i.exp&&(n=i.exp,o=n<=r),o){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(de(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new In;const{data:o,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!qt())throw new Il("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Il(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Uy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Il("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Uy("No code detected.");const{data:g,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:o,access_token:a,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!i||!u)throw new Il("No session defined in URL");const h=Math.round(Date.now()/1e3),d=parseInt(l);let m=h+d;c&&(m=parseInt(c));const x=m-h;x*1e3<=yo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${d}s`);const b=m-d;h-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,m,h):h-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,m,h);const{data:y,error:w}=await this._getUser(a);if(w)throw w;const p={provider_token:n,provider_refresh_token:o,access_token:a,expires_in:d,expires_at:m,refresh_token:i,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(n){if(de(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await xs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:o,error:a}=r;if(a)return{error:a};const i=(n=o.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(DI(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Rn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=VI(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,o;try{const{data:{session:a},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,o=null;this.flowType==="pkce"&&([n,o]=await co(this.storage,this.storageKey,!0));try{return await ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(de(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:o}=await this._useSession(async a=>{var i,l,c,u,h;const{data:d,error:m}=a;if(m)throw m;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ge(this.fetch,"GET",x,{headers:this.headers,jwt:(h=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(o)throw o;return qt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(de(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:o,data:{session:a}}=r;if(o)throw o;const{options:i,provider:l,token:c,access_token:u,nonce:h}=t,d=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:xr}),{data:m,error:x}=d;return x?{data:{user:null,session:null},error:x}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new lo}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),{data:m,error:x})}catch(o){if(de(o))return{data:{user:null,session:null},error:o};throw o}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,o;const{data:a,error:i}=r;if(i)throw i;return await ge(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await YI(async o=>(o>0&&await GI(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:xr})),(o,a)=>{const i=200*Math.pow(2,o);return a&&$d(a)&&Date.now()+i-n<yo})}catch(n){if(this._debug(r,"error",n),de(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),qt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const o=await xs(this.storage,this.storageKey);if(o&&this.userStorage){let i=await xs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:o.user},await vo(this.userStorage,this.storageKey+"-user",i)),o.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:Ud()}else if(o&&!o.user&&!o.user){const i=await xs(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(o.user=i.user,await Rn(this.storage,this.storageKey+"-user"),await vo(this.storage,this.storageKey,o)):o.user=Ud()}if(this._debug(n,"session from storage",o),!this._isValidSession(o)){this._debug(n,"session is not valid"),o!==null&&await this._removeSession();return}const a=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ld;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Ld}s`),a){if(this.autoRefreshToken&&o.refresh_token){const{error:i}=await this._callRefreshToken(o.refresh_token);i&&(console.error(i),$d(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(o.access_token);!l&&(i!=null&&i.user)?(o.user=i.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(n,"error",o),console.error(o);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new In;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Iu;const{data:a,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!a.session)throw new In;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(o,"error",a),de(a)){const i={data:null,error:a};return $d(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,r,n=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(i),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await vo(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const a=Vy(o);await vo(this.storage,this.storageKey,a)}else{const o=Vy(r);await vo(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Rn(this.storage,this.storageKey),await Rn(this.storage,this.storageKey+"-code-verifier"),await Rn(this.storage,this.storageKey+"-user"),this.userStorage&&await Rn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&qt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),yo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((n.expires_at*1e3-t)/yo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${yo}ms, refresh threshold is ${gf} ticks`),o<=gf&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Yb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const o=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&o.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&o.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,i]=await co(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(i)}`});o.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);o.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&o.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:o,error:a}=r;return a?{data:null,error:a}:await ge(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,o;const{data:a,error:i}=r;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await ge(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((o=c==null?void 0:c.totp)===null||o===void 0)&&o.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:o,error:a}=r;if(a)return{data:null,error:a};const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?C4(t.webauthn.credential_response):k4(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(de(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:o,error:a}=r;if(a)return{data:null,error:a};const i=await ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:l}=i;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:S4(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:_4(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(de(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const o={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])o.all.push(a),a.status==="verified"&&o[a.factor_type].push(a);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:o},error:a}=t;if(a)return{data:null,error:a};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Fd(o.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((n=(r=o.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const h=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const o=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+OI>o)return n;const{data:a,error:i}=await ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,n=a.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:x,error:b}=await this.getSession();if(b||!x.session)return{data:null,error:b};n=x.session.access_token}const{header:o,payload:a,signature:i,raw:{header:l,payload:c}}=Fd(n);r!=null&&r.allowExpired||r4(a.exp);const u=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:x}=await this.getUser(n);if(x)throw x;return{data:{claims:a,header:o,signature:i},error:null}}const h=n4(o.alg),d=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,d,i,BI(`${l}.${c}`)))throw new xf("Invalid JWT signature");return{data:{claims:a,header:o,signature:i},error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}}Ii.nextInstanceID=0;const D4=Ii;class L4 extends D4{constructor(t){super(t)}}var $4=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(h){try{u(n.next(h))}catch(d){i(d)}}function c(h){try{u(n.throw(h))}catch(d){i(d)}}function u(h){h.done?a(h.value):o(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class F4{constructor(t,r,n){var o,a,i;this.supabaseUrl=t,this.supabaseKey=r;const l=PI(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:xI,realtime:bI,auth:Object.assign(Object.assign({},wI),{storageKey:c}),global:vI},h=EI(n??{},u);this.storageKey=(o=h.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=h.global.headers)!==null&&a!==void 0?a:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(d,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=h.auth)!==null&&i!==void 0?i:{},this.headers,h.global.fetch),this.fetch=_I(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new MA(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new pI(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new fA(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return $4(this,void 0,void 0,function*(){var t,r;if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:o,userStorage:a,storageKey:i,flowType:l,lock:c,debug:u},h,d){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new L4({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),h),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:o,userStorage:a,flowType:l,lock:c,debug:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new XA(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const U4=(e,t,r)=>new F4(e,t,r);function z4(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}z4()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const H4="https://hmmimemzznsyilxqakty.supabase.co",B4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhtbWltZW16em5zeWlseHFha3R5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI1MTU2MjgsImV4cCI6MjA2ODA5MTYyOH0.MrfJUkMzIPk12SFGuxWEtdLCVHq55ZWJLqDwOCIA2ZM";console.log(" Supabase client initialized successfully");const J=U4(H4,B4,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,flowType:"pkce"}}),dt={PREMIUM_MONTHLY:"com.mattyc.heartlift.premium.monthly",HEALING_KIT:"com.mattyc.heartlift.healingkit"};class W4{constructor(){il(this,"initialized",!1);il(this,"userId","");il(this,"store",null)}async initialize(t){if(this.initialized){console.log("Purchase service already initialized");return}console.log(" Initializing purchase service for user:",t),this.userId=t;try{if(!window.Capacitor||!window.Capacitor.isNativePlatform()){console.warn(" IAP not available on web platform - mocking initialization"),this.initialized=!0;return}if(typeof CdvPurchase>"u")throw console.error(" CdvPurchase is not defined - plugin not loaded"),new Error("cordova-plugin-purchase not loaded");if(console.log(" Running on native platform, setting up IAP with v13 API..."),this.store=CdvPurchase.store,!this.store)throw new Error("CdvPurchase.store is not available");console.log(" Store instance obtained:",this.store),this.store.register([{id:dt.PREMIUM_MONTHLY,type:CdvPurchase.ProductType.PAID_SUBSCRIPTION,platform:CdvPurchase.Platform.APPLE_APPSTORE},{id:dt.HEALING_KIT,type:CdvPurchase.ProductType.NON_CONSUMABLE,platform:CdvPurchase.Platform.APPLE_APPSTORE}]),console.log(" Products registered"),this.store.when().approved(async r=>{console.log(" Transaction approved:",r);const n=r.products.some(a=>a.id===dt.PREMIUM_MONTHLY),o=r.products.some(a=>a.id===dt.HEALING_KIT);n&&(console.log(" Premium subscription approved"),await this.syncToSupabase(!0,!1)),o&&(console.log(" Healing Kit purchase approved"),await this.syncToSupabase(!1,!0)),await r.finish()}).verified(r=>{console.log(" Receipt verified:",r)}).unverified(r=>{console.error(" Receipt unverified:",r)}).cancelled(r=>{console.log(" Transaction cancelled:",r)}).error(r=>{console.error(" Transaction error:",r)}),this.store.when().expired(async r=>{console.log(" Product expired:",r),r.id===dt.PREMIUM_MONTHLY&&(console.log(" Premium subscription expired - revoking access"),await this.cancelSubscriptionInSupabase())}),await this.store.initialize(),console.log(" Apple IAP initialized successfully with v13 API"),this.initialized=!0}catch(r){throw console.error(" Failed to initialize Apple IAP:",r),console.error("Error details:",r),r}}async getProducts(){try{if(!this.initialized||!this.store)throw new Error("Purchase service not initialized");const t=this.store.get(dt.PREMIUM_MONTHLY),r=this.store.get(dt.HEALING_KIT);return console.log(" Products loaded from Apple IAP:",{premiumProduct:t,healingKitProduct:r}),{premium:t,healingKit:r}}catch(t){throw console.error(" Failed to get products:",t),t}}async purchasePremium(){try{if(!this.initialized||!this.store)throw new Error("Purchase service not initialized");console.log(" Initiating Apple IAP purchase for:",dt.PREMIUM_MONTHLY);const t=this.store.get(dt.PREMIUM_MONTHLY);if(!t)throw new Error("Premium product not found");const r=t.getOffer();return await this.store.order(r),console.log(" Premium purchase initiated"),{success:!0}}catch(t){throw console.error(" Premium purchase failed:",t),t}}async purchaseHealingKit(){try{if(!this.initialized||!this.store)throw new Error("Purchase service not initialized");console.log(" Initiating Apple IAP purchase for:",dt.HEALING_KIT);const t=this.store.get(dt.HEALING_KIT);if(!t)throw new Error("Healing Kit product not found");const r=t.getOffer();return await this.store.order(r),console.log(" Healing Kit purchase initiated"),{success:!0}}catch(t){throw console.error(" Healing Kit purchase failed:",t),t}}async checkSubscriptionStatus(){try{if(!this.initialized||!this.store)throw new Error("Purchase service not initialized");console.log(" Checking subscription status from Apple...");const t=this.store.get(dt.PREMIUM_MONTHLY),r=this.store.get(dt.HEALING_KIT),n=(t==null?void 0:t.owned)||!1,o=(r==null?void 0:r.owned)||!1;return console.log(" Current Apple IAP status:",{hasPremium:n,hasHealingKit:o}),await this.syncToSupabase(n,o),{hasPremium:n,hasHealingKit:o}}catch(t){return console.error(" Failed to check subscription status:",t),{hasPremium:!1,hasHealingKit:!1}}}async restorePurchases(){var t,r;try{if(!this.initialized||!this.store)throw new Error("Purchase service not initialized");console.log(" Restoring purchases via Apple IAP..."),await this.store.restorePurchases(),await new Promise(l=>setTimeout(l,2e3));const n=this.store.get(dt.PREMIUM_MONTHLY),o=this.store.get(dt.HEALING_KIT),a=(n==null?void 0:n.owned)||!1,i=(o==null?void 0:o.owned)||!1;return console.log(" Purchases restored from Apple:",{hasPremium:a,hasHealingKit:i}),(a||i)&&await this.syncToSupabase(a,i),{hasPremium:a,hasHealingKit:i,platform:"apple"}}catch(n){console.error(" Failed to restore purchases:",n);try{console.log(" Falling back to Supabase check...");const{data:{user:o}}=await J.auth.getUser();if(!o)throw new Error("No user logged in");const[a,i]=await Promise.all([J.from("subscribers").select("subscribed").eq("user_id",o.id).single(),J.from("healing_kit_purchases").select("status").eq("user_id",o.id).single()]),l=((t=a.data)==null?void 0:t.subscribed)||!1,c=((r=i.data)==null?void 0:r.status)==="completed";return console.log(" Purchases restored from Supabase fallback:",{hasPremium:l,hasHealingKit:c}),{hasPremium:l,hasHealingKit:c,platform:"supabase"}}catch(o){throw console.error(" Fallback also failed:",o),n}}}async cancelSubscriptionInSupabase(){try{const{data:{user:t}}=await J.auth.getUser();if(!t)throw new Error("No user logged in");console.log(" Subscription expired - revoking premium access in Supabase...");const{error:r}=await J.from("subscribers").update({subscribed:!1,payment_status:"expired",updated_at:new Date().toISOString()}).eq("user_id",t.id);r?console.error(" Failed to update subscription status in Supabase:",r):console.log(" Premium access revoked in Supabase (subscription expired at end of billing period)")}catch(t){console.error(" Error updating subscription status:",t)}}async syncToSupabase(t,r){try{const{data:{user:n}}=await J.auth.getUser();if(!n)throw new Error("No user logged in");if(console.log(" Syncing purchase status to Supabase..."),t){const{error:o}=await J.from("subscribers").upsert({user_id:n.id,email:n.email,plan_type:"premium",subscribed:!0,payment_status:"active",updated_at:new Date().toISOString()},{onConflict:"user_id"});o?console.error(" Failed to update premium in Supabase:",o):console.log(" Premium updated in Supabase")}if(r){const{error:o}=await J.from("healing_kit_purchases").upsert({user_id:n.id,status:"completed",purchased_at:new Date().toISOString()},{onConflict:"user_id"});o?console.error(" Failed to update healing kit in Supabase:",o):console.log(" Healing Kit updated in Supabase")}console.log(" All purchases synced to Supabase")}catch(n){throw console.error(" Failed to sync purchases to Supabase:",n),n}}async checkPurchaseStatus(){var t,r;try{const{data:{user:n}}=await J.auth.getUser();if(!n)return{hasPremium:!1,hasHealingKit:!1};const[o,a]=await Promise.all([J.from("subscribers").select("subscribed").eq("user_id",n.id).single(),J.from("healing_kit_purchases").select("status").eq("user_id",n.id).single()]);return{hasPremium:((t=o.data)==null?void 0:t.subscribed)||!1,hasHealingKit:((r=a.data)==null?void 0:r.status)==="completed"}}catch(n){return console.error(" Failed to check purchase status:",n),{hasPremium:!1,hasHealingKit:!1}}}async buyPremium(){try{if(!this.initialized||!this.store)throw new Error("Purchase service not initialized");console.log(" Initiating premium purchase...");const t=this.store.get(dt.PREMIUM_MONTHLY);if(!t)throw new Error("Premium subscription product not found");const r=t.getOffer();if(!r)throw new Error("No offer available for premium subscription");return await this.store.order(r),console.log(" Premium purchase initiated"),{success:!0}}catch(t){return console.error(" Premium purchase failed:",t),{success:!1,error:(t==null?void 0:t.message)||"Failed to purchase premium subscription"}}}async buyHealingKit(){try{if(!this.initialized||!this.store)throw new Error("Purchase service not initialized");console.log(" Initiating healing kit purchase...");const t=this.store.get(dt.HEALING_KIT);if(!t)throw new Error("Healing Kit product not found");const r=t.getOffer();if(!r)throw new Error("No offer available for Healing Kit");return await this.store.order(r),console.log(" Healing Kit purchase initiated"),{success:!0}}catch(t){return console.error(" Healing Kit purchase failed:",t),{success:!1,error:(t==null?void 0:t.message)||"Failed to purchase Healing Kit"}}}}const Oi=new W4,Zb=f.createContext(void 0),Te=()=>{const e=f.useContext(Zb);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},V4=({children:e})=>{const[t,r]=f.useState(null),[n,o]=f.useState(null),[a,i]=f.useState(!0),[l,c]=f.useState(()=>{const j=localStorage.getItem("isPremium");return j?JSON.parse(j):!1}),[u,h]=f.useState(()=>{const j=localStorage.getItem("hasHealingKit");return j?JSON.parse(j):!1}),[d,m]=f.useState(()=>{const j=localStorage.getItem("subscriptionStatus");return j?JSON.parse(j):"free"}),x=async j=>{try{await J.from("conversation_history").delete().eq("user_id",j),console.log("[AuthContext] Cleared all conversations for user on login")}catch(N){console.error("[AuthContext] Error clearing conversations:",N)}},b=async()=>{if(t)try{console.log("[AuthContext] Checking subscription for user:",t.id);const{data:j,error:N}=await J.from("subscribers").select("*").eq("user_id",t.id).maybeSingle();let S=!1;!N&&j?(console.log("[AuthContext] RAW Subscriber data:",JSON.stringify(j)),j.subscribed===!0?(S=!0,console.log("[AuthContext]  Premium ACTIVE (subscribed=true)")):j.plan_type==="premium"&&j.payment_status==="active"?(S=!0,console.log("[AuthContext]  Premium ACTIVE (plan_type=premium, payment_status=active)")):console.log("[AuthContext]  NO PREMIUM - Data:",j)):N?console.error("[AuthContext] Error fetching subscriber:",N):console.log("[AuthContext] No subscriber record found for user");const{data:_,error:C}=await J.rpc("user_has_healing_kit",{user_uuid:t.id});let A=!1;C?console.error("[AuthContext] Error checking healing kit:",C):(console.log("[AuthContext] Healing kit status:",_),A=_===!0),c(S),m(S?"premium":"free"),h(A),localStorage.setItem("isPremium",JSON.stringify(S)),localStorage.setItem("subscriptionStatus",JSON.stringify(S?"premium":"free")),localStorage.setItem("hasHealingKit",JSON.stringify(A)),console.log("[AuthContext] Subscription check complete - Premium:",S,"Healing Kit:",A)}catch(j){console.error("[AuthContext] Error checking subscription:",j)}};f.useEffect(()=>{const{data:{subscription:j}}=J.auth.onAuthStateChange(async(N,S)=>{var _;if(console.log("[AuthContext] Auth state change:",N,(_=S==null?void 0:S.user)==null?void 0:_.email),o(S),r((S==null?void 0:S.user)??null),i(!1),N==="SIGNED_IN"&&(S!=null&&S.user)&&!S.user.email_confirmed_at){console.log("[AuthContext] Forcing sign out - email not verified"),await J.auth.signOut();return}if(S!=null&&S.user&&(N==="SIGNED_IN"||N==="INITIAL_SESSION")){console.log("[AuthContext] User session detected, checking subscription immediately");try{await Oi.initialize(S.user.id),console.log("[AuthContext] Purchase service initialized successfully")}catch(C){console.error("[AuthContext] Failed to initialize purchase service:",C)}setTimeout(()=>b(),0)}else N==="SIGNED_OUT"&&(console.log("[AuthContext] User signed out, clearing state"),t&&await x(t.id),c(!1),h(!1),m("free"),localStorage.removeItem("isPremium"),localStorage.removeItem("hasHealingKit"),localStorage.removeItem("subscriptionStatus"))});return J.auth.getSession().then(async({data:{session:N},error:S})=>{if(S){console.error("[AuthContext] Error getting session:",S),await J.auth.signOut({scope:"local"}),localStorage.clear(),o(null),r(null),i(!1);return}if(o(N),r((N==null?void 0:N.user)??null),N!=null&&N.user)try{await Oi.initialize(N.user.id),console.log("[AuthContext] Purchase service initialized for existing session")}catch(_){console.error("[AuthContext] Failed to initialize purchase service:",_)}i(!1),N!=null&&N.user?(console.log("[AuthContext] Found existing session for:",N.user.email),setTimeout(()=>b(),0)):console.log("[AuthContext] No existing session found")}).catch(async N=>{console.error("[AuthContext] Failed to get session:",N),await J.auth.signOut({scope:"local"}),localStorage.clear(),o(null),r(null),i(!1)}),()=>j.unsubscribe()},[]),f.useEffect(()=>{t&&b()},[t]);const v={user:t,session:n,signIn:async(j,N)=>{var S;try{console.log("[AuthContext] Attempting sign in for:",j);const{data:_,error:C}=await J.auth.signInWithPassword({email:j,password:N});return C?(console.error("[AuthContext] Sign in error:",C),{error:C}):_.user&&!_.user.email_confirmed_at?(console.log("[AuthContext] Email not verified, signing out"),await J.auth.signOut(),{error:{message:"Please verify your email before signing in. Check your inbox for the verification code."}}):(console.log("[AuthContext] Sign in successful for:",(S=_.user)==null?void 0:S.email),{error:null})}catch(_){return console.error("[AuthContext] Unexpected sign in error:",_),{error:{message:(_==null?void 0:_.message)||"An unexpected error occurred during sign in"}}}},signUp:async(j,N,S)=>{const _=`${window.location.origin}/`,{data:C,error:A}=await J.auth.signUp({email:j,password:N,options:{emailRedirectTo:_,data:{full_name:S}}});return C!=null&&C.user&&C.user.identities&&C.user.identities.length===0?{error:{message:"An account with this email already exists. Please sign in instead."}}:(C!=null&&C.user&&!C.user.email_confirmed_at&&await J.auth.signOut(),{error:A})},signOut:async()=>{try{r(null),o(null),c(!1),h(!1),m("free"),localStorage.removeItem("isPremium"),localStorage.removeItem("hasHealingKit"),localStorage.removeItem("subscriptionStatus"),t&&await x(t.id),await J.auth.signOut(),window.location.href="/"}catch(j){console.error("Error during sign out:",j),localStorage.clear(),window.location.href="/"}},forceSignOut:async()=>{try{console.log("[AuthContext] Force sign out initiated"),r(null),o(null),c(!1),h(!1),m("free"),localStorage.clear(),sessionStorage.clear(),await J.auth.signOut(),window.location.href="/"}catch(j){console.error("Error during force sign out:",j),localStorage.clear(),sessionStorage.clear(),window.location.href="/"}},loading:a,isPremium:l,hasHealingKit:u,subscriptionStatus:d,checkSubscription:b};return s.jsx(Zb.Provider,{value:v,children:e})},q4=Ki("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",warm:"bg-gradient-to-r from-primary to-primary-glow text-primary-foreground shadow-warm hover:shadow-float transform hover:scale-[1.02] transition-all duration-300 hover:animate-pulse-warm",healing:"bg-gradient-to-r from-secondary to-accent text-secondary-foreground shadow-gentle hover:shadow-warm transition-all duration-300",gentle:"bg-background border border-primary/20 text-foreground hover:bg-primary/5 hover:border-primary/40 shadow-card hover:shadow-gentle transition-all duration-300",flirty:"bg-gradient-to-r from-pink-400 to-pink-500 text-white shadow-warm hover:shadow-float hover:from-pink-500 hover:to-pink-600 transition-all duration-300 hover:scale-[1.02]",therapist:"bg-gradient-to-r from-purple-400 to-purple-500 text-white shadow-warm hover:shadow-float hover:from-purple-500 hover:to-purple-600 transition-all duration-300 hover:scale-[1.02]",tough:"bg-gradient-to-r from-orange-400 to-orange-500 text-white shadow-warm hover:shadow-float hover:from-orange-500 hover:to-orange-600 transition-all duration-300 hover:scale-[1.02]",chill:"bg-gradient-to-r from-green-400 to-green-500 text-white shadow-warm hover:shadow-float hover:from-green-500 hover:to-green-600 transition-all duration-300 hover:scale-[1.02]"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),H=f.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...o},a)=>{const i=n?dk:"button";return s.jsx(i,{className:ie(q4({variant:t,size:r,className:e})),ref:a,...o})});H.displayName="Button";const K4=({onGetStarted:e})=>{const t=tt(),{user:r}=Te(),n=()=>{r?e==null||e():t("/auth")};return s.jsxs("section",{className:"min-h-screen flex items-center justify-center px-4 py-16 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background via-muted to-secondary"}),s.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-gradient-to-r from-primary/10 to-primary-glow/10 rounded-full blur-3xl animate-float-gentle"}),s.jsx("div",{className:"absolute bottom-32 right-16 w-48 h-48 bg-gradient-to-r from-secondary/15 to-accent/15 rounded-full blur-3xl animate-float-gentle",style:{animationDelay:"1s"}}),s.jsx("div",{className:"absolute top-1/2 left-1/4 w-24 h-24 bg-gradient-to-r from-accent/10 to-primary/10 rounded-full blur-2xl animate-pulse-warm"}),s.jsxs("div",{className:"max-w-5xl mx-auto text-center space-y-12 animate-fade-in relative z-10",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"p-6 rounded-full bg-gradient-to-r from-primary to-primary-glow shadow-float animate-float-gentle",children:s.jsx(fe,{className:"w-12 h-12 text-primary-foreground"})}),s.jsx("div",{className:"absolute -top-2 -right-2 text-2xl animate-bounce-gentle",style:{animationDelay:"0.5s"},children:""}),s.jsx("div",{className:"absolute -bottom-1 -left-1 text-xl animate-pulse-warm",style:{animationDelay:"1s"},children:""})]})}),s.jsxs("h1",{className:"text-3xl sm:text-5xl md:text-6xl lg:text-8xl font-bold text-foreground tracking-tight leading-tight px-4 sm:px-0",children:["Heart",s.jsx("span",{className:"bg-gradient-to-r from-primary via-primary to-primary bg-clip-text text-transparent font-black drop-shadow-sm",children:"Lift"})]}),s.jsxs("p",{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl text-muted-foreground max-w-3xl mx-auto leading-relaxed font-bold px-4 sm:px-0",children:["Helping your heart heal, grow, and thrive ",s.jsx("br",{className:"block mb-2 sm:mb-3"}),s.jsx("span",{className:"text-base sm:text-lg lg:text-xl block sm:inline mt-2 sm:mt-0 font-medium",children:"Navigate love, heartbreak, and communication with AI coaches who truly understand you"})]})]}),s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 lg:gap-6 max-w-4xl mx-auto px-4 sm:px-0",children:[{icon:yu,title:"AI Coaches with Soul",description:"Four unique personalities ready to support your relationship journey",emoji:"",gradient:"from-pink-400/20 to-rose-400/20"},{icon:fe,title:"Healing Toolkit",description:"No-contact tracker, daily check-ins, and personalised recovery plans",emoji:"",gradient:"from-green-400/20 to-emerald-400/20"},{icon:oa,title:"Growth Tracking",description:"Visualize your emotional journey and celebrate every milestone",emoji:"",gradient:"from-purple-400/20 to-indigo-400/20"}].map((o,a)=>s.jsxs("div",{className:"group p-3 sm:p-4 lg:p-6 xl:p-8 bg-card backdrop-blur-sm rounded-2xl border border-border/40 hover:border-primary/20 hover:shadow-warm transition-all duration-500 hover:scale-[1.02] animate-slide-up relative overflow-hidden",style:{animationDelay:`${a*200}ms`},children:[s.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${o.gradient} opacity-40`}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center justify-center mb-4",children:[s.jsx(o.icon,{className:"w-10 h-10 sm:w-12 sm:h-12 text-primary group-hover:animate-bounce-gentle stroke-[1.5]"}),s.jsx("span",{className:"text-2xl sm:text-3xl ml-2",children:o.emoji})]}),s.jsx("h3",{className:"font-bold text-base sm:text-lg mb-2 sm:mb-3 group-hover:text-primary transition-colors",children:o.title}),s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground leading-relaxed",children:o.description})]})]},o.title))}),s.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[s.jsx("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center items-center",children:s.jsx(H,{variant:"warm",size:"lg",className:"px-6 sm:px-10 py-4 sm:py-4 text-base sm:text-lg font-semibold group relative overflow-hidden w-full sm:w-auto min-h-[48px] shadow-md hover:shadow-lg transition-all duration-300 hover:scale-105",onClick:n,children:s.jsx("span",{className:"relative z-10 flex items-center gap-2",children:r?s.jsxs(s.Fragment,{children:[s.jsx(fe,{className:"w-5 h-5 group-hover:animate-pulse-warm"}),r.created_at&&new Date().getTime()-new Date(r.created_at).getTime()<24*60*60*1e3?"Start Your Journey":"Continue Your Journey"]}):s.jsx(s.Fragment,{children:" Start Your Healing Journey"})})})}),s.jsx("div",{className:"flex justify-center",children:s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-emerald-50 to-green-50 rounded-full border border-emerald-200 shadow-sm",children:[s.jsx("span",{className:"text-lg",children:""}),s.jsx("span",{className:"font-semibold text-emerald-700 text-sm sm:text-base",children:"Free to start"})]})})]}),s.jsx("div",{className:"flex items-center justify-center pt-8 pb-4",children:s.jsxs("span",{className:"flex items-center gap-2 text-muted-foreground text-base sm:text-lg",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Premium from 11.99/month"})]})}),s.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 pt-4 pb-8",children:[s.jsxs("span",{className:"text-muted-foreground text-sm",children:["Need help? Contact us at"," ",s.jsx("a",{href:"mailto:support@heart-lift.com",className:"text-primary hover:text-primary/80 underline transition-colors",children:"support@heart-lift.com"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("a",{href:"/privacy-policy",className:"text-muted-foreground hover:text-primary text-xs underline transition-colors",children:"Privacy Policy"}),s.jsx("span",{className:"text-muted-foreground text-xs",children:""}),s.jsx("a",{href:"/terms-of-service",className:"text-muted-foreground hover:text-primary text-xs underline transition-colors",children:"Terms of Service"})]})]})]})]})},W=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ie("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));W.displayName="Card";const Z=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ie("flex flex-col space-y-1.5 p-6",e),...t}));Z.displayName="CardHeader";const ee=f.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:ie("text-2xl font-semibold leading-none tracking-tight",e),...t}));ee.displayName="CardTitle";const ze=f.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:ie("text-sm text-muted-foreground",e),...t}));ze.displayName="CardDescription";const Y=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ie("p-6 pt-0",e),...t}));Y.displayName="CardContent";const G4=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ie("flex items-center p-6 pt-0",e),...t}));G4.displayName="CardFooter";const Y4=()=>{const{user:e}=Te(),[t,r]=f.useState({}),[n,o]=f.useState(!0);return f.useEffect(()=>{if(!e){o(!1);return}(async()=>{try{const{data:l,error:c}=await J.from("conversation_history").select("coach_id, created_at").eq("user_id",e.id).order("created_at",{ascending:!1});if(c)throw c;const u={};l&&l.forEach(h=>{h.coach_id&&!u[h.coach_id]&&(u[h.coach_id]=new Date(h.created_at))}),r(u)}catch(l){console.error("Error fetching last interactions:",l)}finally{o(!1)}})()},[e]),{getLastInteractionText:i=>{const l=t[i];if(!l)return"Available";const u=new Date().getTime()-l.getTime(),h=Math.floor(u/6e4),d=Math.floor(u/36e5),m=Math.floor(u/864e5);if(h<5)return"Online now";if(h<60)return`Last spoke ${h} min${h!==1?"s":""} ago`;if(d<24)return`Last spoke ${d} hour${d!==1?"s":""} ago`;if(m===1)return"Last spoke yesterday";if(m<7)return`Last spoke ${m} days ago`;if(m<30){const x=Math.floor(m/7);return`Last spoke ${x} week${x!==1?"s":""} ago`}else{const x=Math.floor(m/30);return`Last spoke ${x} month${x!==1?"s":""} ago`}},loading:n}},Q4=[{id:"flirty",name:"Luna Love",icon:fe,emoji:"",description:"Your confidence coach for dating, flirting, and magnetic attraction",personality:"Playful, empowering, flirty, and charmingly bold",specialties:["Dating confidence","Flirting tips","Self-love","Planning fun, adventurous dates"],greetings:["Hi {firstName}! Ready to turn heads today? ","Hey {firstName}, feeling that spark yet? Let's bring it out! ","Hi {firstName}! You've got main character energy and I'm here for it.","Hello {firstName}, let's add a little confidence magic to your day."],color:"from-pink-400 to-rose-500",bgColor:"from-pink-50 to-rose-50",accent:"text-pink-600",shadowColor:"shadow-pink-200/50",backstory:"Luna Love is your confidence coach for dating, flirting, and magnetic attraction. She believes life is a party and you deserve to be the star. Luna always sprinkles sparkle into her words, uses emojis liberally, and never misses a chance to boost your confidence. She's bold but kind, flirty but supportive.",tone:'High energy, witty, playful, slightly cheeky. Uses nicknames ("gorgeous", "superstar"), emojis , and dramatic flair. Luna loves excitement, fun, and helping you shine.',strengths:["Dating confidence","Flirting tips","Self-love","Planning fun, adventurous dates"],quirks:["Always throws in a sparkly emoji ","Speaks like a bestie hyping you up before a party","Loves bold colors, cocktails, dance floors, rooftop bars"],abilities:["Give quick dating confidence boosts","Suggest flirty conversation starters","Plan fun, adventurous date ideas tailored to the user's mood, budget, and vibe","Offer playful self-love reminders"],scenarios:[{trigger:"plan a date",response:"Ooooh, date night!  Tell me the vibe you're feeling:  Glam night out (dress to impress)  Cute & creative (arts, classes, DIY fun)  Chill & cozy (picnic, stargazing, blankets)  Spontaneous adventure (day trip, rooftop, live show) I'll whip up some irresistible ideas for you!"},{trigger:"feeling nervous",response:"Babe, nerves are just excitement in disguise . Take a deep breath, throw on your fave outfit, and remember: YOU are the magic tonight . Want me to drop a confidence-boosting mantra?"}],exampleDialogues:[{user:"Luna, can you plan me a fun first date?",coach:"Absolutely, gorgeous!  First dates should sparkle. If you're up for playful fun, how about mini-golf + milkshakes?  Or if you're feeling glam, cocktails at a rooftop bar with skyline views . Which vibe is calling to you?"},{user:"I'm worried my date will be boring.",coach:"Impossible! With YOU there, boring isn't an option . But just in case, here's a cheeky plan: suggest a game of '2 truths & a lie' over dinner . Instant fun, instant flirty energy!"}]},{id:"therapist",name:"Dr. Sage",icon:Wr,emoji:"",description:"Relationship wellbeing coach specializing in attachment and relationship patterns",personality:"Compassionate, insightful, and evidence-based",specialties:["Attachment theory","Communication skills","Healing trauma","Intimacy-focused date planning"],greetings:["Hi {firstName}, I'm here to help you understand yourself better.","Hello {firstName}. Let's take a moment to pause and reflect together.","Hi {firstName}, what's been on your mind lately? I'm listening.","Hi {firstName}. You've taken the first step just by showing up and that matters."],color:"from-purple-400 to-indigo-500",bgColor:"from-purple-50 to-indigo-50",accent:"text-purple-600",shadowColor:"shadow-purple-200/50",backstory:"Dr. Sage is a relationship wellbeing coach specializing in attachment and relationship patterns. They help you understand yourself and your partner at a deep level.",tone:"Gentle, wise, calm, reflective. Uses validating language and evidence-based insights. No emojis overloadjust thoughtful guidance.",strengths:["Attachment theory","Communication skills","Healing trauma","Intimacy-focused date planning"],quirks:["Often references research or psychology","Encourages journaling or reflection"],abilities:["Guide users through reflective exercises","Explain attachment styles and patterns","Plan dates that deepen emotional connection"],scenarios:[{trigger:"plan a date",response:"For deep connection, consider: - Heartfelt conversation over coffee or tea  - Couples journaling + sharing - Cooking a meal together  - Visiting an art exhibit and reflecting on what resonates"}],exampleDialogues:[{user:"Dr. Sage, plan us a date.",coach:"A quiet dinner where you ask each other meaningful questions could strengthen your bond. Would you like me to suggest prompts?"},{user:"I feel anxious before dates.",coach:"That's natural. Anxiety often comes from attachment triggers. Let's explore what feels unsafe for you, then plan a date that supports safety."}]},{id:"tough-love",name:"Phoenix Fire",icon:_i,emoji:"",description:"Your no-BS mentor for radical self-transformation and boundary setting",personality:"Direct, motivating, and courageously honest",specialties:["Tough love coaching","Setting boundaries","Self-respect","Bold, adventurous date planning"],greetings:["Hey {firstName}! I'm Phoenix, your no BS mentor for self transformation. Ready to light things up? ","Hi {firstName}, I'm here to help you set boundaries, own your power, and make real change.","Hello {firstName}! Time for some straight talk. Let's cut through the noise and get you feeling strong again.","Hey {firstName}, growth takes courage and you already have what it takes."],color:"from-orange-400 to-red-500",bgColor:"from-orange-50 to-red-50",accent:"text-orange-600",shadowColor:"shadow-orange-200/50",backstory:"Phoenix Fire is your no-BS mentor for radical self-transformation. They thrive on honesty, empowerment, and helping you set strong boundaries. Phoenix pushes you out of your comfort zonealways with love, never with fluff.",tone:'Bold, fiery, motivational. Uses phrases like "level up," "real talk," and "own your power." Limited emojis for emphasis.',strengths:["Tough love coaching","Setting boundaries","Self-respect","Bold, adventurous date planning"],quirks:["Calls out excuses directly","Loves challenges, adrenaline, and transformation"],abilities:["Challenge users to step outside comfort zones","Coach on boundaries and respect","Plan bold, unforgettable dates"],scenarios:[{trigger:"plan a date",response:"Let's cut the fluff. You want a date that leaves you buzzing? Try: - Rock climbing or indoor bouldering  - Karaoke showdown  - Spicy food challenge  - Road trip to somewhere new "}],exampleDialogues:[{user:"Phoenix, I want a date idea.",coach:"Stop playing it safe. Go for karaoke night nothing builds connection like courage on stage."},{user:"I feel insecure.",coach:"Own it. You're stronger than you think . Book that bold date and prove it."}]},{id:"chill",name:"River Calm",icon:b0,emoji:"",description:"Your laid-back friend for mindful healing and gentle perspective",personality:"Zen, supportive, and naturally wise",specialties:["Mindfulness","Gentle healing","Offering perspective","Tranquil, grounding date planning"],greetings:["Hello {firstName}, I'm River. Take a deep breath and let's find your calm together.","Hi {firstName}. I'm here to offer you a peaceful space to reflect and release what's been heavy.","Hey {firstName}, take a moment to pause and reconnect. Let's find your balance again.","Hi {firstName}. You've arrived in a safe and gentle space. What's been flowing through your mind today?"],color:"from-emerald-400 to-teal-500",bgColor:"from-emerald-50 to-teal-50",accent:"text-emerald-600",shadowColor:"shadow-emerald-200/50",backstory:"River Calm is your laid-back friend for mindful healing and gentle perspective. They remind you to breathe, slow down, and nurture connection with presence.",tone:"Warm, supportive, slow-paced. Encourages grounding, mindfulness, and gentle healing. Uses nature-inspired metaphors and soft emojis .",strengths:["Mindfulness","Gentle healing","Offering perspective","Tranquil, grounding date planning"],quirks:["Always reminds you to breathe","Loves nature and simple pleasures"],abilities:["Guide users through calming practices","Suggest grounding reflections","Plan tranquil, nurturing dates"],scenarios:[{trigger:"plan a date",response:"Let's keep it gentle and nourishing: - Sunset picnic by the water  - Nature walk with mindful pauses  - Stargazing with blankets  - Tea ceremony at home "}],exampleDialogues:[{user:"River, can you plan a date?",coach:"How about a quiet evening under the stars warm blankets, soft music, and no rush."},{user:"I feel stressed about dating.",coach:"Take a deep breath . Stress is a waveyou don't need to fight it, just let it pass. Want me to suggest a calming date idea?"}]}],Xy=({onSelectCoach:e,selectedCoach:t,compact:r=!1})=>{const{getLastInteractionText:n,loading:o}=Y4();return s.jsxs("div",{className:"space-y-8 animate-fade-in",children:[!r&&s.jsxs("div",{className:"text-center space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(it,{className:"w-6 h-6 text-primary animate-pulse-warm"}),s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Meet Your Coaches"}),s.jsx(it,{className:"w-6 h-6 text-primary animate-pulse-warm"})]}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"Each coach brings their unique personality and wisdom to guide your journey"})]}),s.jsx("div",{className:`grid gap-4 sm:gap-6 ${r?"grid-cols-2 sm:grid-cols-4 lg:grid-cols-1":"grid-cols-1 sm:grid-cols-2"}`,children:Q4.map((a,i)=>{const l=a.icon,c=t===a.id;return s.jsxs(W,{className:`cursor-pointer transition-all duration-500 hover:scale-[1.02] group relative overflow-hidden animate-fade-in-scale ${c?"ring-2 ring-primary shadow-float bg-gradient-to-br "+a.bgColor:"hover:shadow-warm bg-card"}`,style:{animationDelay:`${i*150}ms`},onClick:()=>e(a.id),children:[s.jsx("div",{className:`absolute -top-10 -right-10 w-20 h-20 bg-gradient-to-r ${a.color} rounded-full opacity-10 group-hover:scale-150 transition-transform duration-700`}),s.jsx(Z,{className:`pb-2 sm:pb-6 relative ${r?"p-2 sm:p-8":"p-4 sm:p-8"}`,children:s.jsxs("div",{className:`flex items-start ${r?"flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-6":"space-x-4 sm:space-x-6"}`,children:[s.jsxs("div",{className:`relative ${r?"p-2 sm:p-4":"p-3 sm:p-4"} rounded-2xl bg-gradient-to-r ${a.color} shadow-lg group-hover:animate-bounce-gentle ${r?"mx-auto sm:mx-0":""}`,children:[s.jsx(l,{className:`${r?"w-4 h-4 sm:w-8 sm:h-8":"w-6 h-6 sm:w-8 sm:h-8"} text-white`}),s.jsx("div",{className:`absolute -top-1 -right-1 ${r?"text-sm sm:text-2xl":"text-xl sm:text-2xl"}`,children:a.emoji})]}),s.jsxs("div",{className:`flex-1 ${r?"text-center sm:text-left":""}`,children:[s.jsx(ee,{className:`${r?"text-base sm:text-2xl":"text-lg sm:text-2xl"} mb-1 sm:mb-2 group-hover:text-primary transition-colors`,children:a.name}),s.jsx(ze,{className:`${r?"text-xs sm:text-base hidden sm:block":"text-sm sm:text-base"} font-medium ${a.accent}`,children:a.personality}),s.jsx("div",{className:`flex items-center gap-1 mt-1 ${r?"justify-center sm:justify-start text-xs":"text-xs sm:text-sm"}`,children:o?s.jsx("span",{className:"text-muted-foreground italic",children:"Loading..."}):n(a.id).includes("Online")?s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"relative flex h-2 w-2",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),s.jsx("span",{className:"text-green-600 font-medium",children:n(a.id)})]}):s.jsx("span",{className:"text-muted-foreground italic",children:n(a.id)})})]}),c&&s.jsx(sa,{className:`${r?"w-4 h-4 sm:w-6 sm:h-6":"w-5 h-5 sm:w-6 sm:h-6"} text-primary animate-pulse-warm`})]})}),s.jsxs(Y,{className:`space-y-2 sm:space-y-6 ${r?"p-2 sm:p-8":"p-4 sm:p-8"}`,children:[!r&&s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground leading-relaxed",children:a.description}),!r&&s.jsx("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:a.specialties.map(u=>s.jsx("span",{className:`px-2 py-1 sm:px-3 sm:py-2 text-xs sm:text-sm rounded-full bg-gradient-to-r ${a.color} text-white shadow-sm`,children:u},u))}),!r&&s.jsx("div",{className:`p-3 sm:p-4 rounded-lg bg-gradient-to-r ${a.bgColor} border border-current border-opacity-10`,children:s.jsxs("p",{className:`text-sm sm:text-base italic ${a.accent} font-medium`,children:['"',a.greetings[0],'"']})}),s.jsx(H,{variant:c?a.id:"gentle",size:r?"sm":"lg",className:`w-full transition-all duration-300 ${r?"text-xs sm:text-base h-8 sm:h-12":"h-12 sm:h-14 text-base sm:text-lg"}`,onClick:u=>{u.stopPropagation(),e(a.id)},children:c?s.jsxs("span",{className:"flex items-center gap-1 sm:gap-2",children:[s.jsx(sa,{className:`${r?"w-3 h-3 sm:w-4 sm:h-4":"w-4 h-4"}`}),s.jsx("span",{className:r?"hidden sm:inline":"",children:"Your Coach"}),s.jsx("span",{className:r?"sm:hidden":"hidden",children:""})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:r?"hidden sm:inline":"",children:`Chat with ${a.name.split(" ")[0]}`}),s.jsx("span",{className:r?"sm:hidden":"hidden",children:a.name.split(" ")[0]})]})})]})]},a.id)})})]})},ot=f.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:ie("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));ot.displayName="Input";var J4=f.createContext(void 0);function ja(e){const t=f.useContext(J4);return e||t||"ltr"}function wf(e,[t,r]){return Math.min(r,Math.max(t,e))}function X4(e,t){return f.useReducer((r,n)=>t[r][n]??r,e)}var rp="ScrollArea",[ej]=It(rp),[Z4,mr]=ej(rp),tj=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:o,scrollHideDelay:a=600,...i}=e,[l,c]=f.useState(null),[u,h]=f.useState(null),[d,m]=f.useState(null),[x,b]=f.useState(null),[y,w]=f.useState(null),[p,g]=f.useState(0),[v,j]=f.useState(0),[N,S]=f.useState(!1),[_,C]=f.useState(!1),A=ye(t,z=>c(z)),E=ja(o);return s.jsx(Z4,{scope:r,type:n,dir:E,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:h,content:d,onContentChange:m,scrollbarX:x,onScrollbarXChange:b,scrollbarXEnabled:N,onScrollbarXEnabledChange:S,scrollbarY:y,onScrollbarYChange:w,scrollbarYEnabled:_,onScrollbarYEnabledChange:C,onCornerWidthChange:g,onCornerHeightChange:j,children:s.jsx(ae.div,{dir:E,...i,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":p+"px","--radix-scroll-area-corner-height":v+"px",...e.style}})})});tj.displayName=rp;var rj="ScrollAreaViewport",nj=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:o,...a}=e,i=mr(rj,r),l=f.useRef(null),c=ye(t,l,i.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),s.jsx(ae.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});nj.displayName=rj;var en="ScrollAreaScrollbar",np=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=mr(en,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=o,l=e.orientation==="horizontal";return f.useEffect(()=>(l?a(!0):i(!0),()=>{l?a(!1):i(!1)}),[l,a,i]),o.type==="hover"?s.jsx(eO,{...n,ref:t,forceMount:r}):o.type==="scroll"?s.jsx(tO,{...n,ref:t,forceMount:r}):o.type==="auto"?s.jsx(sj,{...n,ref:t,forceMount:r}):o.type==="always"?s.jsx(sp,{...n,ref:t}):null});np.displayName=en;var eO=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=mr(en,e.__scopeScrollArea),[a,i]=f.useState(!1);return f.useEffect(()=>{const l=o.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},h=()=>{c=window.setTimeout(()=>i(!1),o.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",h)}}},[o.scrollArea,o.scrollHideDelay]),s.jsx(gt,{present:r||a,children:s.jsx(sj,{"data-state":a?"visible":"hidden",...n,ref:t})})}),tO=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=mr(en,e.__scopeScrollArea),a=e.orientation==="horizontal",i=Mu(()=>c("SCROLL_END"),100),[l,c]=X4("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,o.scrollHideDelay,c]),f.useEffect(()=>{const u=o.viewport,h=a?"scrollLeft":"scrollTop";if(u){let d=u[h];const m=()=>{const x=u[h];d!==x&&(c("SCROLL"),i()),d=x};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[o.viewport,a,c,i]),s.jsx(gt,{present:r||l!=="hidden",children:s.jsx(sp,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Q(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Q(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),sj=f.forwardRef((e,t)=>{const r=mr(en,e.__scopeScrollArea),{forceMount:n,...o}=e,[a,i]=f.useState(!1),l=e.orientation==="horizontal",c=Mu(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,h=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?u:h)}},10);return ca(r.viewport,c),ca(r.content,c),s.jsx(gt,{present:n||a,children:s.jsx(sp,{"data-state":a?"visible":"hidden",...o,ref:t})})}),sp=f.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,o=mr(en,e.__scopeScrollArea),a=f.useRef(null),i=f.useRef(0),[l,c]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=cj(l.viewport,l.content),h={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function d(m,x){return iO(m,i.current,l,x)}return r==="horizontal"?s.jsx(rO,{...h,ref:t,onThumbPositionChange:()=>{if(o.viewport&&a.current){const m=o.viewport.scrollLeft,x=Zy(m,l,o.dir);a.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:m=>{o.viewport&&(o.viewport.scrollLeft=m)},onDragScroll:m=>{o.viewport&&(o.viewport.scrollLeft=d(m,o.dir))}}):r==="vertical"?s.jsx(nO,{...h,ref:t,onThumbPositionChange:()=>{if(o.viewport&&a.current){const m=o.viewport.scrollTop,x=Zy(m,l);a.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:m=>{o.viewport&&(o.viewport.scrollTop=m)},onDragScroll:m=>{o.viewport&&(o.viewport.scrollTop=d(m))}}):null}),rO=f.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...o}=e,a=mr(en,e.__scopeScrollArea),[i,l]=f.useState(),c=f.useRef(null),u=ye(t,c,a.onScrollbarXChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(aj,{"data-orientation":"horizontal",...o,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ou(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,d)=>{if(a.viewport){const m=a.viewport.scrollLeft+h.deltaX;e.onWheelScroll(m),dj(m,d)&&h.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Hc(i.paddingLeft),paddingEnd:Hc(i.paddingRight)}})}})}),nO=f.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...o}=e,a=mr(en,e.__scopeScrollArea),[i,l]=f.useState(),c=f.useRef(null),u=ye(t,c,a.onScrollbarYChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(aj,{"data-orientation":"vertical",...o,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ou(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,d)=>{if(a.viewport){const m=a.viewport.scrollTop+h.deltaY;e.onWheelScroll(m),dj(m,d)&&h.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Hc(i.paddingTop),paddingEnd:Hc(i.paddingBottom)}})}})}),[sO,oj]=ej(en),aj=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:o,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:h,onResize:d,...m}=e,x=mr(en,r),[b,y]=f.useState(null),w=ye(t,A=>y(A)),p=f.useRef(null),g=f.useRef(""),v=x.viewport,j=n.content-n.viewport,N=qe(h),S=qe(c),_=Mu(d,10);function C(A){if(p.current){const E=A.clientX-p.current.left,z=A.clientY-p.current.top;u({x:E,y:z})}}return f.useEffect(()=>{const A=E=>{const z=E.target;(b==null?void 0:b.contains(z))&&N(E,j)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[v,b,j,N]),f.useEffect(S,[n,S]),ca(b,_),ca(x.content,_),s.jsx(sO,{scope:r,scrollbar:b,hasThumb:o,onThumbChange:qe(a),onThumbPointerUp:qe(i),onThumbPositionChange:S,onThumbPointerDown:qe(l),children:s.jsx(ae.div,{...m,ref:w,style:{position:"absolute",...m.style},onPointerDown:Q(e.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),p.current=b.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),C(A))}),onPointerMove:Q(e.onPointerMove,C),onPointerUp:Q(e.onPointerUp,A=>{const E=A.target;E.hasPointerCapture(A.pointerId)&&E.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=g.current,x.viewport&&(x.viewport.style.scrollBehavior=""),p.current=null})})})}),zc="ScrollAreaThumb",ij=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=oj(zc,e.__scopeScrollArea);return s.jsx(gt,{present:r||o.hasThumb,children:s.jsx(oO,{ref:t,...n})})}),oO=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...o}=e,a=mr(zc,r),i=oj(zc,r),{onThumbPositionChange:l}=i,c=ye(t,d=>i.onThumbChange(d)),u=f.useRef(void 0),h=Mu(()=>{u.current&&(u.current(),u.current=void 0)},100);return f.useEffect(()=>{const d=a.viewport;if(d){const m=()=>{if(h(),!u.current){const x=lO(d,l);u.current=x,l()}};return l(),d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[a.viewport,h,l]),s.jsx(ae.div,{"data-state":i.hasThumb?"visible":"hidden",...o,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Q(e.onPointerDownCapture,d=>{const x=d.target.getBoundingClientRect(),b=d.clientX-x.left,y=d.clientY-x.top;i.onThumbPointerDown({x:b,y})}),onPointerUp:Q(e.onPointerUp,i.onThumbPointerUp)})});ij.displayName=zc;var op="ScrollAreaCorner",lj=f.forwardRef((e,t)=>{const r=mr(op,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(aO,{...e,ref:t}):null});lj.displayName=op;var aO=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,o=mr(op,r),[a,i]=f.useState(0),[l,c]=f.useState(0),u=!!(a&&l);return ca(o.scrollbarX,()=>{var d;const h=((d=o.scrollbarX)==null?void 0:d.offsetHeight)||0;o.onCornerHeightChange(h),c(h)}),ca(o.scrollbarY,()=>{var d;const h=((d=o.scrollbarY)==null?void 0:d.offsetWidth)||0;o.onCornerWidthChange(h),i(h)}),u?s.jsx(ae.div,{...n,ref:t,style:{width:a,height:l,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Hc(e){return e?parseInt(e,10):0}function cj(e,t){const r=e/t;return isNaN(r)?0:r}function Ou(e){const t=cj(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function iO(e,t,r,n="ltr"){const o=Ou(r),a=o/2,i=t||a,l=o-i,c=r.scrollbar.paddingStart+i,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,h=r.content-r.viewport,d=n==="ltr"?[0,h]:[h*-1,0];return uj([c,u],d)(e)}function Zy(e,t,r="ltr"){const n=Ou(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-o,i=t.content-t.viewport,l=a-n,c=r==="ltr"?[0,i]:[i*-1,0],u=wf(e,c);return uj([0,i],[0,l])(u)}function uj(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function dj(e,t){return e>0&&e<t}var lO=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function o(){const a={left:e.scrollLeft,top:e.scrollTop},i=r.left!==a.left,l=r.top!==a.top;(i||l)&&t(),r=a,n=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(n)};function Mu(e,t){const r=qe(e),n=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(n.current),[]),f.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function ca(e,t){const r=qe(t);lt(()=>{let n=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return o.observe(e),()=>{window.cancelAnimationFrame(n),o.unobserve(e)}}},[e,r])}var hj=tj,cO=nj,uO=lj;const ap=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(hj,{ref:n,className:ie("relative overflow-hidden",e),...r,children:[s.jsx(cO,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(fj,{}),s.jsx(uO,{})]}));ap.displayName=hj.displayName;const fj=f.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(np,{ref:n,orientation:t,className:ie("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(ij,{className:"relative flex-1 rounded-full bg-border"})}));fj.displayName=np.displayName;var Hd="focusScope.autoFocusOnMount",Bd="focusScope.autoFocusOnUnmount",ev={bubbles:!1,cancelable:!0},dO="FocusScope",Du=f.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...i}=e,[l,c]=f.useState(null),u=qe(o),h=qe(a),d=f.useRef(null),m=ye(t,y=>c(y)),x=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(n){let y=function(v){if(x.paused||!l)return;const j=v.target;l.contains(j)?d.current=j:On(d.current,{select:!0})},w=function(v){if(x.paused||!l)return;const j=v.relatedTarget;j!==null&&(l.contains(j)||On(d.current,{select:!0}))},p=function(v){if(document.activeElement===document.body)for(const N of v)N.removedNodes.length>0&&On(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",w);const g=new MutationObserver(p);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),g.disconnect()}}},[n,l,x.paused]),f.useEffect(()=>{if(l){rv.add(x);const y=document.activeElement;if(!l.contains(y)){const p=new CustomEvent(Hd,ev);l.addEventListener(Hd,u),l.dispatchEvent(p),p.defaultPrevented||(hO(yO(mj(l)),{select:!0}),document.activeElement===y&&On(l))}return()=>{l.removeEventListener(Hd,u),setTimeout(()=>{const p=new CustomEvent(Bd,ev);l.addEventListener(Bd,h),l.dispatchEvent(p),p.defaultPrevented||On(y??document.body,{select:!0}),l.removeEventListener(Bd,h),rv.remove(x)},0)}}},[l,u,h,x]);const b=f.useCallback(y=>{if(!r&&!n||x.paused)return;const w=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,p=document.activeElement;if(w&&p){const g=y.currentTarget,[v,j]=fO(g);v&&j?!y.shiftKey&&p===j?(y.preventDefault(),r&&On(v,{select:!0})):y.shiftKey&&p===v&&(y.preventDefault(),r&&On(j,{select:!0})):p===g&&y.preventDefault()}},[r,n,x.paused]);return s.jsx(ae.div,{tabIndex:-1,...i,ref:m,onKeyDown:b})});Du.displayName=dO;function hO(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(On(n,{select:t}),document.activeElement!==r)return}function fO(e){const t=mj(e),r=tv(t,e),n=tv(t.reverse(),e);return[r,n]}function mj(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function tv(e,t){for(const r of e)if(!mO(r,{upTo:t}))return r}function mO(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function pO(e){return e instanceof HTMLInputElement&&"select"in e}function On(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&pO(e)&&t&&e.select()}}var rv=gO();function gO(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=nv(e,t),e.unshift(t)},remove(t){var r;e=nv(e,t),(r=e[0])==null||r.resume()}}}function nv(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function yO(e){return e.filter(t=>t.tagName!=="A")}var Wd=0;function ip(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??sv()),document.body.insertAdjacentElement("beforeend",e[1]??sv()),Wd++,()=>{Wd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Wd--}},[])}function sv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Vr=function(){return Vr=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Vr.apply(this,arguments)};function pj(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function vO(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,a;n<o;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var tc="right-scroll-bar-position",rc="width-before-scroll-bar",xO="with-scroll-bars-hidden",wO="--removed-body-scroll-bar-size";function Vd(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function bO(e,t){var r=f.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var o=r.value;o!==n&&(r.value=n,r.callback(n,o))}}}})[0];return r.callback=t,r.facade}var jO=typeof window<"u"?f.useLayoutEffect:f.useEffect,ov=new WeakMap;function NO(e,t){var r=bO(null,function(n){return e.forEach(function(o){return Vd(o,n)})});return jO(function(){var n=ov.get(r);if(n){var o=new Set(n),a=new Set(e),i=r.current;o.forEach(function(l){a.has(l)||Vd(l,null)}),a.forEach(function(l){o.has(l)||Vd(l,i)})}ov.set(r,e)},[e]),r}function SO(e){return e}function _O(e,t){t===void 0&&(t=SO);var r=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var i=t(a,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(a){for(n=!0;r.length;){var i=r;r=[],i.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(a),i=r}var c=function(){var h=i;i=[],h.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(h){i.push(h),u()},filter:function(h){return i=i.filter(h),r}}}};return o}function CO(e){e===void 0&&(e={});var t=_O(null);return t.options=Vr({async:!0,ssr:!1},e),t}var gj=function(e){var t=e.sideCar,r=pj(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return f.createElement(n,Vr({},r))};gj.isSideCarExport=!0;function kO(e,t){return e.useMedium(t),gj}var yj=CO(),qd=function(){},Lu=f.forwardRef(function(e,t){var r=f.useRef(null),n=f.useState({onScrollCapture:qd,onWheelCapture:qd,onTouchMoveCapture:qd}),o=n[0],a=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,h=e.enabled,d=e.shards,m=e.sideCar,x=e.noRelative,b=e.noIsolation,y=e.inert,w=e.allowPinchZoom,p=e.as,g=p===void 0?"div":p,v=e.gapMode,j=pj(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=m,S=NO([r,t]),_=Vr(Vr({},j),o);return f.createElement(f.Fragment,null,h&&f.createElement(N,{sideCar:yj,removeScrollBar:u,shards:d,noRelative:x,noIsolation:b,inert:y,setCallbacks:a,allowPinchZoom:!!w,lockRef:r,gapMode:v}),i?f.cloneElement(f.Children.only(l),Vr(Vr({},_),{ref:S})):f.createElement(g,Vr({},_,{className:c,ref:S}),l))});Lu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Lu.classNames={fullWidth:rc,zeroRight:tc};var EO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function PO(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=EO();return t&&e.setAttribute("nonce",t),e}function TO(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function RO(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var AO=function(){var e=0,t=null;return{add:function(r){e==0&&(t=PO())&&(TO(t,r),RO(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},IO=function(){var e=AO();return function(t,r){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},vj=function(){var e=IO(),t=function(r){var n=r.styles,o=r.dynamic;return e(n,o),null};return t},OO={left:0,top:0,right:0,gap:0},Kd=function(e){return parseInt(e||"",10)||0},MO=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Kd(r),Kd(n),Kd(o)]},DO=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return OO;var t=MO(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},LO=vj(),zo="data-scroll-locked",$O=function(e,t,r,n){var o=e.left,a=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(xO,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(zo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(tc,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(rc,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(tc," .").concat(tc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(rc," .").concat(rc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(zo,`] {
    `).concat(wO,": ").concat(l,`px;
  }
`)},av=function(){var e=parseInt(document.body.getAttribute(zo)||"0",10);return isFinite(e)?e:0},FO=function(){f.useEffect(function(){return document.body.setAttribute(zo,(av()+1).toString()),function(){var e=av()-1;e<=0?document.body.removeAttribute(zo):document.body.setAttribute(zo,e.toString())}},[])},UO=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,o=n===void 0?"margin":n;FO();var a=f.useMemo(function(){return DO(o)},[o]);return f.createElement(LO,{styles:$O(a,!t,o,r?"":"!important")})},bf=!1;if(typeof window<"u")try{var Ol=Object.defineProperty({},"passive",{get:function(){return bf=!0,!0}});window.addEventListener("test",Ol,Ol),window.removeEventListener("test",Ol,Ol)}catch{bf=!1}var mo=bf?{passive:!1}:!1,zO=function(e){return e.tagName==="TEXTAREA"},xj=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!zO(e)&&r[t]==="visible")},HO=function(e){return xj(e,"overflowY")},BO=function(e){return xj(e,"overflowX")},iv=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=wj(e,n);if(o){var a=bj(e,n),i=a[1],l=a[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},WO=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},VO=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},wj=function(e,t){return e==="v"?HO(t):BO(t)},bj=function(e,t){return e==="v"?WO(t):VO(t)},qO=function(e,t){return e==="h"&&t==="rtl"?-1:1},KO=function(e,t,r,n,o){var a=qO(e,window.getComputedStyle(t).direction),i=a*n,l=r.target,c=t.contains(l),u=!1,h=i>0,d=0,m=0;do{if(!l)break;var x=bj(e,l),b=x[0],y=x[1],w=x[2],p=y-w-a*b;(b||p)&&wj(e,l)&&(d+=p,m+=b);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&Math.abs(d)<1||!h&&Math.abs(m)<1)&&(u=!0),u},Ml=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},lv=function(e){return[e.deltaX,e.deltaY]},cv=function(e){return e&&"current"in e?e.current:e},GO=function(e,t){return e[0]===t[0]&&e[1]===t[1]},YO=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},QO=0,po=[];function JO(e){var t=f.useRef([]),r=f.useRef([0,0]),n=f.useRef(),o=f.useState(QO++)[0],a=f.useState(vj)[0],i=f.useRef(e);f.useEffect(function(){i.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var y=vO([e.lockRef.current],(e.shards||[]).map(cv),!0).filter(Boolean);return y.forEach(function(w){return w.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),y.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var l=f.useCallback(function(y,w){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!i.current.allowPinchZoom;var p=Ml(y),g=r.current,v="deltaX"in y?y.deltaX:g[0]-p[0],j="deltaY"in y?y.deltaY:g[1]-p[1],N,S=y.target,_=Math.abs(v)>Math.abs(j)?"h":"v";if("touches"in y&&_==="h"&&S.type==="range")return!1;var C=iv(_,S);if(!C)return!0;if(C?N=_:(N=_==="v"?"h":"v",C=iv(_,S)),!C)return!1;if(!n.current&&"changedTouches"in y&&(v||j)&&(n.current=N),!N)return!0;var A=n.current||N;return KO(A,w,y,A==="h"?v:j)},[]),c=f.useCallback(function(y){var w=y;if(!(!po.length||po[po.length-1]!==a)){var p="deltaY"in w?lv(w):Ml(w),g=t.current.filter(function(N){return N.name===w.type&&(N.target===w.target||w.target===N.shadowParent)&&GO(N.delta,p)})[0];if(g&&g.should){w.cancelable&&w.preventDefault();return}if(!g){var v=(i.current.shards||[]).map(cv).filter(Boolean).filter(function(N){return N.contains(w.target)}),j=v.length>0?l(w,v[0]):!i.current.noIsolation;j&&w.cancelable&&w.preventDefault()}}},[]),u=f.useCallback(function(y,w,p,g){var v={name:y,delta:w,target:p,should:g,shadowParent:XO(p)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(j){return j!==v})},1)},[]),h=f.useCallback(function(y){r.current=Ml(y),n.current=void 0},[]),d=f.useCallback(function(y){u(y.type,lv(y),y.target,l(y,e.lockRef.current))},[]),m=f.useCallback(function(y){u(y.type,Ml(y),y.target,l(y,e.lockRef.current))},[]);f.useEffect(function(){return po.push(a),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:m}),document.addEventListener("wheel",c,mo),document.addEventListener("touchmove",c,mo),document.addEventListener("touchstart",h,mo),function(){po=po.filter(function(y){return y!==a}),document.removeEventListener("wheel",c,mo),document.removeEventListener("touchmove",c,mo),document.removeEventListener("touchstart",h,mo)}},[]);var x=e.removeScrollBar,b=e.inert;return f.createElement(f.Fragment,null,b?f.createElement(a,{styles:YO(o)}):null,x?f.createElement(UO,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function XO(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const ZO=kO(yj,JO);var $u=f.forwardRef(function(e,t){return f.createElement(Lu,Vr({},e,{ref:t,sideCar:ZO}))});$u.classNames=Lu.classNames;var eM=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},go=new WeakMap,Dl=new WeakMap,Ll={},Gd=0,jj=function(e){return e&&(e.host||jj(e.parentNode))},tM=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=jj(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},rM=function(e,t,r,n){var o=tM(t,Array.isArray(e)?e:[e]);Ll[r]||(Ll[r]=new WeakMap);var a=Ll[r],i=[],l=new Set,c=new Set(o),u=function(d){!d||l.has(d)||(l.add(d),u(d.parentNode))};o.forEach(u);var h=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(m){if(l.has(m))h(m);else try{var x=m.getAttribute(n),b=x!==null&&x!=="false",y=(go.get(m)||0)+1,w=(a.get(m)||0)+1;go.set(m,y),a.set(m,w),i.push(m),y===1&&b&&Dl.set(m,!0),w===1&&m.setAttribute(r,"true"),b||m.setAttribute(n,"true")}catch(p){console.error("aria-hidden: cannot operate on ",m,p)}})};return h(t),l.clear(),Gd++,function(){i.forEach(function(d){var m=go.get(d)-1,x=a.get(d)-1;go.set(d,m),a.set(d,x),m||(Dl.has(d)||d.removeAttribute(n),Dl.delete(d)),x||d.removeAttribute(r)}),Gd--,Gd||(go=new WeakMap,go=new WeakMap,Dl=new WeakMap,Ll={})}},lp=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),o=eM(e);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live], script"))),rM(n,o,r,"aria-hidden")):function(){return null}},Fu="Dialog",[Nj]=It(Fu),[nM,Or]=Nj(Fu),Sj=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:o,onOpenChange:a,modal:i=!0}=e,l=f.useRef(null),c=f.useRef(null),[u,h]=wn({prop:n,defaultProp:o??!1,onChange:a,caller:Fu});return s.jsx(nM,{scope:t,triggerRef:l,contentRef:c,contentId:Yr(),titleId:Yr(),descriptionId:Yr(),open:u,onOpenChange:h,onOpenToggle:f.useCallback(()=>h(d=>!d),[h]),modal:i,children:r})};Sj.displayName=Fu;var _j="DialogTrigger",sM=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Or(_j,r),a=ye(t,o.triggerRef);return s.jsx(ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":dp(o.open),...n,ref:a,onClick:Q(e.onClick,o.onOpenToggle)})});sM.displayName=_j;var cp="DialogPortal",[oM,Cj]=Nj(cp,{forceMount:void 0}),kj=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:o}=e,a=Or(cp,t);return s.jsx(oM,{scope:t,forceMount:r,children:f.Children.map(n,i=>s.jsx(gt,{present:r||a.open,children:s.jsx(Vi,{asChild:!0,container:o,children:i})}))})};kj.displayName=cp;var Bc="DialogOverlay",Ej=f.forwardRef((e,t)=>{const r=Cj(Bc,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,a=Or(Bc,e.__scopeDialog);return a.modal?s.jsx(gt,{present:n||a.open,children:s.jsx(iM,{...o,ref:t})}):null});Ej.displayName=Bc;var aM=Ws("DialogOverlay.RemoveScroll"),iM=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Or(Bc,r);return s.jsx($u,{as:aM,allowPinchZoom:!0,shards:[o.contentRef],children:s.jsx(ae.div,{"data-state":dp(o.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ys="DialogContent",Pj=f.forwardRef((e,t)=>{const r=Cj(Ys,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,a=Or(Ys,e.__scopeDialog);return s.jsx(gt,{present:n||a.open,children:a.modal?s.jsx(lM,{...o,ref:t}):s.jsx(cM,{...o,ref:t})})});Pj.displayName=Ys;var lM=f.forwardRef((e,t)=>{const r=Or(Ys,e.__scopeDialog),n=f.useRef(null),o=ye(t,r.contentRef,n);return f.useEffect(()=>{const a=n.current;if(a)return lp(a)},[]),s.jsx(Tj,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Q(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Q(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&a.preventDefault()}),onFocusOutside:Q(e.onFocusOutside,a=>a.preventDefault())})}),cM=f.forwardRef((e,t)=>{const r=Or(Ys,e.__scopeDialog),n=f.useRef(!1),o=f.useRef(!1);return s.jsx(Tj,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const i=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),Tj=f.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:a,...i}=e,l=Or(Ys,r),c=f.useRef(null),u=ye(t,c);return ip(),s.jsxs(s.Fragment,{children:[s.jsx(Du,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:a,children:s.jsx(fa,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":dp(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(uM,{titleId:l.titleId}),s.jsx(hM,{contentRef:c,descriptionId:l.descriptionId})]})]})}),up="DialogTitle",Rj=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Or(up,r);return s.jsx(ae.h2,{id:o.titleId,...n,ref:t})});Rj.displayName=up;var Aj="DialogDescription",Ij=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Or(Aj,r);return s.jsx(ae.p,{id:o.descriptionId,...n,ref:t})});Ij.displayName=Aj;var Oj="DialogClose",Mj=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Or(Oj,r);return s.jsx(ae.button,{type:"button",...n,ref:t,onClick:Q(e.onClick,()=>o.onOpenChange(!1))})});Mj.displayName=Oj;function dp(e){return e?"open":"closed"}var Dj="DialogTitleWarning",[c3,Lj]=ck(Dj,{contentName:Ys,titleName:up,docsSlug:"dialog"}),uM=({titleId:e})=>{const t=Lj(Dj),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},dM="DialogDescriptionWarning",hM=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Lj(dM).contentName}}.`;return f.useEffect(()=>{var a;const o=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},fM=Sj,mM=kj,$j=Ej,Fj=Pj,Uj=Rj,zj=Ij,pM=Mj;const Uu=fM,gM=mM,Hj=f.forwardRef(({className:e,...t},r)=>s.jsx($j,{ref:r,className:ie("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Hj.displayName=$j.displayName;const Ji=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(gM,{children:[s.jsx(Hj,{}),s.jsxs(Fj,{ref:n,className:ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(pM,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(vu,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ji.displayName=Fj.displayName;const Xi=({className:e,...t})=>s.jsx("div",{className:ie("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Xi.displayName="DialogHeader";const Zi=f.forwardRef(({className:e,...t},r)=>s.jsx(Uj,{ref:r,className:ie("text-lg font-semibold leading-none tracking-tight",e),...t}));Zi.displayName=Uj.displayName;const yM=f.forwardRef(({className:e,...t},r)=>s.jsx(zj,{ref:r,className:ie("text-sm text-muted-foreground",e),...t}));yM.displayName=zj.displayName;const vM=Ki("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function je({className:e,variant:t,...r}){return s.jsx("div",{className:ie(vM({variant:t}),e),...r})}const Bj=({isOpen:e,onClose:t,trigger:r="usage_limit",coachName:n})=>{const[o,a]=f.useState(!1),{user:i}=Te(),{toast:l}=At(),c=tt(),u=tr(),h=async()=>{if(!i){l({title:"Please sign in",description:"You need to be signed in to upgrade to Premium.",variant:"destructive"});return}t();const b=u.pathname+u.search;c("/premium-purchase",{state:{from:b}})},d=[{icon:Jr,title:"Unlimited AI coach conversations",description:"Remove message limits and chat freely with all your coaches",gradient:"from-blue-400 to-blue-500"},{icon:fe,title:"Regenerate AI responses",description:"Get new responses from your coach if you want a different perspective",gradient:"from-emerald-400 to-emerald-500"},{icon:_i,title:"Guided Programmes",description:"Access structured healing programs and recovery plans",gradient:"from-orange-400 to-orange-500"},{icon:it,title:"Personalised insights & reports",description:"Get detailed analysis and custom reports on your progress",gradient:"from-purple-400 to-purple-500"},{icon:Me,title:"Daily attachment style quiz with AI analysis",description:"Take daily quizzes with personalised AI insights on your attachment patterns",gradient:"from-pink-400 to-pink-500"},{icon:Jr,title:"Conversation analyser with AI insights",description:"Get AI-powered analysis of your conversations and relationships",gradient:"from-indigo-400 to-indigo-500"},{icon:fe,title:"Text suggestion helper for all scenarios",description:"Get AI-powered text suggestions for difficult conversations",gradient:"from-green-400 to-green-500"},{icon:_i,title:"Priority support",description:"Get faster response times and priority customer support",gradient:"from-yellow-400 to-yellow-500"}],x=r==="usage_limit"?{title:"You've reached today's free limit ",description:"Want to keep talking? Upgrade to Premium and chat unlimited with all your coaches!",highlight:"Free users get 10 messages per day"}:{title:`${n||"Your coach"} wants to help you more! `,description:"This kind of personalised coaching is included in Premium. Ready to unlock the full experience?",highlight:"Premium includes deep insights and custom advice"};return s.jsx(Uu,{open:e,onOpenChange:t,children:s.jsxs(Ji,{className:"max-w-4xl max-h-[85vh] flex flex-col p-0 overflow-hidden",children:[s.jsx(Xi,{className:"px-6 pt-6 pb-4 shrink-0",children:s.jsxs(Zi,{className:"text-2xl font-bold text-center flex items-center justify-center gap-2",children:[s.jsx(Me,{className:"w-6 h-6 text-yellow-500"}),x.title]})}),s.jsxs("div",{className:"space-y-6 overflow-y-auto flex-1 px-6 pb-6",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("p",{className:"text-muted-foreground text-lg",children:x.description}),s.jsx(je,{variant:"outline",className:"bg-primary/5",children:x.highlight})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map((b,y)=>s.jsxs(W,{className:"border-0 shadow-card hover:shadow-warm transition-all duration-300 group",children:[s.jsx(Z,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-r ${b.gradient}`,children:s.jsx(b.icon,{className:"w-5 h-5 text-white"})}),s.jsx(ee,{className:"text-sm group-hover:text-primary transition-colors",children:b.title})]})}),s.jsx(Y,{children:s.jsx("p",{className:"text-xs text-muted-foreground",children:b.description})})]},y))}),s.jsxs(W,{className:"bg-gradient-to-br from-primary via-primary-glow to-primary/90 border-0 shadow-2xl overflow-hidden relative",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmZmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48cGF0aCBkPSJNMzYgMzRjMC0yLjIxLTEuNzktNC00LTRzLTQgMS43OS00IDQgMS43OSA0IDQgNCA0LTEuNzkgNC00eiIvPjwvZz48L2c+PC9zdmc+')] opacity-30"}),s.jsx(Y,{className:"pt-8 pb-8 relative z-10",children:s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx("div",{className:"inline-block p-3 rounded-full bg-white/20 backdrop-blur-sm mb-2",children:s.jsx(Me,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"text-4xl font-bold text-white drop-shadow-lg",children:["11.99",s.jsx("span",{className:"text-lg font-normal text-white/90",children:"/month"})]}),s.jsx("p",{className:"text-white/90 font-medium",children:"Cancel anytime  No hidden fees"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-4",children:[s.jsxs("div",{className:"flex flex-col items-center gap-2 p-3 rounded-xl bg-white/10 backdrop-blur-sm",children:[s.jsx(lr,{className:"w-5 h-5 text-white"}),s.jsx("span",{className:"text-sm text-white font-medium",children:"Unlimited conversations"})]}),s.jsxs("div",{className:"flex flex-col items-center gap-2 p-3 rounded-xl bg-white/10 backdrop-blur-sm",children:[s.jsx(lr,{className:"w-5 h-5 text-white"}),s.jsx("span",{className:"text-sm text-white font-medium",children:"AI insights & analysis"})]}),s.jsxs("div",{className:"flex flex-col items-center gap-2 p-3 rounded-xl bg-white/10 backdrop-blur-sm",children:[s.jsx(lr,{className:"w-5 h-5 text-white"}),s.jsx("span",{className:"text-sm text-white font-medium",children:"Guided programmes"})]}),s.jsxs("div",{className:"flex flex-col items-center gap-2 p-3 rounded-xl bg-white/10 backdrop-blur-sm",children:[s.jsx(lr,{className:"w-5 h-5 text-white"}),s.jsx("span",{className:"text-sm text-white font-medium",children:"Priority support"})]})]})]})})]})]}),s.jsxs("div",{className:"shrink-0 bg-background px-4 py-4 border-t flex flex-col sm:flex-row gap-3",children:[s.jsxs(H,{variant:"outline",onClick:t,className:"w-full sm:flex-1 h-12 text-sm",disabled:o,children:[s.jsx(vu,{className:"w-4 h-4 mr-2"}),"Maybe later"]}),s.jsxs(H,{onClick:h,className:"w-full sm:flex-1 h-12 bg-gradient-to-r from-primary to-primary-glow hover:opacity-90 text-white shadow-lg text-sm whitespace-nowrap",disabled:o,children:[s.jsx(Me,{className:"w-4 h-4 mr-2 shrink-0"}),o?"Loading...":"Go Premium"]})]})]})})};var hp="Progress",fp=100,[xM]=It(hp),[wM,bM]=xM(hp),Wj=f.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:o,getValueLabel:a=jM,...i}=e;(o||o===0)&&!uv(o)&&console.error(NM(`${o}`,"Progress"));const l=uv(o)?o:fp;n!==null&&!dv(n,l)&&console.error(SM(`${n}`,"Progress"));const c=dv(n,l)?n:null,u=Wc(c)?a(c,l):void 0;return s.jsx(wM,{scope:r,value:c,max:l,children:s.jsx(ae.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Wc(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":Kj(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});Wj.displayName=hp;var Vj="ProgressIndicator",qj=f.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,o=bM(Vj,r);return s.jsx(ae.div,{"data-state":Kj(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...n,ref:t})});qj.displayName=Vj;function jM(e,t){return`${Math.round(e/t*100)}%`}function Kj(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Wc(e){return typeof e=="number"}function uv(e){return Wc(e)&&!isNaN(e)&&e>0}function dv(e,t){return Wc(e)&&!isNaN(e)&&e<=t&&e>=0}function NM(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${fp}\`.`}function SM(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${fp} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Gj=Wj,_M=qj;const Na=f.forwardRef(({className:e,value:t,...r},n)=>s.jsx(Gj,{ref:n,className:ie("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx(_M,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Na.displayName=Gj.displayName;const CM=({currentUsage:e,onUpgradeClick:t,isPremium:r=!1})=>{const[n,o]=f.useState(null),[a,i]=f.useState(""),{user:l}=Te(),c=async()=>{if(!(!l||r))try{const x=await fetch(`https://heartlift-launch.emergent.host/api/usage/check/${l.id}`);if(x.ok){const b=await x.json();o({message_count:b.message_count||0,can_send_message:b.can_send_message||!0,hours_until_reset:Math.floor((b.seconds_until_reset||0)/3600)})}}catch(m){console.error("Error fetching usage data:",m)}};if(f.useEffect(()=>{c();const m=setInterval(c,3e4);return()=>clearInterval(m)},[l,r]),f.useEffect(()=>{if(!n||n.can_send_message)return;const m=()=>{const b=new Date,w=new Date(b.getTime()+n.hours_until_reset*60*60*1e3).getTime()-b.getTime();if(w<=0){i("Ready to chat!"),c();return}const p=Math.floor(w/(1e3*60*60)),g=Math.floor(w%(1e3*60*60)/(1e3*60));i(`${p}h ${g}m`)};m();const x=setInterval(m,6e4);return()=>clearInterval(x)},[n]),r)return s.jsx(W,{className:"bg-gradient-to-r from-yellow-50 to-orange-50 border-yellow-200",children:s.jsx(Y,{className:"py-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Me,{className:"w-5 h-5 text-yellow-600"}),s.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"Premium Active"})]}),s.jsxs(je,{variant:"outline",className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:[s.jsx(_i,{className:"w-3 h-3 mr-1"}),"Unlimited"]})]})})});const u=Math.min(e/10*100,100),h=e>=10,d=Math.max(0,10-e);return s.jsx(W,{className:`border-0 shadow-card ${h?"bg-gradient-to-r from-red-50 to-orange-50":"bg-gradient-to-r from-blue-50 to-indigo-50"}`,children:s.jsxs(Y,{className:"py-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jr,{className:`w-4 h-4 ${h?"text-red-600":"text-blue-600"}`}),s.jsxs("span",{className:"text-sm font-medium",children:[d," messages left today (10 total across all coaches)"]})]}),h&&s.jsxs(je,{variant:"outline",className:"bg-red-100 text-red-800 border-red-200",children:[s.jsx(Lo,{className:"w-3 h-3 mr-1"}),"Limit reached"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Na,{value:u,className:`h-2 ${h?"bg-red-100":"bg-blue-100"}`}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"Free daily limit"}),a&&s.jsxs("span",{className:`font-medium ${h?"text-red-600":"text-blue-600"}`,children:["Resets in ",a]})]})]}),h&&s.jsx("div",{className:"pt-2 border-t border-red-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-red-700",children:"Want to keep chatting?"}),s.jsxs(H,{variant:"outline",size:"sm",onClick:t,className:"bg-gradient-to-r from-primary to-primary-glow text-white border-0 hover:shadow-warm transition-all duration-300",children:[s.jsx(Me,{className:"w-3 h-3 mr-1"}),"Go Premium"]})]})})]})})},kM=({isOpen:e,onClose:t,userName:r="there"})=>{const[n,o]=f.useState(0),a=[{icon:Jr,title:"Unlimited AI Conversations",description:"Chat with all coaches as much as you want - no daily limits!",gradient:"from-blue-400 to-blue-500",bgColor:"from-blue-50 to-blue-100"},{icon:Kh,title:"All Coach Personas",description:"Access Luna Love, Dr. Sage, Phoenix Fire, and River Calm anytime",gradient:"from-purple-400 to-purple-500",bgColor:"from-purple-50 to-purple-100"},{icon:fe,title:"Text Conversation Helpers",description:"Get custom message templates and rewriting suggestions",gradient:"from-pink-400 to-pink-500",bgColor:"from-pink-50 to-pink-100"},{icon:oE,title:"Advanced Mood Analytics",description:"Weekly trends, emotion patterns, and personalised insights",gradient:"from-green-400 to-green-500",bgColor:"from-green-50 to-green-100"},{icon:it,title:"Personalised Reports",description:"Dating patterns, attachment analysis, and healing roadmaps",gradient:"from-yellow-400 to-orange-400",bgColor:"from-yellow-50 to-orange-100"},{icon:Ec,title:"Text Helpers",description:"Message suggestions, rewriting tools, and conversation analysis",gradient:"from-indigo-400 to-indigo-500",bgColor:"from-indigo-50 to-indigo-100"}],i=a[n]||a[0],l=()=>{n<a.length-1?o(n+1):t()},c=()=>{n>0&&o(n-1)};return s.jsx(Uu,{open:e,onOpenChange:t,children:s.jsxs(Ji,{className:"max-w-2xl",children:[s.jsx(Xi,{children:s.jsxs(Zi,{className:"text-3xl font-bold text-center flex items-center justify-center gap-2",children:[s.jsx(Me,{className:"w-8 h-8 text-yellow-500 animate-pulse-warm"}),"Welcome to Premium, ",r,"! "]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("p",{className:"text-muted-foreground text-lg",children:"Your premium coaching experience is now unlocked! Here's what you can do:"}),s.jsx(Na,{value:(n+1)/a.length*100,className:"h-2"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[n+1," of ",a.length," features"]})]}),s.jsx(W,{className:`border-0 shadow-warm bg-gradient-to-br ${i.bgColor} animate-fade-in-scale`,children:s.jsxs(Z,{className:"text-center pb-4",children:[s.jsxs("div",{className:"mx-auto mb-4 relative",children:[s.jsx("div",{className:`p-4 rounded-full bg-gradient-to-r ${i.gradient} shadow-lg animate-float-gentle`,children:s.jsx(i.icon,{className:"w-8 h-8 text-white"})}),s.jsx("div",{className:"absolute -top-1 -right-1 text-2xl animate-bounce-gentle",children:""})]}),s.jsx(ee,{className:"text-2xl mb-2",children:i.title}),s.jsx(ze,{className:"text-base leading-relaxed",children:i.description})]})}),s.jsx("div",{className:"grid grid-cols-7 gap-2",children:a.map((u,h)=>s.jsxs("div",{className:`p-2 rounded-lg border-2 transition-all duration-300 cursor-pointer ${h===n?"border-primary bg-primary/10 shadow-gentle":h<n?"border-green-500 bg-green-50":"border-border bg-background"}`,onClick:()=>o(h),children:[s.jsx(u.icon,{className:`w-4 h-4 mx-auto ${h===n?"text-primary":h<n?"text-green-500":"text-muted-foreground"}`}),h<n&&s.jsx(lr,{className:"w-3 h-3 text-green-500 mx-auto mt-1"})]},h))}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(H,{variant:"outline",onClick:c,disabled:n===0,className:"flex items-center gap-2",children:"Previous"}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(je,{variant:"outline",className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:[s.jsx(Me,{className:"w-3 h-3 mr-1"}),"Premium Active"]})}),s.jsx(H,{variant:"warm",onClick:l,className:"flex items-center gap-2",children:n===a.length-1?s.jsxs(s.Fragment,{children:[s.jsx(it,{className:"w-4 h-4"}),"Start Exploring!"]}):s.jsxs(s.Fragment,{children:["Next",s.jsxs("span",{className:"text-xs",children:["(",a.length-n-1," left)"]})]})})]})]})]})})},EM=({variant:e="default",className:t=""})=>e==="compact"?s.jsxs(je,{variant:"outline",className:`bg-gradient-to-r from-yellow-100 to-orange-100 text-yellow-800 border-yellow-200 animate-pulse-warm ${t}`,children:[s.jsx(Me,{className:"w-3 h-3 mr-1"}),"Premium"]}):e==="floating"?s.jsx("div",{className:`fixed top-4 right-4 z-50 animate-float-gentle ${t}`,children:s.jsxs(je,{variant:"outline",className:"bg-gradient-to-r from-yellow-100 to-orange-100 text-yellow-800 border-yellow-200 shadow-warm px-3 py-1",children:[s.jsx(Me,{className:"w-4 h-4 mr-1"}),"Premium Active",s.jsx(it,{className:"w-3 h-3 ml-1 animate-pulse-warm"})]})}):s.jsxs(je,{variant:"outline",className:`bg-gradient-to-r from-yellow-100 to-orange-100 text-yellow-800 border-yellow-200 animate-glow ${t}`,children:[s.jsx(Me,{className:"w-4 h-4 mr-2"}),"Premium Member",s.jsx(it,{className:"w-3 h-3 ml-2 animate-pulse-warm"})]}),Nn=f.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:ie("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Nn.displayName="Textarea";var PM="Separator",hv="horizontal",TM=["horizontal","vertical"],Yj=f.forwardRef((e,t)=>{const{decorative:r,orientation:n=hv,...o}=e,a=RM(n)?n:hv,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return s.jsx(ae.div,{"data-orientation":a,...l,...o,ref:t})});Yj.displayName=PM;function RM(e){return TM.includes(e)}var Qj=Yj;const mp=f.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},o)=>s.jsx(Qj,{ref:o,decorative:r,orientation:t,className:ie("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));mp.displayName=Qj.displayName;const fv={flirty:"Luna Love",therapist:"Dr. Sage","tough-love":"Phoenix Fire",chill:"River Calm"},AM=()=>{const[e,t]=f.useState({coaches_chatted_with:[],conversation_rating:null,helpful_moments:"",areas_for_improvement:"",reflection_date:new Date().toISOString().split("T")[0]}),[r,n]=f.useState([]),[o,a]=f.useState(!1),[i,l]=f.useState(!1),[c,u]=f.useState(!1),[h,d]=f.useState(!1),{user:m}=Te(),{toast:x}=At();f.useEffect(()=>{if(m){b(),y();const j=setInterval(()=>{const S=new Date().toISOString().split("T")[0];e.reflection_date!==S&&(t({coaches_chatted_with:[],conversation_rating:null,helpful_moments:"",areas_for_improvement:"",reflection_date:S}),u(!1),y())},6e4);return()=>clearInterval(j)}},[m]);const b=async()=>{if(m){a(!0);try{const j=new Date().toISOString().split("T")[0],N="https://heartlift-launch.emergent.host";console.log(`Loading today's reflection from backend: ${N}/api/reflections/today/${m.id}`);const S=await fetch(`${N}/api/reflections/today/${m.id}`);if(!S.ok)throw new Error(`Failed to load reflection: ${S.statusText}`);const _=await S.json();_&&_.id?(console.log("Loaded reflection from backend:",_),t({id:_.id,coaches_chatted_with:_.coaches_chatted_with||[],conversation_rating:_.conversation_rating,helpful_moments:_.helpful_moments||"",areas_for_improvement:_.areas_for_improvement||"",reflection_date:_.reflection_date,created_at:_.created_at}),u(!0)):(console.log("No reflection found for today"),t({coaches_chatted_with:[],conversation_rating:null,helpful_moments:"",areas_for_improvement:"",reflection_date:j}),u(!1))}catch(j){console.error("Error loading reflection:",j)}finally{a(!1)}}},y=async()=>{if(m)try{const j="https://heartlift-launch.emergent.host";console.log(`Loading past reflections from backend: ${j}/api/reflections/past/${m.id}`);const N=await fetch(`${j}/api/reflections/past/${m.id}`);if(!N.ok)throw new Error(`Failed to load past reflections: ${N.statusText}`);const S=await N.json();console.log("Loaded past reflections:",S),n(S||[])}catch(j){console.error("Error loading past reflections:",j)}},w=j=>{t(N=>({...N,coaches_chatted_with:N.coaches_chatted_with.includes(j)?N.coaches_chatted_with.filter(S=>S!==j):[...N.coaches_chatted_with,j]}))},p=j=>{t(N=>({...N,conversation_rating:j}))},g=async()=>{if(console.log("========== SAVE REFLECTION CALLED =========="),console.log("User:",m),console.log("User ID:",m==null?void 0:m.id),console.log("Reflection data:",e),!m){alert("ERROR: No user logged in!"),x({title:"Not logged in",description:"Please log in first.",variant:"destructive"});return}if(e.coaches_chatted_with.length===0){alert("ERROR: No coaches selected!"),x({title:"Please select at least one coach",description:"Let us know which coaches you chatted with today.",variant:"destructive"});return}l(!0);try{const j={user_id:m.id,reflection_date:e.reflection_date,coaches_chatted_with:e.coaches_chatted_with,conversation_rating:e.conversation_rating,helpful_moments:e.helpful_moments,areas_for_improvement:e.areas_for_improvement};console.log("Reflection data to save:",JSON.stringify(j,null,2));const N="https://heartlift-launch.emergent.host";console.log("Backend URL:",N);const S=`${N}/api/reflections/save`;console.log("Full URL:",S),alert(`About to POST to: ${S}`);const _=await fetch(S,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)});if(console.log("Response status:",_.status),console.log("Response ok:",_.ok),!_.ok){const A=await _.text();throw console.error("ERROR Response:",A),alert(`ERROR: ${_.status} - ${A}`),new Error(`Failed to save reflection: ${A}`)}const C=await _.json();console.log("SUCCESS! Saved data:",C),alert(`SUCCESS! Reflection saved with ID: ${C.id}`),u(!0),t({...e,id:C.id,created_at:C.created_at}),await b(),await y(),x({title:"Reflection saved!",description:`ID: ${C.id}`})}catch(j){console.error("CATCH ERROR:",j),alert(`CATCH ERROR: ${j instanceof Error?j.message:String(j)}`),x({title:"Error saving reflection",description:j instanceof Error?j.message:"Please try again.",variant:"destructive"})}finally{l(!1),console.log("========== SAVE REFLECTION COMPLETE ==========")}},v=j=>new Date(j).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return o?s.jsx(W,{className:"w-full",children:s.jsx(Y,{className:"flex items-center justify-center p-8",children:s.jsx("div",{className:"animate-pulse text-muted-foreground",children:"Loading today's reflection..."})})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs(W,{className:"w-full shadow-gentle",children:[s.jsxs(Z,{children:[s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(ft,{className:"w-5 h-5"}),"Today's Reflection",c&&s.jsxs(je,{variant:"secondary",className:"ml-2",children:[s.jsx(PE,{className:"w-3 h-3 mr-1"}),"Complete"]})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[v(e.reflection_date),"  Help your coaches remember your journey by reflecting on today's conversations"]})]}),s.jsxs(Y,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-sm font-medium",children:"Which coaches did you chat with today? (Select all that apply)"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(fv).map(([j,N])=>s.jsxs(H,{variant:e.coaches_chatted_with.includes(j)?"default":"outline",size:"sm",onClick:()=>w(j),className:"flex items-center gap-2",children:[s.jsx(Jr,{className:"w-3 h-3"}),N]},j))})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-sm font-medium",children:"How helpful were your conversations today?"}),s.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(j=>s.jsx(H,{variant:"ghost",size:"sm",onClick:()=>p(j),className:"p-1",children:s.jsx(sa,{className:`w-6 h-6 ${e.conversation_rating&&j<=e.conversation_rating?"fill-yellow-400 text-yellow-400":"text-muted-foreground"}`})},j))})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-sm font-medium",children:"What was most helpful in your conversations today?"}),s.jsx(Nn,{placeholder:"Share what insights, advice, or support stood out to you...",value:e.helpful_moments,onChange:j=>t(N=>({...N,helpful_moments:j.target.value})),rows:3})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-sm font-medium",children:"What would you like to explore more in future conversations?"}),s.jsx(Nn,{placeholder:"Any topics, feelings, or situations you'd like your coaches to help you work through...",value:e.areas_for_improvement,onChange:j=>t(N=>({...N,areas_for_improvement:j.target.value})),rows:3})]}),s.jsx(H,{onClick:g,disabled:i,className:"w-full",children:i?"Saving...":c?"Update Reflection":"Save Reflection"}),s.jsxs(H,{onClick:()=>d(!h),variant:"outline",className:"w-full",children:[s.jsx(Xg,{className:"w-4 h-4 mr-2"}),h?"Hide":"View"," Past Reflections (",r.length,")"]})]})]}),h&&s.jsxs(W,{className:"w-full shadow-gentle",children:[s.jsxs(Z,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xg,{className:"w-5 h-5"}),s.jsxs(ee,{children:["Reflection History (",r.length,")"]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"View your past reflections to track your journey"})]}),s.jsx(Y,{children:r.length>0?s.jsx(ap,{className:"h-96",children:s.jsx("div",{className:"space-y-4",children:r.map((j,N)=>s.jsxs("div",{className:"border-l-2 border-primary/20 pl-4 pb-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"font-medium text-sm",children:v(j.reflection_date)}),s.jsx("div",{className:"flex items-center gap-2",children:j.conversation_rating&&s.jsx("div",{className:"flex items-center gap-1",children:[...Array(j.conversation_rating)].map((S,_)=>s.jsx(sa,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"},_))})})]}),j.coaches_chatted_with&&j.coaches_chatted_with.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1",children:j.coaches_chatted_with.map(S=>s.jsx(je,{variant:"outline",className:"text-xs",children:fv[S]},S))}),j.helpful_moments&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"What was helpful:"}),s.jsx("p",{className:"text-sm",children:j.helpful_moments})]}),j.areas_for_improvement&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Areas to explore:"}),s.jsx("p",{className:"text-sm",children:j.areas_for_improvement})]})]}),N<r.length-1&&s.jsx(mp,{className:"mt-4"})]},j.id||N))})}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx("p",{children:"No past reflections yet."}),s.jsx("p",{className:"text-sm mt-2",children:"Complete today's reflection above to start building your journey history!"})]})})]})]})},IM=({coachName:e,coachPersonality:t,coachGreetings:r,coachIcon:n,coachColor:o})=>{var ue;const[a,i]=f.useState([]),[l,c]=f.useState(""),[u,h]=f.useState(!1),[d,m]=f.useState(0),[x,b]=f.useState(10),[y,w]=f.useState(!0),[p,g]=f.useState(!1),[v,j]=f.useState(!1),[N,S]=f.useState("usage_limit"),[_,C]=f.useState(!1),A=f.useRef(null),E=f.useRef(null);f.useRef(null);const z=f.useRef(null),I=f.useRef(0),L=f.useRef(null),{user:T,isPremium:B,checkSubscription:M}=Te(),{toast:O}=At();f.useEffect(()=>{a.length>I.current&&setTimeout(()=>{const R=document.querySelector("[data-radix-scroll-area-viewport]");R&&R.scrollTo({top:R.scrollHeight,behavior:"smooth"})},100),I.current=a.length},[a]);const k=()=>{var K,te;if(!T)return"";if((K=T.user_metadata)!=null&&K.full_name){const me=T.user_metadata.full_name.split(" ")[0];return me.charAt(0).toUpperCase()+me.slice(1).toLowerCase()}const R=((te=T.email)==null?void 0:te.split("@")[0])||"";return R.charAt(0).toUpperCase()+R.slice(1).toLowerCase()};f.useEffect(()=>{T&&V()},[T,t]),f.useEffect(()=>{if(!B&&T){const R=setInterval(()=>{const K=new Date,te=localStorage.getItem(`lastUsageCheck_${T.id}`),le=K.toISOString().split("T")[0];te&&te!==le&&(console.log("New day detected - resetting usage count"),V()),localStorage.setItem(`lastUsageCheck_${T.id}`,le)},6e4);return()=>clearInterval(R)}},[T,B]),f.useEffect(()=>{if(B&&!v){const R=localStorage.getItem("hasSeenPremiumWelcome"),K=sessionStorage.getItem("premiumWelcomeShownThisSession");!R&&!K&&(j(!0),sessionStorage.setItem("premiumWelcomeShownThisSession","true"))}},[B]);const P=()=>{const R=k();if(console.log("Coach greetings received:",r),console.log("Coach name:",e),!r||r.length===0)return console.warn("No greetings array provided, using fallback"),R?`Hi ${R}! I'm ${e}, and I'm here to support you through whatever you're going through. What's on your heart today?`:`Hi there! I'm ${e}, and I'm here to support you through whatever you're going through. What's on your heart today?`;const K=Math.floor(Math.random()*r.length),te=r[K];console.log("Selected greeting template:",te);const le=te.replace("{firstName}",R||"there");return console.log("Final greeting:",le),le};f.useEffect(()=>{T&&t&&(c(""),h(!1),(async()=>{if(!await F())await $();else{const te=P();await J.rpc("insert_conversation_message",{p_user_id:T.id,p_coach_id:t,p_message_content:te,p_sender:"coach"}),i([{id:"1",content:te,sender:"coach",timestamp:new Date}]),C(!0)}})())},[T,t]);const F=async()=>{if(!T)return;const R=`lastRefresh_${T.id}_${t}`,K=localStorage.getItem(R),te=new Date().toDateString();if(!K)return localStorage.setItem(R,te),!1;if(K!==te)try{return await J.from("conversation_history").delete().eq("user_id",T.id).eq("coach_id",t),localStorage.setItem(R,te),!0}catch(le){return console.error("Error during daily refresh:",le),!1}return!1},$=async()=>{if(T)try{const{data:R,error:K}=await J.from("conversation_history").select("*").eq("user_id",T.id).eq("coach_id",t).order("created_at",{ascending:!0}).limit(50);if(K)throw K;const te=P();if(R&&R.length>0){const le=R.filter((me,he)=>!(he===0&&me.sender==="coach"));if(le.length>0){const me=le.map((he,Re)=>({id:`${he.id}-${Re}`,content:he.message_content,sender:he.sender,timestamp:new Date(he.created_at)}));i([{id:"1",content:te,sender:"coach",timestamp:new Date},...me])}else i([{id:"1",content:te,sender:"coach",timestamp:new Date}])}else i([{id:"1",content:te,sender:"coach",timestamp:new Date}]);C(!0)}catch(R){console.error("Error loading conversation history:",R);const K=P();i([{id:"1",content:K,sender:"coach",timestamp:new Date}]),C(!0)}},V=async()=>{if(T)try{const K=await fetch(`https://heartlift-launch.emergent.host/api/usage/check/${T.id}`);if(K.ok){const te=await K.json();m(te.message_count||0),b(te.remaining_messages||10),w(te.can_send_message||!1)}}catch(R){console.error("Error loading usage count:",R)}},D=async()=>{if(!l.trim()||u||!T)return;if(!y&&!B){S("usage_limit"),g(!0);return}const R={id:Date.now().toString(),content:l,sender:"user",timestamp:new Date};i(K=>[...K,R]),c(""),h(!0);try{const{data:K,error:te}=await J.auth.getSession();if(te||!K.session)throw new Error("Please sign in again to continue");await J.rpc("insert_conversation_message",{p_user_id:T.id,p_coach_id:t,p_message_content:l,p_sender:"user"});const me=await fetch("https://heartlift-launch.emergent.host/api/ai/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:l,coach_id:t,conversation_history:a.slice(-5).map(ne=>({content:ne.content,sender:ne.sender})),user_name:k()||void 0,user_id:T.id})});if(!me.ok)throw new Error(`Failed to get AI response: ${me.statusText}`);const he=await me.json(),Re={id:(Date.now()+1).toString(),content:he.response,sender:"coach",timestamp:new Date};if(i(ne=>[...ne,Re]),await J.rpc("insert_conversation_message",{p_user_id:T.id,p_coach_id:t,p_message_content:he.response,p_sender:"coach"}),!B){const ne="https://heartlift-launch.emergent.host";try{const ce=await fetch(`${ne}/api/usage/track`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:T.id,coach_id:t})});if(ce.ok){const Ce=await ce.json();m(Ce.message_count),b(Ce.remaining_messages),w(Ce.can_send_message),Ce.can_send_message||(S("usage_limit"),g(!0))}}catch(ce){console.error("Error tracking usage:",ce)}}}catch(K){console.error("Error sending message:",K),O({title:"Error",description:"Failed to send message. Please try again.",variant:"destructive"})}finally{h(!1)}},X=async R=>{if(!B)return;const K=a.findIndex(le=>le.id===R);if(K===-1)return;const te=a[K-1];if(!(!te||te.sender!=="user")){h(!0);try{const{data:le,error:me}=await J.auth.getSession();if(me||!le.session)throw new Error("Please sign in again to continue");const Re=await fetch("https://heartlift-launch.emergent.host/api/ai/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:te.content,coach_id:t,conversation_history:a.slice(0,K-1).map(Ce=>({content:Ce.content,sender:Ce.sender})),user_name:k()||void 0,user_id:T==null?void 0:T.id})});if(!Re.ok)throw new Error(`Failed to regenerate response: ${Re.statusText}`);const ne=await Re.json(),ce=[...a];ce[K]={...ce[K],content:ne.response,timestamp:new Date},i(ce)}catch(le){console.error("Error regenerating response:",le),O({title:"Error",description:"Failed to regenerate response. Please try again.",variant:"destructive"})}finally{h(!1)}}},oe=async()=>{if(T)try{await J.from("conversation_history").delete().eq("user_id",T.id).eq("coach_id",t);const R=`lastRefresh_${T.id}_${t}`;localStorage.removeItem(R);const K=`manualRefresh_${T.id}_${t}`;localStorage.setItem(K,new Date().toISOString());const te=P();await J.rpc("insert_conversation_message",{p_user_id:T.id,p_coach_id:t,p_message_content:te,p_sender:"coach"}),i([{id:"1",content:te,sender:"coach",timestamp:new Date}]),C(!1),setTimeout(()=>C(!0),100),O({title:"Conversation refreshed",description:"Started a fresh conversation with "+e})}catch(R){console.error("Error refreshing conversation:",R),O({title:"Error",description:"Failed to refresh conversation. Please try again.",variant:"destructive"})}};return s.jsxs("div",{className:"space-y-2 sm:space-y-4",children:[s.jsx(CM,{currentUsage:d,onUpgradeClick:()=>{S("usage_limit"),g(!0)},isPremium:B}),s.jsxs(W,{ref:L,className:"h-[600px] sm:h-[600px] max-h-[800px] flex flex-col shadow-gentle overflow-hidden",children:[s.jsx(Z,{className:"pb-3 flex-shrink-0",children:s.jsxs(ee,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:`p-2 rounded-full bg-gradient-to-r ${o||"from-primary to-primary-glow"} shadow-lg`,children:n?(()=>{const R=n;return s.jsx(R,{className:"w-4 h-4 text-white"})})():s.jsx(Xl,{className:"w-4 h-4 text-white"})}),s.jsx("span",{children:e}),B&&s.jsx(EM,{variant:"compact"})]}),s.jsxs(H,{variant:"ghost",size:"sm",onClick:oe,className:"flex items-center gap-2 text-muted-foreground hover:text-foreground",disabled:u,children:[s.jsx(qs,{className:"w-4 h-4"}),"Refresh"]})]})}),s.jsxs(Y,{className:"flex-1 flex flex-col p-0 min-h-0 overflow-hidden",children:[s.jsx(ap,{className:"flex-1 px-4 h-full",type:"auto",children:s.jsxs("div",{ref:E,className:"space-y-4 pb-4 pt-2",children:[a.map(R=>s.jsx("div",{"data-message-id":R.id,"data-sender":R.sender,className:`flex ${R.sender==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[90%] sm:max-w-[80%] rounded-lg px-3 sm:px-4 py-3 ${R.sender==="user"?"bg-primary text-primary-foreground":R.isPremiumTeaser?"bg-gradient-to-r from-yellow-100 to-orange-100 text-orange-800 border border-orange-200":"bg-secondary text-secondary-foreground"}`,children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[R.sender==="user"?s.jsx(Pc,{className:"w-3 h-3"}):s.jsx(Xl,{className:"w-3 h-3"}),s.jsx("span",{className:"text-xs opacity-70",children:R.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),s.jsx("p",{className:"text-sm",children:R.content}),R.isPremiumTeaser&&s.jsx("div",{className:"mt-2 pt-2 border-t border-orange-200",children:s.jsxs(H,{variant:"outline",size:"sm",onClick:()=>{S("premium_teaser"),g(!0)},className:"bg-gradient-to-r from-primary to-primary-glow text-white border-0",children:[s.jsx(Me,{className:"w-3 h-3 mr-1"}),"Unlock Premium"]})}),R.sender==="coach"&&B&&!R.isPremiumTeaser&&s.jsx("div",{className:"mt-2 pt-2 border-t border-border/50",children:s.jsxs(H,{variant:"outline",size:"sm",onClick:()=>X(R.id),className:"text-xs",disabled:u,children:[s.jsx(it,{className:"w-3 h-3 mr-1"}),"Regenerate"]})})]})},R.id)),u&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-secondary text-secondary-foreground rounded-lg px-4 py-2 max-w-[80%]",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Xl,{className:"w-3 h-3"}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse-warm"}),s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse-warm",style:{animationDelay:"0.2s"}}),s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse-warm",style:{animationDelay:"0.4s"}})]})]})})}),s.jsx("div",{ref:A})]})}),s.jsxs("div",{className:"p-3 sm:p-4 border-t border-border flex-shrink-0 bg-background",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ot,{ref:z,value:l,onChange:R=>c(R.target.value),placeholder:!y&&!B?"Daily limit reached - upgrade to continue":B?"Ask me anything... (Premium)":`Share what's on your heart... (${x} left)`,onKeyDown:R=>{R.key==="Enter"&&!R.shiftKey&&(R.preventDefault(),D())},onFocus:()=>{requestAnimationFrame(()=>{if(L.current){const te=L.current.getBoundingClientRect().top+window.pageYOffset-60;window.scrollTo({top:te,behavior:"smooth"})}})},className:"flex-1 text-base sm:text-base py-3 px-4 sm:py-3 sm:px-4 min-h-[44px] sm:min-h-[44px]",disabled:!y&&!B||u,autoComplete:"off",autoCorrect:"off",autoCapitalize:"sentences"}),s.jsx(H,{onClick:D,disabled:!l.trim()||u||!y&&!B,variant:"warm",size:"icon",className:"min-h-[44px] min-w-[44px]",children:!y&&!B?s.jsx(Lo,{className:"w-4 h-4"}):s.jsx(CE,{className:"w-4 h-4"})})]}),!y&&!B&&s.jsxs("div",{className:"flex items-center gap-2 mt-2 p-2 bg-gradient-to-r from-red-50 to-orange-50 rounded-lg border border-red-200",children:[s.jsx(w0,{className:"w-4 h-4 text-red-600"}),s.jsx("span",{className:"text-sm text-red-700",children:"Daily limit reached"}),s.jsxs(H,{variant:"outline",size:"sm",onClick:()=>g(!0),className:"ml-auto bg-gradient-to-r from-primary to-primary-glow text-white border-0",children:[s.jsx(Me,{className:"w-3 h-3 mr-1"}),"Upgrade"]})]})]})]})]}),s.jsx(Bj,{isOpen:p,onClose:()=>g(!1),trigger:N,coachName:e}),s.jsx(kM,{isOpen:v,onClose:()=>{j(!1),localStorage.setItem("hasSeenPremiumWelcome","true")},userName:((ue=T==null?void 0:T.user_metadata)==null?void 0:ue.full_name)||"there"}),s.jsx("div",{className:"mt-6",children:s.jsx(AM,{})})]})},Yd=[{id:1,icon:pE,label:"Struggling",emoji:"",color:"from-blue-500 to-indigo-600",bgGlow:"shadow-blue-200/30",iconColor:"text-blue-600",message:"It's okay to not be okay. You're brave for checking in. ",lightBg:"bg-gradient-to-br from-blue-50/50 to-indigo-50/50"},{id:2,icon:NE,label:"Low",emoji:"",color:"from-purple-500 to-violet-600",bgGlow:"shadow-purple-200/30",iconColor:"text-purple-600",message:"Taking it one step at a time. You're doing your best. ",lightBg:"bg-gradient-to-br from-purple-50/50 to-violet-50/50"},{id:3,icon:kE,label:"Neutral",emoji:"",color:"from-slate-500 to-gray-600",bgGlow:"shadow-slate-200/30",iconColor:"text-slate-600",message:"Balanced and present. Sometimes neutral is exactly right. ",lightBg:"bg-gradient-to-br from-slate-50/50 to-gray-50/50"},{id:4,icon:xE,label:"Good",emoji:"",color:"from-emerald-500 to-green-600",bgGlow:"shadow-emerald-200/30",iconColor:"text-emerald-600",message:"Lovely to see you feeling good today! Keep nurturing this energy. ",lightBg:"bg-gradient-to-br from-emerald-50/50 to-green-50/50"},{id:5,icon:fe,label:"Amazing",emoji:"",color:"from-pink-500 to-rose-600",bgGlow:"shadow-pink-200/30",iconColor:"text-pink-600",message:"You're radiating joy! Share this beautiful energy with the world. ",lightBg:"bg-gradient-to-br from-pink-50/50 to-rose-50/50"}],mv=["How is your heart feeling today? ","What's your emotional weather like right now? ","How would you describe your inner landscape today? ","On your healing journey, where are you today? ","How connected do you feel to yourself today? "],OM=()=>{const[e,t]=f.useState(null),[r]=f.useState(mv[Math.floor(Math.random()*mv.length)]),[n,o]=f.useState(!1),[a,i]=f.useState([]),[l,c]=f.useState(!1),[u,h]=f.useState(!1),[d,m]=f.useState(null),{user:x}=Te(),{toast:b}=At();f.useEffect(()=>{x&&(y(),w())},[x]);const y=async()=>{if(x)try{const{data:v,error:j}=await J.from("mood_entries").select("*").eq("user_id",x.id).order("entry_date",{ascending:!1}).limit(30);if(j)throw j;i(v||[])}catch(v){console.error("Error loading mood history:",v)}},w=async()=>{if(!x)return;const v=new Date().toISOString().split("T")[0];try{const{data:j,error:N}=await J.from("mood_entries").select("*").eq("user_id",x.id).eq("entry_date",v).single();j&&(m(j),o(!0),t(j.mood_level))}catch{m(null),o(!1)}},p=async()=>{if(!e||!x)return;h(!0);const v=Yd.find(N=>N.id===e);if(!v)return;const j=new Date().toISOString().split("T")[0];try{const{data:N,error:S}=await J.from("mood_entries").upsert({user_id:x.id,mood_level:e,mood_label:v.label,mood_emoji:v.emoji,message_received:v.message,entry_date:j},{onConflict:"user_id,entry_date",ignoreDuplicates:!1}).select().single();if(S)throw S;m(N),o(!0),await y(),b({title:"Mood saved! ",description:"Your daily check-in has been recorded."})}catch(N){b({title:"Error saving mood",description:N.message,variant:"destructive"})}finally{h(!1)}},g=e?Yd.find(v=>v.id===e):null;return x?l?s.jsxs("div",{className:"space-y-4 sm:space-y-6 animate-fade-in px-2 sm:px-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(H,{variant:"outline",onClick:()=>c(!1),className:"flex items-center gap-2",children:[s.jsx(x0,{className:"w-4 h-4"}),"Back to Today"]}),s.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Mood History"})]}),s.jsxs(W,{className:"shadow-float bg-gradient-to-br from-card via-card/95 to-secondary/10 border-0",children:[s.jsxs(Z,{children:[s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(ft,{className:"w-5 h-5 text-primary"}),"Your Mood Journey"]}),s.jsxs(ze,{children:[a.length," check-ins recorded"]})]}),s.jsx(Y,{children:a.length===0?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"No mood entries yet. Start your journey today! "})}):s.jsx("div",{className:"space-y-3",children:a.map(v=>{const j=new Date(v.entry_date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"});return s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-2xl bg-gradient-to-r from-secondary/20 to-secondary/10 border border-secondary/30",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-2xl",children:v.mood_emoji}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:v.mood_label}),s.jsx("p",{className:"text-sm text-muted-foreground",children:j})]})]}),s.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((N,S)=>s.jsx("div",{className:`w-2 h-2 rounded-full ${S<v.mood_level?"bg-primary":"bg-muted"}`},S))})]},v.id)})})})]})]}):n&&g?s.jsx("div",{className:"px-2 sm:px-0 animate-fade-in-scale",children:s.jsxs(W,{className:"shadow-float bg-gradient-to-br from-card via-card/95 to-secondary/10 border-0 backdrop-blur-sm overflow-hidden relative",children:[s.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-primary via-primary-glow to-accent"}),s.jsx("div",{className:"absolute -top-20 -right-20 w-40 h-40 bg-gradient-to-r from-primary/10 to-primary-glow/10 rounded-full blur-3xl animate-pulse-warm"}),s.jsx("div",{className:"absolute -bottom-20 -left-20 w-40 h-40 bg-gradient-to-r from-accent/10 to-secondary/10 rounded-full blur-3xl animate-float-gentle"}),s.jsxs(Z,{className:"text-center space-y-6 relative z-10 pt-8 sm:pt-12",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"mx-auto p-4 sm:p-6 rounded-full bg-gradient-to-r from-primary to-primary-glow w-fit animate-pulse-warm shadow-float",children:s.jsx(fe,{className:"w-8 h-8 sm:w-10 sm:h-10 text-primary-foreground"})}),s.jsx("div",{className:"absolute -top-2 -right-2 text-2xl animate-bounce-gentle",children:""}),s.jsx("div",{className:"absolute -top-1 -left-3 text-lg animate-pulse-warm",children:""})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-5xl sm:text-6xl animate-bounce-gentle mb-4",children:g.emoji}),s.jsx(ee,{className:"text-2xl sm:text-3xl bg-gradient-to-r from-primary via-primary-glow to-accent bg-clip-text text-transparent",children:"Thank you for sharing! "}),s.jsx(ze,{className:"text-base sm:text-lg text-muted-foreground max-w-md mx-auto leading-relaxed",children:g.message})]})]}),s.jsxs(Y,{className:"text-center space-y-8 relative z-10 pb-8 sm:pb-12",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 max-w-md mx-auto",children:[s.jsxs("div",{className:"p-4 sm:p-6 bg-gradient-to-br from-emerald-50/80 to-green-50/80 rounded-2xl border border-emerald-100 backdrop-blur-sm",children:[s.jsx(oa,{className:"w-6 h-6 sm:w-8 sm:h-8 text-emerald-500 mx-auto mb-3 animate-bounce-gentle"}),s.jsxs("p",{className:"text-sm sm:text-base font-bold text-emerald-700",children:[a.length," Day",a.length!==1?"s":""," Tracked"]}),s.jsx("p",{className:"text-xs sm:text-sm text-emerald-600 mt-1",children:"Building healthy habits! "})]}),s.jsxs("div",{className:"p-4 sm:p-6 bg-gradient-to-br from-purple-50/80 to-pink-50/80 rounded-2xl border border-purple-100 backdrop-blur-sm",children:[s.jsx(it,{className:"w-6 h-6 sm:w-8 sm:h-8 text-purple-500 mx-auto mb-3 animate-pulse-warm"}),s.jsx("p",{className:"text-sm sm:text-base font-bold text-purple-700",children:"Self-Care"}),s.jsx("p",{className:"text-xs sm:text-sm text-purple-600 mt-1",children:"Growing daily "})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[s.jsxs(H,{variant:"gentle",size:"lg",onClick:()=>{o(!1),t(null)},className:"px-8 sm:px-12 py-3 sm:py-4 text-base sm:text-lg font-semibold shadow-gentle hover:shadow-warm transition-all duration-300",children:[s.jsx(fe,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Update Today's Mood"]}),s.jsxs(H,{variant:"outline",size:"lg",onClick:()=>c(!0),className:"px-8 sm:px-12 py-3 sm:py-4 text-base sm:text-lg font-semibold",children:[s.jsx(ft,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"View History"]})]})]})]})}):s.jsxs("div",{className:"space-y-6 sm:space-y-8 animate-fade-in px-2 sm:px-0",children:[s.jsxs("div",{className:"text-center space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(EE,{className:"w-7 h-7 sm:w-8 sm:h-8 text-yellow-500 animate-pulse-warm"}),s.jsx("div",{className:"absolute -top-1 -right-1 text-xs",children:""})]}),s.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-primary via-primary-glow to-accent bg-clip-text text-transparent",children:"Daily Check-in"}),s.jsxs("div",{className:"relative",children:[s.jsx(iE,{className:"w-7 h-7 sm:w-8 sm:h-8 text-blue-400 animate-float-gentle"}),s.jsx("div",{className:"absolute -top-1 -right-1 text-xs",children:""})]})]}),s.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2",children:s.jsx(it,{className:"w-4 h-4 text-primary/40 animate-pulse-warm"})}),s.jsx("div",{className:"absolute -top-4 right-1/4",children:s.jsx(SE,{className:"w-5 h-5 text-primary/30 animate-float-gentle"})})]}),s.jsx("div",{className:"max-w-md mx-auto",children:s.jsx("p",{className:"text-base sm:text-lg text-muted-foreground leading-relaxed font-medium",children:r})})]}),s.jsxs(W,{className:"shadow-float bg-gradient-to-br from-card via-card/95 to-secondary/10 border-0 backdrop-blur-sm overflow-hidden relative",children:[s.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-primary via-primary-glow to-accent"}),s.jsx("div",{className:"absolute -top-16 -right-16 w-32 h-32 bg-gradient-to-r from-primary/5 to-primary-glow/5 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute -bottom-16 -left-16 w-32 h-32 bg-gradient-to-r from-accent/5 to-secondary/5 rounded-full blur-3xl"}),s.jsxs(Z,{className:"text-center pb-4 sm:pb-6 relative z-10",children:[s.jsxs(ee,{className:"text-xl sm:text-2xl flex items-center justify-center gap-2 sm:gap-3 mb-2",children:[s.jsx(fe,{className:"w-6 h-6 sm:w-7 sm:h-7 text-primary animate-pulse-warm"}),s.jsx("span",{className:"bg-gradient-to-r from-foreground to-foreground/80 bg-clip-text",children:"How's your heart today?"})]}),s.jsx(ze,{className:"text-sm sm:text-base text-muted-foreground leading-relaxed max-w-sm mx-auto",children:"Your feelings are valid and important. Let's check in together "})]}),s.jsxs(Y,{className:"space-y-6 sm:space-y-8 relative z-10",children:[s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3 sm:gap-4",children:Yd.map((v,j)=>{const N=v.icon,S=e===v.id;return s.jsxs("button",{onClick:()=>t(v.id),className:`group relative p-4 sm:p-6 rounded-3xl border-2 transition-all duration-500 hover:scale-105 active:scale-95 animate-slide-up min-h-[44px] min-w-[44px] ${S?`border-primary shadow-float ${v.lightBg} ring-2 ring-primary/20`:"border-border/50 hover:border-primary/30 bg-card/50 hover:bg-card backdrop-blur-sm"}`,style:{animationDelay:`${j*100}ms`},children:[S&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${v.color} opacity-5 rounded-3xl`}),s.jsx("div",{className:`absolute -inset-1 bg-gradient-to-r ${v.color} opacity-10 rounded-3xl blur-sm`})]}),s.jsxs("div",{className:"relative space-y-2 sm:space-y-3",children:[s.jsx("div",{className:"text-3xl sm:text-4xl group-hover:animate-bounce-gentle transition-all duration-300 group-hover:scale-110",children:v.emoji}),s.jsx(N,{className:`w-5 h-5 sm:w-6 sm:h-6 mx-auto ${v.iconColor} group-hover:scale-110 transition-all duration-300 ${S?"scale-110":""}`}),s.jsx("p",{className:`text-xs sm:text-sm font-semibold text-center transition-colors duration-300 ${S?"text-primary":"text-muted-foreground group-hover:text-foreground"}`,children:v.label})]})]},v.id)})}),e&&g&&s.jsxs("div",{className:`text-center p-4 sm:p-6 ${g.lightBg} rounded-3xl border border-primary/10 animate-fade-in-scale relative overflow-hidden`,children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 via-transparent to-primary-glow/5"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"text-2xl mb-2",children:g.emoji}),s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground leading-relaxed font-medium",children:g.message})]})]}),s.jsx("div",{className:"text-center pt-2",children:s.jsxs(H,{variant:"warm",onClick:p,disabled:!e||u,size:"lg",className:`px-8 sm:px-12 py-3 sm:py-4 text-base sm:text-lg font-semibold transition-all duration-300 ${e?"animate-pulse-warm shadow-float":""}`,children:[s.jsx(it,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),u?"Saving...":d?"Update Today's Check-In":"Save Today's Check-In"]})}),a.length>0&&s.jsx("div",{className:"text-center border-t border-border/50 pt-4",children:s.jsxs(H,{variant:"outline",onClick:()=>c(!0),className:"text-muted-foreground hover:text-foreground",children:[s.jsx(ft,{className:"w-4 h-4 mr-2"}),"View Your Mood History (",a.length," entries)"]})})]})]})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(fe,{className:"w-12 h-12 text-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Please sign in to track your daily mood check-ins"})]})},MM=[{name:"Free",price:"0",period:"forever",icon:fe,description:"Perfect for getting started on your healing journey",features:["Basic AI relationship advice","10 messages per day","Daily mood check-ins","Daily reflections","Access to all coaches","Email support"],buttonText:"Start Free",variant:"gentle",popular:!1},{name:"Premium",price:"11.99",period:"per month",icon:it,description:"Unlimited support for your relationship growth",features:["Everything in free","Unlimited AI coach conversations","Regenerate AI responses","Guided Programmes","Personalised insights & reports","Daily attachment style quiz with AI analysis","Conversation analyser with AI insights","Text suggestion helper for all scenarios","Create personalised AI-generated visuals","Priority support"],buttonText:"Go Premium",variant:"warm",popular:!0},{name:"Healing Kit",price:"4.99",period:"one-time",icon:Me,description:"Complete break-up recovery package",features:["30-day healing plan","Daily affirmations","Visualisation practices","No-contact tracker","Journal prompts","Priority support"],buttonText:"Get Healing Kit",variant:"healing",popular:!1}],pv=({backTo:e="home"}={})=>{const[t,r]=f.useState(!1),{user:n,checkSubscription:o}=Te(),a=tt();tr();const i=l=>{const c=e;if(e==="home"){a("/auth");return}if(l==="Premium"){if(!n){a("/auth");return}a("/premium-purchase",{state:{from:c}})}else if(l==="Healing Kit"){if(!n){a("/auth");return}a("/healing-kit-purchase",{state:{from:c}})}};return s.jsx("section",{className:"py-16 px-4 bg-gradient-to-br from-secondary/30 to-accent/30",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"text-center space-y-4 mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground",children:"Choose Your Healing Path"}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Every relationship journey is unique. Find the support level that feels right for you."})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-6 sm:gap-8 max-w-5xl mx-auto",children:MM.map(l=>{const c=l.icon;return s.jsxs(W,{className:`relative overflow-hidden transition-all duration-300 hover:shadow-gentle ${l.popular?"ring-2 ring-primary shadow-warm scale-105":""}`,children:[l.popular&&s.jsx("div",{className:"absolute top-0 right-0 bg-gradient-to-r from-primary to-primary-glow text-primary-foreground px-3 py-1 text-xs font-medium rounded-bl-lg",children:"Most Popular"}),s.jsxs(Z,{className:"text-center pb-2",children:[s.jsx("div",{className:"mx-auto p-3 rounded-full bg-gradient-to-r from-primary/10 to-primary-glow/10 w-fit mb-4",children:s.jsx(c,{className:"w-6 h-6 text-primary"})}),s.jsx(ee,{className:"text-xl sm:text-2xl",children:l.name}),s.jsx("div",{className:"space-y-1",children:s.jsxs("div",{className:"flex items-baseline justify-center space-x-1",children:[s.jsx("span",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:l.price}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["/",l.period]})]})}),s.jsx(ze,{className:"text-center text-sm sm:text-base",children:l.description})]}),s.jsxs(Y,{className:"space-y-4 sm:space-y-6",children:[s.jsx("ul",{className:"space-y-2 sm:space-y-3",children:l.features.map((u,h)=>s.jsxs("li",{className:"flex items-start space-x-2 sm:space-x-3",children:[s.jsx(lr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"text-xs sm:text-sm text-foreground leading-relaxed",children:u})]},h))}),s.jsx(H,{variant:l.variant,className:"w-full min-h-[44px]",size:"lg",onClick:()=>i(l.name),children:e==="home"?"Get Started":l.buttonText})]})]},l.name)})}),s.jsxs("div",{className:"text-center mt-12 space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"All plans include our core emotional support features"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Cancel anytime  Secure payments"}),s.jsxs("p",{className:"text-xs text-muted-foreground pt-4",children:["Need help? Contact us at"," ",s.jsx("a",{href:"mailto:support@heart-lift.com",className:"text-primary hover:text-primary/80 underline transition-colors",children:"support@heart-lift.com"})]})]}),s.jsx(Bj,{isOpen:t,onClose:()=>r(!1),trigger:"usage_limit"})]})})},DM=()=>{const{user:e,isPremium:t,hasHealingKit:r}=Te();return!e||!(t||r)?null:s.jsx(W,{className:"mb-6 p-4 bg-gradient-to-r from-primary/10 via-primary-glow/10 to-secondary/10 border-primary/20",children:s.jsxs("div",{className:"flex items-center justify-center gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vs,{className:"w-5 h-5 text-green-500"}),s.jsx("span",{className:"font-medium text-foreground",children:"Your Active Plans"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[t&&s.jsxs(je,{variant:"default",className:"bg-gradient-to-r from-primary to-primary-glow text-primary-foreground px-3 py-1",children:[s.jsx(it,{className:"w-4 h-4 mr-1"}),"Premium Active"]}),r&&s.jsxs(je,{variant:"secondary",className:"bg-gradient-to-r from-healing to-healing-glow text-healing-foreground px-3 py-1",children:[s.jsx(fe,{className:"w-4 h-4 mr-1"}),"Healing Kit Active"]})]})]})})};function LM({firstName:e,onStartChat:t,onClose:r}){const n=()=>{t(),r()};return s.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:r,children:s.jsx(W,{className:"w-full max-w-md mx-auto shadow-2xl border-2 border-primary/20",onClick:o=>o.stopPropagation(),children:s.jsxs(Y,{className:"p-8 text-center space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:["Welcome, ",e,"! "]}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"We're here to support your growth and healing."})]}),s.jsxs(H,{onClick:n,className:"w-full h-12 text-lg font-semibold",size:"lg",children:[s.jsx(yu,{className:"w-5 h-5 mr-2"}),"Start Chatting with Your Coach "]})]})})})}var Qd="rovingFocusGroup.onEntryFocus",$M={bubbles:!1,cancelable:!0},el="RovingFocusGroup",[jf,Jj,FM]=hu(el),[UM,Sa]=It(el,[FM]),[zM,HM]=UM(el),Xj=f.forwardRef((e,t)=>s.jsx(jf.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(jf.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(BM,{...e,ref:t})})}));Xj.displayName=el;var BM=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:o=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...d}=e,m=f.useRef(null),x=ye(t,m),b=ja(a),[y,w]=wn({prop:i,defaultProp:l??null,onChange:c,caller:el}),[p,g]=f.useState(!1),v=qe(u),j=Jj(r),N=f.useRef(!1),[S,_]=f.useState(0);return f.useEffect(()=>{const C=m.current;if(C)return C.addEventListener(Qd,v),()=>C.removeEventListener(Qd,v)},[v]),s.jsx(zM,{scope:r,orientation:n,dir:b,loop:o,currentTabStopId:y,onItemFocus:f.useCallback(C=>w(C),[w]),onItemShiftTab:f.useCallback(()=>g(!0),[]),onFocusableItemAdd:f.useCallback(()=>_(C=>C+1),[]),onFocusableItemRemove:f.useCallback(()=>_(C=>C-1),[]),children:s.jsx(ae.div,{tabIndex:p||S===0?-1:0,"data-orientation":n,...d,ref:x,style:{outline:"none",...e.style},onMouseDown:Q(e.onMouseDown,()=>{N.current=!0}),onFocus:Q(e.onFocus,C=>{const A=!N.current;if(C.target===C.currentTarget&&A&&!p){const E=new CustomEvent(Qd,$M);if(C.currentTarget.dispatchEvent(E),!E.defaultPrevented){const z=j().filter(M=>M.focusable),I=z.find(M=>M.active),L=z.find(M=>M.id===y),B=[I,L,...z].filter(Boolean).map(M=>M.ref.current);t1(B,h)}}N.current=!1}),onBlur:Q(e.onBlur,()=>g(!1))})})}),Zj="RovingFocusGroupItem",e1=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:o=!1,tabStopId:a,children:i,...l}=e,c=Yr(),u=a||c,h=HM(Zj,r),d=h.currentTabStopId===u,m=Jj(r),{onFocusableItemAdd:x,onFocusableItemRemove:b,currentTabStopId:y}=h;return f.useEffect(()=>{if(n)return x(),()=>b()},[n,x,b]),s.jsx(jf.ItemSlot,{scope:r,id:u,focusable:n,active:o,children:s.jsx(ae.span,{tabIndex:d?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:Q(e.onMouseDown,w=>{n?h.onItemFocus(u):w.preventDefault()}),onFocus:Q(e.onFocus,()=>h.onItemFocus(u)),onKeyDown:Q(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){h.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const p=qM(w,h.orientation,h.dir);if(p!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let v=m().filter(j=>j.focusable).map(j=>j.ref.current);if(p==="last")v.reverse();else if(p==="prev"||p==="next"){p==="prev"&&v.reverse();const j=v.indexOf(w.currentTarget);v=h.loop?KM(v,j+1):v.slice(j+1)}setTimeout(()=>t1(v))}}),children:typeof i=="function"?i({isCurrentTabStop:d,hasTabStop:y!=null}):i})})});e1.displayName=Zj;var WM={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function VM(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function qM(e,t,r){const n=VM(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return WM[n]}function t1(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function KM(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var pp=Xj,gp=e1,zu="Tabs",[GM]=It(zu,[Sa]),r1=Sa(),[YM,yp]=GM(zu),n1=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:o,defaultValue:a,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,h=ja(l),[d,m]=wn({prop:n,onChange:o,defaultProp:a??"",caller:zu});return s.jsx(YM,{scope:r,baseId:Yr(),value:d,onValueChange:m,orientation:i,dir:h,activationMode:c,children:s.jsx(ae.div,{dir:h,"data-orientation":i,...u,ref:t})})});n1.displayName=zu;var s1="TabsList",o1=f.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...o}=e,a=yp(s1,r),i=r1(r);return s.jsx(pp,{asChild:!0,...i,orientation:a.orientation,dir:a.dir,loop:n,children:s.jsx(ae.div,{role:"tablist","aria-orientation":a.orientation,...o,ref:t})})});o1.displayName=s1;var a1="TabsTrigger",i1=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:o=!1,...a}=e,i=yp(a1,r),l=r1(r),c=u1(i.baseId,n),u=d1(i.baseId,n),h=n===i.value;return s.jsx(gp,{asChild:!0,...l,focusable:!o,active:h,children:s.jsx(ae.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:c,...a,ref:t,onMouseDown:Q(e.onMouseDown,d=>{!o&&d.button===0&&d.ctrlKey===!1?i.onValueChange(n):d.preventDefault()}),onKeyDown:Q(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&i.onValueChange(n)}),onFocus:Q(e.onFocus,()=>{const d=i.activationMode!=="manual";!h&&!o&&d&&i.onValueChange(n)})})})});i1.displayName=a1;var l1="TabsContent",c1=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:o,children:a,...i}=e,l=yp(l1,r),c=u1(l.baseId,n),u=d1(l.baseId,n),h=n===l.value,d=f.useRef(h);return f.useEffect(()=>{const m=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(m)},[]),s.jsx(gt,{present:o||h,children:({present:m})=>s.jsx(ae.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:m&&a})})});c1.displayName=l1;function u1(e,t){return`${e}-trigger-${t}`}function d1(e,t){return`${e}-content-${t}`}var QM=n1,h1=o1,f1=i1,m1=c1;const vp=QM,Hu=f.forwardRef(({className:e,...t},r)=>s.jsx(h1,{ref:r,className:ie("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Hu.displayName=h1.displayName;const hn=f.forwardRef(({className:e,...t},r)=>s.jsx(f1,{ref:r,className:ie("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-gradient-to-r data-[state=active]:from-primary data-[state=active]:to-primary-glow data-[state=active]:text-primary-foreground data-[state=active]:shadow-md",e),...t}));hn.displayName=f1.displayName;const fn=f.forwardRef(({className:e,...t},r)=>s.jsx(m1,{ref:r,className:ie("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));fn.displayName=m1.displayName;var Nf=["Enter"," "],JM=["ArrowDown","PageUp","Home"],p1=["ArrowUp","PageDown","End"],XM=[...JM,...p1],ZM={ltr:[...Nf,"ArrowRight"],rtl:[...Nf,"ArrowLeft"]},eD={ltr:["ArrowLeft"],rtl:["ArrowRight"]},tl="Menu",[Mi,tD,rD]=hu(tl),[ro,g1]=It(tl,[rD,ya,Sa]),Bu=ya(),y1=Sa(),[nD,no]=ro(tl),[sD,rl]=ro(tl),v1=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:o,onOpenChange:a,modal:i=!0}=e,l=Bu(t),[c,u]=f.useState(null),h=f.useRef(!1),d=qe(a),m=ja(o);return f.useEffect(()=>{const x=()=>{h.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>h.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),s.jsx(tb,{...l,children:s.jsx(nD,{scope:t,open:r,onOpenChange:d,content:c,onContentChange:u,children:s.jsx(sD,{scope:t,onClose:f.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:h,dir:m,modal:i,children:n})})})};v1.displayName=tl;var oD="MenuAnchor",xp=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,o=Bu(r);return s.jsx(Hm,{...o,...n,ref:t})});xp.displayName=oD;var wp="MenuPortal",[aD,x1]=ro(wp,{forceMount:void 0}),w1=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:o}=e,a=no(wp,t);return s.jsx(aD,{scope:t,forceMount:r,children:s.jsx(gt,{present:r||a.open,children:s.jsx(Vi,{asChild:!0,container:o,children:n})})})};w1.displayName=wp;var ur="MenuContent",[iD,bp]=ro(ur),b1=f.forwardRef((e,t)=>{const r=x1(ur,e.__scopeMenu),{forceMount:n=r.forceMount,...o}=e,a=no(ur,e.__scopeMenu),i=rl(ur,e.__scopeMenu);return s.jsx(Mi.Provider,{scope:e.__scopeMenu,children:s.jsx(gt,{present:n||a.open,children:s.jsx(Mi.Slot,{scope:e.__scopeMenu,children:i.modal?s.jsx(lD,{...o,ref:t}):s.jsx(cD,{...o,ref:t})})})})}),lD=f.forwardRef((e,t)=>{const r=no(ur,e.__scopeMenu),n=f.useRef(null),o=ye(t,n);return f.useEffect(()=>{const a=n.current;if(a)return lp(a)},[]),s.jsx(jp,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Q(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),cD=f.forwardRef((e,t)=>{const r=no(ur,e.__scopeMenu);return s.jsx(jp,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),uD=Ws("MenuContent.ScrollLock"),jp=f.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:d,onInteractOutside:m,onDismiss:x,disableOutsideScroll:b,...y}=e,w=no(ur,r),p=rl(ur,r),g=Bu(r),v=y1(r),j=tD(r),[N,S]=f.useState(null),_=f.useRef(null),C=ye(t,_,w.onContentChange),A=f.useRef(0),E=f.useRef(""),z=f.useRef(0),I=f.useRef(null),L=f.useRef("right"),T=f.useRef(0),B=b?$u:f.Fragment,M=b?{as:uD,allowPinchZoom:!0}:void 0,O=P=>{var R,K;const F=E.current+P,$=j().filter(te=>!te.disabled),V=document.activeElement,D=(R=$.find(te=>te.ref.current===V))==null?void 0:R.textValue,X=$.map(te=>te.textValue),oe=jD(X,F,D),ue=(K=$.find(te=>te.textValue===oe))==null?void 0:K.ref.current;(function te(le){E.current=le,window.clearTimeout(A.current),le!==""&&(A.current=window.setTimeout(()=>te(""),1e3))})(F),ue&&setTimeout(()=>ue.focus())};f.useEffect(()=>()=>window.clearTimeout(A.current),[]),ip();const k=f.useCallback(P=>{var $,V;return L.current===(($=I.current)==null?void 0:$.side)&&SD(P,(V=I.current)==null?void 0:V.area)},[]);return s.jsx(iD,{scope:r,searchRef:E,onItemEnter:f.useCallback(P=>{k(P)&&P.preventDefault()},[k]),onItemLeave:f.useCallback(P=>{var F;k(P)||((F=_.current)==null||F.focus(),S(null))},[k]),onTriggerLeave:f.useCallback(P=>{k(P)&&P.preventDefault()},[k]),pointerGraceTimerRef:z,onPointerGraceIntentChange:f.useCallback(P=>{I.current=P},[]),children:s.jsx(B,{...M,children:s.jsx(Du,{asChild:!0,trapped:o,onMountAutoFocus:Q(a,P=>{var F;P.preventDefault(),(F=_.current)==null||F.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:s.jsx(fa,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:d,onInteractOutside:m,onDismiss:x,children:s.jsx(pp,{asChild:!0,...v,dir:p.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:S,onEntryFocus:Q(c,P=>{p.isUsingKeyboardRef.current||P.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(Bm,{role:"menu","aria-orientation":"vertical","data-state":L1(w.open),"data-radix-menu-content":"",dir:p.dir,...g,...y,ref:C,style:{outline:"none",...y.style},onKeyDown:Q(y.onKeyDown,P=>{const $=P.target.closest("[data-radix-menu-content]")===P.currentTarget,V=P.ctrlKey||P.altKey||P.metaKey,D=P.key.length===1;$&&(P.key==="Tab"&&P.preventDefault(),!V&&D&&O(P.key));const X=_.current;if(P.target!==X||!XM.includes(P.key))return;P.preventDefault();const ue=j().filter(R=>!R.disabled).map(R=>R.ref.current);p1.includes(P.key)&&ue.reverse(),wD(ue)}),onBlur:Q(e.onBlur,P=>{P.currentTarget.contains(P.target)||(window.clearTimeout(A.current),E.current="")}),onPointerMove:Q(e.onPointerMove,Di(P=>{const F=P.target,$=T.current!==P.clientX;if(P.currentTarget.contains(F)&&$){const V=P.clientX>T.current?"right":"left";L.current=V,T.current=P.clientX}}))})})})})})})});b1.displayName=ur;var dD="MenuGroup",Np=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(ae.div,{role:"group",...n,ref:t})});Np.displayName=dD;var hD="MenuLabel",j1=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(ae.div,{...n,ref:t})});j1.displayName=hD;var Vc="MenuItem",gv="menu.itemSelect",Wu=f.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...o}=e,a=f.useRef(null),i=rl(Vc,e.__scopeMenu),l=bp(Vc,e.__scopeMenu),c=ye(t,a),u=f.useRef(!1),h=()=>{const d=a.current;if(!r&&d){const m=new CustomEvent(gv,{bubbles:!0,cancelable:!0});d.addEventListener(gv,x=>n==null?void 0:n(x),{once:!0}),Em(d,m),m.defaultPrevented?u.current=!1:i.onClose()}};return s.jsx(N1,{...o,ref:c,disabled:r,onClick:Q(e.onClick,h),onPointerDown:d=>{var m;(m=e.onPointerDown)==null||m.call(e,d),u.current=!0},onPointerUp:Q(e.onPointerUp,d=>{var m;u.current||(m=d.currentTarget)==null||m.click()}),onKeyDown:Q(e.onKeyDown,d=>{const m=l.searchRef.current!=="";r||m&&d.key===" "||Nf.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});Wu.displayName=Vc;var N1=f.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:o,...a}=e,i=bp(Vc,r),l=y1(r),c=f.useRef(null),u=ye(t,c),[h,d]=f.useState(!1),[m,x]=f.useState("");return f.useEffect(()=>{const b=c.current;b&&x((b.textContent??"").trim())},[a.children]),s.jsx(Mi.ItemSlot,{scope:r,disabled:n,textValue:o??m,children:s.jsx(gp,{asChild:!0,...l,focusable:!n,children:s.jsx(ae.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:Q(e.onPointerMove,Di(b=>{n?i.onItemLeave(b):(i.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Q(e.onPointerLeave,Di(b=>i.onItemLeave(b))),onFocus:Q(e.onFocus,()=>d(!0)),onBlur:Q(e.onBlur,()=>d(!1))})})})}),fD="MenuCheckboxItem",S1=f.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...o}=e;return s.jsx(P1,{scope:e.__scopeMenu,checked:r,children:s.jsx(Wu,{role:"menuitemcheckbox","aria-checked":qc(r)?"mixed":r,...o,ref:t,"data-state":_p(r),onSelect:Q(o.onSelect,()=>n==null?void 0:n(qc(r)?!0:!r),{checkForDefaultPrevented:!1})})})});S1.displayName=fD;var _1="MenuRadioGroup",[mD,pD]=ro(_1,{value:void 0,onValueChange:()=>{}}),C1=f.forwardRef((e,t)=>{const{value:r,onValueChange:n,...o}=e,a=qe(n);return s.jsx(mD,{scope:e.__scopeMenu,value:r,onValueChange:a,children:s.jsx(Np,{...o,ref:t})})});C1.displayName=_1;var k1="MenuRadioItem",E1=f.forwardRef((e,t)=>{const{value:r,...n}=e,o=pD(k1,e.__scopeMenu),a=r===o.value;return s.jsx(P1,{scope:e.__scopeMenu,checked:a,children:s.jsx(Wu,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":_p(a),onSelect:Q(n.onSelect,()=>{var i;return(i=o.onValueChange)==null?void 0:i.call(o,r)},{checkForDefaultPrevented:!1})})})});E1.displayName=k1;var Sp="MenuItemIndicator",[P1,gD]=ro(Sp,{checked:!1}),T1=f.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...o}=e,a=gD(Sp,r);return s.jsx(gt,{present:n||qc(a.checked)||a.checked===!0,children:s.jsx(ae.span,{...o,ref:t,"data-state":_p(a.checked)})})});T1.displayName=Sp;var yD="MenuSeparator",R1=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(ae.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});R1.displayName=yD;var vD="MenuArrow",A1=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,o=Bu(r);return s.jsx(Wm,{...o,...n,ref:t})});A1.displayName=vD;var xD="MenuSub",[u3,I1]=ro(xD),Ka="MenuSubTrigger",O1=f.forwardRef((e,t)=>{const r=no(Ka,e.__scopeMenu),n=rl(Ka,e.__scopeMenu),o=I1(Ka,e.__scopeMenu),a=bp(Ka,e.__scopeMenu),i=f.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},h=f.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return f.useEffect(()=>h,[h]),f.useEffect(()=>{const d=l.current;return()=>{window.clearTimeout(d),c(null)}},[l,c]),s.jsx(xp,{asChild:!0,...u,children:s.jsx(N1,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":o.contentId,"data-state":L1(r.open),...e,ref:du(t,o.onTriggerChange),onClick:d=>{var m;(m=e.onClick)==null||m.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Q(e.onPointerMove,Di(d=>{a.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(a.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),h()},100))})),onPointerLeave:Q(e.onPointerLeave,Di(d=>{var x,b;h();const m=(x=r.content)==null?void 0:x.getBoundingClientRect();if(m){const y=(b=r.content)==null?void 0:b.dataset.side,w=y==="right",p=w?-5:5,g=m[w?"left":"right"],v=m[w?"right":"left"];a.onPointerGraceIntentChange({area:[{x:d.clientX+p,y:d.clientY},{x:g,y:m.top},{x:v,y:m.top},{x:v,y:m.bottom},{x:g,y:m.bottom}],side:y}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(d),d.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Q(e.onKeyDown,d=>{var x;const m=a.searchRef.current!=="";e.disabled||m&&d.key===" "||ZM[n.dir].includes(d.key)&&(r.onOpenChange(!0),(x=r.content)==null||x.focus(),d.preventDefault())})})})});O1.displayName=Ka;var M1="MenuSubContent",D1=f.forwardRef((e,t)=>{const r=x1(ur,e.__scopeMenu),{forceMount:n=r.forceMount,...o}=e,a=no(ur,e.__scopeMenu),i=rl(ur,e.__scopeMenu),l=I1(M1,e.__scopeMenu),c=f.useRef(null),u=ye(t,c);return s.jsx(Mi.Provider,{scope:e.__scopeMenu,children:s.jsx(gt,{present:n||a.open,children:s.jsx(Mi.Slot,{scope:e.__scopeMenu,children:s.jsx(jp,{id:l.contentId,"aria-labelledby":l.triggerId,...o,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var d;i.isUsingKeyboardRef.current&&((d=c.current)==null||d.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:Q(e.onFocusOutside,h=>{h.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Q(e.onEscapeKeyDown,h=>{i.onClose(),h.preventDefault()}),onKeyDown:Q(e.onKeyDown,h=>{var x;const d=h.currentTarget.contains(h.target),m=eD[i.dir].includes(h.key);d&&m&&(a.onOpenChange(!1),(x=l.trigger)==null||x.focus(),h.preventDefault())})})})})})});D1.displayName=M1;function L1(e){return e?"open":"closed"}function qc(e){return e==="indeterminate"}function _p(e){return qc(e)?"indeterminate":e?"checked":"unchecked"}function wD(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function bD(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function jD(e,t,r){const o=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=bD(e,Math.max(a,0));o.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(o.toLowerCase()));return c!==r?c:void 0}function ND(e,t){const{x:r,y:n}=e;let o=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a],c=t[i],u=l.x,h=l.y,d=c.x,m=c.y;h>n!=m>n&&r<(d-u)*(n-h)/(m-h)+u&&(o=!o)}return o}function SD(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return ND(r,t)}function Di(e){return t=>t.pointerType==="mouse"?e(t):void 0}var _D=v1,CD=xp,kD=w1,ED=b1,PD=Np,TD=j1,RD=Wu,AD=S1,ID=C1,OD=E1,MD=T1,DD=R1,LD=A1,$D=O1,FD=D1,Vu="DropdownMenu",[UD]=It(Vu,[g1]),Ot=g1(),[zD,$1]=UD(Vu),F1=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:o,defaultOpen:a,onOpenChange:i,modal:l=!0}=e,c=Ot(t),u=f.useRef(null),[h,d]=wn({prop:o,defaultProp:a??!1,onChange:i,caller:Vu});return s.jsx(zD,{scope:t,triggerId:Yr(),triggerRef:u,contentId:Yr(),open:h,onOpenChange:d,onOpenToggle:f.useCallback(()=>d(m=>!m),[d]),modal:l,children:s.jsx(_D,{...c,open:h,onOpenChange:d,dir:n,modal:l,children:r})})};F1.displayName=Vu;var U1="DropdownMenuTrigger",z1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...o}=e,a=$1(U1,r),i=Ot(r);return s.jsx(CD,{asChild:!0,...i,children:s.jsx(ae.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...o,ref:du(t,a.triggerRef),onPointerDown:Q(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:Q(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});z1.displayName=U1;var HD="DropdownMenuPortal",H1=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Ot(t);return s.jsx(kD,{...n,...r})};H1.displayName=HD;var B1="DropdownMenuContent",W1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=$1(B1,r),a=Ot(r),i=f.useRef(!1);return s.jsx(ED,{id:o.contentId,"aria-labelledby":o.triggerId,...a,...n,ref:t,onCloseAutoFocus:Q(e.onCloseAutoFocus,l=>{var c;i.current||(c=o.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:Q(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,h=c.button===2||u;(!o.modal||h)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});W1.displayName=B1;var BD="DropdownMenuGroup",WD=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ot(r);return s.jsx(PD,{...o,...n,ref:t})});WD.displayName=BD;var VD="DropdownMenuLabel",V1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ot(r);return s.jsx(TD,{...o,...n,ref:t})});V1.displayName=VD;var qD="DropdownMenuItem",q1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ot(r);return s.jsx(RD,{...o,...n,ref:t})});q1.displayName=qD;var KD="DropdownMenuCheckboxItem",K1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ot(r);return s.jsx(AD,{...o,...n,ref:t})});K1.displayName=KD;var GD="DropdownMenuRadioGroup",YD=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ot(r);return s.jsx(ID,{...o,...n,ref:t})});YD.displayName=GD;var QD="DropdownMenuRadioItem",G1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ot(r);return s.jsx(OD,{...o,...n,ref:t})});G1.displayName=QD;var JD="DropdownMenuItemIndicator",Y1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ot(r);return s.jsx(MD,{...o,...n,ref:t})});Y1.displayName=JD;var XD="DropdownMenuSeparator",Q1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ot(r);return s.jsx(DD,{...o,...n,ref:t})});Q1.displayName=XD;var ZD="DropdownMenuArrow",e5=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ot(r);return s.jsx(LD,{...o,...n,ref:t})});e5.displayName=ZD;var t5="DropdownMenuSubTrigger",J1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ot(r);return s.jsx($D,{...o,...n,ref:t})});J1.displayName=t5;var r5="DropdownMenuSubContent",X1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ot(r);return s.jsx(FD,{...o,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});X1.displayName=r5;var n5=F1,s5=z1,o5=H1,Z1=W1,eN=V1,tN=q1,rN=K1,nN=G1,sN=Y1,oN=Q1,aN=J1,iN=X1;const a5=n5,i5=s5,l5=f.forwardRef(({className:e,inset:t,children:r,...n},o)=>s.jsxs(aN,{ref:o,className:ie("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,s.jsx(pu,{className:"ml-auto h-4 w-4"})]}));l5.displayName=aN.displayName;const c5=f.forwardRef(({className:e,...t},r)=>s.jsx(iN,{ref:r,className:ie("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));c5.displayName=iN.displayName;const lN=f.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(o5,{children:s.jsx(Z1,{ref:n,sideOffset:t,className:ie("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));lN.displayName=Z1.displayName;const nc=f.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(tN,{ref:n,className:ie("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));nc.displayName=tN.displayName;const u5=f.forwardRef(({className:e,children:t,checked:r,...n},o)=>s.jsxs(rN,{ref:o,className:ie("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(sN,{children:s.jsx(lr,{className:"h-4 w-4"})})}),t]}));u5.displayName=rN.displayName;const d5=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(nN,{ref:n,className:ie("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(sN,{children:s.jsx(gu,{className:"h-2 w-2 fill-current"})})}),t]}));d5.displayName=nN.displayName;const h5=f.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(eN,{ref:n,className:ie("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));h5.displayName=eN.displayName;const cN=f.forwardRef(({className:e,...t},r)=>s.jsx(oN,{ref:r,className:ie("-mx-1 my-1 h-px bg-muted",e),...t}));cN.displayName=oN.displayName;const Fa={flirty:{name:"Luna Love",personality:"flirty",greetings:["Hi {firstName}! Ready to turn heads today? ","Hey {firstName}, feeling that spark yet? Let's bring it out! ","Hi {firstName}! You've got main character energy and I'm here for it.","Hello {firstName}, let's add a little confidence magic to your day."],icon:fe,color:"from-pink-400 to-rose-500"},therapist:{name:"Dr. Sage",personality:"therapist",greetings:["Hi {firstName}, I'm here to help you understand yourself better.","Hello {firstName}. Let's take a moment to pause and reflect together.","Hi {firstName}, what's been on your mind lately? I'm listening.","Hi {firstName}. You've taken the first step just by showing up and that matters."],icon:Wr,color:"from-purple-400 to-indigo-500"},"tough-love":{name:"Phoenix Fire",personality:"tough-love",greetings:["Hey {firstName}! I'm Phoenix, your no BS mentor for self transformation. Ready to light things up? ","Hi {firstName}, I'm here to help you set boundaries, own your power, and make real change.","Hello {firstName}! Time for some straight talk. Let's cut through the noise and get you feeling strong again.","Hey {firstName}, growth takes courage and you already have what it takes."],icon:_i,color:"from-orange-400 to-red-500"},chill:{name:"River Calm",personality:"chill",greetings:["Hello {firstName}, I'm River. Take a deep breath and let's find your calm together.","Hi {firstName}. I'm here to offer you a peaceful space to reflect and release what's been heavy.","Hey {firstName}, take a moment to pause and reconnect. Let's find your balance again.","Hi {firstName}. You've arrived in a safe and gentle space. What's been flowing through your mind today?"],icon:b0,color:"from-emerald-400 to-teal-500"}},f5=()=>{var w,p,g,v,j;const[e,t]=f.useState("therapist"),[r,n]=f.useState(()=>new URLSearchParams(window.location.search).get("tab")||"home"),[o,a]=f.useState(!1),{isPremium:i,hasHealingKit:l,user:c,signOut:u}=Te(),h=tt(),d=tr();f.useEffect(()=>{const S=new URLSearchParams(d.search).get("tab")||"home";n(S)},[d.search]),f.useEffect(()=>{r!=="home"&&window.scrollTo({top:0,behavior:"smooth"})},[r]),f.useEffect(()=>{c&&r!=="home"&&(localStorage.getItem(`welcomeShown_${c.id}`)||a(!0))},[c,r]);const m=()=>{n("chat")},x=()=>{n("chat")},b=()=>{a(!1),c&&localStorage.setItem(`welcomeShown_${c.id}`,"true")},y=()=>{var S,_;if(!c)return"";if((S=c.user_metadata)!=null&&S.full_name){const A=c.user_metadata.full_name.split(" ")[0];return A.charAt(0).toUpperCase()+A.slice(1).toLowerCase()}const N=((_=c.email)==null?void 0:_.split("@")[0])||"";return N.charAt(0).toUpperCase()+N.slice(1).toLowerCase()};return r==="home"?s.jsxs("div",{className:"min-h-screen",children:[s.jsx(K4,{onGetStarted:m}),s.jsx(pv,{backTo:"home"})]}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-muted/30 to-secondary/30",children:[o&&s.jsx(LM,{firstName:y(),onStartChat:x,onClose:b}),s.jsxs("div",{className:"container mx-auto px-3 sm:px-4 py-4 sm:py-8",style:{paddingTop:"calc(env(safe-area-inset-top, 20px) + 2rem)"},children:[s.jsx("div",{className:"mt-8",children:s.jsx(DM,{})}),c&&s.jsx("div",{className:"mb-8 mt-8 text-center",children:s.jsxs("p",{className:"text-lg sm:text-xl text-foreground",children:["Welcome back, ",s.jsx("span",{className:"font-semibold bg-gradient-to-r from-primary to-primary-glow bg-clip-text text-transparent",children:y()}),"!",s.jsx("span",{className:"block sm:inline sm:ml-1 text-muted-foreground",children:"Your coaches are here to support you today"})]})}),(i||l)&&s.jsxs("div",{className:"flex justify-center gap-2 mb-6",children:[i&&s.jsx(Dc,{to:"/advanced-tools",children:s.jsxs(H,{variant:"outline",className:"flex items-center gap-2",children:[s.jsx(Me,{className:"w-4 h-4"}),"Advanced Tools"]})}),l&&s.jsx(Dc,{to:"/healing-kit",children:s.jsxs(H,{variant:"outline",className:"flex items-center gap-2 hover:shadow-md transition-all",children:[s.jsx(fe,{className:"w-4 h-4 text-primary animate-heart-pulse"}),"Healing Kit"]})})]}),s.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[s.jsx("div",{className:"p-1.5 sm:p-2 rounded-full bg-gradient-to-r from-primary to-primary-glow",children:s.jsx(fe,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary-foreground"})}),s.jsxs("h1",{className:"text-xl sm:text-2xl font-bold",children:["Heart",s.jsx("span",{className:"bg-gradient-to-r from-primary via-primary to-primary bg-clip-text text-transparent font-black",children:"Lift"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(H,{variant:"gentle",size:"sm",onClick:()=>n("home"),className:"text-xs sm:text-sm min-h-[44px] px-4",children:[s.jsx("span",{className:"hidden sm:inline",children:" Home"}),s.jsx("span",{className:"sm:hidden",children:"Home"})]}),c&&s.jsxs(a5,{children:[s.jsx(i5,{asChild:!0,children:s.jsxs(H,{variant:"outline",size:"sm",className:"flex items-center gap-2 min-h-[44px]",children:[s.jsx(Pc,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Account"})]})}),s.jsxs(lN,{align:"end",children:[s.jsx(nc,{disabled:!0,className:"opacity-60",children:c.email}),s.jsx(cN,{}),s.jsxs(nc,{onClick:()=>h("/subscription-management"),className:"cursor-pointer",children:[s.jsx(Pc,{className:"w-4 h-4 mr-2"}),"Manage Account"]}),s.jsxs(nc,{onClick:u,className:"text-red-600 cursor-pointer",children:[s.jsx(bE,{className:"w-4 h-4 mr-2"}),"Sign out"]})]})]})]})]}),s.jsxs(vp,{value:r,onValueChange:n,className:"space-y-4 sm:space-y-6",children:[s.jsxs(Hu,{className:"grid w-full max-w-xs sm:max-w-md mx-auto grid-cols-4 h-14 sm:h-10 sticky top-0 z-10 backdrop-blur-sm",children:[s.jsxs(hn,{value:"chat",className:"flex flex-col sm:flex-row items-center justify-center sm:space-x-1 p-2 min-h-[44px]",children:[s.jsx(yu,{className:"w-4 h-4 sm:w-4 sm:h-4"}),s.jsx("span",{className:"text-xs sm:text-sm mt-1 sm:mt-0 sm:hidden lg:inline",children:"Chat"})]}),s.jsxs(hn,{value:"mood",className:"flex flex-col sm:flex-row items-center justify-center sm:space-x-1 p-2 min-h-[44px]",children:[s.jsx(oa,{className:"w-4 h-4 sm:w-4 sm:h-4"}),s.jsx("span",{className:"text-xs sm:text-sm mt-1 sm:mt-0 sm:hidden lg:inline",children:"Mood"})]}),s.jsxs(hn,{value:"coaches",className:"flex flex-col sm:flex-row items-center justify-center sm:space-x-1 p-2 min-h-[44px]",children:[s.jsx(fe,{className:"w-4 h-4 sm:w-4 sm:h-4"}),s.jsx("span",{className:"text-xs sm:text-sm mt-1 sm:mt-0 sm:hidden lg:inline",children:"Coaches"})]}),s.jsxs(hn,{value:"pricing",className:"flex flex-col sm:flex-row items-center justify-center sm:space-x-1 p-2 min-h-[44px]",children:[s.jsx(j0,{className:"w-4 h-4 sm:w-4 sm:h-4"}),s.jsx("span",{className:"text-xs sm:text-sm mt-1 sm:mt-0 sm:hidden lg:inline",children:"Plans"})]})]}),s.jsxs(fn,{value:"chat",className:"space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"text-center space-y-3 mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:" Chat with Your Coaches"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"Your coaches are here anytime to guide and support you"})]}),s.jsxs("div",{className:"max-w-4xl mx-auto space-y-4 lg:space-y-0 lg:grid lg:grid-cols-3 lg:gap-6",children:[s.jsx("div",{className:"lg:col-span-1 lg:order-1",children:s.jsx(Xy,{onSelectCoach:t,selectedCoach:e,compact:!0})}),s.jsx("div",{className:"lg:col-span-2 lg:order-2",children:s.jsx(IM,{coachName:((w=Fa[e])==null?void 0:w.name)||"Dr. Sage",coachPersonality:((p=Fa[e])==null?void 0:p.personality)||"therapist",coachGreetings:(g=Fa[e])==null?void 0:g.greetings,coachIcon:((v=Fa[e])==null?void 0:v.icon)||Wr,coachColor:((j=Fa[e])==null?void 0:j.color)||"from-purple-400 to-indigo-500"},e)})]})]}),s.jsx(fn,{value:"mood",className:"space-y-6",children:s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsx(OM,{})})}),s.jsxs(fn,{value:"coaches",className:"space-y-6",children:[s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsx(Xy,{onSelectCoach:t,selectedCoach:e})}),s.jsxs("div",{className:"flex flex-col items-center justify-center pt-12 pb-8 space-y-2",children:[s.jsx("p",{className:"text-muted-foreground text-center",children:"All coaches provide personalised emotional support"}),s.jsxs("p",{className:"text-muted-foreground text-sm",children:["Need help? Contact us at"," ",s.jsx("a",{href:"mailto:support@heart-lift.com",className:"text-primary hover:text-primary/80 underline transition-colors",children:"support@heart-lift.com"})]})]})]}),s.jsx(fn,{value:"pricing",className:"space-y-6",children:s.jsx(pv,{backTo:"coaches"})})]})]})]})};var m5="Label",uN=f.forwardRef((e,t)=>s.jsx(ae.label,{...e,ref:t,onMouseDown:r=>{var o;r.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));uN.displayName=m5;var dN=uN;const p5=Ki("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Qe=f.forwardRef(({className:e,...t},r)=>s.jsx(dN,{ref:r,className:ie(p5(),e),...t}));Qe.displayName=dN.displayName;function Cp(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var qu="Checkbox",[g5]=It(qu),[y5,kp]=g5(qu);function v5(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:o,disabled:a,form:i,name:l,onCheckedChange:c,required:u,value:h="on",internal_do_not_use_render:d}=e,[m,x]=wn({prop:r,defaultProp:o??!1,onChange:c,caller:qu}),[b,y]=f.useState(null),[w,p]=f.useState(null),g=f.useRef(!1),v=b?!!i||!!b.closest("form"):!0,j={checked:m,disabled:a,setChecked:x,control:b,setControl:y,name:l,form:i,value:h,hasConsumerStoppedPropagationRef:g,required:u,defaultChecked:ss(o)?!1:o,isFormControl:v,bubbleInput:w,setBubbleInput:p};return s.jsx(y5,{scope:t,...j,children:x5(d)?d(j):n})}var hN="CheckboxTrigger",fN=f.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},o)=>{const{control:a,value:i,disabled:l,checked:c,required:u,setControl:h,setChecked:d,hasConsumerStoppedPropagationRef:m,isFormControl:x,bubbleInput:b}=kp(hN,e),y=ye(o,h),w=f.useRef(c);return f.useEffect(()=>{const p=a==null?void 0:a.form;if(p){const g=()=>d(w.current);return p.addEventListener("reset",g),()=>p.removeEventListener("reset",g)}},[a,d]),s.jsx(ae.button,{type:"button",role:"checkbox","aria-checked":ss(c)?"mixed":c,"aria-required":u,"data-state":vN(c),"data-disabled":l?"":void 0,disabled:l,value:i,...n,ref:y,onKeyDown:Q(t,p=>{p.key==="Enter"&&p.preventDefault()}),onClick:Q(r,p=>{d(g=>ss(g)?!0:!g),b&&x&&(m.current=p.isPropagationStopped(),m.current||p.stopPropagation())})})});fN.displayName=hN;var Ep=f.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:o,defaultChecked:a,required:i,disabled:l,value:c,onCheckedChange:u,form:h,...d}=e;return s.jsx(v5,{__scopeCheckbox:r,checked:o,defaultChecked:a,disabled:l,required:i,onCheckedChange:u,name:n,form:h,value:c,internal_do_not_use_render:({isFormControl:m})=>s.jsxs(s.Fragment,{children:[s.jsx(fN,{...d,ref:t,__scopeCheckbox:r}),m&&s.jsx(yN,{__scopeCheckbox:r})]})})});Ep.displayName=qu;var mN="CheckboxIndicator",pN=f.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...o}=e,a=kp(mN,r);return s.jsx(gt,{present:n||ss(a.checked)||a.checked===!0,children:s.jsx(ae.span,{"data-state":vN(a.checked),"data-disabled":a.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});pN.displayName=mN;var gN="CheckboxBubbleInput",yN=f.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:o,checked:a,defaultChecked:i,required:l,disabled:c,name:u,value:h,form:d,bubbleInput:m,setBubbleInput:x}=kp(gN,e),b=ye(r,x),y=Cp(a),w=Fm(n);f.useEffect(()=>{const g=m;if(!g)return;const v=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(v,"checked").set,S=!o.current;if(y!==a&&N){const _=new Event("click",{bubbles:S});g.indeterminate=ss(a),N.call(g,ss(a)?!1:a),g.dispatchEvent(_)}},[m,y,a,o]);const p=f.useRef(ss(a)?!1:a);return s.jsx(ae.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??p.current,required:l,disabled:c,name:u,value:h,form:d,...t,tabIndex:-1,ref:b,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});yN.displayName=gN;function x5(e){return typeof e=="function"}function ss(e){return e==="indeterminate"}function vN(e){return ss(e)?"indeterminate":e?"checked":"unchecked"}const xN=f.forwardRef(({className:e,...t},r)=>s.jsx(Ep,{ref:r,className:ie("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(pN,{className:ie("flex items-center justify-center text-current"),children:s.jsx(lr,{className:"h-4 w-4"})})}));xN.displayName=Ep.displayName;const w5=()=>{const[e,t]=f.useState(!1),[r,n]=f.useState({fullName:"",email:"",password:""}),[o,a]=f.useState(!1),[i,l]=f.useState({email:"",password:""}),[c,u]=f.useState(""),[h,d]=f.useState(!1),{signIn:m,signUp:x}=Te(),{toast:b}=At(),y=tt(),w=async v=>{if(v.preventDefault(),!o){b({title:"Agreement required",description:"You must agree to the Terms of Service and Privacy Policy to continue.",variant:"destructive"});return}t(!0);const{error:j}=await x(r.email,r.password,r.fullName);j?b({title:"Sign up failed",description:j.message,variant:"destructive"}):(b({title:"Check your email!",description:"We've sent you a 6-digit verification code to complete your registration."}),y(`/verify-email?email=${encodeURIComponent(r.email)}`)),t(!1)},p=async v=>{v.preventDefault(),t(!0);try{const{error:j}=await m(i.email,i.password);j?(console.error("[Auth] Sign in error:",j),b({title:"Sign in failed",description:j.message||"Unable to sign in. Please check your email and password.",variant:"destructive"})):(b({title:"Welcome back!",description:"You're now signed in to HeartLift."}),y("/"))}catch(j){console.error("[Auth] Unexpected sign in error:",j),b({title:"Sign in error",description:"An unexpected error occurred. Please try again or contact support if the issue persists.",variant:"destructive"})}finally{t(!1)}},g=async v=>{v.preventDefault(),t(!0);try{const{error:j}=await J.auth.resetPasswordForEmail(c,{redirectTo:`${window.location.origin}/password-reset`});j?b({title:"Reset failed",description:j.message,variant:"destructive"}):(b({title:"Reset code sent!",description:"Check your email for a 6-digit verification code."}),d(!1),u(""),setTimeout(()=>y(`/password-reset?email=${encodeURIComponent(c)}`),1e3))}catch{b({title:"Something went wrong",description:"Please try again later.",variant:"destructive"})}t(!1)};return s.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-16 bg-gradient-to-br from-background via-muted to-secondary",children:s.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.jsxs(H,{variant:"gentle",onClick:()=>y("/"),className:"mb-4 min-h-[44px]",children:[s.jsx(Ir,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"p-3 rounded-full bg-gradient-to-r from-primary to-primary-glow shadow-warm",children:s.jsx(fe,{className:"w-6 h-6 text-primary-foreground"})})}),s.jsxs("h1",{className:"text-3xl font-bold text-foreground",children:["Join Heart",s.jsx("span",{className:"bg-gradient-to-r from-primary to-primary-glow bg-clip-text text-transparent",children:"Lift"})]}),s.jsx("p",{className:"text-muted-foreground",children:"Start your healing journey today"})]}),s.jsxs(vp,{defaultValue:"signup",className:"w-full",children:[s.jsxs(Hu,{className:"grid w-full grid-cols-2",children:[s.jsx(hn,{value:"signup",children:"Sign Up"}),s.jsx(hn,{value:"signin",children:"Sign In"})]}),s.jsx(fn,{value:"signup",className:"space-y-4",children:s.jsxs(W,{className:"shadow-gentle",children:[s.jsxs(Z,{children:[s.jsx(ee,{children:"Create your account"}),s.jsx(ze,{children:"Start your journey to emotional wellness"})]}),s.jsx(Y,{children:s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Qe,{htmlFor:"fullName",children:"Full Name"}),s.jsx(ot,{id:"fullName",type:"text",placeholder:"Enter your full name",value:r.fullName,onChange:v=>n(j=>({...j,fullName:v.target.value})),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Qe,{htmlFor:"email",children:"Email"}),s.jsx(ot,{id:"email",type:"email",placeholder:"Enter your email",value:r.email,onChange:v=>n(j=>({...j,email:v.target.value})),required:!0,className:"text-base",autoComplete:"email",autoCapitalize:"none",autoCorrect:"off"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Qe,{htmlFor:"password",children:"Password"}),s.jsx(ot,{id:"password",type:"password",placeholder:"Create a password",value:r.password,onChange:v=>n(j=>({...j,password:v.target.value})),required:!0,minLength:6,className:"text-base",autoComplete:"new-password"})]}),s.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-muted/50 rounded-lg",children:[s.jsx(xN,{id:"terms-agreement",checked:o,onCheckedChange:v=>a(v),className:"mt-1"}),s.jsxs(Qe,{htmlFor:"terms-agreement",className:"text-sm leading-relaxed cursor-pointer",children:["I agree to the"," ",s.jsx(Dc,{to:"/terms-of-service",className:"text-primary hover:underline font-medium",children:"Terms of Service"})," ","and"," ",s.jsx(Dc,{to:"/privacy-policy",className:"text-primary hover:underline font-medium",children:"Privacy Policy"})]})]}),s.jsx(H,{type:"submit",variant:"warm",className:"w-full min-h-[44px]",disabled:e||!o,children:e?"Creating Account...":"Start My Healing Journey"})]})})]})}),s.jsx(fn,{value:"signin",className:"space-y-4",children:s.jsxs(W,{className:"shadow-gentle",children:[s.jsxs(Z,{children:[s.jsx(ee,{children:"Welcome back"}),s.jsx(ze,{children:"Continue your healing journey"})]}),s.jsx(Y,{children:s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Qe,{htmlFor:"signin-email",children:"Email"}),s.jsx(ot,{id:"signin-email",type:"email",placeholder:"Enter your email",value:i.email,onChange:v=>l(j=>({...j,email:v.target.value})),required:!0,className:"text-base",autoComplete:"email",autoCapitalize:"none",autoCorrect:"off"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Qe,{htmlFor:"signin-password",children:"Password"}),s.jsx(ot,{id:"signin-password",type:"password",placeholder:"Enter your password",value:i.password,onChange:v=>l(j=>({...j,password:v.target.value})),required:!0,className:"text-base",autoComplete:"current-password"})]}),s.jsx(H,{type:"submit",variant:"warm",className:"w-full min-h-[44px]",disabled:e,children:e?"Signing In...":"Continue Healing"}),s.jsx("div",{className:"text-center",children:s.jsx(H,{type:"button",variant:"ghost",size:"sm",onClick:()=>d(!0),className:"text-sm text-muted-foreground hover:text-primary",children:"Forgot your password?"})})]})})]})})]}),h&&s.jsxs(W,{className:"shadow-gentle",children:[s.jsxs(Z,{children:[s.jsx(ee,{children:"Reset Your Password"}),s.jsx(ze,{children:"Enter your email and we'll send you a verification code"})]}),s.jsx(Y,{children:s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Qe,{htmlFor:"forgot-email",children:"Email"}),s.jsx(ot,{id:"forgot-email",type:"email",placeholder:"Enter your email",value:c,onChange:v=>u(v.target.value),required:!0})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(H,{type:"submit",variant:"warm",className:"flex-1",disabled:e,children:e?"Sending...":"Send Code"}),s.jsx(H,{type:"button",variant:"outline",onClick:()=>{d(!1),u("")},children:"Cancel"})]})]})})]}),s.jsx("div",{className:"text-center text-sm text-muted-foreground",children:s.jsx("p",{children:"Free to start  Premium features from 11.99/month"})})]})})},b5=()=>{const e=tt(),{user:t,checkSubscription:r}=Te(),{toast:n}=At();Eu();const[o,a]=f.useState(!0);f.useEffect(()=>{(async()=>{if(t)try{await r(),n({title:"Premium Activated! ",description:"Your subscription is now active. Enjoy unlimited conversations!"})}catch(c){console.error("Error checking subscription:",c)}finally{a(!1)}})()},[t,n,r]);const i=[" Unlimited AI conversations with all coaches"," Personalised coaching and text suggestions"," Advanced tools and healing plans"," Text helpers & conversation analyser"];return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-primary-glow/5 flex items-center justify-center p-4",children:s.jsxs(W,{className:"max-w-2xl w-full shadow-warm",children:[s.jsxs(Z,{className:"text-center space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Me,{className:"w-8 h-8 text-yellow-500"}),s.jsx(ee,{className:"text-3xl font-bold",children:"Welcome to Premium!"})]}),s.jsx("p",{className:"text-muted-foreground text-lg",children:o?"Setting up your premium account...":"Your subscription is now active and ready to use!"})]}),s.jsxs(Y,{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-primary-glow/10 rounded-lg p-6",children:[s.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[s.jsx(lr,{className:"w-5 h-5 text-green-500"}),"You now have access to:"]}),s.jsx("div",{className:"grid gap-3",children:i.map((l,c)=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(lr,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:l})]},c))})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(H,{onClick:()=>e("/"),className:"flex-1",variant:"outline",children:[s.jsx(yE,{className:"w-4 h-4 mr-2"}),"Go Home"]}),s.jsxs(H,{onClick:()=>e("/"),className:"flex-1",variant:"warm",children:[s.jsx(Jr,{className:"w-4 h-4 mr-2"}),"Start Chatting"]})]}),s.jsx("div",{className:"text-center text-sm text-muted-foreground",children:s.jsx("p",{children:"You can manage your subscription anytime from your account settings."})})]})]})})},j5=()=>{var l;const e=tt(),r=(l=tr().state)==null?void 0:l.from,{user:n}=Te(),[o,a]=f.useState(!1);f.useEffect(()=>{if(!n){e("/auth");return}},[n,e]);const i=f.useMemo(()=>["Unlimited AI coach conversations","Guided Programmes","Personalised insights & reports","Daily attachment style quiz with AI analysis","Conversation analyser with AI insights","Text suggestion helper for all scenarios","Create personalised AI-generated visuals","Priority support"],[]);return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-secondary/30 to-accent/30 p-4",children:s.jsxs("div",{className:"max-w-2xl mx-auto pt-8",children:[s.jsxs(H,{variant:"ghost",onClick:()=>{e(r==="home"?"/":"/?tab=coaches")},className:"mb-6 hover:bg-secondary/20",children:[s.jsx(Ir,{className:"w-4 h-4 mr-2"}),r==="home"?"Back to Home":"Back to Coaches"]}),s.jsxs(W,{className:"relative overflow-hidden border-2 border-primary/20 bg-gradient-to-br from-background to-primary/5",children:[s.jsxs("div",{className:"absolute top-0 right-0 bg-gradient-to-r from-primary to-primary-glow text-primary-foreground px-4 py-2 text-sm font-medium rounded-bl-lg",children:[s.jsx(sa,{className:"w-4 h-4 inline mr-1"}),"Most Popular"]}),s.jsxs(Z,{className:"text-center pb-6 pt-8",children:[s.jsx("div",{className:"mx-auto p-4 rounded-full bg-gradient-to-r from-primary/10 to-primary-glow/10 w-fit mb-4",children:s.jsx(it,{className:"w-8 h-8 text-primary"})}),s.jsx(ee,{className:"text-3xl font-bold",children:"Premium Subscription"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-baseline justify-center space-x-1",children:[s.jsx("span",{className:"text-4xl font-bold text-foreground",children:"11.99"}),s.jsx("span",{className:"text-lg text-muted-foreground",children:"/month"})]}),s.jsx(je,{variant:"secondary",className:"bg-primary/10 text-primary",children:"Cancel anytime"})]}),s.jsx(ze,{className:"text-center text-lg",children:"Unlimited support for your relationship growth"})]}),s.jsxs(Y,{className:"space-y-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-xl font-semibold flex items-center gap-2",children:[s.jsx(Me,{className:"w-5 h-5 text-primary"}),"What's Included"]}),s.jsx("ul",{className:"space-y-3",children:i.map((c,u)=>s.jsxs("li",{className:"flex items-start space-x-2 sm:space-x-3",children:[s.jsx(lr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"text-sm sm:text-base text-foreground leading-relaxed",children:c})]},u))})]}),s.jsxs("div",{className:"border-t pt-6 space-y-4",children:[s.jsxs(H,{onClick:async()=>{a(!0);try{be.loading("Opening purchase...");const c=await Oi.buyPremium();c.success?(be.success("Welcome to Premium! "),setTimeout(()=>{e(r==="home"?"/":"/?tab=coaches")},1500)):be.error(c.error||"Purchase failed. Please try again.")}catch(c){console.error("Purchase error:",c),be.error((c==null?void 0:c.message)||"Unable to complete purchase")}finally{a(!1)}},disabled:o,className:"w-full h-14 text-lg bg-gradient-to-r from-primary to-primary-glow hover:opacity-90 transition-opacity",children:[s.jsx(Me,{className:"w-5 h-5 mr-2"}),o?"Processing...":"Go Premium - 11.99/month"]}),s.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Cancel anytime in your Apple settings. Subscription auto-renews monthly."})]})]})]})]})})},N5=()=>{var l;const e=tt(),r=(l=tr().state)==null?void 0:l.from,{user:n}=Te(),[o,a]=f.useState(!1);f.useEffect(()=>{if(!n){e("/auth");return}},[n,e]);const i=f.useMemo(()=>[{icon:ft,title:"30-Day Healing Plan",description:"Daily content, prompts, and challenges to guide your recovery"},{icon:ar,title:"Visualisation Practices",description:"Step-by-step mental imagery exercises for healing and growth"},{icon:it,title:"Daily Affirmations",description:"Powerful affirmations to rebuild your self-worth"},{icon:kt,title:"No-Contact Tracker",description:"Track your progress and maintain healthy boundaries"},{icon:sE,title:"Journal Prompts",description:"15 deep-dive prompts for self-discovery and healing"}],[]);return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-secondary/30 to-accent/30 p-4",children:s.jsxs("div",{className:"max-w-2xl mx-auto pt-8",children:[s.jsxs(H,{variant:"ghost",onClick:()=>{e(r==="home"?"/":"/?tab=coaches")},className:"mb-6 hover:bg-secondary/20",children:[s.jsx(Ir,{className:"w-4 h-4 mr-2"}),r==="home"?"Back to Home":"Back to Coaches"]}),s.jsxs(W,{className:"relative overflow-hidden border-2 border-primary/20 bg-gradient-to-br from-background to-primary/5",children:[s.jsx("div",{className:"absolute top-4 right-4",children:s.jsx(je,{variant:"secondary",className:"bg-primary/10 text-primary font-semibold",children:"One-time Purchase"})}),s.jsxs(Z,{className:"text-center pb-6",children:[s.jsx("div",{className:"mx-auto p-4 rounded-full bg-gradient-to-r from-primary/10 to-primary-glow/10 w-fit mb-4",children:s.jsx(fe,{className:"w-8 h-8 text-primary"})}),s.jsx(ee,{className:"text-3xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"Healing Kit"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"flex items-baseline justify-center space-x-1",children:s.jsx("span",{className:"text-4xl font-bold text-foreground",children:"4.99"})}),s.jsx(je,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Lifetime Access"})]}),s.jsx(ze,{className:"text-center text-lg",children:"Complete break-up recovery package"})]}),s.jsxs(Y,{className:"space-y-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold",children:"What's Included"}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:i.map((c,u)=>s.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-lg bg-secondary/20 border border-secondary/30",children:[s.jsx(c.icon,{className:"w-6 h-6 text-primary mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-base",children:c.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.description})]})]},u))})]}),s.jsxs("div",{className:"border-t pt-6 space-y-4",children:[s.jsxs(H,{onClick:async()=>{a(!0);try{be.loading("Opening purchase...");const c=await Oi.buyHealingKit();c.success?(be.success("Healing Kit unlocked! "),setTimeout(()=>{e("/healing-kit")},1500)):be.error(c.error||"Purchase failed. Please try again.")}catch(c){console.error("Purchase error:",c),be.error((c==null?void 0:c.message)||"Unable to complete purchase")}finally{a(!1)}},disabled:o,className:"w-full h-14 text-lg bg-gradient-to-r from-primary to-primary-glow hover:opacity-90 transition-opacity",children:[s.jsx(fe,{className:"w-5 h-5 mr-2"}),o?"Processing...":"Get Healing Kit - 4.99"]}),s.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"One-time purchase. Lifetime access included."})]})]})]})]})})},S5=()=>{const[e,t]=f.useState(null),[r,n]=f.useState(!0),[o,a]=f.useState(!1),[i,l]=f.useState(""),[c,u]=f.useState(""),[h,d]=f.useState(""),[m,x]=f.useState(!1),[b,y]=f.useState(!1),[w,p]=f.useState(!1),{isPremium:g,subscriptionStatus:v,checkSubscription:j,user:N}=Te(),{toast:S}=At(),_=tt(),C=tr();f.useEffect(()=>{g?A():n(!1)},[g]);const A=async()=>{var B;try{const{data:M,error:O}=await J.from("subscribers").select("*").eq("user_id",(B=(await J.auth.getUser()).data.user)==null?void 0:B.id).single();if(O)throw O;t(M)}catch(M){console.error("Error fetching subscription data:",M)}finally{n(!1)}},E=async()=>{var B;a(!0);try{const M=/iPhone|iPad|iPod/.test(navigator.userAgent),O=window.location.protocol==="capacitor:"||window.location.protocol==="ionic:";if(M||O)window.open("https://apps.apple.com/account/subscriptions","_blank"),S({title:"Apple Subscription Management",description:"Opening Apple's subscription settings where you can manage or cancel your subscription."});else{const{data:k,error:P}=await J.functions.invoke("customer-portal",{headers:{Authorization:`Bearer ${(B=(await J.auth.getSession()).data.session)==null?void 0:B.access_token}`}});if(P)throw P;k!=null&&k.url&&window.open(k.url,"_blank")}}catch(M){console.error("Error opening subscription management:",M),S({title:"Subscription Management",description:"To manage your Apple subscription, go to: Settings > [Your Name] > Subscriptions on your iPhone/iPad."})}finally{a(!1)}},z=async()=>{p(!0);try{S({title:"Restoring Purchases",description:"Checking for previous purchases..."});const B=await Oi.restorePurchases();B.hasPremium||B.hasHealingKit?(await j(),S({title:" Purchases Restored!",description:`Successfully restored: ${B.hasPremium?"Premium Subscription":""} ${B.hasHealingKit?"Healing Kit":""}`.trim()}),window.location.reload()):S({title:"No Purchases Found",description:"We couldn't find any previous purchases linked to your account.",variant:"default"})}catch(B){console.error("Restore error:",B),S({title:"Restore Failed",description:"Could not restore purchases. Please try again or contact support if the issue persists.",variant:"destructive"})}finally{p(!1)}},I=async()=>{if(!i){S({title:"Error",description:"Please enter your current password",variant:"destructive"});return}if(c!==h){S({title:"Error",description:"Passwords do not match",variant:"destructive"});return}if(c.length<6){S({title:"Error",description:"Password must be at least 6 characters long",variant:"destructive"});return}y(!0);try{const{error:B}=await J.auth.signInWithPassword({email:(N==null?void 0:N.email)||"",password:i});if(B){S({title:"Error",description:"Current password is incorrect",variant:"destructive"}),y(!1);return}const{error:M}=await J.auth.updateUser({password:c});if(M)throw M;S({title:"Password Updated",description:"Your password has been successfully changed."}),l(""),u(""),d("")}catch(B){S({title:"Error",description:B.message||"Failed to update password",variant:"destructive"})}finally{y(!1)}};if(r)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 p-4",children:s.jsx("div",{className:"container mx-auto max-w-4xl pt-8",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-6"}),s.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})})});const L=()=>g?e?s.jsxs(W,{className:"mb-6",children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Me,{className:"w-6 h-6 text-yellow-600"}),"Subscription Management"]})}),s.jsxs(Y,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsx(Me,{className:"w-6 h-6 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Premium Plan"}),s.jsx(je,{variant:"outline",className:"bg-green-100 text-green-800 border-green-200",children:"Active"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(ft,{className:"w-4 h-4 text-gray-500"}),s.jsxs("span",{children:["Started: ",T(e.premium_start_date||e.created_at)]})]}),e.subscription_end&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(ft,{className:"w-4 h-4 text-gray-500"}),s.jsxs("span",{children:["Next billing: ",T(e.subscription_end)]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(j0,{className:"w-4 h-4 text-gray-500"}),s.jsxs("span",{children:["Status: ",e.payment_status]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"Premium Benefits"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{children:" Unlimited conversations"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{children:" Personalised coaching"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{children:" Advanced tools"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{children:" Guided Programmes"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{children:" Text helpers & conversation analyser"})]})]})]})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-4",children:[s.jsx("h4",{className:"font-medium text-amber-800 mb-2",children:"Cancellation Policy"}),s.jsx("p",{className:"text-sm text-amber-700 mb-2",children:"You can cancel your subscription at any time. Your access will continue until the end of your current billing period. No refunds are provided for partial periods."}),s.jsx("p",{className:"text-sm text-amber-700 font-medium",children:"For iOS: Manage your subscription through Apple Settings  [Your Name]  Subscriptions"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs(H,{variant:"outline",onClick:E,disabled:o,className:"w-full sm:flex-1",children:[s.jsx(vu,{className:"w-4 h-4 mr-2"}),o?"Opening...":"Manage Subscription"]}),s.jsxs(H,{variant:"outline",onClick:z,disabled:w,className:"w-full sm:flex-1",children:[s.jsx(qs,{className:`w-4 h-4 mr-2 ${w?"animate-spin":""}`}),w?"Restoring...":"Restore Purchases"]})]})]})]})]}):s.jsx(W,{className:"mb-6",children:s.jsx(Y,{className:"p-8 text-center",children:s.jsx("p",{children:"Loading subscription data..."})})}):s.jsxs(W,{className:"mb-6",children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Me,{className:"w-6 h-6 text-gray-500"}),"Account Management"]})}),s.jsxs(Y,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center",children:s.jsx(Me,{className:"w-6 h-6 text-gray-500"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Free Plan"}),s.jsx(je,{variant:"outline",className:"bg-blue-100 text-blue-800 border-blue-200",children:"Active"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-medium",children:"Current Benefits"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),s.jsx("span",{children:"10 messages per day"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),s.jsx("span",{children:"Basic coaching support"})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-secondary/5 border border-primary/20 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-primary mb-2",children:"Upgrade to Premium"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Get unlimited conversations, advanced tools, and personalised coaching"}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs(H,{onClick:()=>_("/premium-purchase",{state:{from:C.pathname+C.search}}),className:"w-full",children:[s.jsx(Me,{className:"w-4 h-4 mr-2"}),"Upgrade Now"]}),s.jsxs(H,{variant:"outline",onClick:z,disabled:w,className:"w-full",children:[s.jsx(qs,{className:`w-4 h-4 mr-2 ${w?"animate-spin":""}`}),w?"Restoring...":"Restore Purchases"]})]})]})]})]}),T=B=>new Date(B).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 p-4",children:s.jsxs("div",{className:"container mx-auto max-w-4xl pt-8",children:[s.jsxs(H,{variant:"ghost",onClick:()=>_("/?tab=coaches"),className:"mb-6",children:[s.jsx(Ir,{className:"w-4 h-4 mr-2"}),"Back to Coaches"]}),L(),s.jsxs(W,{className:"mb-6",children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(vE,{className:"w-5 h-5 text-primary"}),"Account Security"]})}),s.jsxs(Y,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"Change Password"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Qe,{htmlFor:"current-password",children:"Current Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(ot,{id:"current-password",type:m?"text":"password",value:i,onChange:B=>l(B.target.value),placeholder:"Enter current password"}),s.jsx(H,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>x(!m),children:m?s.jsx(hE,{className:"h-4 w-4"}):s.jsx(Va,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Qe,{htmlFor:"new-password",children:"New Password"}),s.jsx(ot,{id:"new-password",type:m?"text":"password",value:c,onChange:B=>u(B.target.value),placeholder:"Enter new password"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Qe,{htmlFor:"confirm-password",children:"Confirm Password"}),s.jsx(ot,{id:"confirm-password",type:m?"text":"password",value:h,onChange:B=>d(B.target.value),placeholder:"Confirm new password"})]})]})]}),s.jsx(H,{onClick:I,disabled:!i||!c||!h||b,className:"w-full md:w-auto",children:b?"Updating...":"Update Password"})]}),s.jsxs("div",{className:"border-t pt-6 space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"Change Email Address"}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(jE,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-blue-900",children:["If you would like to change your email address, please email"," ",s.jsx("a",{href:"mailto:support@heart-lift.com",className:"font-medium underline hover:text-blue-700",children:"support@heart-lift.com"})," ","and we will make the change for you."]})})]})})]})]})]})]})})},_5=({activeSection:e,onSectionChange:t})=>{const r=[{id:"plan",label:"Healing Plan",icon:kt},{id:"affirmations",label:"Daily Affirmations",icon:fe},{id:"visualisations",label:"Visualisation Practices",icon:ar},{id:"tracker",label:"No Contact Tracker",icon:ft},{id:"journal",label:"Journal Prompts",icon:N0}];return s.jsx(W,{className:"p-4 mb-6",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(n=>s.jsxs(H,{variant:e===n.id?"default":"outline",onClick:()=>t(n.id),className:"flex items-center gap-2",children:[s.jsx(n.icon,{className:"w-4 h-4"}),n.label]},n.id))})})},yv=()=>{const[e,t]=f.useState([]),[r,n]=f.useState({current_day:1,completed_days:[]}),[o,a]=f.useState(!0),[i,l]=f.useState(null),{toast:c}=At(),{user:u}=Te();f.useEffect(()=>{u&&(h(),d())},[u]);const h=async()=>{try{const{data:y,error:w}=await J.from("healing_plan_days").select("*").order("day_number");if(w)throw w;t(y||[]),(!y||y.length===0)&&await x()}catch(y){c({title:"Error loading healing plan",description:y.message,variant:"destructive"})}},d=async()=>{try{const{data:y,error:w}=await J.from("user_healing_progress").select("current_day, completed_days").eq("user_id",u==null?void 0:u.id).single();if(w&&w.code!=="PGRST116")throw w;y&&n(y)}catch(y){console.error("Error fetching progress:",y)}finally{a(!1)}},m=async y=>{if(u)try{const w=[...r.completed_days,y],p=Math.min(y+1,30),{error:g}=await J.from("user_healing_progress").upsert({user_id:u.id,current_day:p,completed_days:w},{onConflict:"user_id"});if(g)throw g;n({current_day:p,completed_days:w}),c({title:"Day completed! ",description:`Great job completing Day ${y}. Keep up the amazing work!`})}catch(w){c({title:"Error updating progress",description:w.message,variant:"destructive"})}},x=async()=>{console.log("Creating default healing plan...")},b=r.completed_days.length/30*100;return o?s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-8 bg-secondary rounded w-1/3"}),s.jsx("div",{className:"h-4 bg-secondary rounded w-full"}),s.jsx("div",{className:"h-32 bg-secondary rounded"})]})}):i?s.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx(H,{variant:"outline",onClick:()=>l(null),className:"mr-4",children:" Back to Plan"}),s.jsxs(je,{variant:"secondary",children:["Day ",i.day_number]})]}),s.jsxs(W,{className:"border-2 border-primary/20",children:[s.jsx(Z,{children:s.jsx(ee,{className:"text-2xl bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:i.title})}),s.jsxs(Y,{className:"space-y-6",children:[s.jsx("div",{className:"prose prose-sm max-w-none",children:s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:i.content})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(W,{className:"bg-secondary/20 border-secondary/30",children:[s.jsx(Z,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jr,{className:"w-4 h-4 text-primary"}),s.jsx(ee,{className:"text-sm",children:"Today's Prompt"})]})}),s.jsx(Y,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:i.prompt})})]}),s.jsxs(W,{className:"bg-secondary/20 border-secondary/30",children:[s.jsx(Z,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kt,{className:"w-4 h-4 text-primary"}),s.jsx(ee,{className:"text-sm",children:"Daily Challenge"})]})}),s.jsx(Y,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:i.challenge})})]}),s.jsxs(W,{className:"bg-secondary/20 border-secondary/30",children:[s.jsx(Z,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ss,{className:"w-4 h-4 text-primary"}),s.jsx(ee,{className:"text-sm",children:"Mindset Reframe"})]})}),s.jsx(Y,{children:s.jsxs("p",{className:"text-sm text-muted-foreground italic",children:['"',i.mindset_reframe,'"']})})]}),s.jsxs(W,{className:"bg-secondary/20 border-secondary/30",children:[s.jsx(Z,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fe,{className:"w-4 h-4 text-primary"}),s.jsx(ee,{className:"text-sm",children:"Action Item"})]})}),s.jsx(Y,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:i.action_item})})]})]}),!r.completed_days.includes(i.day_number)&&s.jsx("div",{className:"flex justify-center pt-4",children:s.jsx(H,{onClick:()=>m(i.day_number),className:"bg-gradient-to-r from-primary to-secondary hover:from-primary/90 hover:to-secondary/90 text-white font-semibold px-8",children:"Mark Day Complete"})})]})]})]}):s.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent mb-2",children:"30-Day Healing Plan"}),s.jsx("p",{className:"text-muted-foreground",children:"Your personalised journey from heartbreak to healing"})]}),s.jsx(W,{className:"border-2 border-primary/20 bg-gradient-to-r from-primary/5 to-secondary/5",children:s.jsxs(Y,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Your Progress"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.completed_days.length," of 30 days completed"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-2xl font-bold text-primary",children:[Math.round(b),"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Complete"})]})]}),s.jsx(Na,{value:b,className:"h-3"})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(y=>{const w=r.completed_days.includes(y.day_number),p=y.day_number===r.current_day,g=y.day_number<=r.current_day;return s.jsxs(W,{className:`cursor-pointer transition-all duration-200 ${w?"border-green-500/50 bg-green-50/50":p?"border-primary/50 bg-primary/5":g?"border-secondary/30 hover:border-primary/30 hover:bg-primary/5":"border-muted/50 bg-muted/20 opacity-60"}`,onClick:()=>g&&l(y),children:[s.jsxs(Z,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(je,{variant:w?"default":p?"secondary":"outline",children:["Day ",y.day_number]}),w?s.jsx(Vs,{className:"w-5 h-5 text-green-600"}):s.jsx(gu,{className:"w-5 h-5 text-muted-foreground"})]}),s.jsx(ee,{className:"text-lg",children:y.title})]}),s.jsx(Y,{children:s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-3",children:y.content})})]},y.id)})})]})},C5=()=>{const[e,t]=f.useState(""),[r,n]=f.useState(!0),o=async()=>{n(!0);try{const{data:a,error:i}=await J.from("daily_affirmations").select("text").order("created_at",{ascending:!1});if(i)throw i;if(a&&a.length>0){const l=Math.floor(Math.random()*a.length);t(a[l].text)}}catch{t("I am strong, worthy, and deserving of love.")}finally{n(!1)}};return f.useEffect(()=>{o()},[]),s.jsx(W,{className:"bg-gradient-to-br from-primary/10 to-secondary/10 border-primary/20",children:s.jsxs(Y,{className:"p-8 text-center",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx(it,{className:"w-8 h-8 text-primary mx-auto mb-3"}),s.jsx("h2",{className:"text-xl font-semibold",children:"Daily Affirmation"})]}),r?s.jsx("div",{className:"animate-pulse h-16 bg-secondary/30 rounded"}):s.jsxs("blockquote",{className:"text-lg text-muted-foreground italic mb-6 leading-relaxed",children:['"',e,'"']}),s.jsxs(H,{variant:"outline",onClick:o,disabled:r,className:"gap-2",children:[s.jsx(qs,{className:"w-4 h-4"}),"New Affirmation"]})]})})},k5=()=>{const[e,t]=f.useState([]),[r,n]=f.useState([]),[o,a]=f.useState(null),[i,l]=f.useState(!1),[c,u]=f.useState(""),[h,d]=f.useState(!0),[m,x]=f.useState(!1),[b,y]=f.useState(!1),w=f.useRef(null),{toast:p}=At(),{user:g}=Te();f.useEffect(()=>{v(),g&&j()},[g]);const v=async()=>{try{const{data:I,error:L}=await J.from("visualisation_exercises").select("*").order("category",{ascending:!0}).order("variation_number",{ascending:!0});if(L)throw L;t(I||[])}catch(I){p({title:"Error loading exercises",description:I.message,variant:"destructive"})}finally{d(!1)}},j=async()=>{if(g)try{const{data:I,error:L}=await J.from("user_visualisation_progress").select("*").eq("user_id",g.id);if(L)throw L;n(I||[])}catch(I){console.error("Error fetching progress:",I)}},N=async(I,L)=>{if(g)try{const{error:T}=await J.from("user_visualisation_progress").insert({user_id:g.id,exercise_id:I,reflection_notes:L||null,completed_at:new Date().toISOString()});if(T)throw T;await j(),p({title:"Exercise completed!",description:"Great job on your visualization practice."})}catch(T){p({title:"Error saving progress",description:T.message,variant:"destructive"})}},S=I=>{const L={safe_space:{name:"Safe Space",color:"bg-blue-100 text-blue-800",icon:fe,description:"Create your sanctuary of peace and safety"},future_self:{name:"Future Self",color:"bg-green-100 text-green-800",icon:it,description:"Envision your best possible future"},releasing_emotions:{name:"Emotional Release",color:"bg-purple-100 text-purple-800",icon:Va,description:"Gently release negative emotions"}};return L[I]||L.safe_space},_=I=>r.some(L=>L.exercise_id===I),C=I=>{a(I),l(!1),u("")},A=async()=>{o&&(await N(o.id,c),a(null),l(!1),u(""))},E=async()=>{if(!o)return;if(m){w.current&&(w.current.pause(),w.current=null),x(!1);return}const I=o.steps.join(". ");y(!0);try{const T=await fetch("https://heartlift-launch.emergent.host/api/ai/text-to-speech",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:I,voice:"shimmer"})});if(!T.ok)throw new Error(`Failed to generate audio: ${T.statusText}`);const B=await T.json();if(B.audio){const M=new Audio(`data:audio/mp3;base64,${B.audio}`);w.current=M,M.onplay=()=>{x(!0),y(!1)},M.onended=()=>{x(!1),w.current=null},M.onerror=()=>{x(!1),w.current=null,y(!1),p({title:"Audio Error",description:"Failed to play audio",variant:"destructive"})},await M.play()}}catch(L){console.error("Error playing audio:",L),y(!1),p({title:"Error",description:L instanceof Error?L.message:"Failed to generate audio guide",variant:"destructive"})}};if(h)return s.jsx("div",{className:"max-w-4xl mx-auto p-6",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-8 bg-secondary rounded w-1/3"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[1,2,3,4].map(I=>s.jsx("div",{className:"h-32 bg-secondary rounded"},I))})]})});const z=e.reduce((I,L)=>(I[L.category]||(I[L.category]=[]),I[L.category].push(L),I),{});return s.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent mb-2",children:"Visualisation Practices"}),s.jsx("p",{className:"text-muted-foreground",children:"Transform your mindset through the power of guided mental imagery"})]}),Object.entries(z).map(([I,L])=>{const T=S(I),B=T.icon;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(B,{className:"w-6 h-6 text-primary"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:T.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:T.description})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:L.map(M=>{const O=_(M.id);return s.jsxs(W,{className:`border-2 transition-all duration-200 cursor-pointer hover:shadow-md ${O?"border-green-200 bg-green-50/50":"border-secondary/30 hover:border-primary/30"}`,children:[s.jsx(Z,{className:"pb-3",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Va,{className:"w-4 h-4 text-primary"}),s.jsx(ee,{className:"text-lg",children:M.title}),O&&s.jsx(Vs,{className:"w-4 h-4 text-green-600"})]}),s.jsxs(je,{variant:"secondary",className:`${T.color} text-xs`,children:[T.name," #",M.variation_number]})]})})}),s.jsxs(Y,{className:"space-y-4",children:[s.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:M.description}),s.jsx("div",{className:"flex items-center justify-between pt-2",children:s.jsxs(H,{onClick:()=>C(M),className:"flex items-center gap-2",variant:O?"outline":"default",children:[s.jsx(Va,{className:"w-4 h-4"}),O?"Practice Again":"Begin Practice",s.jsx(nE,{className:"w-4 h-4"})]})})]})]},M.id)})})]},I)}),s.jsx(Uu,{open:!!o,onOpenChange:()=>a(null),children:s.jsxs(Ji,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsx(Xi,{children:s.jsxs(Zi,{className:"flex items-center gap-2",children:[s.jsx(Va,{className:"w-5 h-5 text-primary"}),o==null?void 0:o.title]})}),o&&!i&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Full Practice"}),s.jsx(je,{variant:"outline",children:S(o.category).name})]}),s.jsx("div",{className:"bg-primary/5 rounded-lg p-6 border border-primary/20",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"text-foreground leading-relaxed whitespace-pre-line",children:o.steps.join(`

`)})}),s.jsx(H,{variant:"outline",size:"sm",onClick:E,disabled:b,className:"shrink-0",children:b?s.jsx("div",{className:"w-4 h-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}):m?s.jsx(IE,{className:"w-4 h-4"}):s.jsx(AE,{className:"w-4 h-4"})})]})}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx(H,{variant:"outline",onClick:()=>a(null),children:"Close"}),s.jsxs(H,{onClick:()=>l(!0),className:"flex items-center gap-2",children:["Complete Practice",s.jsx(pu,{className:"w-4 h-4"})]})]})]}),o&&i&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Reflection Time"}),s.jsx("p",{className:"text-muted-foreground",children:"Take a moment to reflect on your visualization experience"})]}),s.jsx("div",{className:"space-y-4",children:o.reflection_prompts.map((I,L)=>s.jsx("div",{className:"bg-secondary/20 rounded-lg p-4",children:s.jsxs("p",{className:"font-medium mb-2",children:[" ",I]})},L))}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Your reflections (optional):"}),s.jsx(Nn,{value:c,onChange:I=>u(I.target.value),placeholder:"Write down any insights, feelings, or thoughts that came up during your practice...",rows:4})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx(H,{variant:"outline",onClick:()=>l(!1),children:"Back to Exercise"}),s.jsxs(H,{onClick:A,className:"flex items-center gap-2",children:[s.jsx(N0,{className:"w-4 h-4"}),"Complete Practice"]})]})]})]})}),s.jsx(W,{className:"bg-gradient-to-r from-primary/5 to-secondary/5 border-primary/20",children:s.jsxs(Y,{className:"p-6 text-center",children:[s.jsx(it,{className:"w-8 h-8 text-primary mx-auto mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Visualization Best Practices"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Find a comfortable, quiet space. Close your eyes and allow your imagination to flow naturally. There's no right or wrong way to visualize - trust your mind's unique way of creating imagery."})]})})]})},E5=()=>{const[e,t]=f.useState(0),[r,n]=f.useState(""),{user:o}=Te(),{toast:a}=At();f.useEffect(()=>{o&&(i(),l())},[o]);const i=async()=>{try{const{data:h,error:d}=await J.from("user_healing_progress").select("no_contact_start_date, no_contact_streak_days, last_contact_date").eq("user_id",o==null?void 0:o.id).single();if(d&&d.code!=="PGRST116")throw d;h&&(t(h.no_contact_streak_days||0),n(h.no_contact_start_date||""))}catch(h){console.error("Error fetching progress:",h)}},l=async()=>{if(o)try{const{data:h,error:d}=await J.from("user_healing_progress").select("no_contact_start_date, last_contact_date").eq("user_id",o.id).single();if(d&&d.code!=="PGRST116")return;if(h!=null&&h.no_contact_start_date&&!h.last_contact_date){const m=new Date(h.no_contact_start_date),b=Math.floor((new Date().getTime()-m.getTime())/(1e3*60*60*24));b!==e&&(await J.from("user_healing_progress").update({no_contact_streak_days:b}).eq("user_id",o.id),t(b))}}catch(h){console.error("Error calculating streak:",h)}},c=async()=>{if(o)try{const h=new Date().toISOString().split("T")[0],{error:d}=await J.from("user_healing_progress").upsert({user_id:o.id,no_contact_start_date:h,no_contact_streak_days:1,last_contact_date:null},{onConflict:"user_id"});if(d)throw d;n(h),t(1),a({title:"No Contact Started! ",description:"You've taken the first brave step. We're here to support you!"})}catch(h){a({title:"Error",description:h.message,variant:"destructive"})}},u=async()=>{try{const{error:h}=await J.from("user_healing_progress").upsert({user_id:o==null?void 0:o.id,no_contact_streak_days:0,last_contact_date:new Date().toISOString().split("T")[0]},{onConflict:"user_id"});if(h)throw h;t(0),a({title:"Streak reset",description:"It's okay - healing isn't linear. Start again when you're ready."})}catch(h){a({title:"Error",description:h.message,variant:"destructive"})}};return s.jsxs(W,{className:"border-2 border-primary/20",children:[s.jsx(Z,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(na,{className:"w-5 h-5 text-primary"}),s.jsx(ee,{children:"No Contact Tracker"})]})}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl font-bold text-primary mb-2",children:e}),s.jsx("p",{className:"text-muted-foreground",children:"Days of no contact"}),e>0&&s.jsx(je,{variant:"secondary",className:"mt-2",children:e>=30?"Month Champion!":e>=7?"Week Strong!":"Building Strength"})]}),r&&s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[s.jsx(ft,{className:"w-4 h-4"}),s.jsxs("span",{children:["Started: ",new Date(r).toLocaleDateString()]})]}),s.jsx("div",{className:"flex justify-center gap-2",children:e===0?s.jsxs(H,{variant:"default",size:"sm",onClick:c,className:"bg-primary text-primary-foreground",children:[s.jsx(kt,{className:"w-4 h-4 mr-2"}),"Start No Contact"]}):s.jsx(H,{variant:"outline",size:"sm",onClick:u,className:"text-destructive hover:text-destructive",children:"Reset Streak"})})]})]})},P5=()=>{const{user:e}=Te(),[t,r]=f.useState([]),[n,o]=f.useState(0),[a,i]=f.useState(""),[l,c]=f.useState([]),[u,h]=f.useState(!1);f.useEffect(()=>{e&&(d(),x())},[e]);const d=async()=>{try{const{data:N,error:S}=await J.from("journal_prompts").select("*").order("created_at",{ascending:!0});if(S)throw S;N&&N.length>0?r(N):await m()}catch(N){console.error("Error loading prompts:",N)}},m=async()=>{const N=[{prompt:"Write about the relationship patterns you've noticed in your life. What themes keep appearing, and what might they be trying to teach you?",category:"Self-Reflection",emotional_theme:"Pattern Recognition"},{prompt:"Describe a moment when you felt truly loved and accepted. What did that experience teach you about your own worth?",category:"Self-Love",emotional_theme:"Self-Worth"},{prompt:"What are three things you're grateful for about yourself today? Focus on your inner qualities rather than achievements.",category:"Gratitude",emotional_theme:"Self-Appreciation"},{prompt:"Write a letter to your past self who was going through heartbreak. What wisdom would you share?",category:"Healing",emotional_theme:"Growth"},{prompt:"What does your ideal relationship look like? Describe how you want to feel and be treated.",category:"Future Visioning",emotional_theme:"Hope"},{prompt:"Reflect on a recent conflict or difficult conversation. What were the underlying emotions and needs that weren't expressed?",category:"Communication",emotional_theme:"Understanding"},{prompt:"What fears do you have about relationships? Where do you think these fears originated, and how do they serve or limit you?",category:"Fears",emotional_theme:"Courage"},{prompt:"Write about a boundary you need to set or maintain. What makes this boundary important for your wellbeing?",category:"Boundaries",emotional_theme:"Self-Protection"},{prompt:"Describe how you've grown as a person through your relationship experiences. What strengths have you developed?",category:"Growth",emotional_theme:"Empowerment"},{prompt:"What would you tell someone else who is going through a similar situation to yours? Write this advice with compassion.",category:"Wisdom",emotional_theme:"Compassion"},{prompt:"Reflect on your attachment style. How does it show up in your relationships, and what would healing look like?",category:"Attachment",emotional_theme:"Awareness"},{prompt:"Write about a moment when you chose yourself over staying in an unhealthy situation. How did that feel?",category:"Self-Advocacy",emotional_theme:"Pride"},{prompt:"What are your core values in relationships? How can you honor these values in future connections?",category:"Values",emotional_theme:"Alignment"},{prompt:"Describe what peace feels like to you. How can you create more of this feeling in your daily life?",category:"Peace",emotional_theme:"Serenity"},{prompt:"Write about forgiveness - either forgiving someone else or forgiving yourself. What would that process look like?",category:"Forgiveness",emotional_theme:"Release"},{prompt:"What does self-compassion mean to you? How can you practice being kinder to yourself during difficult times?",category:"Self-Love",emotional_theme:"Kindness"},{prompt:"Write about a time when you felt truly confident and secure. What internal and external factors contributed to that feeling?",category:"Confidence",emotional_theme:"Security"},{prompt:"What toxic patterns are you ready to release? Write about why you're committed to breaking these cycles.",category:"Transformation",emotional_theme:"Liberation"},{prompt:"Describe your emotional support system. Who are the people that truly see and understand you?",category:"Support",emotional_theme:"Connection"},{prompt:"What would you want to tell your future self about the journey you're on now? What hopes do you have?",category:"Future Visioning",emotional_theme:"Optimism"},{prompt:"Write about a moment when you stood up for yourself. How did it feel, and what did you learn about your own strength?",category:"Self-Advocacy",emotional_theme:"Empowerment"},{prompt:"What does vulnerability look like in healthy relationships? How comfortable are you with being truly seen?",category:"Intimacy",emotional_theme:"Authenticity"},{prompt:"Reflect on your relationship with solitude. How do you feel when you're alone with your thoughts?",category:"Self-Reflection",emotional_theme:"Independence"},{prompt:"What childhood experiences shaped your understanding of love? How do these influences show up in your adult relationships?",category:"Origins",emotional_theme:"Understanding"},{prompt:"Write about a time when you felt deeply grateful for a difficult experience. What did it teach you?",category:"Gratitude",emotional_theme:"Wisdom"},{prompt:"What does emotional safety feel like to you? How can you create this for yourself and others?",category:"Safety",emotional_theme:"Security"},{prompt:"Describe your relationship with trust. What helps you feel safe to be vulnerable with someone?",category:"Trust",emotional_theme:"Safety"},{prompt:"What would unconditional self-acceptance look like in your life? What would change if you fully embraced who you are?",category:"Self-Love",emotional_theme:"Acceptance"},{prompt:"Write about the difference between being alone and being lonely. How has your relationship with solitude evolved?",category:"Independence",emotional_theme:"Self-Sufficiency"},{prompt:"What legacy do you want to leave in terms of how you love and how you allow yourself to be loved?",category:"Legacy",emotional_theme:"Purpose"}];try{const{data:S,error:_}=await J.from("journal_prompts").insert(N).select();if(_)throw _;S&&r(S)}catch(S){console.error("Error creating default prompts:",S)}},x=async()=>{if(e)try{const{data:N}=await J.from("user_healing_progress").select("journal_entries").eq("user_id",e.id).single();if(N!=null&&N.journal_entries){const S=N.journal_entries;Array.isArray(S)&&c(S)}}catch(N){console.error("Error loading saved entries:",N)}},b=async()=>{if(!e||!a.trim()){be.error("Please write your response before saving");return}h(!0);try{const N={promptId:t[n].id,response:a,date:new Date().toISOString()},S=[...l.filter(C=>C.promptId!==N.promptId),N],{error:_}=await J.from("user_healing_progress").upsert({user_id:e.id,journal_entries:S,updated_at:new Date().toISOString()},{onConflict:"user_id"});if(_)throw _;c(S),be.success("Journal entry saved!"),i(""),n<t.length-1&&o(n+1)}catch(N){console.error("Error saving entry:",N),be.error("Failed to save entry")}finally{h(!1)}},y=()=>{if(n>0){const N=n-1;o(N);const S=l.find(_=>{var C;return _.promptId===((C=t[N])==null?void 0:C.id)});i((S==null?void 0:S.response)||"")}},w=()=>{if(n<t.length-1){const N=n+1;o(N);const S=l.find(_=>{var C;return _.promptId===((C=t[N])==null?void 0:C.id)});i((S==null?void 0:S.response)||"")}};if(f.useEffect(()=>{if(t.length>0){const N=t[n],S=l.find(_=>_.promptId===(N==null?void 0:N.id));i((S==null?void 0:S.response)||"")}},[n,t,l]),t.length===0)return s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(ar,{className:"w-5 h-5"}),"Journal Prompts"]})}),s.jsx(Y,{children:s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ar,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading your journal prompts..."})]})})})]});const p=t[n],g=l.find(N=>N.promptId===(p==null?void 0:p.id)),j={"Self-Reflection":kt,"Self-Love":fe,Gratitude:fe,Healing:fe,"Future Visioning":Ss,Communication:ar,Fears:kt,Boundaries:kt,Growth:Ss,Wisdom:Ss,Attachment:fe,"Self-Advocacy":kt,Values:kt,Peace:fe,Forgiveness:fe,Confidence:kt,Transformation:Ss,Support:fe,Intimacy:fe,Origins:ar,Safety:kt,Trust:fe,Independence:kt,Legacy:Ss}[p==null?void 0:p.category]||ar;return s.jsxs("div",{className:"space-y-6",children:[s.jsx(W,{children:s.jsxs(Z,{children:[s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(ar,{className:"w-5 h-5 text-primary"}),"Journal Prompts"]}),s.jsxs(ze,{children:["Deep-dive prompts for self-discovery and healing (",l.length,"/",t.length," completed)"]})]})}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(j,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsxs(ee,{className:"text-lg",children:["Prompt ",n+1," of ",t.length]}),s.jsxs(ze,{className:"flex items-center gap-2",children:[s.jsx("span",{className:"px-2 py-1 bg-primary/10 text-primary text-xs rounded-full",children:p==null?void 0:p.category}),s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx("span",{children:p==null?void 0:p.emotional_theme}),g&&s.jsx("span",{className:"text-green-600",children:" Completed"})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(H,{variant:"outline",size:"sm",onClick:y,disabled:n===0,children:s.jsx(x0,{className:"w-4 h-4"})}),s.jsx(H,{variant:"outline",size:"sm",onClick:w,disabled:n===t.length-1,children:s.jsx(pu,{className:"w-4 h-4"})})]})]})}),s.jsxs(Y,{className:"space-y-4",children:[s.jsx("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-4",children:s.jsx("p",{className:"text-foreground leading-relaxed",children:p==null?void 0:p.prompt})}),s.jsx(Nn,{placeholder:"Write your thoughts here... Take your time and be honest with yourself.",value:a,onChange:N=>i(N.target.value),className:"min-h-[200px] resize-none"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.length," characters"]}),s.jsxs(H,{onClick:b,disabled:!a.trim()||u,className:"flex items-center gap-2",children:[s.jsx(_E,{className:"w-4 h-4"}),u?"Saving...":g?"Update Entry":"Save Entry"]})]})]})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsx(ee,{className:"text-lg",children:"Your Journaling Progress"})}),s.jsxs(Y,{children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex-1 bg-secondary rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-primary to-primary-glow h-2 rounded-full transition-all duration-500",style:{width:`${l.length/t.length*100}%`}})}),s.jsxs("span",{className:"font-medium text-primary",children:[Math.round(l.length/t.length*100),"%"]})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["You've completed ",l.length," out of ",t.length," journal prompts. Keep going!"]})]})]})]})};function T5(){const{user:e,hasHealingKit:t}=Te(),r=tt(),[n,o]=f.useState("plan");if(!e)return s.jsx(Cb,{to:"/auth",replace:!0});if(!t)return s.jsx("div",{className:"min-h-screen bg-gradient-subtle flex items-center justify-center p-4",children:s.jsxs(W,{className:"p-8 text-center max-w-md mx-auto",children:[s.jsx(fe,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Healing Kit Required"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"You need to purchase the Healing Kit to access these features."}),s.jsx("button",{onClick:()=>window.location.href="/",className:"bg-primary text-primary-foreground px-4 py-2 rounded-md hover:bg-primary/90",children:"Return to Home"})]})});const a=()=>{switch(n){case"plan":return s.jsx(yv,{});case"affirmations":return s.jsx(C5,{});case"visualisations":return s.jsx(k5,{});case"tracker":return s.jsx(E5,{});case"journal":return s.jsx(P5,{});default:return s.jsx(yv,{})}};return s.jsx("div",{className:"min-h-screen bg-gradient-subtle",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("div",{className:"mt-4 mb-8",children:s.jsxs(H,{variant:"outline",onClick:()=>r("/?tab=coaches",{replace:!0}),className:"flex items-center gap-2",children:[s.jsx(Ir,{className:"w-4 h-4"}),"Coaches"]})}),s.jsx(W,{className:"mb-8 overflow-hidden border-2 shadow-xl",children:s.jsxs("div",{className:"bg-gradient-to-br from-healing/10 via-healing/5 to-background p-8 text-center space-y-6",children:[s.jsx("div",{className:"flex items-center justify-center gap-2",children:s.jsx("div",{className:"p-4 rounded-2xl bg-gradient-to-r from-healing to-healing-glow shadow-2xl animate-pulse",children:s.jsx(fe,{className:"w-12 h-12 text-healing-foreground"})})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h1",{className:"text-4xl sm:text-5xl font-bold bg-gradient-to-r from-healing to-healing-glow bg-clip-text text-transparent",children:"Your Healing Kit"}),s.jsx("p",{className:"text-xl font-semibold text-foreground",children:"Your personalised toolkit for emotional recovery and growth "})]}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"Navigate through heartbreak and emotional challenges with proven techniques. Track your progress, practice daily affirmations, and build the foundation for healthier relationships ahead."}),s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 sm:gap-6 pt-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx("div",{className:"w-2 h-2 bg-healing rounded-full"}),s.jsx("span",{children:"30-Day Structured Plan"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx("div",{className:"w-2 h-2 bg-healing rounded-full"}),s.jsx("span",{children:"Daily Practices"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx("div",{className:"w-2 h-2 bg-healing rounded-full"}),s.jsx("span",{children:"Progress Tracking"})]})]})]})}),s.jsx(_5,{activeSection:n,onSectionChange:o}),a()]})})}var Pp="Radio",[R5,wN]=It(Pp),[A5,I5]=R5(Pp),bN=f.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:o=!1,required:a,disabled:i,value:l="on",onCheck:c,form:u,...h}=e,[d,m]=f.useState(null),x=ye(t,w=>m(w)),b=f.useRef(!1),y=d?u||!!d.closest("form"):!0;return s.jsxs(A5,{scope:r,checked:o,disabled:i,children:[s.jsx(ae.button,{type:"button",role:"radio","aria-checked":o,"data-state":_N(o),"data-disabled":i?"":void 0,disabled:i,value:l,...h,ref:x,onClick:Q(e.onClick,w=>{o||c==null||c(),y&&(b.current=w.isPropagationStopped(),b.current||w.stopPropagation())})}),y&&s.jsx(SN,{control:d,bubbles:!b.current,name:n,value:l,checked:o,required:a,disabled:i,form:u,style:{transform:"translateX(-100%)"}})]})});bN.displayName=Pp;var jN="RadioIndicator",NN=f.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...o}=e,a=I5(jN,r);return s.jsx(gt,{present:n||a.checked,children:s.jsx(ae.span,{"data-state":_N(a.checked),"data-disabled":a.disabled?"":void 0,...o,ref:t})})});NN.displayName=jN;var O5="RadioBubbleInput",SN=f.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...o},a)=>{const i=f.useRef(null),l=ye(i,a),c=Cp(r),u=Fm(t);return f.useEffect(()=>{const h=i.current;if(!h)return;const d=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(d,"checked").set;if(c!==r&&x){const b=new Event("click",{bubbles:n});x.call(h,r),h.dispatchEvent(b)}},[c,r,n]),s.jsx(ae.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...o,tabIndex:-1,ref:l,style:{...o.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});SN.displayName=O5;function _N(e){return e?"checked":"unchecked"}var M5=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ku="RadioGroup",[D5]=It(Ku,[Sa,wN]),CN=Sa(),kN=wN(),[L5,$5]=D5(Ku),EN=f.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:o,value:a,required:i=!1,disabled:l=!1,orientation:c,dir:u,loop:h=!0,onValueChange:d,...m}=e,x=CN(r),b=ja(u),[y,w]=wn({prop:a,defaultProp:o??null,onChange:d,caller:Ku});return s.jsx(L5,{scope:r,name:n,required:i,disabled:l,value:y,onValueChange:w,children:s.jsx(pp,{asChild:!0,...x,orientation:c,dir:b,loop:h,children:s.jsx(ae.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":l?"":void 0,dir:b,...m,ref:t})})})});EN.displayName=Ku;var PN="RadioGroupItem",TN=f.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...o}=e,a=$5(PN,r),i=a.disabled||n,l=CN(r),c=kN(r),u=f.useRef(null),h=ye(t,u),d=a.value===o.value,m=f.useRef(!1);return f.useEffect(()=>{const x=y=>{M5.includes(y.key)&&(m.current=!0)},b=()=>m.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",b)}},[]),s.jsx(gp,{asChild:!0,...l,focusable:!i,active:d,children:s.jsx(bN,{disabled:i,required:a.required,checked:d,...c,...o,name:a.name,ref:h,onCheck:()=>a.onValueChange(o.value),onKeyDown:Q(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:Q(o.onFocus,()=>{var x;m.current&&((x=u.current)==null||x.click())})})})});TN.displayName=PN;var F5="RadioGroupIndicator",RN=f.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,o=kN(r);return s.jsx(NN,{...o,...n,ref:t})});RN.displayName=F5;var AN=EN,IN=TN,U5=RN;const ON=f.forwardRef(({className:e,...t},r)=>s.jsx(AN,{className:ie("grid gap-2",e),...t,ref:r}));ON.displayName=AN.displayName;const MN=f.forwardRef(({className:e,...t},r)=>s.jsx(IN,{ref:r,className:ie("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(U5,{className:"flex items-center justify-center",children:s.jsx(gu,{className:"h-2.5 w-2.5 fill-current text-current"})})}));MN.displayName=IN.displayName;const z5={secure:{name:"Secure Attached",description:"You have a positive view of yourself and others. You're comfortable with intimacy while maintaining healthy independence.",characteristics:["Comfortable with emotional intimacy","Excellent communication skills","Able to express needs clearly","Trusting and reliable in relationships"],icon:fe,color:"bg-green-500"},anxious:{name:"Anxious-Preoccupied",description:"You deeply value connection and may worry about relationship security. You're emotionally expressive and seek reassurance.",characteristics:["Highly attuned to partner's emotions","Seeks frequent reassurance","Fear of abandonment present","Deeply committed when in love"],icon:Kh,color:"bg-yellow-500"},avoidant:{name:"Dismissive-Avoidant",description:"You highly value independence and self-reliance. You prefer emotional distance and may find intimacy uncomfortable.",characteristics:["Values independence highly","Uncomfortable with vulnerability","Self-sufficient approach to life","Prefers to handle emotions alone"],icon:na,color:"bg-blue-500"},"compassionate-connector":{name:"Compassionate Connector",description:"You're securely attached with exceptional empathy. You naturally create safe spaces for emotional intimacy while respecting boundaries.",characteristics:["Highly empathetic and intuitive","Creates emotional safety for others","Balances giving and receiving support","Strong emotional intelligence"],icon:fe,color:"bg-pink-500"},"independent-secure":{name:"Independent Secure",description:"You're secure but particularly value autonomy. You enjoy relationships while maintaining strong sense of self and personal space.",characteristics:["Comfortable in relationships and alone","Strong sense of personal identity","Respects partner's independence","Confident in relationship security"],icon:kt,color:"bg-teal-500"},"recovering-anxious":{name:"Evolving Secure",description:"You're actively healing anxious attachment patterns. You're developing confidence while maintaining your caring, attentive nature.",characteristics:["Self-awareness of attachment patterns","Working on self-soothing skills","Building internal security","Balancing needs with independence"],icon:Ss,color:"bg-orange-500"},"guarded-growing":{name:"Cautiously Opening",description:"You're moving from avoidant patterns toward security. You're learning to embrace vulnerability while honoring your need for space.",characteristics:["Gradually opening to intimacy","Recognizing value of connection","Learning to trust others","Balancing independence with closeness"],icon:na,color:"bg-indigo-500"},"relationship-focused":{name:"Partnership-Oriented",description:"You thrive in committed relationships and prioritize partnership. You're deeply invested in creating strong, lasting bonds.",characteristics:["Highly committed to relationships","Naturally collaborative","Values quality time together","Strong relationship investment"],icon:Kh,color:"bg-rose-500"},"self-sufficient-secure":{name:"Contentedly Independent",description:"You're secure with a strong preference for solitude. You enjoy relationships but are equally fulfilled by your own company.",characteristics:["Comfortable with long-term singlehood","Rich internal life","Selective about relationships","Self-contained happiness"],icon:kt,color:"bg-cyan-500"},"emotionally-aware":{name:"Emotionally Attuned",description:"You have exceptional emotional intelligence and self-awareness. You navigate relationships with insight and intentionality.",characteristics:["Deep self-understanding","Skilled at emotional regulation","Insightful about relationship dynamics","Intentional in communication"],icon:Wr,color:"bg-purple-500"}},H5=()=>{const{user:e}=Te(),{toast:t}=At(),[r,n]=f.useState(0),[o,a]=f.useState([]),[i,l]=f.useState(!1),[c,u]=f.useState(""),[h,d]=f.useState(""),[m,x]=f.useState(null),[b,y]=f.useState(!1),[w,p]=f.useState([]),[g,v]=f.useState(!1),[j,N]=f.useState(null),[S,_]=f.useState(!1),[C,A]=f.useState([]),[E,z]=f.useState(!0),[I,L]=f.useState(null),T=()=>{const $=new Date,V=new Date($);V.setDate(V.getDate()+1),V.setHours(0,0,0,0);const D=V.getTime()-$.getTime(),X=Math.floor(D/(1e3*60*60)),oe=Math.floor(D%(1e3*60*60)/(1e3*60));return`${X}h ${oe}m`};f.useEffect(()=>{e&&(B(),O(),M())},[e]);const B=async()=>{z(!0),L(null);try{console.log("Loading daily AI-generated questions...");const V=await fetch("https://heartlift-launch.emergent.host/api/ai/quiz/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:"attachment_style",num_questions:10})});if(!V.ok)throw new Error(`Failed to generate quiz: ${V.statusText}`);const D=await V.json();if(console.log("Backend response:",D),D&&D.questions&&Array.isArray(D.questions)){A(D.questions),console.log("Successfully loaded",D.questions.length,"fresh AI-generated questions");return}throw new Error("No questions available")}catch($){console.error("Failed to load quiz questions:",$),A([{id:1,question:"How do you typically approach new relationships?",options:["With excitement and openness to connection","With hope but worry about being hurt","With caution and preference for independence","With confusion about what I want"]},{id:2,question:"When conflict arises, you tend to:",options:["Address issues directly and work toward resolution","Become anxious and seek immediate reassurance","Withdraw and avoid confrontation","Feel overwhelmed and react unpredictably"]},{id:3,question:"Your emotional regulation involves:",options:["Processing feelings and seeking appropriate support","Becoming overwhelmed and needing constant comfort","Shutting down emotions and handling things alone","Experiencing intense, conflicting emotions"]},{id:4,question:"When someone gets close emotionally, you tend to:",options:["Welcome the closeness and feel secure","Feel both excited and terrified","Create distance to maintain independence","Feel unpredictable emotions"]},{id:5,question:"Your view of yourself in relationships is:",options:["Confident and worthy of love","Dependent on others' validation","Self-reliant but emotionally distant","Inconsistent and self-doubting"]},{id:6,question:"When your partner needs space, you:",options:["Respect their need while maintaining connection","Feel rejected and seek reassurance","Feel relieved and prefer the distance","Feel confused about how to respond"]},{id:7,question:"Trust in relationships comes:",options:["Naturally with the right person","Hard - you want to trust but fear disappointment","Very slowly - you need consistent proof","In waves - sometimes you trust, sometimes you don't"]},{id:8,question:"When you're upset, you prefer to:",options:["Talk it through with your partner openly","Seek immediate comfort and reassurance","Process your feelings alone first","Sometimes seek comfort, sometimes withdraw"]},{id:9,question:"Your biggest fear in relationships is:",options:["Growing apart due to lack of communication","Being abandoned or rejected","Losing your sense of self","Not knowing if the relationship is stable"]},{id:10,question:"Physical affection in relationships feels:",options:["Natural and comforting","Amazing but sometimes you crave more","Nice but you need personal space too","Complicated - sometimes you want it, sometimes you don't"]}]),console.log("Using hardcoded fallback questions")}finally{z(!1)}},M=async()=>{if(!e)return;const $=new Date().toISOString().slice(0,10);try{const{data:V,error:D}=await J.from("quiz_results").select("id, completed_at").eq("user_id",e.id).gte("completed_at",`${$}T00:00:00`).lte("completed_at",`${$}T23:59:59`).limit(1);if(D)throw D;_(V&&V.length>0)}catch(V){console.error("Error checking today completion:",V),_(!1)}},O=async()=>{if(e)try{const{data:$,error:V}=await J.from("quiz_results").select("*").eq("user_id",e.id).order("completed_at",{ascending:!1}).limit(10);if(V)throw V;p($||[])}catch($){console.error("Error fetching past results:",$)}},k=$=>{N($),d($.attachment_style),x($.analysis),l(!0),v(!1)},P=()=>{if(c){const $=[...o,parseInt(c)];a($),u(""),r<C.length-1?n(r+1):F($)}},F=async $=>{y(!0);try{const V=$.map((ue,R)=>({question:C[R].question,answer:C[R].options[ue]})),X=await fetch("https://heartlift-launch.emergent.host/api/ai/quiz/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({questions_and_answers:V,user_id:e==null?void 0:e.id})});if(!X.ok)throw new Error(`Failed to analyze quiz: ${X.statusText}`);const oe=await X.json();if(d(oe.attachmentStyle),x(oe.analysis),l(!0),_(!0),e!=null&&e.id)try{const{error:ue}=await J.from("quiz_results").insert({user_id:e.id,attachment_style:oe.attachmentStyle,analysis:oe.analysis,questions_and_answers:V,completed_at:new Date().toISOString()});ue?console.error("Error saving quiz result:",ue):O()}catch(ue){console.error("Error saving to database:",ue)}t({title:"Analysis Complete!",description:"Your personalised attachment style report is ready."})}catch(V){console.error("Analysis error:",V);const D={secure:0,anxious:0,avoidant:0,"compassionate-connector":0,"independent-secure":0,"recovering-anxious":0,"guarded-growing":0,"relationship-focused":0,"self-sufficient-secure":0,"emotionally-aware":0};$.forEach((oe,ue)=>{const R=C[ue].options[oe].toLowerCase();R.includes("comfortable")&&R.includes("express")&&(D.secure+=2),R.includes("trust")&&R.includes("open")&&D.secure++,(R.includes("worry")||R.includes("anxious"))&&(D.anxious+=2),(R.includes("reassurance")||R.includes("fear")&&R.includes("abandon"))&&D.anxious++,(R.includes("independent")||R.includes("self-reliant"))&&(D.avoidant+=2),(R.includes("distance")||R.includes("space"))&&D.avoidant++,R.includes("support")&&R.includes("understand")&&D["compassionate-connector"]++,(R.includes("empathy")||R.includes("listen"))&&D["compassionate-connector"]++,(R.includes("balance")||R.includes("independent")&&R.includes("comfortable"))&&D["independent-secure"]++,(R.includes("working on")||R.includes("trying to"))&&D["recovering-anxious"]++,(R.includes("gradually")||R.includes("learning to"))&&D["guarded-growing"]++,R.includes("partner")&&R.includes("together")&&D["relationship-focused"]++,(R.includes("committed")||R.includes("quality time"))&&D["relationship-focused"]++,R.includes("alone")&&R.includes("content")&&D["self-sufficient-secure"]++,(R.includes("aware")||R.includes("reflect"))&&D["emotionally-aware"]++});const X=Object.entries(D).reduce((oe,ue)=>D[oe[0]]>D[ue[0]]?oe:ue)[0];if(d(X),l(!0),_(!0),e!=null&&e.id)try{await J.from("user_attachment_results").insert({user_id:e.id,attachment_style:X,quiz_date:new Date().toISOString().slice(0,10)}),await O()}catch(oe){console.error("Failed to save fallback result:",oe)}t({title:"Here are your results!",description:"Your attachment style analysis is complete."})}finally{y(!1)}};if(E)return s.jsx("div",{className:"space-y-6 max-w-4xl mx-auto",children:s.jsxs(W,{children:[s.jsxs(Z,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(pn,{className:"w-8 h-8 animate-spin text-primary"})}),s.jsx(ee,{className:"text-2xl",children:"Loading Today's Questions..."})]}),s.jsx(Y,{className:"text-center",children:s.jsx("p",{className:"text-muted-foreground",children:"AI is generating fresh attachment style questions for you."})})]})});if(S&&!i)return s.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[s.jsxs(W,{children:[s.jsxs(Z,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-4 rounded-full bg-green-100",children:s.jsx(Vs,{className:"w-8 h-8 text-green-600"})})}),s.jsx(ee,{className:"text-2xl",children:"Daily Quiz Completed!"}),s.jsxs("div",{className:"flex items-center justify-center gap-4 mt-4",children:[s.jsxs(je,{variant:"outline",className:"flex items-center gap-2",children:[s.jsx(ft,{className:"w-4 h-4"}),"AI-Generated Questions"]}),s.jsxs(je,{variant:"secondary",className:"flex items-center gap-2",children:[s.jsx(Lo,{className:"w-4 h-4"}),"Next: ",T()]})]})]}),s.jsxs(Y,{className:"space-y-4 text-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"You've completed today's attachment style quiz. Check back tomorrow for new questions!"}),s.jsx("div",{className:"flex gap-3 justify-center",children:s.jsx(H,{onClick:()=>v(!0),variant:"outline",children:"View Past Results"})})]})]}),g&&s.jsxs(W,{children:[s.jsx(Z,{children:s.jsx(ee,{children:"Your Quiz History"})}),s.jsxs(Y,{children:[w.length>0?s.jsx("div",{className:"space-y-4",children:w.map(($,V)=>{var D,X;return s.jsxs("button",{onClick:()=>k($),className:"w-full flex justify-between items-center p-3 border rounded-lg hover:bg-accent transition-colors cursor-pointer text-left",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium capitalize",children:(D=$.attachment_style)==null?void 0:D.replace(/-/g," ")}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date($.completed_at).toLocaleDateString()," at ",new Date($.completed_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),s.jsx(je,{variant:"outline",className:"capitalize",children:(X=$.attachment_style)==null?void 0:X.replace(/-/g," ")})]},$.id)})}):s.jsx("p",{className:"text-muted-foreground",children:"No past results available."}),s.jsx(H,{onClick:()=>v(!1),variant:"outline",className:"mt-4 w-full",children:"Close"})]})]})]});if(b)return s.jsx(W,{className:"max-w-2xl mx-auto",children:s.jsxs(Y,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(pn,{className:"w-8 h-8 animate-spin mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Analyzing Your Responses"}),s.jsx("p",{className:"text-muted-foreground text-center",children:"Our AI is creating your personalised attachment style report..."})]})});if(i&&h){const $=z5[h];if(!$)return console.error("Unknown attachment style:",h),s.jsx(W,{className:"max-w-2xl mx-auto",children:s.jsxs(Y,{className:"text-center py-8",children:[s.jsx("p",{className:"text-destructive",children:"Unable to display results. Please try again."}),s.jsx(H,{onClick:()=>window.location.reload(),className:"mt-4",children:"Reload Page"})]})});const V=$.icon;return s.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[s.jsxs(W,{children:[s.jsxs(Z,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:`p-4 rounded-full ${$.color}`,children:s.jsx(V,{className:"w-8 h-8 text-white"})})}),s.jsx(ee,{className:"text-2xl",children:j?"Past Quiz Result":"Your Attachment Style"}),s.jsx(je,{variant:"secondary",className:"text-lg px-4 py-2",children:$.name}),s.jsx("div",{className:"flex items-center justify-center gap-4 mt-4",children:j?s.jsxs(je,{variant:"outline",className:"flex items-center gap-2",children:[s.jsx(ft,{className:"w-4 h-4"}),new Date(j.completed_at).toLocaleDateString()," at ",new Date(j.completed_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}):s.jsxs(s.Fragment,{children:[s.jsxs(je,{variant:"outline",className:"flex items-center gap-2",children:[s.jsx(ft,{className:"w-4 h-4"}),"AI-Generated Quiz"]}),s.jsxs(je,{variant:"secondary",className:"flex items-center gap-2",children:[s.jsx(Lo,{className:"w-4 h-4"}),"Next: ",T()]})]})})]}),s.jsxs(Y,{className:"space-y-6",children:[s.jsx("p",{className:"text-muted-foreground text-center",children:$.description}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-3",children:"Key Characteristics"}),s.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:$.characteristics.map((D,X)=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full flex-shrink-0"}),D]},X))})]}),s.jsx("div",{className:"flex gap-3 justify-center",children:s.jsx(H,{onClick:()=>v(!0),variant:"outline",children:"View History"})})]})]}),m&&s.jsxs(s.Fragment,{children:[s.jsxs(W,{children:[s.jsx(Z,{children:s.jsx(ee,{className:"flex items-center gap-2",children:" Full Breakdown of Your Style"})}),s.jsx(Y,{className:"space-y-4",children:s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2 text-green-700",children:"Strengths"}),s.jsx("ul",{className:"space-y-1",children:m.detailedBreakdown.strengths.map((D,X)=>s.jsxs("li",{className:"text-sm text-muted-foreground",children:[" ",D]},X))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2 text-orange-700",children:"Challenges"}),s.jsx("ul",{className:"space-y-1",children:m.detailedBreakdown.challenges.map((D,X)=>s.jsxs("li",{className:"text-sm text-muted-foreground",children:[" ",D]},X))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2 text-blue-700",children:"Relationship Patterns"}),s.jsx("ul",{className:"space-y-1",children:m.detailedBreakdown.relationshipPatterns.map((D,X)=>s.jsxs("li",{className:"text-sm text-muted-foreground",children:[" ",D]},X))})]})]})})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs(W,{children:[s.jsx(Z,{children:s.jsx(ee,{className:"flex items-center gap-2",children:" Common Triggers"})}),s.jsx(Y,{children:s.jsx("ul",{className:"space-y-2",children:m.triggers.map((D,X)=>s.jsxs("li",{className:"text-sm",children:[" ",D]},X))})})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsx(ee,{className:"flex items-center gap-2",children:" Coping Techniques"})}),s.jsx(Y,{children:s.jsx("div",{className:"space-y-3",children:m.copingTechniques.map((D,X)=>s.jsxs("div",{className:"border-l-2 border-primary pl-3",children:[s.jsx("h5",{className:"font-medium text-sm",children:D.technique}),s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:D.description}),s.jsxs("p",{className:"text-xs italic",children:["Example: ",D.example]})]},X))})})]})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsx(ee,{className:"flex items-center gap-2",children:" Your Personalised Healing Path"})}),s.jsx(Y,{children:s.jsx("p",{className:"text-sm leading-relaxed",children:m.healingPath})})]})]}),i&&s.jsx("div",{className:"flex gap-3 justify-center mt-6",children:j?s.jsx(H,{onClick:()=>{v(!0),l(!1),N(null)},variant:"outline",children:"Back to History"}):s.jsx(H,{onClick:()=>v(!0),variant:"outline",children:"View Past Results"})}),g&&s.jsxs(W,{children:[s.jsx(Z,{children:s.jsx(ee,{children:"Your Quiz History"})}),s.jsxs(Y,{children:[w.length>0?s.jsx("div",{className:"space-y-4",children:w.map((D,X)=>{var oe,ue;return s.jsxs("button",{onClick:()=>k(D),className:"w-full flex justify-between items-center p-3 border rounded-lg hover:bg-accent transition-colors cursor-pointer text-left",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium capitalize",children:(oe=D.attachment_style)==null?void 0:oe.replace(/-/g," ")}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(D.completed_at).toLocaleDateString()," at ",new Date(D.completed_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),s.jsx(je,{variant:"outline",className:"capitalize",children:(ue=D.attachment_style)==null?void 0:ue.replace(/-/g," ")})]},D.id)})}):s.jsx("p",{className:"text-muted-foreground",children:"No past results available."}),s.jsx(H,{onClick:()=>v(!1),variant:"outline",className:"mt-4 w-full",children:"Close"})]})]})]})}return!C||C.length===0?s.jsx("div",{className:"space-y-6 max-w-4xl mx-auto",children:s.jsxs(W,{children:[s.jsx(Z,{className:"text-center",children:s.jsx(ee,{className:"text-2xl",children:"No Questions Available"})}),s.jsxs(Y,{className:"text-center space-y-4",children:[s.jsx("p",{className:"text-muted-foreground",children:"Unable to load quiz questions. Please try refreshing the page."}),s.jsx(H,{onClick:B,variant:"outline",children:"Reload Questions"})]})]})}):s.jsxs("div",{className:"space-y-4 sm:space-y-6 max-w-2xl mx-auto px-4 sm:px-0",children:[s.jsx(W,{children:s.jsxs(Z,{className:"text-center p-4 sm:p-6",children:[s.jsxs(ee,{className:"flex items-center justify-center gap-2 text-lg sm:text-xl",children:[s.jsx(fe,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"}),"Daily Attachment Style Quiz"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-2 sm:gap-4 mt-3 sm:mt-4",children:[s.jsxs(je,{variant:"outline",className:"flex items-center gap-2 text-xs sm:text-sm",children:[s.jsx(ft,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"AI-Generated Questions"]}),s.jsxs(je,{variant:"secondary",className:"flex items-center gap-2 text-xs sm:text-sm",children:[s.jsx(Lo,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"New questions in ",T()]})]}),s.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:"AI generates fresh questions daily to provide deeper insights into your attachment patterns"}),s.jsx("div",{className:"mt-3 flex justify-center",children:s.jsx(H,{variant:"ghost",onClick:()=>v(!0),size:"sm",children:"View Past Results"})})]})}),s.jsxs(W,{children:[s.jsxs(Z,{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"text-xs sm:text-sm text-muted-foreground",children:["Question ",r+1," of ",C.length]}),s.jsxs(je,{variant:"outline",className:"text-xs sm:text-sm",children:[Math.round((r+1)/C.length*100),"%"]})]}),s.jsx(Na,{value:(r+1)/C.length*100,className:"mt-2"})]}),s.jsxs(Y,{className:"space-y-4 sm:space-y-6 p-4 sm:p-6 pt-0",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-4 leading-tight",children:C[r].question}),s.jsx(ON,{value:c,onValueChange:u,className:"space-y-3 sm:space-y-2",children:C[r].options.map(($,V)=>s.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border hover:bg-muted/30 transition-colors",children:[s.jsx(MN,{value:V.toString(),id:`option-${V}`,className:"mt-0.5 flex-shrink-0"}),s.jsx(Qe,{htmlFor:`option-${V}`,className:"flex-1 cursor-pointer text-sm sm:text-base leading-relaxed",children:$})]},V))})]}),s.jsx(H,{onClick:P,disabled:!c,className:"w-full py-3 text-base font-medium",size:"lg",children:r<C.length-1?"Next Question":"Complete Quiz"})]})]})]})},B5=()=>{const{user:e,isPremium:t}=Te(),{toast:r}=At(),[n,o]=f.useState([]),[a,i]=f.useState({}),[l,c]=f.useState(null),[u,h]=f.useState([]),[d,m]=f.useState(null),[x,b]=f.useState(""),[y,w]=f.useState(!1),[p,g]=f.useState(null),[v,j]=f.useState(!0),[N,S]=f.useState(null);f.useEffect(()=>(e&&t&&(_(),C()),()=>{N&&clearTimeout(N)}),[e,t,N]);const _=async()=>{try{const{data:O,error:k}=await J.from("guided_programs").select("*").order("program_key");if(k)throw k;o(O||[])}catch(O){console.error("Error fetching programs:",O),r({title:"Error",description:"Failed to load guided programs",variant:"destructive"})}finally{j(!1)}},C=async()=>{if(e)try{const{data:O,error:k}=await J.from("user_guided_program_progress").select("*").eq("user_id",e.id);if(k)throw k;const P={};O==null||O.forEach(F=>{P[F.program_id]={...F,reflection_answers:F.reflection_answers||{}}}),i(P)}catch(O){console.error("Error fetching user progress:",O)}},A=async O=>{try{const{data:k,error:P}=await J.from("guided_program_modules").select("*").eq("program_id",O).order("module_number");if(P)throw P;h(k||[]);const F=a[O],$=(F==null?void 0:F.current_module)||1,V=k==null?void 0:k.find(D=>D.module_number===$);if(m(V||(k==null?void 0:k[0])||null),F&&V){const D=F.reflection_answers[V.id]||"";b(D)}}catch(k){console.error("Error fetching program modules:",k)}},E=async O=>{if(c(O),await A(O.id),!a[O.id])try{const{error:k}=await J.from("user_guided_program_progress").insert({user_id:e.id,program_id:O.id,current_module:1,completed_modules:[],reflection_answers:{}});if(k)throw k;await C()}catch(k){console.error("Error initializing progress:",k)}},z=async(O=!0)=>{if(!d||!l||!e)return;const k=a[l.id];if(!k)return;const P={...k.reflection_answers,[d.id]:x};try{const{error:F}=await J.from("user_guided_program_progress").update({reflection_answers:P}).eq("id",k.id);if(F)throw F;O&&r({title:"Reflection Saved",description:"Your reflection has been saved successfully"}),await C()}catch(F){console.error("Error saving reflection:",F),O&&r({title:"Error",description:"Failed to save reflection",variant:"destructive"})}},I=O=>{b(O),N&&clearTimeout(N);const k=setTimeout(()=>{O.trim()&&z(!1)},2e3);S(k)},L=async()=>{if(!d||!l||!e)return;await z();const O=a[l.id];if(!O)return;const k=[...O.completed_modules];k.includes(d.module_number)||k.push(d.module_number);const P=d.module_number+1,F=P>u.length,$=F;try{const V={completed_modules:k,current_module:F?d.module_number:P,program_completed:$};$&&(V.completed_at=new Date().toISOString());const{error:D}=await J.from("user_guided_program_progress").update(V).eq("id",O.id);if(D)throw D;if(await C(),$)g(l),w(!0);else{const X=u.find(oe=>oe.module_number===P);X&&(m(X),b(""))}r({title:"Module Completed!",description:$?"Congratulations! You've completed the entire program!":"Moving to the next module..."})}catch(V){console.error("Error completing module:",V),r({title:"Error",description:"Failed to complete module",variant:"destructive"})}},T=()=>{if(!l||!a[l.id])return;const k=a[l.id].reflection_answers;let P=`${l.title} - Reflection Summary

`;u.forEach(D=>{const X=k[D.id];X&&(P+=`${D.title}
`,P+=`${D.reflection_prompt}
`,P+=`Your reflection: ${X}

`)});const F=new Blob([P],{type:"text/plain"}),$=URL.createObjectURL(F),V=document.createElement("a");V.href=$,V.download=`${l.title.replace(/\s+/g,"_")}_reflections.txt`,V.click(),URL.revokeObjectURL($)},B=O=>{switch(O){case"finding_inner_security":return fe;case"rebuilding_trust":return na;case"letting_go_moving_forward":return mE;default:return ar}},M=O=>{const k=a[O];return k?k.completed_modules.length/3*100:0};return t?v?s.jsx(W,{className:"p-8 text-center",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mx-auto mb-4"}),s.jsx("div",{className:"h-4 bg-muted rounded w-1/2 mx-auto"})]})}):l?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs(H,{variant:"outline",onClick:async()=>{x.trim()&&d&&await z(!1),c(null),m(null),b("")},className:"mb-4",children:[s.jsx(Ir,{className:"w-4 h-4 mr-2"}),"Back to Programs"]}),s.jsx("div",{className:"text-center sm:text-left",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center sm:justify-start gap-3 sm:gap-4",children:[s.jsx("span",{className:"text-4xl sm:text-3xl",children:l.emoji}),s.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-center sm:text-left leading-tight",children:l.title})]})})]}),d&&s.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[s.jsxs(W,{children:[s.jsx(Z,{children:s.jsx(ee,{className:"text-lg",children:"Modules"})}),s.jsx(Y,{className:"space-y-2",children:(u||[]).map(O=>{var F;const k=(F=a[l.id])==null?void 0:F.completed_modules.includes(O.module_number),P=d.id===O.id;return s.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer transition-colors ${P?"bg-primary/10 border border-primary/20":"hover:bg-muted/50"}`,onClick:async()=>{x.trim()&&d&&await z(!1),m(O);const $=a[l.id],V=($==null?void 0:$.reflection_answers[O.id])||"";b(V)},children:[k?s.jsx(Vs,{className:"w-5 h-5 text-green-500"}):s.jsx(gu,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:O.title}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Module ",O.module_number]})]})]},O.id)})})]}),s.jsx("div",{className:"lg:col-span-2 space-y-6",children:s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(ar,{className:"w-5 h-5"}),d.title]})}),s.jsxs(Y,{className:"space-y-6",children:[s.jsx("div",{className:"prose prose-sm max-w-none",children:d.teaching_content.split(`

`).map((O,k)=>s.jsx("p",{className:"text-sm leading-relaxed mb-4",children:O},k))}),s.jsx(mp,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-sm",children:"Reflection"}),s.jsx("p",{className:"text-sm text-muted-foreground italic",children:d.reflection_prompt}),s.jsx(Nn,{placeholder:"Share your thoughts and reflections here...",value:x,onChange:O=>I(O.target.value),className:"min-h-[120px]"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(H,{onClick:()=>z(!0),variant:"outline",size:"sm",children:"Save Reflection"}),s.jsx(H,{onClick:L,disabled:!x.trim(),size:"sm",children:"Complete Module"})]})]})]})]})})]}),s.jsx(Uu,{open:y,onOpenChange:w,children:s.jsxs(Ji,{className:"max-w-md",children:[s.jsx(Xi,{children:s.jsx(Zi,{className:"text-center",children:" Program Complete!"})}),s.jsxs("div",{className:"text-center space-y-4",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["You've completed the ",s.jsx("strong",{children:p==null?void 0:p.title})," journey  take a moment to celebrate your growth. Every step you've taken brings you closer to secure and meaningful connections."]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs(H,{onClick:T,variant:"outline",children:[s.jsx(Ec,{className:"w-4 h-4 mr-2"}),"Download Reflection Summary"]}),s.jsx(H,{onClick:()=>{w(!1),c(null),m(null)},children:"Start Another Program"})]})]})]})})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Guided Programs"}),s.jsx("p",{className:"text-muted-foreground",children:"Structured journeys to help you grow, heal, and strengthen your relationships."})]}),s.jsx("div",{className:"grid gap-6 md:grid-cols-1 lg:grid-cols-3",children:(n||[]).map(O=>{var F;B(O.program_key);const k=M(O.id),P=(F=a[O.id])==null?void 0:F.program_completed;return s.jsxs(W,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:[s.jsxs(Z,{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("span",{className:"text-2xl",children:O.emoji}),s.jsx("div",{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[O.title,P&&s.jsx(Vs,{className:"w-5 h-5 text-green-500"})]})})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:O.description})]}),s.jsx(Y,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{children:"Progress"}),s.jsxs("span",{children:[Math.round(k),"%"]})]}),s.jsx(Na,{value:k,className:"h-2"})]}),s.jsxs(H,{className:"w-full",onClick:()=>E(O),variant:P?"outline":"default",children:[P?"Review Program":k>0?"Continue":"Start Program",s.jsx(pu,{className:"w-4 h-4 ml-2"})]})]})})]},O.id)})})]}):s.jsxs(W,{className:"p-8 text-center",children:[s.jsx(ar,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Premium Required"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Upgrade to premium to access guided programs for growth and healing."}),s.jsx(H,{variant:"warm",onClick:()=>{const O=window.location.pathname+window.location.search;window.location.href=`/premium-purchase?from=${encodeURIComponent(O)}`},children:"Upgrade to Premium"})]})},W5=()=>{const{user:e}=Te(),{toast:t}=At(),[r,n]=f.useState(""),[o,a]=f.useState(null),[i,l]=f.useState(!1),c=async()=>{if(!r.trim()){t({title:"Please enter a conversation",description:"Paste or type the conversation you'd like to analyse.",variant:"destructive"});return}l(!0);try{const h=await fetch("https://heartlift-launch.emergent.host/api/ai/analyze-conversation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({conversation_text:r.trim(),analysis_type:"general"})});if(!h.ok)throw new Error(`Failed to analyze conversation: ${h.statusText}`);const d=await h.json();a(d),t({title:"Analysis Complete",description:"Your conversation has been analysed successfully."})}catch(u){console.error("Analysis error:",u),t({title:"Analysis Failed",description:u instanceof Error?u.message:"There was an error analysing your conversation. Please try again.",variant:"destructive"})}finally{l(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Jr,{className:"w-5 h-5"}),"Conversation Analyser"]})}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Paste your conversation below:"}),s.jsx(Nn,{placeholder:`You: Hey, how was your day?
Them: Fine.
You: Just fine? You seem upset about something...

(Paste your full conversation here)`,value:r,onChange:u=>n(u.target.value),rows:8,className:"resize-none"})]}),s.jsx(H,{onClick:c,disabled:i||!r.trim(),className:"w-full",children:i?s.jsxs(s.Fragment,{children:[s.jsx(pn,{className:"w-4 h-4 mr-2 animate-spin"}),"Analysing Conversation..."]}):s.jsxs(s.Fragment,{children:[s.jsx(RE,{className:"w-4 h-4 mr-2"}),"Analyse Conversation"]})})]})]}),o&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs(W,{children:[s.jsx(Z,{children:s.jsx(ee,{className:"flex items-center gap-2",children:" Emotional Tone Analysis"})}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Your Tone"}),s.jsx("p",{className:"text-muted-foreground",children:o.emotionalTone.user})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Their Tone"}),s.jsx("p",{className:"text-muted-foreground",children:o.emotionalTone.partner})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Overall Dynamic"}),s.jsx("p",{className:"text-muted-foreground",children:o.emotionalTone.overall})]})]})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsx(ee,{className:"flex items-center gap-2",children:" Miscommunication Patterns"})}),s.jsx(Y,{className:"space-y-4",children:o.miscommunicationPatterns.map((u,h)=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsx("div",{className:"flex items-center gap-2 mb-2",children:s.jsx(je,{variant:"outline",children:u.pattern})}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:u.description}),u.examples.length>0&&s.jsxs("div",{children:[s.jsx("h5",{className:"text-xs font-medium mb-1",children:"Examples:"}),s.jsx("ul",{className:"text-xs text-muted-foreground space-y-1",children:u.examples.map((d,m)=>s.jsxs("li",{className:"italic",children:['"',d,'"']},m))})]})]},h))})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsx(ee,{className:"flex items-center gap-2",children:" What You Could Have Said Differently"})}),s.jsx(Y,{className:"space-y-4",children:o.suggestions.map((u,h)=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium mb-2 text-destructive",children:u.issue}),s.jsxs("div",{className:"bg-primary/5 rounded p-3 mb-2",children:[s.jsx("h5",{className:"text-sm font-medium mb-1",children:"Better Response:"}),s.jsxs("p",{className:"text-sm italic",children:['"',u.betterResponse,'"']})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:u.explanation})]},h))})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(oa,{className:"w-5 h-5"}),"Overall Assessment"]})}),s.jsx(Y,{children:s.jsx("p",{className:"text-muted-foreground",children:o.overallAssessment})})]})]})]})};var V5=[" ","Enter","ArrowUp","ArrowDown"],q5=[" ","Enter"],Qs="Select",[Gu,Yu,K5]=hu(Qs),[_a]=It(Qs,[K5,ya]),Qu=ya(),[G5,ps]=_a(Qs),[Y5,Q5]=_a(Qs),DN=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:o,onOpenChange:a,value:i,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:d,disabled:m,required:x,form:b}=e,y=Qu(t),[w,p]=f.useState(null),[g,v]=f.useState(null),[j,N]=f.useState(!1),S=ja(u),[_,C]=wn({prop:n,defaultProp:o??!1,onChange:a,caller:Qs}),[A,E]=wn({prop:i,defaultProp:l,onChange:c,caller:Qs}),z=f.useRef(null),I=w?b||!!w.closest("form"):!0,[L,T]=f.useState(new Set),B=Array.from(L).map(M=>M.props.value).join(";");return s.jsx(tb,{...y,children:s.jsxs(G5,{required:x,scope:t,trigger:w,onTriggerChange:p,valueNode:g,onValueNodeChange:v,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:Yr(),value:A,onValueChange:E,open:_,onOpenChange:C,dir:S,triggerPointerDownPosRef:z,disabled:m,children:[s.jsx(Gu.Provider,{scope:t,children:s.jsx(Y5,{scope:e.__scopeSelect,onNativeOptionAdd:f.useCallback(M=>{T(O=>new Set(O).add(M))},[]),onNativeOptionRemove:f.useCallback(M=>{T(O=>{const k=new Set(O);return k.delete(M),k})},[]),children:r})}),I?s.jsxs(aS,{"aria-hidden":!0,required:x,tabIndex:-1,name:h,autoComplete:d,value:A,onChange:M=>E(M.target.value),disabled:m,form:b,children:[A===void 0?s.jsx("option",{value:""}):null,Array.from(L)]},B):null]})})};DN.displayName=Qs;var LN="SelectTrigger",$N=f.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...o}=e,a=Qu(r),i=ps(LN,r),l=i.disabled||n,c=ye(t,i.onTriggerChange),u=Yu(r),h=f.useRef("touch"),[d,m,x]=lS(y=>{const w=u().filter(v=>!v.disabled),p=w.find(v=>v.value===i.value),g=cS(w,y,p);g!==void 0&&i.onValueChange(g.value)}),b=y=>{l||(i.onOpenChange(!0),x()),y&&(i.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return s.jsx(Hm,{asChild:!0,...a,children:s.jsx(ae.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":iS(i.value)?"":void 0,...o,ref:c,onClick:Q(o.onClick,y=>{y.currentTarget.focus(),h.current!=="mouse"&&b(y)}),onPointerDown:Q(o.onPointerDown,y=>{h.current=y.pointerType;const w=y.target;w.hasPointerCapture(y.pointerId)&&w.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(b(y),y.preventDefault())}),onKeyDown:Q(o.onKeyDown,y=>{const w=d.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&m(y.key),!(w&&y.key===" ")&&V5.includes(y.key)&&(b(),y.preventDefault())})})})});$N.displayName=LN;var FN="SelectValue",UN=f.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,children:a,placeholder:i="",...l}=e,c=ps(FN,r),{onValueNodeHasChildrenChange:u}=c,h=a!==void 0,d=ye(t,c.onValueNodeChange);return lt(()=>{u(h)},[u,h]),s.jsx(ae.span,{...l,ref:d,style:{pointerEvents:"none"},children:iS(c.value)?s.jsx(s.Fragment,{children:i}):a})});UN.displayName=FN;var J5="SelectIcon",zN=f.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...o}=e;return s.jsx(ae.span,{"aria-hidden":!0,...o,ref:t,children:n||""})});zN.displayName=J5;var X5="SelectPortal",HN=e=>s.jsx(Vi,{asChild:!0,...e});HN.displayName=X5;var Js="SelectContent",BN=f.forwardRef((e,t)=>{const r=ps(Js,e.__scopeSelect),[n,o]=f.useState();if(lt(()=>{o(new DocumentFragment)},[]),!r.open){const a=n;return a?eo.createPortal(s.jsx(WN,{scope:e.__scopeSelect,children:s.jsx(Gu.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),a):null}return s.jsx(VN,{...e,ref:t})});BN.displayName=Js;var wr=10,[WN,gs]=_a(Js),Z5="SelectContentImpl",eL=Ws("SelectContent.RemoveScroll"),VN=f.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:d,collisionBoundary:m,collisionPadding:x,sticky:b,hideWhenDetached:y,avoidCollisions:w,...p}=e,g=ps(Js,r),[v,j]=f.useState(null),[N,S]=f.useState(null),_=ye(t,R=>j(R)),[C,A]=f.useState(null),[E,z]=f.useState(null),I=Yu(r),[L,T]=f.useState(!1),B=f.useRef(!1);f.useEffect(()=>{if(v)return lp(v)},[v]),ip();const M=f.useCallback(R=>{const[K,...te]=I().map(he=>he.ref.current),[le]=te.slice(-1),me=document.activeElement;for(const he of R)if(he===me||(he==null||he.scrollIntoView({block:"nearest"}),he===K&&N&&(N.scrollTop=0),he===le&&N&&(N.scrollTop=N.scrollHeight),he==null||he.focus(),document.activeElement!==me))return},[I,N]),O=f.useCallback(()=>M([C,v]),[M,C,v]);f.useEffect(()=>{L&&O()},[L,O]);const{onOpenChange:k,triggerPointerDownPosRef:P}=g;f.useEffect(()=>{if(v){let R={x:0,y:0};const K=le=>{var me,he;R={x:Math.abs(Math.round(le.pageX)-(((me=P.current)==null?void 0:me.x)??0)),y:Math.abs(Math.round(le.pageY)-(((he=P.current)==null?void 0:he.y)??0))}},te=le=>{R.x<=10&&R.y<=10?le.preventDefault():v.contains(le.target)||k(!1),document.removeEventListener("pointermove",K),P.current=null};return P.current!==null&&(document.addEventListener("pointermove",K),document.addEventListener("pointerup",te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",te,{capture:!0})}}},[v,k,P]),f.useEffect(()=>{const R=()=>k(!1);return window.addEventListener("blur",R),window.addEventListener("resize",R),()=>{window.removeEventListener("blur",R),window.removeEventListener("resize",R)}},[k]);const[F,$]=lS(R=>{const K=I().filter(me=>!me.disabled),te=K.find(me=>me.ref.current===document.activeElement),le=cS(K,R,te);le&&setTimeout(()=>le.ref.current.focus())}),V=f.useCallback((R,K,te)=>{const le=!B.current&&!te;(g.value!==void 0&&g.value===K||le)&&(A(R),le&&(B.current=!0))},[g.value]),D=f.useCallback(()=>v==null?void 0:v.focus(),[v]),X=f.useCallback((R,K,te)=>{const le=!B.current&&!te;(g.value!==void 0&&g.value===K||le)&&z(R)},[g.value]),oe=n==="popper"?Sf:qN,ue=oe===Sf?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:d,collisionBoundary:m,collisionPadding:x,sticky:b,hideWhenDetached:y,avoidCollisions:w}:{};return s.jsx(WN,{scope:r,content:v,viewport:N,onViewportChange:S,itemRefCallback:V,selectedItem:C,onItemLeave:D,itemTextRefCallback:X,focusSelectedItem:O,selectedItemText:E,position:n,isPositioned:L,searchRef:F,children:s.jsx($u,{as:eL,allowPinchZoom:!0,children:s.jsx(Du,{asChild:!0,trapped:g.open,onMountAutoFocus:R=>{R.preventDefault()},onUnmountAutoFocus:Q(o,R=>{var K;(K=g.trigger)==null||K.focus({preventScroll:!0}),R.preventDefault()}),children:s.jsx(fa,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:R=>R.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:s.jsx(oe,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:R=>R.preventDefault(),...p,...ue,onPlaced:()=>T(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...p.style},onKeyDown:Q(p.onKeyDown,R=>{const K=R.ctrlKey||R.altKey||R.metaKey;if(R.key==="Tab"&&R.preventDefault(),!K&&R.key.length===1&&$(R.key),["ArrowUp","ArrowDown","Home","End"].includes(R.key)){let le=I().filter(me=>!me.disabled).map(me=>me.ref.current);if(["ArrowUp","End"].includes(R.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(R.key)){const me=R.target,he=le.indexOf(me);le=le.slice(he+1)}setTimeout(()=>M(le)),R.preventDefault()}})})})})})})});VN.displayName=Z5;var tL="SelectItemAlignedPosition",qN=f.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...o}=e,a=ps(Js,r),i=gs(Js,r),[l,c]=f.useState(null),[u,h]=f.useState(null),d=ye(t,_=>h(_)),m=Yu(r),x=f.useRef(!1),b=f.useRef(!0),{viewport:y,selectedItem:w,selectedItemText:p,focusSelectedItem:g}=i,v=f.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&y&&w&&p){const _=a.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),A=a.valueNode.getBoundingClientRect(),E=p.getBoundingClientRect();if(a.dir!=="rtl"){const me=E.left-C.left,he=A.left-me,Re=_.left-he,ne=_.width+Re,ce=Math.max(ne,C.width),Ce=window.innerWidth-wr,Le=wf(he,[wr,Math.max(wr,Ce-ce)]);l.style.minWidth=ne+"px",l.style.left=Le+"px"}else{const me=C.right-E.right,he=window.innerWidth-A.right-me,Re=window.innerWidth-_.right-he,ne=_.width+Re,ce=Math.max(ne,C.width),Ce=window.innerWidth-wr,Le=wf(he,[wr,Math.max(wr,Ce-ce)]);l.style.minWidth=ne+"px",l.style.right=Le+"px"}const z=m(),I=window.innerHeight-wr*2,L=y.scrollHeight,T=window.getComputedStyle(u),B=parseInt(T.borderTopWidth,10),M=parseInt(T.paddingTop,10),O=parseInt(T.borderBottomWidth,10),k=parseInt(T.paddingBottom,10),P=B+M+L+k+O,F=Math.min(w.offsetHeight*5,P),$=window.getComputedStyle(y),V=parseInt($.paddingTop,10),D=parseInt($.paddingBottom,10),X=_.top+_.height/2-wr,oe=I-X,ue=w.offsetHeight/2,R=w.offsetTop+ue,K=B+M+R,te=P-K;if(K<=X){const me=z.length>0&&w===z[z.length-1].ref.current;l.style.bottom="0px";const he=u.clientHeight-y.offsetTop-y.offsetHeight,Re=Math.max(oe,ue+(me?D:0)+he+O),ne=K+Re;l.style.height=ne+"px"}else{const me=z.length>0&&w===z[0].ref.current;l.style.top="0px";const Re=Math.max(X,B+y.offsetTop+(me?V:0)+ue)+te;l.style.height=Re+"px",y.scrollTop=K-X+y.offsetTop}l.style.margin=`${wr}px 0`,l.style.minHeight=F+"px",l.style.maxHeight=I+"px",n==null||n(),requestAnimationFrame(()=>x.current=!0)}},[m,a.trigger,a.valueNode,l,u,y,w,p,a.dir,n]);lt(()=>v(),[v]);const[j,N]=f.useState();lt(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const S=f.useCallback(_=>{_&&b.current===!0&&(v(),g==null||g(),b.current=!1)},[v,g]);return s.jsx(nL,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:S,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:s.jsx(ae.div,{...o,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});qN.displayName=tL;var rL="SelectPopperPosition",Sf=f.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:o=wr,...a}=e,i=Qu(r);return s.jsx(Bm,{...i,...a,ref:t,align:n,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Sf.displayName=rL;var[nL,Tp]=_a(Js,{}),_f="SelectViewport",KN=f.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...o}=e,a=gs(_f,r),i=Tp(_f,r),l=ye(t,a.onViewportChange),c=f.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Gu.Slot,{scope:r,children:s.jsx(ae.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Q(o.onScroll,u=>{const h=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&d){const x=Math.abs(c.current-h.scrollTop);if(x>0){const b=window.innerHeight-wr*2,y=parseFloat(d.style.minHeight),w=parseFloat(d.style.height),p=Math.max(y,w);if(p<b){const g=p+x,v=Math.min(b,g),j=g-v;d.style.height=v+"px",d.style.bottom==="0px"&&(h.scrollTop=j>0?j:0,d.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});KN.displayName=_f;var GN="SelectGroup",[sL,oL]=_a(GN),aL=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=Yr();return s.jsx(sL,{scope:r,id:o,children:s.jsx(ae.div,{role:"group","aria-labelledby":o,...n,ref:t})})});aL.displayName=GN;var YN="SelectLabel",QN=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=oL(YN,r);return s.jsx(ae.div,{id:o.id,...n,ref:t})});QN.displayName=YN;var Kc="SelectItem",[iL,JN]=_a(Kc),XN=f.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:o=!1,textValue:a,...i}=e,l=ps(Kc,r),c=gs(Kc,r),u=l.value===n,[h,d]=f.useState(a??""),[m,x]=f.useState(!1),b=ye(t,g=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,g,n,o)}),y=Yr(),w=f.useRef("touch"),p=()=>{o||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(iL,{scope:r,value:n,disabled:o,textId:y,isSelected:u,onItemTextChange:f.useCallback(g=>{d(v=>v||((g==null?void 0:g.textContent)??"").trim())},[]),children:s.jsx(Gu.ItemSlot,{scope:r,value:n,disabled:o,textValue:h,children:s.jsx(ae.div,{role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...i,ref:b,onFocus:Q(i.onFocus,()=>x(!0)),onBlur:Q(i.onBlur,()=>x(!1)),onClick:Q(i.onClick,()=>{w.current!=="mouse"&&p()}),onPointerUp:Q(i.onPointerUp,()=>{w.current==="mouse"&&p()}),onPointerDown:Q(i.onPointerDown,g=>{w.current=g.pointerType}),onPointerMove:Q(i.onPointerMove,g=>{var v;w.current=g.pointerType,o?(v=c.onItemLeave)==null||v.call(c):w.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Q(i.onPointerLeave,g=>{var v;g.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:Q(i.onKeyDown,g=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&g.key===" "||(q5.includes(g.key)&&p(),g.key===" "&&g.preventDefault())})})})})});XN.displayName=Kc;var Ga="SelectItemText",ZN=f.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,...a}=e,i=ps(Ga,r),l=gs(Ga,r),c=JN(Ga,r),u=Q5(Ga,r),[h,d]=f.useState(null),m=ye(t,p=>d(p),c.onItemTextChange,p=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,p,c.value,c.disabled)}),x=h==null?void 0:h.textContent,b=f.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:x},c.value),[c.disabled,c.value,x]),{onNativeOptionAdd:y,onNativeOptionRemove:w}=u;return lt(()=>(y(b),()=>w(b)),[y,w,b]),s.jsxs(s.Fragment,{children:[s.jsx(ae.span,{id:c.textId,...a,ref:m}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?eo.createPortal(a.children,i.valueNode):null]})});ZN.displayName=Ga;var eS="SelectItemIndicator",tS=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return JN(eS,r).isSelected?s.jsx(ae.span,{"aria-hidden":!0,...n,ref:t}):null});tS.displayName=eS;var Cf="SelectScrollUpButton",rS=f.forwardRef((e,t)=>{const r=gs(Cf,e.__scopeSelect),n=Tp(Cf,e.__scopeSelect),[o,a]=f.useState(!1),i=ye(t,n.onScrollButtonChange);return lt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),o?s.jsx(sS,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});rS.displayName=Cf;var kf="SelectScrollDownButton",nS=f.forwardRef((e,t)=>{const r=gs(kf,e.__scopeSelect),n=Tp(kf,e.__scopeSelect),[o,a]=f.useState(!1),i=ye(t,n.onScrollButtonChange);return lt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;a(h)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),o?s.jsx(sS,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});nS.displayName=kf;var sS=f.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...o}=e,a=gs("SelectScrollButton",r),i=f.useRef(null),l=Yu(r),c=f.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return f.useEffect(()=>()=>c(),[c]),lt(()=>{var h;const u=l().find(d=>d.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),s.jsx(ae.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:Q(o.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:Q(o.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:Q(o.onPointerLeave,()=>{c()})})}),lL="SelectSeparator",oS=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(ae.div,{"aria-hidden":!0,...n,ref:t})});oS.displayName=lL;var Ef="SelectArrow",cL=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=Qu(r),a=ps(Ef,r),i=gs(Ef,r);return a.open&&i.position==="popper"?s.jsx(Wm,{...o,...n,ref:t}):null});cL.displayName=Ef;var uL="SelectBubbleInput",aS=f.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const o=f.useRef(null),a=ye(n,o),i=Cp(t);return f.useEffect(()=>{const l=o.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&h){const d=new Event("change",{bubbles:!0});h.call(l,t),l.dispatchEvent(d)}},[i,t]),s.jsx(ae.select,{...r,style:{...Yw,...r.style},ref:a,defaultValue:t})});aS.displayName=uL;function iS(e){return e===""||e===void 0}function lS(e){const t=qe(e),r=f.useRef(""),n=f.useRef(0),o=f.useCallback(i=>{const l=r.current+i;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=f.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,o,a]}function cS(e,t,r){const o=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=dL(e,Math.max(a,0));o.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(o.toLowerCase()));return c!==r?c:void 0}function dL(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var hL=DN,uS=$N,fL=UN,mL=zN,pL=HN,dS=BN,gL=KN,hS=QN,fS=XN,yL=ZN,vL=tS,mS=rS,pS=nS,gS=oS;const vv=hL,xv=fL,Pf=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(uS,{ref:n,className:ie("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(mL,{asChild:!0,children:s.jsx(v0,{className:"h-4 w-4 opacity-50"})})]}));Pf.displayName=uS.displayName;const yS=f.forwardRef(({className:e,...t},r)=>s.jsx(mS,{ref:r,className:ie("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(aE,{className:"h-4 w-4"})}));yS.displayName=mS.displayName;const vS=f.forwardRef(({className:e,...t},r)=>s.jsx(pS,{ref:r,className:ie("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(v0,{className:"h-4 w-4"})}));vS.displayName=pS.displayName;const Tf=f.forwardRef(({className:e,children:t,position:r="popper",...n},o)=>s.jsx(pL,{children:s.jsxs(dS,{ref:o,className:ie("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(yS,{}),s.jsx(gL,{className:ie("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(vS,{})]})}));Tf.displayName=dS.displayName;const xL=f.forwardRef(({className:e,...t},r)=>s.jsx(hS,{ref:r,className:ie("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));xL.displayName=hS.displayName;const Rf=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(fS,{ref:n,className:ie("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(vL,{children:s.jsx(lr,{className:"h-4 w-4"})})}),s.jsx(yL,{children:t})]}));Rf.displayName=fS.displayName;const wL=f.forwardRef(({className:e,...t},r)=>s.jsx(gS,{ref:r,className:ie("-mx-1 my-1 h-px bg-muted",e),...t}));wL.displayName=gS.displayName;const bL=()=>{const{toast:e}=At(),[t,r]=f.useState("closure"),[n,o]=f.useState("romantic"),[a,i]=f.useState(""),[l,c]=f.useState([]),[u,h]=f.useState(!1),d=[{value:"closure",label:"Closure Messages"},{value:"no_contact",label:"No-Contact Replies"},{value:"boundary",label:"Boundary-Setting Texts"},{value:"miss_you_response",label:'"I Miss You" Responses'},{value:"apologetic",label:"Apologetic Messages"},{value:"rejection",label:"Rejection Messages"},{value:"reconciliation",label:"Reconciliation Attempts"},{value:"angry_response",label:"Angry/Upset Responses"},{value:"moving_on",label:"Moving On Messages"},{value:"check_in",label:"Check-In Messages"},{value:"birthday_holiday",label:"Birthday/Holiday Messages"},{value:"neutral_reply",label:"Neutral Responses"},{value:"custom",label:"Improve My Message"}],m=[{value:"romantic",label:"Ex-Partner"},{value:"boyfriend",label:"Boyfriend"},{value:"girlfriend",label:"Girlfriend"},{value:"dating",label:"Someone You Dated"},{value:"talking_stage",label:"Talking Stage"},{value:"friend",label:"Ex-Friend"},{value:"situationship",label:"Situationship"},{value:"fwb",label:"Friends with Benefits"},{value:"hookup",label:"Hookup/Casual"}],x=async()=>{if(t==="custom"&&!a.trim()){e({title:"Please enter your message",description:"Type the message you'd like help improving.",variant:"destructive"});return}h(!0);try{const{data:w,error:p}=await J.functions.invoke("suggest-text",{body:{messageType:t,relationship:n,userMessage:a.trim()}});if(p)throw p;c(w.suggestions),e({title:"Suggestions Generated",description:"Here are some thoughtful message options for you."})}catch(w){console.error("Generation error:",w),e({title:"Generation Failed",description:"There was an error generating suggestions. Please try again.",variant:"destructive"})}finally{h(!1)}},b=async w=>{try{await navigator.clipboard.writeText(w),e({title:"Copied to clipboard",description:"Message copied successfully!"})}catch{e({title:"Copy failed",description:"Unable to copy to clipboard.",variant:"destructive"})}},y=w=>{switch(w){case"gentle":return"bg-green-100 text-green-800 border-green-200";case"firm":return"bg-red-100 text-red-800 border-red-200";case"neutral":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(yu,{className:"w-5 h-5"}),"Text Suggestion Helper"]})}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Message Type"}),s.jsxs(vv,{value:t,onValueChange:r,children:[s.jsx(Pf,{children:s.jsx(xv,{})}),s.jsx(Tf,{children:d.map(w=>s.jsx(Rf,{value:w.value,children:w.label},w.value))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Relationship Type"}),s.jsxs(vv,{value:n,onValueChange:o,children:[s.jsx(Pf,{children:s.jsx(xv,{})}),s.jsx(Tf,{children:m.map(w=>s.jsx(Rf,{value:w.value,children:w.label},w.value))})]})]})]}),t==="custom"&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Your Message (to improve)"}),s.jsx(Nn,{placeholder:"Type the message you want help improving...",value:a,onChange:w=>i(w.target.value),rows:3})]}),s.jsx(H,{onClick:x,disabled:u,className:"w-full",children:u?s.jsxs(s.Fragment,{children:[s.jsx(pn,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating Suggestions..."]}):"Generate Message Suggestions"})]})]}),l.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Suggested Messages"}),l.map((w,p)=>s.jsxs(W,{children:[s.jsx(Z,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(je,{className:y(w.tone),children:[w.tone.charAt(0).toUpperCase()+w.tone.slice(1)," Tone"]}),s.jsxs(H,{variant:"outline",size:"sm",onClick:()=>b(w.message),children:[s.jsx(cE,{className:"w-4 h-4 mr-2"}),"Copy"]})]})}),s.jsx(Y,{children:s.jsxs("p",{className:"text-muted-foreground italic",children:['"',w.message,'"']})})]},p))]})]})},jL=()=>{var y,w;const{user:e,isPremium:t}=Te(),[r,n]=f.useState(null),[o,a]=f.useState([]),[i,l]=f.useState(!1),[c,u]=f.useState(!1),[h,d]=f.useState("current");f.useEffect(()=>{e&&t&&m()},[e,t]);const m=async()=>{if(e){l(!0);try{const g=await fetch(`https://heartlift-launch.emergent.host/api/insights/reports/${e.id}`);if(g.ok){const v=await g.json();v&&v.length>0&&(n(v[0]),a(v))}}catch(p){console.error("Error loading reports:",p)}finally{l(!1)}}},x=async()=>{if(e){u(!0);try{be.info("Analyzing your conversations and generating personalised insights...");const p="https://heartlift-launch.emergent.host",g=await fetch(`${p}/api/ai/insights`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e.id})});if(!g.ok){const N=await g.text();throw console.error("Backend error response:",N),new Error(`Failed to generate insights: ${g.statusText}`)}const v=await g.json();console.log("Received insights from backend:",v);const j=await fetch(`${p}/api/insights/save`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e.id,insights:v,conversation_count:v.conversationCount||0,mood_entries_analyzed:v.moodEntriesAnalyzed||0,attachment_style:v.attachmentStyle||"exploring",healing_progress_score:v.healingProgressScore||65,analysis_period_start:new Date(Date.now()-30*24*60*60*1e3).toISOString(),analysis_period_end:new Date().toISOString()})});if(j.ok){const N=await j.json();console.log("Report saved successfully:",N),n(N),await m(),be.success("Your personalised insights are ready and saved!")}else{console.error("Failed to save report");const N={id:`temp-${Date.now()}`,report_type:"comprehensive",insights:v,conversation_count:v.conversationCount||0,mood_entries_analyzed:v.moodEntriesAnalyzed||0,attachment_style:v.attachmentStyle||"exploring",healing_progress_score:v.healingProgressScore||65,analysis_period_start:new Date(Date.now()-30*24*60*60*1e3).toISOString(),analysis_period_end:new Date().toISOString(),created_at:new Date().toISOString()};n(N),be.success("Your personalised insights are ready!")}}catch(p){console.error("Error generating insights:",p),be.error(`Failed to generate insights: ${p instanceof Error?p.message:"Unknown error"}`)}finally{u(!1)}}},b=p=>{var S,_,C,A,E,z;const g=`
Personal Relationship Insights Report
Generated: ${new Date(p.created_at).toLocaleDateString()}
Analysis Period: ${new Date(p.analysis_period_start).toLocaleDateString()} - ${new Date(p.analysis_period_end).toLocaleDateString()}

ATTACHMENT STYLE: ${p.attachment_style}
HEALING PROGRESS: ${p.healing_progress_score}%

DATA ANALYSED:
 ${p.conversation_count} conversations
 ${p.mood_entries_analysed} mood tracking entries

INSIGHTS SUMMARY:

COMMUNICATION STYLE: ${p.insights.communicationStyle||"Not analysed"}

KEY INSIGHTS:
Strengths:
${(((S=p.insights.keyInsights)==null?void 0:S.strengths)||[]).map(I=>` ${I}`).join(`
`)}

Areas for Growth:
${(((_=p.insights.keyInsights)==null?void 0:_.areasForGrowth)||[]).map(I=>` ${I}`).join(`
`)}

Progress Signs:
${(((C=p.insights.keyInsights)==null?void 0:C.progressSigns)||[]).map(I=>` ${I}`).join(`
`)}

MOOD TRENDS:
Pattern: ${((A=p.insights.moodTrends)==null?void 0:A.pattern)||"Not analysed"}
Triggers: ${(((E=p.insights.moodTrends)==null?void 0:E.triggers)||[]).join(", ")}
Improvements: ${(((z=p.insights.moodTrends)==null?void 0:z.improvements)||[]).join(", ")}

PERSONALISED RECOMMENDATIONS:
${(p.insights.personalisedRecommendations||[]).map(I=>`${I.category}: ${I.recommendation}
Why: ${I.why}
`).join(`
`)}

NEXT STEPS:
${(p.insights.nextSteps||[]).map(I=>` ${I}`).join(`
`)}

This report was generated by AI analysis of your conversations with HeartLift coaches and mood tracking data.
    `,v=new Blob([g],{type:"text/plain"}),j=URL.createObjectURL(v),N=document.createElement("a");N.href=j,N.download=`heartlift-insights-${new Date(p.created_at).toISOString().split("T")[0]}.txt`,document.body.appendChild(N),N.click(),document.body.removeChild(N),URL.revokeObjectURL(j),be.success("Report downloaded!")};return t?s.jsx("div",{className:"space-y-4 sm:space-y-6 px-4 sm:px-0",children:s.jsxs(W,{children:[s.jsxs(Z,{className:"p-4 sm:p-6",children:[s.jsxs(ee,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[s.jsx(Wr,{className:"w-5 h-5 text-primary"}),"Personalised Insights & Reports"]}),s.jsx(ze,{className:"text-sm sm:text-base",children:"AI-powered analysis of your relationship patterns and emotional growth"})]}),s.jsxs(Y,{className:"p-4 sm:p-6 pt-0",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 mb-4 sm:mb-6",children:[s.jsxs(H,{onClick:x,disabled:c,className:"flex items-center justify-center gap-2 w-full sm:w-auto",size:"lg",children:[s.jsx(qs,{className:`w-4 h-4 ${c?"animate-spin":""}`}),c?"Generating...":"Generate New Insights"]}),r&&s.jsxs(H,{variant:"outline",onClick:()=>b(r),className:"flex items-center justify-center gap-2 w-full sm:w-auto",size:"lg",children:[s.jsx(Ec,{className:"w-4 h-4"}),"Download Report"]})]}),i&&s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(qs,{className:"w-6 h-6 animate-spin text-primary"})}),s.jsxs(vp,{value:h,onValueChange:d,className:"w-full",children:[s.jsxs(Hu,{className:"grid w-full grid-cols-2",children:[s.jsx(hn,{value:"current",children:"Current Report"}),s.jsx(hn,{value:"history",children:"Report History"})]}),s.jsx(fn,{value:"current",className:"space-y-4",children:r&&!i?s.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[s.jsxs(W,{children:[s.jsx(Z,{className:"pb-3 p-4 sm:p-6",children:s.jsxs(ee,{className:"text-base sm:text-lg flex items-center gap-2",children:[s.jsx(fe,{className:"w-4 h-4 text-pink-500"}),"Attachment Style"]})}),s.jsx(Y,{className:"p-4 sm:p-6 pt-0",children:s.jsx("p",{className:"font-medium text-primary text-sm sm:text-base",children:r.attachment_style})})]}),s.jsxs(W,{children:[s.jsx(Z,{className:"pb-3 p-4 sm:p-6",children:s.jsxs(ee,{className:"text-base sm:text-lg flex items-center gap-2",children:[s.jsx(oa,{className:"w-4 h-4 text-green-500"}),"Healing Progress"]})}),s.jsx(Y,{className:"p-4 sm:p-6 pt-0",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex-1 bg-secondary rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-primary to-primary-glow h-2 rounded-full transition-all duration-500",style:{width:`${r.healing_progress_score}%`}})}),s.jsxs("span",{className:"font-medium text-sm sm:text-base",children:[r.healing_progress_score,"%"]})]})})]}),s.jsxs(W,{className:"lg:col-span-2 bg-gradient-to-br from-primary/5 via-primary/3 to-background border-primary/20",children:[s.jsx(Z,{className:"pb-3 p-4 sm:p-6",children:s.jsxs(ee,{className:"text-base sm:text-lg flex items-center gap-2",children:[s.jsx(Wr,{className:"w-4 h-4 text-purple-500"}),"Analysis Details"]})}),s.jsx(Y,{className:"p-4 sm:p-6 pt-0",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex flex-col items-center p-4 rounded-xl bg-background/50 backdrop-blur-sm border",children:[s.jsx(ft,{className:"w-6 h-6 text-primary mb-2"}),s.jsx("span",{className:"text-2xl font-bold text-primary",children:r.conversation_count}),s.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:"Conversations Analysed"})]}),s.jsxs("div",{className:"flex flex-col items-center p-4 rounded-xl bg-background/50 backdrop-blur-sm border",children:[s.jsx(fe,{className:"w-6 h-6 text-pink-500 mb-2"}),s.jsx("span",{className:"text-2xl font-bold text-pink-500",children:r.mood_entries_analyzed}),s.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:"Mood Entries"})]})]})})]}),s.jsxs(W,{className:"lg:col-span-2",children:[s.jsx(Z,{className:"pb-3 p-4 sm:p-6",children:s.jsx(ee,{className:"text-base sm:text-lg",children:"Emotional Patterns"})}),s.jsx(Y,{className:"p-4 sm:p-6 pt-0",children:s.jsx("ul",{className:"space-y-2 sm:space-y-3",children:(r.insights.emotionalPatterns||[]).map((p,g)=>s.jsxs("li",{className:"flex items-start gap-3 p-2 rounded-lg bg-muted/30",children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-primary rounded-full mt-2 flex-shrink-0"}),s.jsx("span",{className:"text-sm sm:text-base leading-relaxed",children:p})]},g))})})]}),s.jsxs(W,{className:"lg:col-span-2",children:[s.jsx(Z,{className:"pb-3 p-4 sm:p-6",children:s.jsx(ee,{className:"text-base sm:text-lg",children:"Key Insights"})}),s.jsxs(Y,{className:"space-y-4 p-4 sm:p-6 pt-0",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2 text-green-600 text-sm sm:text-base",children:"Strengths"}),s.jsx("ul",{className:"space-y-2",children:(((y=r.insights.keyInsights)==null?void 0:y.strengths)||[]).map((p,g)=>s.jsxs("li",{className:"text-sm sm:text-base p-2 rounded-lg bg-green-50 flex items-start gap-2",children:[s.jsx(sa,{className:"w-3 h-3 sm:w-4 sm:h-4 mt-0.5 text-green-500 flex-shrink-0"}),s.jsx("span",{className:"leading-relaxed",children:p})]},g))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2 text-orange-600 text-sm sm:text-base",children:"Areas for Growth"}),s.jsx("ul",{className:"space-y-2",children:(((w=r.insights.keyInsights)==null?void 0:w.areasForGrowth)||[]).map((p,g)=>s.jsxs("li",{className:"text-sm sm:text-base p-2 rounded-lg bg-orange-50 flex items-start gap-2",children:[s.jsx(kt,{className:"w-3 h-3 sm:w-4 sm:h-4 mt-0.5 text-orange-500 flex-shrink-0"}),s.jsx("span",{className:"leading-relaxed",children:p})]},g))})]})]})]}),s.jsxs(W,{className:"lg:col-span-2",children:[s.jsx(Z,{className:"pb-3 p-4 sm:p-6",children:s.jsx(ee,{className:"text-base sm:text-lg",children:"Personalised Recommendations"})}),s.jsx(Y,{className:"p-4 sm:p-6 pt-0",children:s.jsx("div",{className:"space-y-3 sm:space-y-4",children:(r.insights.personalizedRecommendations||r.insights.personalisedRecommendations||[]).map((p,g)=>s.jsxs("div",{className:"border rounded-lg p-3 sm:p-4 bg-muted/20",children:[s.jsx("div",{className:"flex items-center gap-2 mb-2",children:s.jsx(je,{variant:"outline",className:"text-xs sm:text-sm",children:p.category})}),s.jsx("p",{className:"font-medium mb-2 text-sm sm:text-base leading-relaxed",children:p.recommendation}),s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground leading-relaxed",children:p.why})]},g))})})]}),s.jsxs(W,{className:"lg:col-span-2",children:[s.jsx(Z,{className:"pb-3 p-4 sm:p-6",children:s.jsxs(ee,{className:"text-base sm:text-lg flex items-center gap-2",children:[s.jsx(ft,{className:"w-4 h-4 text-blue-500"}),"Analysis Details"]})}),s.jsx(Y,{className:"p-4 sm:p-6 pt-0",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm sm:text-base",children:[s.jsxs("div",{className:"p-3 rounded-lg bg-muted/30 text-center sm:text-left",children:[s.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"Conversations Analysed"}),s.jsx("p",{className:"font-medium text-lg sm:text-xl",children:r.conversation_count})]}),s.jsxs("div",{className:"p-3 rounded-lg bg-muted/30 text-center sm:text-left",children:[s.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"Mood Entries"}),s.jsx("p",{className:"font-medium text-lg sm:text-xl",children:r.mood_entries_analysed})]}),s.jsxs("div",{className:"p-3 rounded-lg bg-muted/30 text-center sm:text-left",children:[s.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"Generated"}),s.jsx("p",{className:"font-medium text-lg sm:text-xl",children:new Date(r.created_at).toLocaleDateString()})]})]})})]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Wr,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:'No insights generated yet. Click "Generate New Insights" to create your personalised report based on your conversations with coaches.'})]})}),s.jsx(fn,{value:"history",className:"space-y-4",children:o&&o.length>0?s.jsx("div",{className:"space-y-4",children:o.map(p=>s.jsx(W,{className:"bg-gradient-to-br from-primary/5 to-background hover:shadow-lg transition-shadow border-primary/10",children:s.jsx(Z,{className:"pb-3",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-start justify-between gap-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs(ee,{className:"text-lg flex items-center gap-2",children:[s.jsx(Wr,{className:"w-5 h-5 text-primary"}),"Report from ",new Date(p.created_at).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]}),s.jsxs(ze,{className:"flex flex-wrap items-center gap-3 mt-3",children:[s.jsxs("span",{className:"flex items-center gap-1.5 px-2 py-1 bg-background/50 rounded-lg",children:[s.jsx(Lo,{className:"w-3 h-3 text-blue-500"}),s.jsxs("span",{className:"text-xs",children:[p.conversation_count," chats"]})]}),s.jsxs("span",{className:"flex items-center gap-1.5 px-2 py-1 bg-background/50 rounded-lg",children:[s.jsx(fe,{className:"w-3 h-3 text-pink-500"}),s.jsxs("span",{className:"text-xs",children:[p.mood_entries_analyzed," moods"]})]}),s.jsx(je,{variant:"outline",className:"capitalize",children:p.attachment_style})]})]})}),s.jsxs("div",{className:"space-y-3 p-3 bg-background/30 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(oa,{className:"w-4 h-4 text-green-500"}),s.jsxs("span",{className:"text-sm font-medium",children:["Progress: ",p.healing_progress_score,"%"]})]}),s.jsxs("div",{className:"flex gap-2 w-full",children:[s.jsxs(H,{variant:"outline",size:"sm",onClick:()=>b(p),className:"h-9 flex-1",children:[s.jsx(Ec,{className:"w-3 h-3 mr-1.5"}),"Download"]}),s.jsx(H,{variant:"default",size:"sm",onClick:()=>{n(p),d("current")},className:"h-9 flex-1",children:"View Details"})]})]})]})})},p.id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ft,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No report history available."})]})})]})]})]})}):s.jsxs(W,{children:[s.jsxs(Z,{children:[s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Wr,{className:"w-5 h-5"}),"Personalised Insights & Reports"]}),s.jsx(ze,{children:"Unlock deep analysis of your relationship patterns and emotional growth"})]}),s.jsxs(Y,{children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"Premium feature - Get personalised insights based on your conversations and mood data."}),s.jsx(H,{variant:"warm",onClick:()=>{const p=window.location.pathname+window.location.search;window.location.href=`/premium-purchase?from=${encodeURIComponent(p)}`},children:"Upgrade to Premium"})]})]})};function NL(){const{user:e}=Te(),[t,r]=f.useState(""),[n,o]=f.useState(!1),[a,i]=f.useState(null),[l,c]=f.useState([]),[u,h]=f.useState(!1),[d,m]=f.useState(0),[x,b]=f.useState(!1),[y,w]=f.useState(!0);f.useEffect(()=>{e!=null&&e.id&&p()},[e==null?void 0:e.id]);const p=async()=>{if(e!=null&&e.id)try{const E=new Date;E.setHours(0,0,0,0);const{count:z}=await J.from("heart_visions").select("*",{count:"exact",head:!0}).eq("user_id",e.id).gte("created_at",E.toISOString());m(z||0)}catch(E){console.error("Error loading daily count:",E)}},g=async(E=!1)=>{if(e!=null&&e.id)try{b(!0);const z=E?l.length:0,I=6,{data:L,error:T}=await J.from("heart_visions").select("id, image_url, caption, prompt, created_at").eq("user_id",e.id).order("created_at",{ascending:!1}).range(z,z+I-1);if(T){console.error("Error loading gallery:",T);return}if(L){const B=L.map(M=>({id:M.id,url:M.image_url,caption:M.caption||"",prompt:M.prompt,timestamp:new Date(M.created_at).getTime()}));c(E?M=>[...M,...B]:B),w(L.length===I)}}catch(z){console.error("Error loading gallery:",z)}finally{b(!1)}},v=()=>{var E;return(E=e==null?void 0:e.user_metadata)!=null&&E.full_name?e.user_metadata.full_name.split(" ")[0]:"friend"},j=async()=>{if(!t.trim()){be.error("Please enter what you'd like to visualise");return}if(d>=2){be.error("You've reached your daily limit of 2 images. Come back tomorrow to create more!");return}o(!0),i(null);try{const z=await fetch("https://heartlift-launch.emergent.host/api/ai/heart-vision",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:t.trim(),user_name:v()})});if(!z.ok){const T=await z.json().catch(()=>({}));throw new Error(T.detail||`Failed to generate image: ${z.statusText}`)}const I=await z.json();if(!(I!=null&&I.image_base64))throw new Error("No image data in response");const L=`data:image/png;base64,${I.image_base64}`;i({url:L,caption:I.caption}),m(T=>T+1),be.success("Your vision has been created!")}catch(E){console.error("Error generating image:",E),be.error(E instanceof Error?E.message:"Unable to generate your vision. Please try again.")}finally{o(!1)}},N=[`Here's what that feeling might look like, ${v()}.`,"This image reflects your intention beautifully.","Take a moment with this  does it capture your emotion?",`Beautiful, ${v()}. Let this vision guide your heart.`,"Your feelings, visualised. What do you notice?"],S=()=>N[Math.floor(Math.random()*N.length)],_=async()=>{if(!a||!t||!(e!=null&&e.id))return;const{data:E,error:z}=await J.from("heart_visions").insert({user_id:e.id,image_url:a.url,prompt:t,caption:a.caption}).select().single();if(z){console.error("Error saving vision:",z),be.error("Failed to save vision");return}if(E){const I={id:E.id,url:E.image_url,caption:E.caption,prompt:E.prompt,timestamp:new Date(E.created_at).getTime()};c([I,...l]),be.success("Vision saved to gallery!")}},C=async E=>{const{error:z}=await J.from("heart_visions").delete().eq("id",E);if(z){console.error("Error deleting vision:",z),be.error("Failed to remove vision");return}c(l.filter(I=>I.id!==E)),be.success("Vision removed from gallery")},A=()=>{r(""),i(null)};return s.jsxs(W,{children:[s.jsx(Z,{className:"space-y-4 pb-4",children:s.jsxs("div",{className:"flex items-start gap-3 sm:items-center",children:[s.jsx("div",{className:"p-2 rounded-full bg-gradient-to-r from-primary to-primary-glow shrink-0",children:s.jsx(Zl,{className:"w-5 h-5 text-primary-foreground"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ee,{className:"text-xl sm:text-2xl",children:"HeartVisions"}),s.jsxs(ze,{className:"text-sm sm:text-base leading-relaxed",children:["Create your own emotional visuals. Type what you'd like to see, and HeartVisions will generate a personalised image that captures your feelings or intentions.",s.jsxs("span",{className:"block mt-2 text-xs font-medium",children:["You get 2 images per day  ",d,"/2 used today"]})]})]})]})}),s.jsxs(Y,{className:"space-y-6",children:[s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsxs(H,{onClick:()=>h(!1),variant:u?"outline":"default",size:"sm",children:[s.jsx(Zl,{className:"w-4 h-4 mr-2"}),"Create"]}),s.jsxs(H,{onClick:()=>{h(!0),g()},variant:u?"default":"outline",size:"sm",children:[s.jsx(Zg,{className:"w-4 h-4 mr-2"}),"Gallery"]})]}),u?s.jsxs("div",{className:"space-y-4",children:[l.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(Zg,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:"No saved visions yet"}),s.jsx("p",{className:"text-sm",children:"Create and save your first vision to see it here"})]}):s.jsx("div",{className:"grid gap-4",children:l.map(E=>s.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-start gap-2",children:[s.jsxs("p",{className:"text-sm text-muted-foreground italic flex-1",children:['"',E.prompt,'"']}),s.jsx(H,{onClick:()=>C(E.id),variant:"ghost",size:"sm",className:"shrink-0",children:"Remove"})]}),s.jsx("div",{className:"rounded-lg overflow-hidden border shadow-lg",children:s.jsx("img",{src:E.url,alt:E.prompt,className:"w-full h-auto"})}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("p",{className:"text-xs text-muted-foreground",children:[new Date(E.timestamp).toLocaleDateString()," at"," ",new Date(E.timestamp).toLocaleTimeString()]}),s.jsxs(H,{onClick:async()=>{try{if("Capacitor"in window){const{Filesystem:z,Directory:I}=await Gs(async()=>{const{Filesystem:P,Directory:F}=await import("./index-CiQpQRuu.js");return{Filesystem:P,Directory:F}},__vite__mapDeps([0,1])),{Share:L}=await Gs(async()=>{const{Share:P}=await import("./index-DeQv1Xs9.js");return{Share:P}},__vite__mapDeps([2,1])),B=await(await fetch(E.url)).blob(),M=await new Promise(P=>{const F=new FileReader;F.onloadend=()=>P(F.result),F.readAsDataURL(B)}),O=`heartvision-${new Date(E.timestamp).getTime()}.png`,k=await z.writeFile({path:O,data:M,directory:I.Cache});await L.share({title:"Save HeartVision",text:"Save this image to your photos",url:k.uri,dialogTitle:"Save to Photos"}),be({title:"Image ready!",description:"Tap 'Save Image' to add to your photos"})}else{const I=await(await fetch(E.url)).blob(),L=window.URL.createObjectURL(I),T=document.createElement("a");T.href=L,T.download=`heartvision-${new Date(E.timestamp).getTime()}.png`,document.body.appendChild(T),T.click(),document.body.removeChild(T),window.URL.revokeObjectURL(L),be({title:"Downloaded!",description:"Image saved to downloads"})}}catch(z){console.error("Download error:",z),be({title:"Download failed",description:"Please try again",variant:"destructive"})}},variant:"outline",size:"sm",className:"gap-2",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),s.jsx("polyline",{points:"7 10 12 15 17 10"}),s.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Download"]})]})]},E.id))}),l.length>0&&y&&s.jsx("div",{className:"flex justify-center mt-6",children:s.jsx(H,{onClick:()=>g(!0),disabled:x,variant:"outline",className:"w-full max-w-xs",children:x?"Loading...":"Load More Images"})})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{htmlFor:"vision-prompt",className:"text-sm font-medium block",children:"What would you like to visualise today?"}),s.jsx(Nn,{id:"vision-prompt",placeholder:"a peaceful sunrise over calm water",value:t,onChange:E=>r(E.target.value),className:"min-h-[100px] resize-none",disabled:n})]}),s.jsx(H,{onClick:j,disabled:n||!t.trim(),className:"w-full",size:"lg",children:n?s.jsxs(s.Fragment,{children:[s.jsx(pn,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating your vision..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Zl,{className:"w-4 h-4 mr-2"}),"Generate Vision"]})})]}),n&&s.jsx("div",{className:"space-y-4 animate-in fade-in duration-500",children:s.jsxs("div",{className:"p-8 rounded-lg bg-muted/50 border text-center",children:[s.jsx(pn,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-primary"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:"Generating your image"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Creating a visual that captures your feelings..."})]})}),a&&!n&&s.jsxs("div",{className:"space-y-4 animate-in fade-in duration-500",children:[s.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border",children:[s.jsx("p",{className:"text-sm text-muted-foreground italic mb-3",children:a.caption||S()}),s.jsx("div",{className:"rounded-lg overflow-hidden border shadow-lg",children:s.jsx("img",{src:a.url,alt:"Your emotional vision",className:"w-full h-auto"})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs(H,{onClick:_,variant:"outline",className:"flex-1",size:"lg",children:[s.jsx(fe,{className:"w-4 h-4 mr-2"}),"Save to Gallery"]}),s.jsxs(H,{onClick:A,variant:"default",className:"flex-1",size:"lg",children:[s.jsx(qs,{className:"w-4 h-4 mr-2"}),"Generate Another"]})]})]})]})]})]})}function SL(){const{user:e,isPremium:t}=Te(),r=tt(),[n,o]=f.useState("quiz");return e?t?s.jsx("div",{className:"min-h-screen bg-gradient-subtle",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("div",{className:"mt-4 mb-8",children:s.jsxs(H,{variant:"outline",onClick:()=>r("/?tab=coaches",{replace:!0}),className:"flex items-center gap-2",children:[s.jsx(Ir,{className:"w-4 h-4"}),"Coaches"]})}),s.jsx(W,{className:"mb-8 overflow-hidden border-2 shadow-xl",children:s.jsxs("div",{className:"bg-gradient-to-br from-primary/10 via-primary/5 to-background p-8 text-center space-y-6",children:[s.jsx("div",{className:"flex items-center justify-center gap-2",children:s.jsx("div",{className:"p-4 rounded-2xl bg-gradient-to-r from-primary to-primary-glow shadow-2xl animate-pulse",children:s.jsx(Me,{className:"w-12 h-12 text-primary-foreground"})})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx("h1",{className:"text-4xl sm:text-5xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"Advanced Tools"}),s.jsx(je,{variant:"default",className:"bg-gradient-to-r from-primary to-primary-glow text-primary-foreground px-4 py-1 text-sm",children:"Premium"})]}),s.jsx("p",{className:"text-xl font-semibold text-foreground",children:"Unlock deeper insights into your relationship patterns"})]}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"Discover your attachment style, analyse conversations, get personalised text suggestions, and access guided programs designed to help you build healthier, more fulfilling relationships."})]})}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 mb-8",children:[s.jsxs(H,{variant:n==="quiz"?"default":"outline",onClick:()=>o("quiz"),className:"h-auto py-4 flex flex-col items-center gap-2 hover:scale-105 transition-transform",children:[s.jsx(fe,{className:"w-6 h-6"}),s.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Attachment Quiz"})]}),s.jsxs(H,{variant:n==="analyser"?"default":"outline",onClick:()=>o("analyser"),className:"h-auto py-4 flex flex-col items-center gap-2 hover:scale-105 transition-transform",children:[s.jsx(Jr,{className:"w-6 h-6"}),s.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Conversation Analyser"})]}),s.jsxs(H,{variant:n==="suggestions"?"default":"outline",onClick:()=>o("suggestions"),className:"h-auto py-4 flex flex-col items-center gap-2 hover:scale-105 transition-transform",children:[s.jsx(Xl,{className:"w-6 h-6"}),s.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Text Helper"})]}),s.jsxs(H,{variant:n==="insights"?"default":"outline",onClick:()=>o("insights"),className:"h-auto py-4 flex flex-col items-center gap-2 hover:scale-105 transition-transform",children:[s.jsx(Wr,{className:"w-6 h-6"}),s.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Insights & Reports"})]}),s.jsxs(H,{variant:n==="programs"?"default":"outline",onClick:()=>o("programs"),className:"h-auto py-4 flex flex-col items-center gap-2 hover:scale-105 transition-transform",children:[s.jsx(ar,{className:"w-6 h-6"}),s.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Guided Programs"})]}),s.jsxs(H,{variant:n==="heartvisions"?"default":"outline",onClick:()=>o("heartvisions"),className:"h-auto py-4 flex flex-col items-center gap-2 hover:scale-105 transition-transform",children:[s.jsx(Zl,{className:"w-6 h-6"}),s.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"HeartVisions"})]})]}),s.jsxs("div",{className:"max-w-4xl mx-auto",children:[n==="quiz"&&s.jsx(H5,{}),n==="analyser"&&s.jsx(W5,{}),n==="suggestions"&&s.jsx(bL,{}),n==="insights"&&s.jsx(jL,{}),n==="programs"&&s.jsx(B5,{}),n==="heartvisions"&&s.jsx(NL,{})]})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-subtle flex items-center justify-center p-4",children:s.jsxs(W,{className:"p-8 text-center max-w-md mx-auto",children:[s.jsx(Me,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Premium Required"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Upgrade to premium to access advanced psychological tools and insights."}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(H,{variant:"outline",onClick:()=>window.location.href="/",children:"Return to Home"}),s.jsx(H,{variant:"warm",onClick:()=>{const a=window.location.pathname+window.location.search;window.location.href=`/premium-purchase?from=${encodeURIComponent(a)}`},children:"Upgrade to Premium"})]})]})}):s.jsx(Cb,{to:"/auth",replace:!0})}const _L=Ki("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ju=f.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:ie(_L({variant:t}),e),...r}));Ju.displayName="Alert";const CL=f.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:ie("mb-1 font-medium leading-none tracking-tight",e),...t}));CL.displayName="AlertTitle";const Xu=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ie("text-sm [&_p]:leading-relaxed",e),...t}));Xu.displayName="AlertDescription";var kL=Object.defineProperty,EL=Object.defineProperties,PL=Object.getOwnPropertyDescriptors,Gc=Object.getOwnPropertySymbols,xS=Object.prototype.hasOwnProperty,wS=Object.prototype.propertyIsEnumerable,wv=(e,t,r)=>t in e?kL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,TL=(e,t)=>{for(var r in t||(t={}))xS.call(t,r)&&wv(e,r,t[r]);if(Gc)for(var r of Gc(t))wS.call(t,r)&&wv(e,r,t[r]);return e},RL=(e,t)=>EL(e,PL(t)),AL=(e,t)=>{var r={};for(var n in e)xS.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Gc)for(var n of Gc(e))t.indexOf(n)<0&&wS.call(e,n)&&(r[n]=e[n]);return r};function IL(e){let t=setTimeout(e,0),r=setTimeout(e,10),n=setTimeout(e,50);return[t,r,n]}function OL(e){let t=f.useRef();return f.useEffect(()=>{t.current=e}),t.current}var ML=18,bS=40,DL=`${bS}px`,LL=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function $L({containerRef:e,inputRef:t,pushPasswordManagerStrategy:r,isFocused:n}){let[o,a]=f.useState(!1),[i,l]=f.useState(!1),[c,u]=f.useState(!1),h=f.useMemo(()=>r==="none"?!1:(r==="increase-width"||r==="experimental-no-flickering")&&o&&i,[o,i,r]),d=f.useCallback(()=>{let m=e.current,x=t.current;if(!m||!x||c||r==="none")return;let b=m,y=b.getBoundingClientRect().left+b.offsetWidth,w=b.getBoundingClientRect().top+b.offsetHeight/2,p=y-ML,g=w;document.querySelectorAll(LL).length===0&&document.elementFromPoint(p,g)===m||(a(!0),u(!0))},[e,t,c,r]);return f.useEffect(()=>{let m=e.current;if(!m||r==="none")return;function x(){let y=window.innerWidth-m.getBoundingClientRect().right;l(y>=bS)}x();let b=setInterval(x,1e3);return()=>{clearInterval(b)}},[e,r]),f.useEffect(()=>{let m=n||document.activeElement===t.current;if(r==="none"||!m)return;let x=setTimeout(d,0),b=setTimeout(d,2e3),y=setTimeout(d,5e3),w=setTimeout(()=>{u(!0)},6e3);return()=>{clearTimeout(x),clearTimeout(b),clearTimeout(y),clearTimeout(w)}},[t,n,r,d]),{hasPWMBadge:o,willPushPWMBadge:h,PWM_BADGE_SPACE_WIDTH:DL}}var jS=f.createContext({}),NS=f.forwardRef((e,t)=>{var r=e,{value:n,onChange:o,maxLength:a,textAlign:i="left",pattern:l,placeholder:c,inputMode:u="numeric",onComplete:h,pushPasswordManagerStrategy:d="increase-width",pasteTransformer:m,containerClassName:x,noScriptCSSFallback:b=FL,render:y,children:w}=r,p=AL(r,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),g,v,j,N,S;let[_,C]=f.useState(typeof p.defaultValue=="string"?p.defaultValue:""),A=n??_,E=OL(A),z=f.useCallback(ne=>{o==null||o(ne),C(ne)},[o]),I=f.useMemo(()=>l?typeof l=="string"?new RegExp(l):l:null,[l]),L=f.useRef(null),T=f.useRef(null),B=f.useRef({value:A,onChange:z,isIOS:typeof window<"u"&&((v=(g=window==null?void 0:window.CSS)==null?void 0:g.supports)==null?void 0:v.call(g,"-webkit-touch-callout","none"))}),M=f.useRef({prev:[(j=L.current)==null?void 0:j.selectionStart,(N=L.current)==null?void 0:N.selectionEnd,(S=L.current)==null?void 0:S.selectionDirection]});f.useImperativeHandle(t,()=>L.current,[]),f.useEffect(()=>{let ne=L.current,ce=T.current;if(!ne||!ce)return;B.current.value!==ne.value&&B.current.onChange(ne.value),M.current.prev=[ne.selectionStart,ne.selectionEnd,ne.selectionDirection];function Ce(){if(document.activeElement!==ne){V(null),X(null);return}let we=ne.selectionStart,Nt=ne.selectionEnd,so=ne.selectionDirection,Ae=ne.maxLength,Mt=ne.value,pr=M.current.prev,Mr=-1,Wt=-1,tn;if(Mt.length!==0&&we!==null&&Nt!==null){let nl=we===Nt,Cn=we===Mt.length&&Mt.length<Ae;if(nl&&!Cn){let rn=we;if(rn===0)Mr=0,Wt=1,tn="forward";else if(rn===Ae)Mr=rn-1,Wt=rn,tn="backward";else if(Ae>1&&Mt.length>1){let ka=0;if(pr[0]!==null&&pr[1]!==null){tn=rn<pr[1]?"backward":"forward";let sl=pr[0]===pr[1]&&pr[0]<Ae;tn==="backward"&&!sl&&(ka=-1)}Mr=ka+rn,Wt=ka+rn+1}}Mr!==-1&&Wt!==-1&&Mr!==Wt&&L.current.setSelectionRange(Mr,Wt,tn)}let Ca=Mr!==-1?Mr:we,oo=Wt!==-1?Wt:Nt,_n=tn??so;V(Ca),X(oo),M.current.prev=[Ca,oo,_n]}if(document.addEventListener("selectionchange",Ce,{capture:!0}),Ce(),document.activeElement===ne&&F(!0),!document.getElementById("input-otp-style")){let we=document.createElement("style");if(we.id="input-otp-style",document.head.appendChild(we),we.sheet){let Nt="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";Ua(we.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),Ua(we.sheet,`[data-input-otp]:autofill { ${Nt} }`),Ua(we.sheet,`[data-input-otp]:-webkit-autofill { ${Nt} }`),Ua(we.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),Ua(we.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let Le=()=>{ce&&ce.style.setProperty("--root-height",`${ne.clientHeight}px`)};Le();let ct=new ResizeObserver(Le);return ct.observe(ne),()=>{document.removeEventListener("selectionchange",Ce,{capture:!0}),ct.disconnect()}},[]);let[O,k]=f.useState(!1),[P,F]=f.useState(!1),[$,V]=f.useState(null),[D,X]=f.useState(null);f.useEffect(()=>{IL(()=>{var ne,ce,Ce,Le;(ne=L.current)==null||ne.dispatchEvent(new Event("input"));let ct=(ce=L.current)==null?void 0:ce.selectionStart,we=(Ce=L.current)==null?void 0:Ce.selectionEnd,Nt=(Le=L.current)==null?void 0:Le.selectionDirection;ct!==null&&we!==null&&(V(ct),X(we),M.current.prev=[ct,we,Nt])})},[A,P]),f.useEffect(()=>{E!==void 0&&A!==E&&E.length<a&&A.length===a&&(h==null||h(A))},[a,h,E,A]);let oe=$L({containerRef:T,inputRef:L,pushPasswordManagerStrategy:d,isFocused:P}),ue=f.useCallback(ne=>{let ce=ne.currentTarget.value.slice(0,a);if(ce.length>0&&I&&!I.test(ce)){ne.preventDefault();return}typeof E=="string"&&ce.length<E.length&&document.dispatchEvent(new Event("selectionchange")),z(ce)},[a,z,E,I]),R=f.useCallback(()=>{var ne;if(L.current){let ce=Math.min(L.current.value.length,a-1),Ce=L.current.value.length;(ne=L.current)==null||ne.setSelectionRange(ce,Ce),V(ce),X(Ce)}F(!0)},[a]),K=f.useCallback(ne=>{var ce,Ce;let Le=L.current;if(!m&&(!B.current.isIOS||!ne.clipboardData||!Le))return;let ct=ne.clipboardData.getData("text/plain"),we=m?m(ct):ct;ne.preventDefault();let Nt=(ce=L.current)==null?void 0:ce.selectionStart,so=(Ce=L.current)==null?void 0:Ce.selectionEnd,Ae=(Nt!==so?A.slice(0,Nt)+we+A.slice(so):A.slice(0,Nt)+we+A.slice(Nt)).slice(0,a);if(Ae.length>0&&I&&!I.test(Ae))return;Le.value=Ae,z(Ae);let Mt=Math.min(Ae.length,a-1),pr=Ae.length;Le.setSelectionRange(Mt,pr),V(Mt),X(pr)},[a,z,I,A]),te=f.useMemo(()=>({position:"relative",cursor:p.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[p.disabled]),le=f.useMemo(()=>({position:"absolute",inset:0,width:oe.willPushPWMBadge?`calc(100% + ${oe.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:oe.willPushPWMBadge?`inset(0 ${oe.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:i,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[oe.PWM_BADGE_SPACE_WIDTH,oe.willPushPWMBadge,i]),me=f.useMemo(()=>f.createElement("input",RL(TL({autoComplete:p.autoComplete||"one-time-code"},p),{"data-input-otp":!0,"data-input-otp-placeholder-shown":A.length===0||void 0,"data-input-otp-mss":$,"data-input-otp-mse":D,inputMode:u,pattern:I==null?void 0:I.source,"aria-placeholder":c,style:le,maxLength:a,value:A,ref:L,onPaste:ne=>{var ce;K(ne),(ce=p.onPaste)==null||ce.call(p,ne)},onChange:ue,onMouseOver:ne=>{var ce;k(!0),(ce=p.onMouseOver)==null||ce.call(p,ne)},onMouseLeave:ne=>{var ce;k(!1),(ce=p.onMouseLeave)==null||ce.call(p,ne)},onFocus:ne=>{var ce;R(),(ce=p.onFocus)==null||ce.call(p,ne)},onBlur:ne=>{var ce;F(!1),(ce=p.onBlur)==null||ce.call(p,ne)}})),[ue,R,K,u,le,a,D,$,p,I==null?void 0:I.source,A]),he=f.useMemo(()=>({slots:Array.from({length:a}).map((ne,ce)=>{var Ce;let Le=P&&$!==null&&D!==null&&($===D&&ce===$||ce>=$&&ce<D),ct=A[ce]!==void 0?A[ce]:null,we=A[0]!==void 0?null:(Ce=c==null?void 0:c[ce])!=null?Ce:null;return{char:ct,placeholderChar:we,isActive:Le,hasFakeCaret:Le&&ct===null}}),isFocused:P,isHovering:!p.disabled&&O}),[P,O,a,D,$,p.disabled,A]),Re=f.useMemo(()=>y?y(he):f.createElement(jS.Provider,{value:he},w),[w,he,y]);return f.createElement(f.Fragment,null,b!==null&&f.createElement("noscript",null,f.createElement("style",null,b)),f.createElement("div",{ref:T,"data-input-otp-container":!0,style:te,className:x},Re,f.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},me)))});NS.displayName="Input";function Ua(e,t){try{e.insertRule(t)}catch{console.error("input-otp could not insert CSS rule:",t)}}var FL=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const SS=f.forwardRef(({className:e,containerClassName:t,...r},n)=>s.jsx(NS,{ref:n,containerClassName:ie("flex items-center gap-2 has-[:disabled]:opacity-50",t),className:ie("disabled:cursor-not-allowed",e),...r}));SS.displayName="InputOTP";const _S=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ie("flex items-center",e),...t}));_S.displayName="InputOTPGroup";const Ns=f.forwardRef(({index:e,className:t,...r},n)=>{const o=f.useContext(jS),{char:a,hasFakeCaret:i,isActive:l}=o.slots[e];return s.jsxs("div",{ref:n,className:ie("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",l&&"z-10 ring-2 ring-ring ring-offset-background",t),...r,children:[a,i&&s.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})})]})});Ns.displayName="InputOTPSlot";const UL=f.forwardRef(({...e},t)=>s.jsx("div",{ref:t,role:"separator",...e,children:s.jsx(dE,{})}));UL.displayName="InputOTPSeparator";const zL=()=>{const e=tt(),[t]=Eu(),[r,n]=f.useState("request"),[o,a]=f.useState(""),[i,l]=f.useState(""),[c,u]=f.useState(""),[h,d]=f.useState(""),[m,x]=f.useState(!1),[b,y]=f.useState(""),[w,p]=f.useState(!1);f.useEffect(()=>{const N=t.get("email");N&&(a(decodeURIComponent(N)),n("verify"))},[t]);const g=async N=>{N.preventDefault(),y(""),x(!0);try{const S=`${window.location.origin}/password-reset`,{error:_}=await J.auth.resetPasswordForEmail(o,{redirectTo:S});if(_)throw _;be.success("Verification code sent to your email"),n("verify")}catch(S){console.error("Send code error:",S),y(S.message||"Failed to send code. Please try again.")}finally{x(!1)}},v=async N=>{N.preventDefault(),y(""),x(!0);try{const{error:S}=await J.auth.verifyOtp({email:o,token:i,type:"recovery"});if(S)throw S;be.success("Code verified. Set your new password."),n("reset")}catch(S){console.error("Verify code error:",S),y(S.message||"Invalid or expired code. Please try again.")}finally{x(!1)}},j=async N=>{if(N.preventDefault(),y(""),c!==h){y("Passwords do not match");return}if(c.length<6){y("Password must be at least 6 characters long");return}x(!0);try{const{error:S}=await J.auth.updateUser({password:c});if(S)throw S;p(!0),be.success("Password updated successfully!"),setTimeout(()=>{e("/")},2e3)}catch(S){console.error("Password reset error:",S),y(S.message||"Failed to update password. Please try again.")}finally{x(!1)}};return w?s.jsx("div",{className:"min-h-screen bg-gradient-subtle flex items-center justify-center p-4",children:s.jsx(W,{className:"w-full max-w-md",children:s.jsxs(Y,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(Vs,{className:"w-16 h-16 text-green-500 mb-4"}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Password Updated!"}),s.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Your password has been successfully updated. You will be redirected to the homepage shortly."})]})})}):s.jsx("div",{className:"min-h-screen bg-gradient-subtle flex items-center justify-center p-4",children:s.jsxs(W,{className:"w-full max-w-md",children:[s.jsxs(Z,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-3 rounded-full bg-primary/10",children:s.jsx(fe,{className:"w-8 h-8 text-primary"})})}),s.jsx(ee,{className:"text-2xl",children:"Reset Your Password"}),s.jsxs(ze,{children:[r==="request"&&"Enter your email to get a verification code",r==="verify"&&"Enter the 6-digit code we sent to your email",r==="reset"&&"Set a new password for your account"]})]}),s.jsxs(Y,{children:[b&&s.jsxs(Ju,{variant:"destructive",className:"mb-4",children:[s.jsx(w0,{className:"h-4 w-4"}),s.jsx(Xu,{children:b})]}),r==="request"&&s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Qe,{htmlFor:"email",children:"Email"}),s.jsx(ot,{id:"email",type:"email",placeholder:"you@example.com",value:o,onChange:N=>a(N.target.value),required:!0,disabled:m})]}),s.jsxs(H,{type:"submit",className:"w-full",disabled:m||!o,children:[m&&s.jsx(pn,{className:"mr-2 h-4 w-4 animate-spin"}),"Send Code"]}),s.jsx("div",{className:"text-center",children:s.jsx(H,{type:"button",variant:"link",onClick:()=>e("/"),className:"text-sm",children:"Back to Home"})})]}),r==="verify"&&s.jsxs("form",{onSubmit:v,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Qe,{htmlFor:"email",children:"Email"}),s.jsx(ot,{id:"email",type:"email",placeholder:"you@example.com",value:o,onChange:N=>a(N.target.value),required:!0,disabled:m})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Qe,{children:"Verification Code"}),s.jsx(SS,{maxLength:6,value:i,onChange:l,children:s.jsxs(_S,{children:[s.jsx(Ns,{index:0}),s.jsx(Ns,{index:1}),s.jsx(Ns,{index:2}),s.jsx(Ns,{index:3}),s.jsx(Ns,{index:4}),s.jsx(Ns,{index:5})]})})]}),s.jsxs(H,{type:"submit",className:"w-full",disabled:m||!o||i.length!==6,children:[m&&s.jsx(pn,{className:"mr-2 h-4 w-4 animate-spin"}),"Verify Code"]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(H,{type:"button",variant:"ghost",onClick:()=>n("request"),children:"Back"}),s.jsx(H,{type:"button",variant:"link",onClick:async()=>{x(!0),y("");try{const N=`${window.location.origin}/password-reset`,{error:S}=await J.auth.resetPasswordForEmail(o,{redirectTo:N});if(S)throw S;be.success("Code resent")}catch(N){y(N.message||"Failed to resend code")}finally{x(!1)}},children:"Resend Code"})]})]}),r==="reset"&&s.jsxs("form",{onSubmit:j,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Qe,{htmlFor:"password",children:"New Password"}),s.jsx(ot,{id:"password",type:"password",placeholder:"Enter your new password",value:c,onChange:N=>u(N.target.value),required:!0,minLength:6,disabled:m})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Qe,{htmlFor:"confirmPassword",children:"Confirm Password"}),s.jsx(ot,{id:"confirmPassword",type:"password",placeholder:"Confirm your new password",value:h,onChange:N=>d(N.target.value),required:!0,minLength:6,disabled:m})]}),s.jsxs(H,{type:"submit",className:"w-full",disabled:m||!c||!h,children:[m&&s.jsx(pn,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Password"]}),s.jsx("div",{className:"text-center",children:s.jsx(H,{type:"button",variant:"link",onClick:()=>e("/"),className:"text-sm",children:"Back to Home"})})]})]})]})})};function HL(){const[e,t]=f.useState(""),[r,n]=f.useState(""),[o,a]=f.useState(!1),[i,l]=f.useState(""),[c,u]=f.useState(!1),h=tt(),[d]=Eu();f.useEffect(()=>{const x=d.get("access_token"),b=d.get("refresh_token");(!x||!b)&&l("Invalid or expired reset link. Please request a new password reset.")},[d]);const m=async x=>{if(x.preventDefault(),l(""),e!==r){l("Passwords do not match");return}if(e.length<6){l("Password must be at least 6 characters long");return}a(!0);try{const b=d.get("access_token"),y=d.get("refresh_token");if(!b||!y)throw new Error("Invalid reset link");const{error:w}=await J.auth.setSession({access_token:b,refresh_token:y});if(w)throw w;const{error:p}=await J.auth.updateUser({password:e});if(p)throw p;await J.auth.signOut(),u(!0),be.success("Password updated successfully!"),setTimeout(()=>{h("/auth")},2e3)}catch(b){console.error("Password reset error:",b),l(b.message||"Failed to reset password. Please try again."),be.error("Failed to reset password")}finally{a(!1)}};return c?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-accent/5 flex items-center justify-center p-4",children:s.jsx(W,{className:"w-full max-w-md",children:s.jsxs(Z,{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(fe,{className:"w-8 h-8 text-primary"})}),s.jsx(ee,{className:"text-2xl font-bold",children:"Password Updated!"}),s.jsx(ze,{children:"Your password has been successfully updated. You'll be redirected to sign in shortly."})]})})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-accent/5 flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.jsxs(H,{variant:"ghost",onClick:()=>h("/"),className:"mb-4",children:[s.jsx(Ir,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),s.jsxs(W,{children:[s.jsxs(Z,{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(fe,{className:"w-8 h-8 text-primary"})}),s.jsx(ee,{className:"text-2xl font-bold",children:"HeartLift"}),s.jsx(ze,{children:"Create your new password"})]}),s.jsx(Y,{children:s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[i&&s.jsx(Ju,{variant:"destructive",children:s.jsx(Xu,{children:i})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Qe,{htmlFor:"password",children:"New Password"}),s.jsx(ot,{id:"password",type:"password",value:e,onChange:x=>t(x.target.value),required:!0,minLength:6,disabled:o,placeholder:"Enter your new password"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Qe,{htmlFor:"confirmPassword",children:"Confirm New Password"}),s.jsx(ot,{id:"confirmPassword",type:"password",value:r,onChange:x=>n(x.target.value),required:!0,minLength:6,disabled:o,placeholder:"Confirm your new password"})]}),s.jsx(H,{type:"submit",className:"w-full",disabled:o||!e||!r,children:o?"Updating Password...":"Update Password"})]})})]})]})})}function BL(){const[e,t]=f.useState(""),[r,n]=f.useState(!1),[o,a]=f.useState(""),[i,l]=f.useState(!1),[c,u]=f.useState(!1),h=tt(),[d]=Eu(),m=d.get("email");f.useEffect(()=>{m||h("/auth")},[m,h]);const x=async y=>{if(y.preventDefault(),a(""),e.length!==6){a("Please enter a 6-digit verification code");return}n(!0);try{const{error:w}=await J.auth.verifyOtp({email:m,token:e,type:"signup"});if(w)throw w;l(!0),be.success("Email verified successfully! You're now signed in."),setTimeout(()=>{h("/")},2e3)}catch(w){console.error("Verification error:",w),a(w.message||"Failed to verify email. Please try again."),be.error("Failed to verify email")}finally{n(!1)}},b=async()=>{if(m){u(!0),a("");try{const{error:y}=await J.auth.resend({type:"signup",email:m});if(y)throw y;be.success("Verification code resent!")}catch(y){console.error("Resend error:",y),a(y.message||"Failed to resend code. Please try again."),be.error("Failed to resend code")}finally{u(!1)}}};return i?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-accent/5 flex items-center justify-center p-4",children:s.jsx(W,{className:"w-full max-w-md",children:s.jsxs(Z,{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(fe,{className:"w-8 h-8 text-primary"})}),s.jsx(ee,{className:"text-2xl font-bold",children:"Email Verified!"}),s.jsx(ze,{children:"Your email has been successfully verified and you're now signed in!"})]})})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-accent/5 flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.jsxs(H,{variant:"ghost",onClick:()=>h("/auth"),className:"mb-4",children:[s.jsx(Ir,{className:"w-4 h-4 mr-2"}),"Back to Sign In"]}),s.jsxs(W,{children:[s.jsxs(Z,{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(fe,{className:"w-8 h-8 text-primary"})}),s.jsx(ee,{className:"text-2xl font-bold",children:"Verify Your Email"}),s.jsxs(ze,{children:["We've sent a 6-digit verification code to ",m]})]}),s.jsx(Y,{children:s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[o&&s.jsx(Ju,{variant:"destructive",children:s.jsx(Xu,{children:o})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Qe,{htmlFor:"code",children:"Verification Code"}),s.jsx(ot,{id:"code",type:"text",value:e,onChange:y=>t(y.target.value.replace(/\D/g,"").slice(0,6)),required:!0,maxLength:6,disabled:r,placeholder:"Enter 6-digit code",className:"text-center text-lg tracking-widest"})]}),s.jsx(H,{type:"submit",className:"w-full",disabled:r||e.length!==6,children:r?"Verifying...":"Verify Email"}),s.jsx("div",{className:"text-center",children:s.jsx(H,{type:"button",variant:"ghost",size:"sm",onClick:b,disabled:c,className:"text-sm text-muted-foreground hover:text-primary",children:c?"Sending...":"Didn't receive the code? Resend"})})]})})]})]})})}const WL=()=>{const e=tt();return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-muted to-secondary",children:s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[s.jsx("div",{className:"flex items-center gap-4 mb-8",children:s.jsxs(H,{variant:"ghost",size:"sm",onClick:()=>e("/"),className:"flex items-center gap-2",children:[s.jsx(Ir,{className:"w-4 h-4"}),"Back to Home"]})}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"p-4 rounded-full bg-gradient-to-r from-primary to-primary-glow shadow-lg",children:s.jsx(na,{className:"w-8 h-8 text-primary-foreground"})})}),s.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"HeartLift Privacy Policy"}),s.jsx("p",{className:"text-lg text-muted-foreground",children:"Your privacy and emotional wellbeing are our top priorities"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Effective Date: 29/10/2025 | Last Updated: 29/10/2025"})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Pc,{className:"w-5 h-5 text-primary"}),"Data We Collect"]})}),s.jsx(Y,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Account Information"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[s.jsx("li",{children:"Name, email, and password (stored via Supabase authentication)"}),s.jsx("li",{children:"User preferences and selected AI coach"}),s.jsx("li",{children:"Premium subscription status"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Chat & Conversation Data"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[s.jsx("li",{children:"Your messages and AI coach responses (stored in Supabase)"}),s.jsx("li",{children:"Conversation timestamps and session IDs"}),s.jsx("li",{children:"Selected coach preferences and conversation history"}),s.jsx("li",{children:"Messages persist across sessions until you refresh or start a new day"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Daily Reflections & Personal Data"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[s.jsx("li",{children:"Daily reflection entries (stored in Supabase)"}),s.jsx("li",{children:"Coaches chatted with, conversation ratings, helpful moments, areas for improvement"}),s.jsx("li",{children:"Used by AI coaches to personalize future conversations"}),s.jsx("li",{children:"You can view and access all past reflections anytime"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Quiz & Assessment Data"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[s.jsx("li",{children:"Attachment style quiz responses and results (stored in Supabase)"}),s.jsx("li",{children:"Quiz analysis, attachment style classifications, and personalized recommendations"}),s.jsx("li",{children:"Quiz completion dates and historical results"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Insights & Reports"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[s.jsx("li",{children:"Generated personalized insights reports (stored in Supabase)"}),s.jsx("li",{children:"Analysis of emotional patterns, communication styles, and relationship goals"}),s.jsx("li",{children:"Healing progress scores and personalized recommendations"}),s.jsx("li",{children:"All past reports accessible anytime through your account"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Usage Tracking Data (Free Users)"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[s.jsx("li",{children:"Daily message count to enforce 10 message limit (stored in Supabase)"}),s.jsx("li",{children:"Automatically resets at midnight UTC"}),s.jsx("li",{children:"Retained for 7 days, then automatically deleted"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Technical Data"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[s.jsx("li",{children:"Device information, operating system, app version"}),s.jsx("li",{children:"IP address and usage analytics (for improving service)"}),s.jsx("li",{children:"Error logs and performance metrics"})]})]})]})})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Jr,{className:"w-5 h-5 text-primary"}),"How We Use Your Data"]})}),s.jsxs(Y,{className:"space-y-4",children:[s.jsx("p",{children:"We use your information to:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Provide personalised AI coaching:"})," Your daily reflections are accessed by AI coaches to tailor conversations to what you want to explore and work on"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Track attachment styles:"})," Quiz results help provide personalized insights and recommendations"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Generate insights reports:"})," Analyze your conversations, mood entries, and reflections to create comprehensive personalized reports"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Enforce usage limits:"})," Track message counts for free users (10 messages/day, resets at midnight UTC)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Improve our app and AI systems:"})," Only anonymized data is used for service improvements"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Communicate important updates:"})," Security alerts, policy changes, and feature announcements"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Provide crisis support:"})," AI coaches detect sensitive topics and redirect to appropriate helplines (UK Samaritans, National Domestic Abuse Helpline, etc.)"]})]}),s.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mt-4",children:[s.jsx("p",{className:"font-semibold text-amber-800",children:"Important Note on Personalization:"}),s.jsx("p",{className:"text-sm text-amber-700 mt-2",children:"When you fill out daily reflections, your AI coaches can access your last 3 reflections to personalize conversations based on what you want to explore. This helps coaches naturally weave in topics you're working on without you having to repeat yourself."})]}),s.jsx("p",{className:"font-semibold text-primary mt-4",children:"Your chat data and reflections will NEVER be shared with third parties, sold, or used for advertising."})]})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(uE,{className:"w-5 h-5 text-primary"}),"Data Storage & Security"]})}),s.jsx(Y,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Storage Infrastructure:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Supabase (PostgreSQL):"})," User authentication, chat conversations, quiz results"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Supabase (PostgreSQL):"})," All application data including authentication, conversations, daily reflections, insights reports, usage tracking, HeartVisions gallery, and quiz results"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"OpenAI API:"})," AI coach responses processed via OpenAI GPT-4o-mini (conversation data is NOT stored by OpenAI)"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Security Measures:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Encryption:"})," Data is encrypted both in transit (SSL/TLS) and at rest"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Access Control:"})," Only you can access your account via secure authentication"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Row Level Security (RLS):"})," Supabase enforces strict data isolation between users"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Password Protection:"})," Leaked password protection prevents use of compromised passwords"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"API Security:"})," Backend APIs use secure authentication and rate limiting"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Data Processing:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[s.jsx("li",{children:"AI processing happens server-side through our FastAPI backend"}),s.jsx("li",{children:"Conversation context (last 5 messages) sent to AI for continuity"}),s.jsx("li",{children:"Your recent reflections (last 3) shared with AI coaches for personalization"}),s.jsx("li",{children:"No data is stored on your device except session tokens"})]})]})]})})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(ft,{className:"w-5 h-5 text-primary"}),"Data Retention"]})}),s.jsxs(Y,{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Chat Conversations:"}),s.jsx("p",{className:"text-sm",children:"Retained until you refresh the page or start a new day. Stored persistently in database to maintain conversation context across sessions."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Daily Reflections:"}),s.jsx("p",{className:"text-sm",children:"Retained indefinitely to allow you to track your personal journey. You can view all past reflections anytime."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Quiz Results:"}),s.jsx("p",{className:"text-sm",children:"Retained indefinitely so you can review your attachment style history and track changes over time."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Insights Reports:"}),s.jsx("p",{className:"text-sm",children:"Retained indefinitely so you can track your personal growth journey. You can view all past insights reports anytime."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Usage Tracking Data:"}),s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"Automatically deleted after 7 days."})," Only used to enforce daily message limits for free users."]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Account Information:"}),s.jsx("p",{className:"text-sm",children:"Retained until you delete your account. After deletion, all personal data is permanently removed within 30 days."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Technical & Analytics Data:"}),s.jsx("p",{className:"text-sm",children:"Retained 612 months, anonymized where possible."})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4",children:[s.jsx("p",{className:"font-semibold text-blue-800",children:"Your Data Control:"}),s.jsx("p",{className:"text-sm text-blue-700 mt-2",children:"Users can request deletion of any data at any time by contacting support@heart-lift.com. Account deletion removes all associated data permanently within 30 days."})]})]})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(gE,{className:"w-5 h-5 text-primary"}),"International Data Transfers"]})}),s.jsx(Y,{children:s.jsx("p",{children:"By using HeartLift, you consent to your data being stored and processed in the United Kingdom, which may have different data protection laws than your location."})})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(na,{className:"w-5 h-5 text-primary"}),"Age Restrictions"]})}),s.jsx(Y,{children:s.jsxs("p",{children:["HeartLift is intended for users ",s.jsx("strong",{children:"13 years and older"}),". We do not knowingly collect personal data from children under 13."]})})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(wE,{className:"w-5 h-5 text-primary"}),"Your Rights"]})}),s.jsxs(Y,{className:"space-y-4",children:[s.jsx("p",{children:"You have full control over your personal data:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Access:"})," Request a copy of your stored data"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Deletion:"})," Request deletion of your account and all data"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Portability:"})," Export your data in a readable format"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Correction:"})," Update or correct inaccurate information"]})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-4",children:["To exercise these rights, contact us at"," ",s.jsx("a",{href:"mailto:support@heart-lift.com",className:"text-primary hover:text-primary/80 underline",children:"support@heart-lift.com"})]})]})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(TE,{className:"w-5 h-5 text-amber-500"}),"Sensitive Data & Safety"]})}),s.jsxs(Y,{className:"space-y-4",children:[s.jsx("p",{className:"font-semibold",children:"Our AI coaches provide guidance but cannot replace professional help. They do NOT provide support for:"}),s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:s.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm text-amber-700",children:[s.jsx("li",{children:"Suicide or self-harm"}),s.jsx("li",{children:"Drug or substance abuse"}),s.jsx("li",{children:"Domestic abuse or violence"}),s.jsx("li",{children:"Child abuse"}),s.jsx("li",{children:"Sexual assault or trauma"}),s.jsx("li",{children:"Eating disorders"}),s.jsx("li",{children:"Severe mental health crises"})]})}),s.jsxs("p",{className:"text-sm mt-2",children:[s.jsx("strong",{children:"When these topics are detected,"})," our AI coaches immediately stop and provide crisis helpline resources instead of attempting to provide support."]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-3",children:[s.jsx("h4",{className:"font-semibold mb-2 text-blue-800",children:"Emergency Resources (UK):"}),s.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Samaritans:"})," 116 123 (24/7, free to call)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Crisis Text Line UK:"})," Text SHOUT to 85258"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"National Domestic Abuse Helpline:"})," 0808 2000 247"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Rape Crisis England & Wales:"})," 0808 500 2222"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"FRANK (Drug Support):"})," 0300 123 6600"]})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-3",children:[s.jsx("h4",{className:"font-semibold mb-2 text-blue-800",children:"Emergency Resources (US):"}),s.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"National Suicide Prevention Lifeline:"})," 988 or 1-800-273-8255"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Crisis Text Line:"})," Text HOME to 741741"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"National Domestic Violence Hotline:"})," 1-800-799-7233"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"RAINN Sexual Assault Hotline:"})," 1-800-656-4673"]})]})]})]})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(lE,{className:"w-5 h-5 text-primary"}),"Cookies & Analytics"]})}),s.jsx(Y,{children:s.jsx("p",{children:"We may use cookies and analytics to improve your experience. This data is anonymized and cannot identify you personally."})})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(fE,{className:"w-5 h-5 text-primary"}),"Policy Updates"]})}),s.jsx(Y,{children:s.jsx("p",{children:"We may update this Privacy Policy occasionally. Significant changes will be communicated via in-app notifications or email. We encourage you to review this page periodically."})})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsx(ee,{children:"Contact Us"})}),s.jsxs(Y,{children:[s.jsx("p",{children:"For questions about this Privacy Policy or your data:"}),s.jsxs("p",{className:"mt-2",children:[s.jsx("strong",{children:"Email:"})," ",s.jsx("a",{href:"mailto:support@heart-lift.com",className:"text-primary hover:text-primary/80 underline",children:"support@heart-lift.com"})]})]})]})]})]})})};function VL(){const e=tt();return s.jsx("div",{className:"min-h-screen py-16 px-4 bg-gradient-to-br from-background via-muted to-secondary",children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs(H,{variant:"gentle",onClick:()=>e(-1),className:"mb-4",children:[s.jsx(Ir,{className:"w-4 h-4 mr-2"}),"Back"]}),s.jsxs(W,{className:"shadow-gentle",children:[s.jsxs(Z,{children:[s.jsx(ee,{className:"text-3xl font-bold bg-gradient-to-r from-primary to-primary-glow bg-clip-text text-transparent",children:"Terms of Service"}),s.jsx("p",{className:"text-muted-foreground",children:"Last updated: 29/10/2025"})]}),s.jsxs(Y,{className:"prose prose-slate dark:prose-invert max-w-none space-y-8",children:[s.jsxs("section",{className:"pb-4 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"1. Acceptance of Terms"}),s.jsxs("p",{className:"text-base leading-relaxed",children:["By accessing or using ",s.jsx("strong",{children:"HeartLift"}),' ("the Service"), you ',s.jsx("strong",{children:"agree to be bound"}),' by these Terms of Service ("Terms"). If you do not agree, ',s.jsx("strong",{children:"please do not use the Service"}),"."]})]}),s.jsxs("section",{className:"pb-4 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"2. Service Description"}),s.jsxs("p",{className:"text-base leading-relaxed mb-4",children:["HeartLift provides ",s.jsx("strong",{children:"relationship wellbeing tools"})," and ",s.jsx("strong",{children:"AI-powered coaching experiences"})," to support users with relationships, breakups, and emotional growth. Features may include:"]}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-4",children:[s.jsx("li",{className:"text-base",children:"AI-powered relationship and emotional wellbeing coaching with 4 distinct coach personalities"}),s.jsx("li",{className:"text-base",children:"Daily attachment style quizzes with AI-generated questions"}),s.jsx("li",{className:"text-base",children:"Personalised insights reports analyzing your emotional patterns and growth"}),s.jsx("li",{className:"text-base",children:"Daily reflection tracking to help coaches personalize conversations"}),s.jsx("li",{className:"text-base",children:"Conversation history that persists across sessions"}),s.jsx("li",{className:"text-base",children:"Emotional wellness resources and crisis support redirection"}),s.jsx("li",{className:"text-base",children:"Free tier: 10 messages per day (resets at midnight UTC)"}),s.jsx("li",{className:"text-base",children:"Premium features for unlimited messaging and additional tools"})]}),s.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/30 p-5 rounded-lg mt-4",children:[s.jsx("p",{className:"font-bold text-lg mb-2 text-amber-900 dark:text-amber-200",children:" Important Disclaimer"}),s.jsxs("p",{className:"text-base leading-relaxed text-foreground",children:["HeartLift's AI coaches are ",s.jsx("strong",{children:"virtual wellbeing companions"}),". They are ",s.jsx("strong",{children:"NOT licensed therapists or medical professionals"}),". All guidance is for ",s.jsx("strong",{children:"informational and self-development purposes only"})," and should ",s.jsx("strong",{children:"NOT be considered therapy, counselling, or medical advice"}),"."]})]})]}),s.jsxs("section",{className:"pb-4 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"3. Service Limitations and Crisis Support"}),s.jsxs("p",{className:"font-bold text-lg text-foreground mb-3",children:[" HeartLift ",s.jsx("strong",{children:"does NOT provide"})," professional mental health or crisis support. Our AI coaches ",s.jsx("strong",{children:"cannot and do not assist"})," with:"]}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-destructive font-semibold text-base mb-4",children:[s.jsx("li",{children:"Suicide ideation or self-harm"}),s.jsx("li",{children:"Child abuse or child safety concerns"}),s.jsx("li",{children:"Domestic violence or abuse situations"}),s.jsx("li",{children:"Drug or substance misuse"}),s.jsx("li",{children:"Sexual assault or trauma"}),s.jsx("li",{children:"Eating disorders"}),s.jsx("li",{children:"Clinical mental health conditions requiring professional treatment"})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[s.jsx("p",{className:"font-semibold text-blue-800 mb-2",children:"Automatic Crisis Detection:"}),s.jsx("p",{className:"text-sm text-blue-700",children:"Our AI coaches are programmed to detect crisis situations and immediately redirect users to appropriate professional helplines rather than attempting to provide support. This is a safety feature to ensure you get proper care when needed."})]}),s.jsxs("div",{className:"bg-destructive/15 p-6 rounded-lg border-2 border-destructive/40 mt-4",children:[s.jsx("p",{className:"font-bold text-xl mb-4 text-destructive",children:" Crisis Resources"}),s.jsxs("p",{className:"font-bold text-base mb-3 text-foreground",children:["If you are in crisis or feel unsafe, ",s.jsx("strong",{className:"underline",children:"DO NOT use HeartLift"}),". Instead, contact your local emergency services or a trusted helpline:"]}),s.jsxs("ul",{className:"list-none space-y-3 text-base",children:[s.jsxs("li",{className:"bg-background/50 p-3 rounded-md",children:[s.jsx("strong",{className:"text-foreground",children:"UK:"})," ",s.jsx("span",{className:"font-bold text-destructive",children:"999"})," (Emergency Services) / Samaritans at ",s.jsx("span",{className:"font-bold text-destructive",children:"116 123"})]}),s.jsxs("li",{className:"bg-background/50 p-3 rounded-md",children:[s.jsx("strong",{className:"text-foreground",children:"US:"})," ",s.jsx("span",{className:"font-bold text-destructive",children:"911"})," (Emergency Services) / ",s.jsx("span",{className:"font-bold text-destructive",children:"988"})," Suicide & Crisis Lifeline"]}),s.jsxs("li",{className:"bg-background/50 p-3 rounded-md",children:[s.jsx("strong",{className:"text-foreground",children:"Child Protection (UK):"})," NSPCC  ",s.jsx("span",{className:"font-bold text-destructive",children:"0808 800 5000"})]})]})]})]}),s.jsxs("section",{className:"pb-4 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"4. User Conduct and Prohibited Content"}),s.jsx("p",{className:"text-base leading-relaxed mb-3 font-medium",children:"You agree to:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-base mb-4",children:[s.jsxs("li",{children:["Provide ",s.jsx("strong",{children:"accurate, truthful information"})," when using the Service"]}),s.jsxs("li",{children:["Use HeartLift only for ",s.jsx("strong",{children:"lawful, personal, and non-commercial purposes"})]}),s.jsxs("li",{children:["Avoid ",s.jsx("strong",{children:"harmful, abusive, or inappropriate behavior"})]}),s.jsx("li",{children:"Respect the limits of our AI wellbeing tools"}),s.jsxs("li",{children:[s.jsx("strong",{children:"Seek professional help when needed"})," for serious mental health or crisis situations"]}),s.jsxs("li",{children:["Understand that ",s.jsx("strong",{children:"daily reflections are accessed by AI coaches"})," to personalize your experience"]}),s.jsxs("li",{children:["Accept that ",s.jsx("strong",{children:"conversation history persists across sessions"})," until refresh or new day"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Free tier users:"})," Respect the 10 messages per day limit (resets at midnight UTC)"]})]}),s.jsxs("div",{className:"bg-red-50 border border-red-300 rounded-lg p-5 mt-4",children:[s.jsx("p",{className:"font-bold text-lg mb-3 text-red-800",children:" Prohibited Content (Age 13+)"}),s.jsxs("p",{className:"text-base leading-relaxed text-red-900 mb-3",children:["HeartLift is designed for ages ",s.jsx("strong",{children:"13 and older"})," and focuses on ",s.jsx("strong",{children:"emotional wellbeing and relationship support"}),". The following content is ",s.jsx("strong",{children:"strictly prohibited"}),":"]}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-base text-red-900",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Sexually explicit messages"}),", sexual acts, fantasies, or explicit descriptions"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Inappropriate romantic or sexual advances"})," toward AI coaches"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Sexual health questions"})," (STIs, contraception, etc.) - Please consult NHS Sexual Health Services or your healthcare provider"]}),s.jsxs("li",{children:["Any content that would be ",s.jsx("strong",{children:"inappropriate for ages 13+"})]}),s.jsx("li",{children:"Harassment, threats, or abusive language"}),s.jsx("li",{children:"Illegal activities or content"})]}),s.jsxs("p",{className:"text-base leading-relaxed text-red-900 mt-3 font-semibold",children:["AI coaches will ",s.jsx("strong",{children:"immediately stop and redirect"})," if you attempt to engage in prohibited content. Repeated violations may result in ",s.jsx("strong",{children:"account suspension or termination"}),"."]})]})]}),s.jsxs("section",{className:"pb-4 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"5. Eligibility"}),s.jsxs("p",{className:"text-base leading-relaxed mb-3",children:["You must be ",s.jsx("strong",{children:"at least 13 years old"})," to use HeartLift. By using the Service, you ",s.jsx("strong",{children:"confirm that you meet this age requirement"}),"."]}),s.jsxs("p",{className:"text-base leading-relaxed",children:["HeartLift is ",s.jsx("strong",{children:"not directed at children under 13"}),", and we do ",s.jsx("strong",{children:"not knowingly collect personal data"})," from anyone under this age. If we become aware that a user under 13 has registered, we will take steps to delete their information promptly."]})]}),s.jsxs("section",{className:"pb-4 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"6. Payment and Subscriptions"}),s.jsxs("p",{className:"text-base leading-relaxed mb-4",children:["Certain features of HeartLift require a ",s.jsx("strong",{children:"paid subscription"}),". Payments are securely processed through ",s.jsx("strong",{children:"Apple's In-App Purchase (IAP) system"}),"."]}),s.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-5 mb-4",children:[s.jsx("h3",{className:"text-xl font-bold mb-3 text-foreground",children:"HeartLift Premium Subscription"}),s.jsxs("ul",{className:"space-y-2 text-base",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Subscription Name:"})," HeartLift Premium"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Price:"})," 11.99 per month (GBP)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Length:"})," 1 month (auto-renewable)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Benefits:"}),s.jsxs("ul",{className:"list-disc pl-6 mt-2 space-y-1",children:[s.jsx("li",{children:"Unlimited messages with all AI coaches"}),s.jsx("li",{children:"Access to Personalized Insights & Reports"}),s.jsx("li",{children:"HeartVisions AI image generation"}),s.jsx("li",{children:"Advanced attachment style analysis"}),s.jsx("li",{children:"Priority support"})]})]})]})]}),s.jsx("h3",{className:"text-lg font-bold mb-3 text-foreground",children:"Subscription Terms:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-base",children:[s.jsx("li",{children:"Payment will be charged to your Apple ID account at confirmation of purchase"}),s.jsxs("li",{children:["Subscriptions ",s.jsx("strong",{children:"automatically renew"})," unless cancelled at least ",s.jsx("strong",{children:"24 hours before the end of the current period"})]}),s.jsxs("li",{children:["Your account will be charged for renewal ",s.jsx("strong",{children:"within 24 hours prior to the end"})," of the current billing period"]}),s.jsxs("li",{children:["You may ",s.jsx("strong",{children:"manage or cancel your subscription"})," at any time by going to your device's Account Settings  Subscriptions after purchase"]}),s.jsx("li",{children:"Any unused portion of a free trial period, if offered, will be forfeited when you purchase a subscription"}),s.jsxs("li",{children:[s.jsx("strong",{children:"No refunds:"})," Refunds are not provided for any unused portion of the subscription term, except where required by law"]})]}),s.jsxs("p",{className:"text-base leading-relaxed mt-4",children:["For more information on managing subscriptions, visit: ",s.jsx("a",{href:"https://support.apple.com/en-us/HT202039",target:"_blank",rel:"noopener noreferrer",className:"text-primary underline hover:text-primary-glow",children:"Apple Support - Manage Subscriptions"})]})]}),s.jsxs("section",{className:"pb-4 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"7. Intellectual Property"}),s.jsxs("p",{className:"text-base leading-relaxed",children:["All content, features, designs, and functionality of HeartLift are ",s.jsx("strong",{children:"owned by us or our licensors"})," and are ",s.jsx("strong",{children:"protected by copyright, trademark, and other intellectual property laws"}),". You may ",s.jsx("strong",{children:"not reproduce, distribute, or modify"})," any part of the Service without written permission."]}),s.jsxs("p",{className:"text-base leading-relaxed mt-2",children:[s.jsx("strong",{children:" 2025 HeartLift."})," All rights reserved."]})]}),s.jsxs("section",{className:"pb-4 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"8. Limitation of Liability"}),s.jsxs("p",{className:"text-base leading-relaxed mb-3",children:["HeartLift provides wellbeing guidance and digital support tools. We ",s.jsx("strong",{children:"make no guarantees regarding accuracy or outcomes"}),"and are ",s.jsx("strong",{children:"not liable for any loss, harm, or decision"})," made based on the information provided."]}),s.jsxs("p",{className:"text-base leading-relaxed font-medium",children:["The Service is provided ",s.jsx("strong",{children:'"as is"'})," and ",s.jsx("strong",{children:'"as available"'}),", without warranties of any kind."]})]}),s.jsxs("section",{className:"pb-4 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"9. Data Collection and Usage"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-base leading-relaxed",children:"By using HeartLift, you acknowledge and agree that:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-base",children:[s.jsxs("li",{children:["Your ",s.jsx("strong",{children:"daily reflections are stored"})," and accessed by AI coaches to personalize future conversations"]}),s.jsxs("li",{children:["Your ",s.jsx("strong",{children:"conversation history is retained"})," until you refresh the page or start a new day"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Quiz results and analyses"})," are stored indefinitely for you to review your personal growth"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Insights reports"})," are generated from your conversations and reflections, stored indefinitely for you to track your journey"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Free users:"})," Message counts are tracked daily (automatically deleted after 7 days)"]}),s.jsxs("li",{children:["Your data is stored securely in ",s.jsx("strong",{children:"Supabase"}),", which includes authentication, conversations, quizzes, reflections, insights reports, usage tracking, and all user-generated content"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"AI processing:"})," Your messages and recent reflections are sent to OpenAI GPT-4o-mini for generating coach responses (not stored by OpenAI)"]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4",children:[s.jsx("p",{className:"font-semibold text-blue-800 mb-2",children:"Personalization Feature:"}),s.jsx("p",{className:"text-sm text-blue-700",children:"To provide personalized coaching, your AI coaches can access your last 3 daily reflections. This helps them understand what you're working on and naturally weave those topics into conversations. This feature enhances your experience but requires sharing your reflection data with the AI system."})]}),s.jsxs("p",{className:"text-base leading-relaxed font-medium mt-4",children:["For complete details on how we collect, use, store, and protect your data, please review our",s.jsx("strong",{children:" Privacy Policy"}),"."]})]})]}),s.jsxs("section",{className:"pb-4 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"10. Privacy"}),s.jsxs("p",{className:"text-base leading-relaxed",children:[s.jsx("strong",{children:"Your privacy is important to us."})," Please review our Privacy Policy to understand how we collect, use, and protect your personal information."]})]}),s.jsxs("section",{className:"pb-4 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"11. Termination"}),s.jsxs("p",{className:"text-base leading-relaxed",children:["We reserve the right to ",s.jsx("strong",{children:"suspend or terminate your account"}),", at our discretion and without notice, if you ",s.jsx("strong",{children:"violate these Terms or misuse the Service"}),"."]})]}),s.jsxs("section",{className:"pb-4 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"12. Changes to Terms"}),s.jsxs("p",{className:"text-base leading-relaxed",children:["We may ",s.jsx("strong",{children:"update these Terms from time to time"}),'. The latest version will always be posted on this page with a revised "last updated" date. ',s.jsx("strong",{children:"Continued use of the Service after changes are posted constitutes acceptance of those changes."})]})]}),s.jsxs("section",{className:"pb-4 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"13. Governing Law"}),s.jsxs("p",{className:"text-base leading-relaxed",children:["These Terms are governed by and construed in accordance with the ",s.jsx("strong",{children:"laws of the United Kingdom"}),", without regard to its conflict of law principles."]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"14. Contact Information"}),s.jsxs("p",{className:"text-base leading-relaxed",children:["For questions, feedback, or support, please contact us at:"," ",s.jsx("a",{href:"mailto:support@heart-lift.com",className:"text-primary hover:underline font-semibold",children:"support@heart-lift.com"})]})]})]})]})]})})}const qL=()=>{const e=tr();return f.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),s.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},KL=new sR,GL=()=>s.jsx(aR,{client:KL,children:s.jsx(RT,{children:s.jsxs(V4,{children:[s.jsx(p2,{}),s.jsx(K2,{}),s.jsx(oA,{children:s.jsxs(JR,{children:[s.jsx(St,{path:"/",element:s.jsx(f5,{})}),s.jsx(St,{path:"/auth",element:s.jsx(w5,{})}),s.jsx(St,{path:"/premium-success",element:s.jsx(b5,{})}),s.jsx(St,{path:"/premium-purchase",element:s.jsx(j5,{})}),s.jsx(St,{path:"/healing-kit-purchase",element:s.jsx(N5,{})}),s.jsx(St,{path:"/subscription-management",element:s.jsx(S5,{})}),s.jsx(St,{path:"/healing-kit",element:s.jsx(T5,{})}),s.jsx(St,{path:"/advanced-tools",element:s.jsx(SL,{})}),s.jsx(St,{path:"/password-reset",element:s.jsx(zL,{})}),s.jsx(St,{path:"/reset-password",element:s.jsx(HL,{})}),s.jsx(St,{path:"/verify-email",element:s.jsx(BL,{})}),s.jsx(St,{path:"/privacy-policy",element:s.jsx(WL,{})}),s.jsx(St,{path:"/terms-of-service",element:s.jsx(VL,{})}),s.jsx(St,{path:"*",element:s.jsx(qL,{})})]})})]})})});Ww(document.getElementById("root")).render(s.jsx(GL,{}));export{Gs as _};
