const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CQIkPrxK.js","assets/index-D5mZt9S9.js","assets/index-CGPcwO2R.js"])))=>i.map(i=>d[i]);
var R1=Object.defineProperty;var Mp=e=>{throw TypeError(e)};var A1=(e,t,r)=>t in e?R1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var En=(e,t,r)=>A1(e,typeof t!="symbol"?t+"":t,r),ed=(e,t,r)=>t.has(e)||Mp("Cannot "+r);var z=(e,t,r)=>(ed(e,t,"read from private field"),r?r.call(e):t.get(e)),Se=(e,t,r)=>t.has(e)?Mp("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),pe=(e,t,r,n)=>(ed(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),xt=(e,t,r)=>(ed(e,t,"access private method"),r);var cl=(e,t,r,n)=>({set _(o){pe(e,t,o,r)},get _(){return z(e,t,n)}});function I1(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(n,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();var dr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function O1(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),r}var Rx={exports:{}},Qc={},Ax={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wi=Symbol.for("react.element"),M1=Symbol.for("react.portal"),D1=Symbol.for("react.fragment"),L1=Symbol.for("react.strict_mode"),$1=Symbol.for("react.profiler"),U1=Symbol.for("react.provider"),F1=Symbol.for("react.context"),z1=Symbol.for("react.forward_ref"),H1=Symbol.for("react.suspense"),B1=Symbol.for("react.memo"),W1=Symbol.for("react.lazy"),Dp=Symbol.iterator;function V1(e){return e===null||typeof e!="object"?null:(e=Dp&&e[Dp]||e["@@iterator"],typeof e=="function"?e:null)}var Ix={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ox=Object.assign,Mx={};function ha(e,t,r){this.props=e,this.context=t,this.refs=Mx,this.updater=r||Ix}ha.prototype.isReactComponent={};ha.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ha.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Dx(){}Dx.prototype=ha.prototype;function If(e,t,r){this.props=e,this.context=t,this.refs=Mx,this.updater=r||Ix}var Of=If.prototype=new Dx;Of.constructor=If;Ox(Of,ha.prototype);Of.isPureReactComponent=!0;var Lp=Array.isArray,Lx=Object.prototype.hasOwnProperty,Mf={current:null},$x={key:!0,ref:!0,__self:!0,__source:!0};function Ux(e,t,r){var n,o={},a=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)Lx.call(t,n)&&!$x.hasOwnProperty(n)&&(o[n]=t[n]);var l=arguments.length-2;if(l===1)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)o[n]===void 0&&(o[n]=l[n]);return{$$typeof:Wi,type:e,key:a,ref:i,props:o,_owner:Mf.current}}function K1(e,t){return{$$typeof:Wi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Df(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wi}function q1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var $p=/\/+/g;function td(e,t){return typeof e=="object"&&e!==null&&e.key!=null?q1(""+e.key):t.toString(36)}function Ul(e,t,r,n,o){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Wi:case M1:i=!0}}if(i)return i=e,o=o(i),e=n===""?"."+td(i,0):n,Lp(o)?(r="",e!=null&&(r=e.replace($p,"$&/")+"/"),Ul(o,t,r,"",function(u){return u})):o!=null&&(Df(o)&&(o=K1(o,r+(!o.key||i&&i.key===o.key?"":(""+o.key).replace($p,"$&/")+"/")+e)),t.push(o)),1;if(i=0,n=n===""?".":n+":",Lp(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+td(a,l);i+=Ul(a,t,r,c,o)}else if(c=V1(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+td(a,l++),i+=Ul(a,t,r,c,o);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function ul(e,t,r){if(e==null)return e;var n=[],o=0;return Ul(e,n,"","",function(a){return t.call(r,a,o++)}),n}function G1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Tt={current:null},Fl={transition:null},Y1={ReactCurrentDispatcher:Tt,ReactCurrentBatchConfig:Fl,ReactCurrentOwner:Mf};function Fx(){throw Error("act(...) is not supported in production builds of React.")}Ne.Children={map:ul,forEach:function(e,t,r){ul(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ul(e,function(){t++}),t},toArray:function(e){return ul(e,function(t){return t})||[]},only:function(e){if(!Df(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ne.Component=ha;Ne.Fragment=D1;Ne.Profiler=$1;Ne.PureComponent=If;Ne.StrictMode=L1;Ne.Suspense=H1;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y1;Ne.act=Fx;Ne.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Ox({},e.props),o=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=Mf.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Lx.call(t,c)&&!$x.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Wi,type:e.type,key:o,ref:a,props:n,_owner:i}};Ne.createContext=function(e){return e={$$typeof:F1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:U1,_context:e},e.Consumer=e};Ne.createElement=Ux;Ne.createFactory=function(e){var t=Ux.bind(null,e);return t.type=e,t};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(e){return{$$typeof:z1,render:e}};Ne.isValidElement=Df;Ne.lazy=function(e){return{$$typeof:W1,_payload:{_status:-1,_result:e},_init:G1}};Ne.memo=function(e,t){return{$$typeof:B1,type:e,compare:t===void 0?null:t}};Ne.startTransition=function(e){var t=Fl.transition;Fl.transition={};try{e()}finally{Fl.transition=t}};Ne.unstable_act=Fx;Ne.useCallback=function(e,t){return Tt.current.useCallback(e,t)};Ne.useContext=function(e){return Tt.current.useContext(e)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(e){return Tt.current.useDeferredValue(e)};Ne.useEffect=function(e,t){return Tt.current.useEffect(e,t)};Ne.useId=function(){return Tt.current.useId()};Ne.useImperativeHandle=function(e,t,r){return Tt.current.useImperativeHandle(e,t,r)};Ne.useInsertionEffect=function(e,t){return Tt.current.useInsertionEffect(e,t)};Ne.useLayoutEffect=function(e,t){return Tt.current.useLayoutEffect(e,t)};Ne.useMemo=function(e,t){return Tt.current.useMemo(e,t)};Ne.useReducer=function(e,t,r){return Tt.current.useReducer(e,t,r)};Ne.useRef=function(e){return Tt.current.useRef(e)};Ne.useState=function(e){return Tt.current.useState(e)};Ne.useSyncExternalStore=function(e,t,r){return Tt.current.useSyncExternalStore(e,t,r)};Ne.useTransition=function(){return Tt.current.useTransition()};Ne.version="18.3.1";Ax.exports=Ne;var f=Ax.exports;const Y=Tx(f),Lf=I1({__proto__:null,default:Y},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q1=f,J1=Symbol.for("react.element"),X1=Symbol.for("react.fragment"),Z1=Object.prototype.hasOwnProperty,e_=Q1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,t_={key:!0,ref:!0,__self:!0,__source:!0};function zx(e,t,r){var n,o={},a=null,i=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)Z1.call(t,n)&&!t_.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)o[n]===void 0&&(o[n]=t[n]);return{$$typeof:J1,type:e,key:a,ref:i,props:o,_owner:e_.current}}Qc.Fragment=X1;Qc.jsx=zx;Qc.jsxs=zx;Rx.exports=Qc;var s=Rx.exports,Hx={exports:{}},er={},Bx={exports:{}},Wx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,A){var F=E.length;E.push(A);e:for(;0<F;){var U=F-1>>>1,V=E[U];if(0<o(V,A))E[U]=A,E[F]=V,F=U;else break e}}function r(E){return E.length===0?null:E[0]}function n(E){if(E.length===0)return null;var A=E[0],F=E.pop();if(F!==A){E[0]=F;e:for(var U=0,V=E.length,$=V>>>1;U<$;){var X=2*(U+1)-1,oe=E[X],ue=X+1,I=E[ue];if(0>o(oe,F))ue<V&&0>o(I,oe)?(E[U]=I,E[ue]=F,U=ue):(E[U]=oe,E[X]=F,U=X);else if(ue<V&&0>o(I,F))E[U]=I,E[ue]=F,U=ue;else break e}}return A}function o(E,A){var F=E.sortIndex-A.sortIndex;return F!==0?F:E.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],h=1,d=null,m=3,v=!1,b=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(E){for(var A=r(u);A!==null;){if(A.callback===null)n(u);else if(A.startTime<=E)n(u),A.sortIndex=A.expirationTime,t(c,A);else break;A=r(u)}}function j(E){if(y=!1,x(E),!b)if(r(c)!==null)b=!0,L(N);else{var A=r(u);A!==null&&D(j,A.startTime-E)}}function N(E,A){b=!1,y&&(y=!1,p(k),k=-1),v=!0;var F=m;try{for(x(A),d=r(c);d!==null&&(!(d.expirationTime>A)||E&&!O());){var U=d.callback;if(typeof U=="function"){d.callback=null,m=d.priorityLevel;var V=U(d.expirationTime<=A);A=e.unstable_now(),typeof V=="function"?d.callback=V:d===r(c)&&n(c),x(A)}else n(c);d=r(c)}if(d!==null)var $=!0;else{var X=r(u);X!==null&&D(j,X.startTime-A),$=!1}return $}finally{d=null,m=F,v=!1}}var S=!1,_=null,k=-1,P=5,C=-1;function O(){return!(e.unstable_now()-C<P)}function T(){if(_!==null){var E=e.unstable_now();C=E;var A=!0;try{A=_(!0,E)}finally{A?M():(S=!1,_=null)}}else S=!1}var M;if(typeof g=="function")M=function(){g(T)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,B=R.port2;R.port1.onmessage=T,M=function(){B.postMessage(null)}}else M=function(){w(T,0)};function L(E){_=E,S||(S=!0,M())}function D(E,A){k=w(function(){E(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){b||v||(b=!0,L(N))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(E){switch(m){case 1:case 2:case 3:var A=3;break;default:A=m}var F=m;m=A;try{return E()}finally{m=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,A){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var F=m;m=E;try{return A()}finally{m=F}},e.unstable_scheduleCallback=function(E,A,F){var U=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?U+F:U):F=U,E){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=F+V,E={id:h++,callback:A,priorityLevel:E,startTime:F,expirationTime:V,sortIndex:-1},F>U?(E.sortIndex=F,t(u,E),r(c)===null&&E===r(u)&&(y?(p(k),k=-1):y=!0,D(j,F-U))):(E.sortIndex=V,t(c,E),b||v||(b=!0,L(N))),E},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(E){var A=m;return function(){var F=m;m=A;try{return E.apply(this,arguments)}finally{m=F}}}})(Wx);Bx.exports=Wx;var r_=Bx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_=f,Zt=r_;function K(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vx=new Set,fi={};function Zs(e,t){Jo(e,t),Jo(e+"Capture",t)}function Jo(e,t){for(fi[e]=t,e=0;e<t.length;e++)Vx.add(t[e])}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jd=Object.prototype.hasOwnProperty,s_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Up={},Fp={};function o_(e){return Jd.call(Fp,e)?!0:Jd.call(Up,e)?!1:s_.test(e)?Fp[e]=!0:(Up[e]=!0,!1)}function a_(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function i_(e,t,r,n){if(t===null||typeof t>"u"||a_(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Rt(e,t,r,n,o,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pt[e]=new Rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pt[t]=new Rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pt[e]=new Rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pt[e]=new Rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pt[e]=new Rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pt[e]=new Rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pt[e]=new Rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pt[e]=new Rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pt[e]=new Rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var $f=/[\-:]([a-z])/g;function Uf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($f,Uf);pt[t]=new Rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($f,Uf);pt[t]=new Rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($f,Uf);pt[t]=new Rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pt[e]=new Rt(e,1,!1,e.toLowerCase(),null,!1,!1)});pt.xlinkHref=new Rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pt[e]=new Rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ff(e,t,r,n){var o=pt.hasOwnProperty(t)?pt[t]:null;(o!==null?o.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(i_(t,r,o,n)&&(r=null),n||o===null?o_(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=r===null?o.type===3?!1:"":r:(t=o.attributeName,n=o.attributeNamespace,r===null?e.removeAttribute(t):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Sn=n_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dl=Symbol.for("react.element"),wo=Symbol.for("react.portal"),bo=Symbol.for("react.fragment"),zf=Symbol.for("react.strict_mode"),Xd=Symbol.for("react.profiler"),Kx=Symbol.for("react.provider"),qx=Symbol.for("react.context"),Hf=Symbol.for("react.forward_ref"),Zd=Symbol.for("react.suspense"),eh=Symbol.for("react.suspense_list"),Bf=Symbol.for("react.memo"),Dn=Symbol.for("react.lazy"),Gx=Symbol.for("react.offscreen"),zp=Symbol.iterator;function Ia(e){return e===null||typeof e!="object"?null:(e=zp&&e[zp]||e["@@iterator"],typeof e=="function"?e:null)}var Be=Object.assign,rd;function Ka(e){if(rd===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);rd=t&&t[1]||""}return`
`+rd+e}var nd=!1;function sd(e,t){if(!e||nd)return"";nd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),a=n.stack.split(`
`),i=o.length-1,l=a.length-1;1<=i&&0<=l&&o[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(o[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||o[i]!==a[l]){var c=`
`+o[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{nd=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ka(e):""}function l_(e){switch(e.tag){case 5:return Ka(e.type);case 16:return Ka("Lazy");case 13:return Ka("Suspense");case 19:return Ka("SuspenseList");case 0:case 2:case 15:return e=sd(e.type,!1),e;case 11:return e=sd(e.type.render,!1),e;case 1:return e=sd(e.type,!0),e;default:return""}}function th(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case bo:return"Fragment";case wo:return"Portal";case Xd:return"Profiler";case zf:return"StrictMode";case Zd:return"Suspense";case eh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qx:return(e.displayName||"Context")+".Consumer";case Kx:return(e._context.displayName||"Context")+".Provider";case Hf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Bf:return t=e.displayName||null,t!==null?t:th(e.type)||"Memo";case Dn:t=e._payload,e=e._init;try{return th(e(t))}catch{}}return null}function c_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return th(t);case 8:return t===zf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function as(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function u_(e){var t=Yx(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){n=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hl(e){e._valueTracker||(e._valueTracker=u_(e))}function Qx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Yx(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function oc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function rh(e,t){var r=t.checked;return Be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Hp(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=as(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Jx(e,t){t=t.checked,t!=null&&Ff(e,"checked",t,!1)}function nh(e,t){Jx(e,t);var r=as(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?sh(e,t.type,r):t.hasOwnProperty("defaultValue")&&sh(e,t.type,as(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Bp(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function sh(e,t,r){(t!=="number"||oc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var qa=Array.isArray;function Ao(e,t,r,n){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&n&&(e[r].defaultSelected=!0)}else{for(r=""+as(r),t=null,o=0;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,n&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function oh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(K(91));return Be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Wp(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(K(92));if(qa(r)){if(1<r.length)throw Error(K(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:as(r)}}function Xx(e,t){var r=as(t.value),n=as(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Vp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Zx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ah(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Zx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fl,ev=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,o){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fl=fl||document.createElement("div"),fl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function mi(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ei={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},d_=["Webkit","ms","Moz","O"];Object.keys(ei).forEach(function(e){d_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ei[t]=ei[e]})});function tv(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ei.hasOwnProperty(e)&&ei[e]?(""+t).trim():t+"px"}function rv(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,o=tv(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,o):e[r]=o}}var h_=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ih(e,t){if(t){if(h_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(K(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(K(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(K(61))}if(t.style!=null&&typeof t.style!="object")throw Error(K(62))}}function lh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ch=null;function Wf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var uh=null,Io=null,Oo=null;function Kp(e){if(e=qi(e)){if(typeof uh!="function")throw Error(K(280));var t=e.stateNode;t&&(t=tu(t),uh(e.stateNode,e.type,t))}}function nv(e){Io?Oo?Oo.push(e):Oo=[e]:Io=e}function sv(){if(Io){var e=Io,t=Oo;if(Oo=Io=null,Kp(e),t)for(e=0;e<t.length;e++)Kp(t[e])}}function ov(e,t){return e(t)}function av(){}var od=!1;function iv(e,t,r){if(od)return e(t,r);od=!0;try{return ov(e,t,r)}finally{od=!1,(Io!==null||Oo!==null)&&(av(),sv())}}function pi(e,t){var r=e.stateNode;if(r===null)return null;var n=tu(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(K(231,t,typeof r));return r}var dh=!1;if(gn)try{var Oa={};Object.defineProperty(Oa,"passive",{get:function(){dh=!0}}),window.addEventListener("test",Oa,Oa),window.removeEventListener("test",Oa,Oa)}catch{dh=!1}function f_(e,t,r,n,o,a,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(h){this.onError(h)}}var ti=!1,ac=null,ic=!1,hh=null,m_={onError:function(e){ti=!0,ac=e}};function p_(e,t,r,n,o,a,i,l,c){ti=!1,ac=null,f_.apply(m_,arguments)}function g_(e,t,r,n,o,a,i,l,c){if(p_.apply(this,arguments),ti){if(ti){var u=ac;ti=!1,ac=null}else throw Error(K(198));ic||(ic=!0,hh=u)}}function eo(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function lv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qp(e){if(eo(e)!==e)throw Error(K(188))}function y_(e){var t=e.alternate;if(!t){if(t=eo(e),t===null)throw Error(K(188));return t!==e?null:e}for(var r=e,n=t;;){var o=r.return;if(o===null)break;var a=o.alternate;if(a===null){if(n=o.return,n!==null){r=n;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===r)return qp(o),e;if(a===n)return qp(o),t;a=a.sibling}throw Error(K(188))}if(r.return!==n.return)r=o,n=a;else{for(var i=!1,l=o.child;l;){if(l===r){i=!0,r=o,n=a;break}if(l===n){i=!0,n=o,r=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===r){i=!0,r=a,n=o;break}if(l===n){i=!0,n=a,r=o;break}l=l.sibling}if(!i)throw Error(K(189))}}if(r.alternate!==n)throw Error(K(190))}if(r.tag!==3)throw Error(K(188));return r.stateNode.current===r?e:t}function cv(e){return e=y_(e),e!==null?uv(e):null}function uv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=uv(e);if(t!==null)return t;e=e.sibling}return null}var dv=Zt.unstable_scheduleCallback,Gp=Zt.unstable_cancelCallback,x_=Zt.unstable_shouldYield,v_=Zt.unstable_requestPaint,Ke=Zt.unstable_now,w_=Zt.unstable_getCurrentPriorityLevel,Vf=Zt.unstable_ImmediatePriority,hv=Zt.unstable_UserBlockingPriority,lc=Zt.unstable_NormalPriority,b_=Zt.unstable_LowPriority,fv=Zt.unstable_IdlePriority,Jc=null,qr=null;function j_(e){if(qr&&typeof qr.onCommitFiberRoot=="function")try{qr.onCommitFiberRoot(Jc,e,void 0,(e.current.flags&128)===128)}catch{}}var Pr=Math.clz32?Math.clz32:__,N_=Math.log,S_=Math.LN2;function __(e){return e>>>=0,e===0?32:31-(N_(e)/S_|0)|0}var ml=64,pl=4194304;function Ga(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,o=e.suspendedLanes,a=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~o;l!==0?n=Ga(l):(a&=i,a!==0&&(n=Ga(a)))}else i=r&~o,i!==0?n=Ga(i):a!==0&&(n=Ga(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&o)&&(o=n&-n,a=t&-t,o>=a||o===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Pr(t),o=1<<r,n|=e[r],t&=~o;return n}function C_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function k_(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-Pr(a),l=1<<i,c=o[i];c===-1?(!(l&r)||l&n)&&(o[i]=C_(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function fh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function mv(){var e=ml;return ml<<=1,!(ml&4194240)&&(ml=64),e}function ad(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Vi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pr(t),e[t]=r}function E_(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-Pr(r),a=1<<o;t[o]=0,n[o]=-1,e[o]=-1,r&=~a}}function Kf(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Pr(r),o=1<<n;o&t|e[n]&t&&(e[n]|=t),r&=~o}}var Ee=0;function pv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var gv,qf,yv,xv,vv,mh=!1,gl=[],Qn=null,Jn=null,Xn=null,gi=new Map,yi=new Map,$n=[],P_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yp(e,t){switch(e){case"focusin":case"focusout":Qn=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Xn=null;break;case"pointerover":case"pointerout":gi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yi.delete(t.pointerId)}}function Ma(e,t,r,n,o,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[o]},t!==null&&(t=qi(t),t!==null&&qf(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function T_(e,t,r,n,o){switch(t){case"focusin":return Qn=Ma(Qn,e,t,r,n,o),!0;case"dragenter":return Jn=Ma(Jn,e,t,r,n,o),!0;case"mouseover":return Xn=Ma(Xn,e,t,r,n,o),!0;case"pointerover":var a=o.pointerId;return gi.set(a,Ma(gi.get(a)||null,e,t,r,n,o)),!0;case"gotpointercapture":return a=o.pointerId,yi.set(a,Ma(yi.get(a)||null,e,t,r,n,o)),!0}return!1}function wv(e){var t=Es(e.target);if(t!==null){var r=eo(t);if(r!==null){if(t=r.tag,t===13){if(t=lv(r),t!==null){e.blockedOn=t,vv(e.priority,function(){yv(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ph(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ch=n,r.target.dispatchEvent(n),ch=null}else return t=qi(r),t!==null&&qf(t),e.blockedOn=r,!1;t.shift()}return!0}function Qp(e,t,r){zl(e)&&r.delete(t)}function R_(){mh=!1,Qn!==null&&zl(Qn)&&(Qn=null),Jn!==null&&zl(Jn)&&(Jn=null),Xn!==null&&zl(Xn)&&(Xn=null),gi.forEach(Qp),yi.forEach(Qp)}function Da(e,t){e.blockedOn===t&&(e.blockedOn=null,mh||(mh=!0,Zt.unstable_scheduleCallback(Zt.unstable_NormalPriority,R_)))}function xi(e){function t(o){return Da(o,e)}if(0<gl.length){Da(gl[0],e);for(var r=1;r<gl.length;r++){var n=gl[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Qn!==null&&Da(Qn,e),Jn!==null&&Da(Jn,e),Xn!==null&&Da(Xn,e),gi.forEach(t),yi.forEach(t),r=0;r<$n.length;r++)n=$n[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<$n.length&&(r=$n[0],r.blockedOn===null);)wv(r),r.blockedOn===null&&$n.shift()}var Mo=Sn.ReactCurrentBatchConfig,uc=!0;function A_(e,t,r,n){var o=Ee,a=Mo.transition;Mo.transition=null;try{Ee=1,Gf(e,t,r,n)}finally{Ee=o,Mo.transition=a}}function I_(e,t,r,n){var o=Ee,a=Mo.transition;Mo.transition=null;try{Ee=4,Gf(e,t,r,n)}finally{Ee=o,Mo.transition=a}}function Gf(e,t,r,n){if(uc){var o=ph(e,t,r,n);if(o===null)gd(e,t,n,dc,r),Yp(e,n);else if(T_(o,e,t,r,n))n.stopPropagation();else if(Yp(e,n),t&4&&-1<P_.indexOf(e)){for(;o!==null;){var a=qi(o);if(a!==null&&gv(a),a=ph(e,t,r,n),a===null&&gd(e,t,n,dc,r),a===o)break;o=a}o!==null&&n.stopPropagation()}else gd(e,t,n,null,r)}}var dc=null;function ph(e,t,r,n){if(dc=null,e=Wf(n),e=Es(e),e!==null)if(t=eo(e),t===null)e=null;else if(r=t.tag,r===13){if(e=lv(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return dc=e,null}function bv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(w_()){case Vf:return 1;case hv:return 4;case lc:case b_:return 16;case fv:return 536870912;default:return 16}default:return 16}}var qn=null,Yf=null,Hl=null;function jv(){if(Hl)return Hl;var e,t=Yf,r=t.length,n,o="value"in qn?qn.value:qn.textContent,a=o.length;for(e=0;e<r&&t[e]===o[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===o[a-n];n++);return Hl=o.slice(e,1<n?1-n:void 0)}function Bl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yl(){return!0}function Jp(){return!1}function tr(e){function t(r,n,o,a,i){this._reactName=r,this._targetInst=o,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?yl:Jp,this.isPropagationStopped=Jp,this}return Be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=yl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=yl)},persist:function(){},isPersistent:yl}),t}var fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qf=tr(fa),Ki=Be({},fa,{view:0,detail:0}),O_=tr(Ki),id,ld,La,Xc=Be({},Ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==La&&(La&&e.type==="mousemove"?(id=e.screenX-La.screenX,ld=e.screenY-La.screenY):ld=id=0,La=e),id)},movementY:function(e){return"movementY"in e?e.movementY:ld}}),Xp=tr(Xc),M_=Be({},Xc,{dataTransfer:0}),D_=tr(M_),L_=Be({},Ki,{relatedTarget:0}),cd=tr(L_),$_=Be({},fa,{animationName:0,elapsedTime:0,pseudoElement:0}),U_=tr($_),F_=Be({},fa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),z_=tr(F_),H_=Be({},fa,{data:0}),Zp=tr(H_),B_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},V_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function K_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=V_[e])?!!t[e]:!1}function Jf(){return K_}var q_=Be({},Ki,{key:function(e){if(e.key){var t=B_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?W_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jf,charCode:function(e){return e.type==="keypress"?Bl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),G_=tr(q_),Y_=Be({},Xc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eg=tr(Y_),Q_=Be({},Ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jf}),J_=tr(Q_),X_=Be({},fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Z_=tr(X_),eC=Be({},Xc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tC=tr(eC),rC=[9,13,27,32],Xf=gn&&"CompositionEvent"in window,ri=null;gn&&"documentMode"in document&&(ri=document.documentMode);var nC=gn&&"TextEvent"in window&&!ri,Nv=gn&&(!Xf||ri&&8<ri&&11>=ri),tg=" ",rg=!1;function Sv(e,t){switch(e){case"keyup":return rC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _v(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jo=!1;function sC(e,t){switch(e){case"compositionend":return _v(t);case"keypress":return t.which!==32?null:(rg=!0,tg);case"textInput":return e=t.data,e===tg&&rg?null:e;default:return null}}function oC(e,t){if(jo)return e==="compositionend"||!Xf&&Sv(e,t)?(e=jv(),Hl=Yf=qn=null,jo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nv&&t.locale!=="ko"?null:t.data;default:return null}}var aC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ng(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!aC[e.type]:t==="textarea"}function Cv(e,t,r,n){nv(n),t=hc(t,"onChange"),0<t.length&&(r=new Qf("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ni=null,vi=null;function iC(e){Lv(e,0)}function Zc(e){var t=_o(e);if(Qx(t))return e}function lC(e,t){if(e==="change")return t}var kv=!1;if(gn){var ud;if(gn){var dd="oninput"in document;if(!dd){var sg=document.createElement("div");sg.setAttribute("oninput","return;"),dd=typeof sg.oninput=="function"}ud=dd}else ud=!1;kv=ud&&(!document.documentMode||9<document.documentMode)}function og(){ni&&(ni.detachEvent("onpropertychange",Ev),vi=ni=null)}function Ev(e){if(e.propertyName==="value"&&Zc(vi)){var t=[];Cv(t,vi,e,Wf(e)),iv(iC,t)}}function cC(e,t,r){e==="focusin"?(og(),ni=t,vi=r,ni.attachEvent("onpropertychange",Ev)):e==="focusout"&&og()}function uC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zc(vi)}function dC(e,t){if(e==="click")return Zc(t)}function hC(e,t){if(e==="input"||e==="change")return Zc(t)}function fC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rr=typeof Object.is=="function"?Object.is:fC;function wi(e,t){if(Rr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var o=r[n];if(!Jd.call(t,o)||!Rr(e[o],t[o]))return!1}return!0}function ag(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ig(e,t){var r=ag(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ag(r)}}function Pv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Pv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Tv(){for(var e=window,t=oc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=oc(e.document)}return t}function Zf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function mC(e){var t=Tv(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Pv(r.ownerDocument.documentElement,r)){if(n!==null&&Zf(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=r.textContent.length,a=Math.min(n.start,o);n=n.end===void 0?a:Math.min(n.end,o),!e.extend&&a>n&&(o=n,n=a,a=o),o=ig(r,a);var i=ig(r,n);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pC=gn&&"documentMode"in document&&11>=document.documentMode,No=null,gh=null,si=null,yh=!1;function lg(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;yh||No==null||No!==oc(n)||(n=No,"selectionStart"in n&&Zf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),si&&wi(si,n)||(si=n,n=hc(gh,"onSelect"),0<n.length&&(t=new Qf("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=No)))}function xl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var So={animationend:xl("Animation","AnimationEnd"),animationiteration:xl("Animation","AnimationIteration"),animationstart:xl("Animation","AnimationStart"),transitionend:xl("Transition","TransitionEnd")},hd={},Rv={};gn&&(Rv=document.createElement("div").style,"AnimationEvent"in window||(delete So.animationend.animation,delete So.animationiteration.animation,delete So.animationstart.animation),"TransitionEvent"in window||delete So.transitionend.transition);function eu(e){if(hd[e])return hd[e];if(!So[e])return e;var t=So[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Rv)return hd[e]=t[r];return e}var Av=eu("animationend"),Iv=eu("animationiteration"),Ov=eu("animationstart"),Mv=eu("transitionend"),Dv=new Map,cg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function us(e,t){Dv.set(e,t),Zs(t,[e])}for(var fd=0;fd<cg.length;fd++){var md=cg[fd],gC=md.toLowerCase(),yC=md[0].toUpperCase()+md.slice(1);us(gC,"on"+yC)}us(Av,"onAnimationEnd");us(Iv,"onAnimationIteration");us(Ov,"onAnimationStart");us("dblclick","onDoubleClick");us("focusin","onFocus");us("focusout","onBlur");us(Mv,"onTransitionEnd");Jo("onMouseEnter",["mouseout","mouseover"]);Jo("onMouseLeave",["mouseout","mouseover"]);Jo("onPointerEnter",["pointerout","pointerover"]);Jo("onPointerLeave",["pointerout","pointerover"]);Zs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ya="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ya));function ug(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,g_(n,t,void 0,e),e.currentTarget=null}function Lv(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],o=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&o.isPropagationStopped())break e;ug(o,l,u),a=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&o.isPropagationStopped())break e;ug(o,l,u),a=c}}}if(ic)throw e=hh,ic=!1,hh=null,e}function De(e,t){var r=t[jh];r===void 0&&(r=t[jh]=new Set);var n=e+"__bubble";r.has(n)||($v(t,e,2,!1),r.add(n))}function pd(e,t,r){var n=0;t&&(n|=4),$v(r,e,n,t)}var vl="_reactListening"+Math.random().toString(36).slice(2);function bi(e){if(!e[vl]){e[vl]=!0,Vx.forEach(function(r){r!=="selectionchange"&&(xC.has(r)||pd(r,!1,e),pd(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vl]||(t[vl]=!0,pd("selectionchange",!1,t))}}function $v(e,t,r,n){switch(bv(t)){case 1:var o=A_;break;case 4:o=I_;break;default:o=Gf}r=o.bind(null,t,r,e),o=void 0,!dh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),n?o!==void 0?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):o!==void 0?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function gd(e,t,r,n,o){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;i=i.return}for(;l!==null;){if(i=Es(l),i===null)return;if(c=i.tag,c===5||c===6){n=a=i;continue e}l=l.parentNode}}n=n.return}iv(function(){var u=a,h=Wf(r),d=[];e:{var m=Dv.get(e);if(m!==void 0){var v=Qf,b=e;switch(e){case"keypress":if(Bl(r)===0)break e;case"keydown":case"keyup":v=G_;break;case"focusin":b="focus",v=cd;break;case"focusout":b="blur",v=cd;break;case"beforeblur":case"afterblur":v=cd;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Xp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=D_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=J_;break;case Av:case Iv:case Ov:v=U_;break;case Mv:v=Z_;break;case"scroll":v=O_;break;case"wheel":v=tC;break;case"copy":case"cut":case"paste":v=z_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=eg}var y=(t&4)!==0,w=!y&&e==="scroll",p=y?m!==null?m+"Capture":null:m;y=[];for(var g=u,x;g!==null;){x=g;var j=x.stateNode;if(x.tag===5&&j!==null&&(x=j,p!==null&&(j=pi(g,p),j!=null&&y.push(ji(g,j,x)))),w)break;g=g.return}0<y.length&&(m=new v(m,b,null,r,h),d.push({event:m,listeners:y}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",m&&r!==ch&&(b=r.relatedTarget||r.fromElement)&&(Es(b)||b[yn]))break e;if((v||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,v?(b=r.relatedTarget||r.toElement,v=u,b=b?Es(b):null,b!==null&&(w=eo(b),b!==w||b.tag!==5&&b.tag!==6)&&(b=null)):(v=null,b=u),v!==b)){if(y=Xp,j="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=eg,j="onPointerLeave",p="onPointerEnter",g="pointer"),w=v==null?m:_o(v),x=b==null?m:_o(b),m=new y(j,g+"leave",v,r,h),m.target=w,m.relatedTarget=x,j=null,Es(h)===u&&(y=new y(p,g+"enter",b,r,h),y.target=x,y.relatedTarget=w,j=y),w=j,v&&b)t:{for(y=v,p=b,g=0,x=y;x;x=io(x))g++;for(x=0,j=p;j;j=io(j))x++;for(;0<g-x;)y=io(y),g--;for(;0<x-g;)p=io(p),x--;for(;g--;){if(y===p||p!==null&&y===p.alternate)break t;y=io(y),p=io(p)}y=null}else y=null;v!==null&&dg(d,m,v,y,!1),b!==null&&w!==null&&dg(d,w,b,y,!0)}}e:{if(m=u?_o(u):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var N=lC;else if(ng(m))if(kv)N=hC;else{N=uC;var S=cC}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=dC);if(N&&(N=N(e,u))){Cv(d,N,r,h);break e}S&&S(e,m,u),e==="focusout"&&(S=m._wrapperState)&&S.controlled&&m.type==="number"&&sh(m,"number",m.value)}switch(S=u?_o(u):window,e){case"focusin":(ng(S)||S.contentEditable==="true")&&(No=S,gh=u,si=null);break;case"focusout":si=gh=No=null;break;case"mousedown":yh=!0;break;case"contextmenu":case"mouseup":case"dragend":yh=!1,lg(d,r,h);break;case"selectionchange":if(pC)break;case"keydown":case"keyup":lg(d,r,h)}var _;if(Xf)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else jo?Sv(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(Nv&&r.locale!=="ko"&&(jo||k!=="onCompositionStart"?k==="onCompositionEnd"&&jo&&(_=jv()):(qn=h,Yf="value"in qn?qn.value:qn.textContent,jo=!0)),S=hc(u,k),0<S.length&&(k=new Zp(k,e,null,r,h),d.push({event:k,listeners:S}),_?k.data=_:(_=_v(r),_!==null&&(k.data=_)))),(_=nC?sC(e,r):oC(e,r))&&(u=hc(u,"onBeforeInput"),0<u.length&&(h=new Zp("onBeforeInput","beforeinput",null,r,h),d.push({event:h,listeners:u}),h.data=_))}Lv(d,t)})}function ji(e,t,r){return{instance:e,listener:t,currentTarget:r}}function hc(e,t){for(var r=t+"Capture",n=[];e!==null;){var o=e,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=pi(e,r),a!=null&&n.unshift(ji(e,a,o)),a=pi(e,t),a!=null&&n.push(ji(e,a,o))),e=e.return}return n}function io(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function dg(e,t,r,n,o){for(var a=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,o?(c=pi(r,a),c!=null&&i.unshift(ji(r,c,l))):o||(c=pi(r,a),c!=null&&i.push(ji(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var vC=/\r\n?/g,wC=/\u0000|\uFFFD/g;function hg(e){return(typeof e=="string"?e:""+e).replace(vC,`
`).replace(wC,"")}function wl(e,t,r){if(t=hg(t),hg(e)!==t&&r)throw Error(K(425))}function fc(){}var xh=null,vh=null;function wh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bh=typeof setTimeout=="function"?setTimeout:void 0,bC=typeof clearTimeout=="function"?clearTimeout:void 0,fg=typeof Promise=="function"?Promise:void 0,jC=typeof queueMicrotask=="function"?queueMicrotask:typeof fg<"u"?function(e){return fg.resolve(null).then(e).catch(NC)}:bh;function NC(e){setTimeout(function(){throw e})}function yd(e,t){var r=t,n=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(n===0){e.removeChild(o),xi(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=o}while(r);xi(t)}function Zn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function mg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ma=Math.random().toString(36).slice(2),Br="__reactFiber$"+ma,Ni="__reactProps$"+ma,yn="__reactContainer$"+ma,jh="__reactEvents$"+ma,SC="__reactListeners$"+ma,_C="__reactHandles$"+ma;function Es(e){var t=e[Br];if(t)return t;for(var r=e.parentNode;r;){if(t=r[yn]||r[Br]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=mg(e);e!==null;){if(r=e[Br])return r;e=mg(e)}return t}e=r,r=e.parentNode}return null}function qi(e){return e=e[Br]||e[yn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _o(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(K(33))}function tu(e){return e[Ni]||null}var Nh=[],Co=-1;function ds(e){return{current:e}}function Le(e){0>Co||(e.current=Nh[Co],Nh[Co]=null,Co--)}function Ae(e,t){Co++,Nh[Co]=e.current,e.current=t}var is={},jt=ds(is),zt=ds(!1),Fs=is;function Xo(e,t){var r=e.type.contextTypes;if(!r)return is;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in r)o[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ht(e){return e=e.childContextTypes,e!=null}function mc(){Le(zt),Le(jt)}function pg(e,t,r){if(jt.current!==is)throw Error(K(168));Ae(jt,t),Ae(zt,r)}function Uv(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var o in n)if(!(o in t))throw Error(K(108,c_(e)||"Unknown",o));return Be({},r,n)}function pc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||is,Fs=jt.current,Ae(jt,e),Ae(zt,zt.current),!0}function gg(e,t,r){var n=e.stateNode;if(!n)throw Error(K(169));r?(e=Uv(e,t,Fs),n.__reactInternalMemoizedMergedChildContext=e,Le(zt),Le(jt),Ae(jt,e)):Le(zt),Ae(zt,r)}var ln=null,ru=!1,xd=!1;function Fv(e){ln===null?ln=[e]:ln.push(e)}function CC(e){ru=!0,Fv(e)}function hs(){if(!xd&&ln!==null){xd=!0;var e=0,t=Ee;try{var r=ln;for(Ee=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ln=null,ru=!1}catch(o){throw ln!==null&&(ln=ln.slice(e+1)),dv(Vf,hs),o}finally{Ee=t,xd=!1}}return null}var ko=[],Eo=0,gc=null,yc=0,or=[],ar=0,zs=null,un=1,dn="";function bs(e,t){ko[Eo++]=yc,ko[Eo++]=gc,gc=e,yc=t}function zv(e,t,r){or[ar++]=un,or[ar++]=dn,or[ar++]=zs,zs=e;var n=un;e=dn;var o=32-Pr(n)-1;n&=~(1<<o),r+=1;var a=32-Pr(t)+o;if(30<a){var i=o-o%5;a=(n&(1<<i)-1).toString(32),n>>=i,o-=i,un=1<<32-Pr(t)+o|r<<o|n,dn=a+e}else un=1<<a|r<<o|n,dn=e}function em(e){e.return!==null&&(bs(e,1),zv(e,1,0))}function tm(e){for(;e===gc;)gc=ko[--Eo],ko[Eo]=null,yc=ko[--Eo],ko[Eo]=null;for(;e===zs;)zs=or[--ar],or[ar]=null,dn=or[--ar],or[ar]=null,un=or[--ar],or[ar]=null}var Jt=null,Yt=null,Ue=!1,Er=null;function Hv(e,t){var r=lr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function yg(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Jt=e,Yt=Zn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Jt=e,Yt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=zs!==null?{id:un,overflow:dn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=lr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Jt=e,Yt=null,!0):!1;default:return!1}}function Sh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _h(e){if(Ue){var t=Yt;if(t){var r=t;if(!yg(e,t)){if(Sh(e))throw Error(K(418));t=Zn(r.nextSibling);var n=Jt;t&&yg(e,t)?Hv(n,r):(e.flags=e.flags&-4097|2,Ue=!1,Jt=e)}}else{if(Sh(e))throw Error(K(418));e.flags=e.flags&-4097|2,Ue=!1,Jt=e}}}function xg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Jt=e}function bl(e){if(e!==Jt)return!1;if(!Ue)return xg(e),Ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!wh(e.type,e.memoizedProps)),t&&(t=Yt)){if(Sh(e))throw Bv(),Error(K(418));for(;t;)Hv(e,t),t=Zn(t.nextSibling)}if(xg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(K(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Yt=Zn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Yt=null}}else Yt=Jt?Zn(e.stateNode.nextSibling):null;return!0}function Bv(){for(var e=Yt;e;)e=Zn(e.nextSibling)}function Zo(){Yt=Jt=null,Ue=!1}function rm(e){Er===null?Er=[e]:Er.push(e)}var kC=Sn.ReactCurrentBatchConfig;function $a(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(K(309));var n=r.stateNode}if(!n)throw Error(K(147,e));var o=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=o.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(K(284));if(!r._owner)throw Error(K(290,e))}return e}function jl(e,t){throw e=Object.prototype.toString.call(t),Error(K(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vg(e){var t=e._init;return t(e._payload)}function Wv(e){function t(p,g){if(e){var x=p.deletions;x===null?(p.deletions=[g],p.flags|=16):x.push(g)}}function r(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function n(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function o(p,g){return p=ns(p,g),p.index=0,p.sibling=null,p}function a(p,g,x){return p.index=x,e?(x=p.alternate,x!==null?(x=x.index,x<g?(p.flags|=2,g):x):(p.flags|=2,g)):(p.flags|=1048576,g)}function i(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,g,x,j){return g===null||g.tag!==6?(g=_d(x,p.mode,j),g.return=p,g):(g=o(g,x),g.return=p,g)}function c(p,g,x,j){var N=x.type;return N===bo?h(p,g,x.props.children,j,x.key):g!==null&&(g.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Dn&&vg(N)===g.type)?(j=o(g,x.props),j.ref=$a(p,g,x),j.return=p,j):(j=Ql(x.type,x.key,x.props,null,p.mode,j),j.ref=$a(p,g,x),j.return=p,j)}function u(p,g,x,j){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=Cd(x,p.mode,j),g.return=p,g):(g=o(g,x.children||[]),g.return=p,g)}function h(p,g,x,j,N){return g===null||g.tag!==7?(g=Us(x,p.mode,j,N),g.return=p,g):(g=o(g,x),g.return=p,g)}function d(p,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=_d(""+g,p.mode,x),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case dl:return x=Ql(g.type,g.key,g.props,null,p.mode,x),x.ref=$a(p,null,g),x.return=p,x;case wo:return g=Cd(g,p.mode,x),g.return=p,g;case Dn:var j=g._init;return d(p,j(g._payload),x)}if(qa(g)||Ia(g))return g=Us(g,p.mode,x,null),g.return=p,g;jl(p,g)}return null}function m(p,g,x,j){var N=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return N!==null?null:l(p,g,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case dl:return x.key===N?c(p,g,x,j):null;case wo:return x.key===N?u(p,g,x,j):null;case Dn:return N=x._init,m(p,g,N(x._payload),j)}if(qa(x)||Ia(x))return N!==null?null:h(p,g,x,j,null);jl(p,x)}return null}function v(p,g,x,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return p=p.get(x)||null,l(g,p,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case dl:return p=p.get(j.key===null?x:j.key)||null,c(g,p,j,N);case wo:return p=p.get(j.key===null?x:j.key)||null,u(g,p,j,N);case Dn:var S=j._init;return v(p,g,x,S(j._payload),N)}if(qa(j)||Ia(j))return p=p.get(x)||null,h(g,p,j,N,null);jl(g,j)}return null}function b(p,g,x,j){for(var N=null,S=null,_=g,k=g=0,P=null;_!==null&&k<x.length;k++){_.index>k?(P=_,_=null):P=_.sibling;var C=m(p,_,x[k],j);if(C===null){_===null&&(_=P);break}e&&_&&C.alternate===null&&t(p,_),g=a(C,g,k),S===null?N=C:S.sibling=C,S=C,_=P}if(k===x.length)return r(p,_),Ue&&bs(p,k),N;if(_===null){for(;k<x.length;k++)_=d(p,x[k],j),_!==null&&(g=a(_,g,k),S===null?N=_:S.sibling=_,S=_);return Ue&&bs(p,k),N}for(_=n(p,_);k<x.length;k++)P=v(_,p,k,x[k],j),P!==null&&(e&&P.alternate!==null&&_.delete(P.key===null?k:P.key),g=a(P,g,k),S===null?N=P:S.sibling=P,S=P);return e&&_.forEach(function(O){return t(p,O)}),Ue&&bs(p,k),N}function y(p,g,x,j){var N=Ia(x);if(typeof N!="function")throw Error(K(150));if(x=N.call(x),x==null)throw Error(K(151));for(var S=N=null,_=g,k=g=0,P=null,C=x.next();_!==null&&!C.done;k++,C=x.next()){_.index>k?(P=_,_=null):P=_.sibling;var O=m(p,_,C.value,j);if(O===null){_===null&&(_=P);break}e&&_&&O.alternate===null&&t(p,_),g=a(O,g,k),S===null?N=O:S.sibling=O,S=O,_=P}if(C.done)return r(p,_),Ue&&bs(p,k),N;if(_===null){for(;!C.done;k++,C=x.next())C=d(p,C.value,j),C!==null&&(g=a(C,g,k),S===null?N=C:S.sibling=C,S=C);return Ue&&bs(p,k),N}for(_=n(p,_);!C.done;k++,C=x.next())C=v(_,p,k,C.value,j),C!==null&&(e&&C.alternate!==null&&_.delete(C.key===null?k:C.key),g=a(C,g,k),S===null?N=C:S.sibling=C,S=C);return e&&_.forEach(function(T){return t(p,T)}),Ue&&bs(p,k),N}function w(p,g,x,j){if(typeof x=="object"&&x!==null&&x.type===bo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case dl:e:{for(var N=x.key,S=g;S!==null;){if(S.key===N){if(N=x.type,N===bo){if(S.tag===7){r(p,S.sibling),g=o(S,x.props.children),g.return=p,p=g;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Dn&&vg(N)===S.type){r(p,S.sibling),g=o(S,x.props),g.ref=$a(p,S,x),g.return=p,p=g;break e}r(p,S);break}else t(p,S);S=S.sibling}x.type===bo?(g=Us(x.props.children,p.mode,j,x.key),g.return=p,p=g):(j=Ql(x.type,x.key,x.props,null,p.mode,j),j.ref=$a(p,g,x),j.return=p,p=j)}return i(p);case wo:e:{for(S=x.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){r(p,g.sibling),g=o(g,x.children||[]),g.return=p,p=g;break e}else{r(p,g);break}else t(p,g);g=g.sibling}g=Cd(x,p.mode,j),g.return=p,p=g}return i(p);case Dn:return S=x._init,w(p,g,S(x._payload),j)}if(qa(x))return b(p,g,x,j);if(Ia(x))return y(p,g,x,j);jl(p,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(r(p,g.sibling),g=o(g,x),g.return=p,p=g):(r(p,g),g=_d(x,p.mode,j),g.return=p,p=g),i(p)):r(p,g)}return w}var ea=Wv(!0),Vv=Wv(!1),xc=ds(null),vc=null,Po=null,nm=null;function sm(){nm=Po=vc=null}function om(e){var t=xc.current;Le(xc),e._currentValue=t}function Ch(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Do(e,t){vc=e,nm=Po=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ft=!0),e.firstContext=null)}function hr(e){var t=e._currentValue;if(nm!==e)if(e={context:e,memoizedValue:t,next:null},Po===null){if(vc===null)throw Error(K(308));Po=e,vc.dependencies={lanes:0,firstContext:e}}else Po=Po.next=e;return t}var Ps=null;function am(e){Ps===null?Ps=[e]:Ps.push(e)}function Kv(e,t,r,n){var o=t.interleaved;return o===null?(r.next=r,am(t)):(r.next=o.next,o.next=r),t.interleaved=r,xn(e,n)}function xn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ln=!1;function im(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function es(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,_e&2){var o=n.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),n.pending=t,xn(e,r)}return o=n.interleaved,o===null?(t.next=t,am(n)):(t.next=o.next,o.next=t),n.interleaved=t,xn(e,r)}function Wl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Kf(e,r)}}function wg(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var o=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?o=a=i:a=a.next=i,r=r.next}while(r!==null);a===null?o=a=t:a=a.next=t}else o=a=t;r={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function wc(e,t,r,n){var o=e.updateQueue;Ln=!1;var a=o.firstBaseUpdate,i=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==i&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(a!==null){var d=o.baseState;i=0,h=u=c=null,l=a;do{var m=l.lane,v=l.eventTime;if((n&m)===m){h!==null&&(h=h.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,y=l;switch(m=t,v=r,y.tag){case 1:if(b=y.payload,typeof b=="function"){d=b.call(v,d,m);break e}d=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=y.payload,m=typeof b=="function"?b.call(v,d,m):b,m==null)break e;d=Be({},d,m);break e;case 2:Ln=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=o.effects,m===null?o.effects=[l]:m.push(l))}else v={eventTime:v,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=v,c=d):h=h.next=v,i|=m;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;m=l,l=m.next,m.next=null,o.lastBaseUpdate=m,o.shared.pending=null}}while(!0);if(h===null&&(c=d),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=h,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else a===null&&(o.shared.lanes=0);Bs|=i,e.lanes=i,e.memoizedState=d}}function bg(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(o!==null){if(n.callback=null,n=r,typeof o!="function")throw Error(K(191,o));o.call(n)}}}var Gi={},Gr=ds(Gi),Si=ds(Gi),_i=ds(Gi);function Ts(e){if(e===Gi)throw Error(K(174));return e}function lm(e,t){switch(Ae(_i,t),Ae(Si,e),Ae(Gr,Gi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ah(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ah(t,e)}Le(Gr),Ae(Gr,t)}function ta(){Le(Gr),Le(Si),Le(_i)}function Gv(e){Ts(_i.current);var t=Ts(Gr.current),r=ah(t,e.type);t!==r&&(Ae(Si,e),Ae(Gr,r))}function cm(e){Si.current===e&&(Le(Gr),Le(Si))}var Fe=ds(0);function bc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vd=[];function um(){for(var e=0;e<vd.length;e++)vd[e]._workInProgressVersionPrimary=null;vd.length=0}var Vl=Sn.ReactCurrentDispatcher,wd=Sn.ReactCurrentBatchConfig,Hs=0,ze=null,et=null,at=null,jc=!1,oi=!1,Ci=0,EC=0;function vt(){throw Error(K(321))}function dm(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Rr(e[r],t[r]))return!1;return!0}function hm(e,t,r,n,o,a){if(Hs=a,ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vl.current=e===null||e.memoizedState===null?AC:IC,e=r(n,o),oi){a=0;do{if(oi=!1,Ci=0,25<=a)throw Error(K(301));a+=1,at=et=null,t.updateQueue=null,Vl.current=OC,e=r(n,o)}while(oi)}if(Vl.current=Nc,t=et!==null&&et.next!==null,Hs=0,at=et=ze=null,jc=!1,t)throw Error(K(300));return e}function fm(){var e=Ci!==0;return Ci=0,e}function $r(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?ze.memoizedState=at=e:at=at.next=e,at}function fr(){if(et===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=et.next;var t=at===null?ze.memoizedState:at.next;if(t!==null)at=t,et=e;else{if(e===null)throw Error(K(310));et=e,e={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},at===null?ze.memoizedState=at=e:at=at.next=e}return at}function ki(e,t){return typeof t=="function"?t(e):t}function bd(e){var t=fr(),r=t.queue;if(r===null)throw Error(K(311));r.lastRenderedReducer=e;var n=et,o=n.baseQueue,a=r.pending;if(a!==null){if(o!==null){var i=o.next;o.next=a.next,a.next=i}n.baseQueue=o=a,r.pending=null}if(o!==null){a=o.next,n=n.baseState;var l=i=null,c=null,u=a;do{var h=u.lane;if((Hs&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,i=n):c=c.next=d,ze.lanes|=h,Bs|=h}u=u.next}while(u!==null&&u!==a);c===null?i=n:c.next=l,Rr(n,t.memoizedState)||(Ft=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){o=e;do a=o.lane,ze.lanes|=a,Bs|=a,o=o.next;while(o!==e)}else o===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function jd(e){var t=fr(),r=t.queue;if(r===null)throw Error(K(311));r.lastRenderedReducer=e;var n=r.dispatch,o=r.pending,a=t.memoizedState;if(o!==null){r.pending=null;var i=o=o.next;do a=e(a,i.action),i=i.next;while(i!==o);Rr(a,t.memoizedState)||(Ft=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Yv(){}function Qv(e,t){var r=ze,n=fr(),o=t(),a=!Rr(n.memoizedState,o);if(a&&(n.memoizedState=o,Ft=!0),n=n.queue,mm(Zv.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||at!==null&&at.memoizedState.tag&1){if(r.flags|=2048,Ei(9,Xv.bind(null,r,n,o,t),void 0,null),lt===null)throw Error(K(349));Hs&30||Jv(r,t,o)}return o}function Jv(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Xv(e,t,r,n){t.value=r,t.getSnapshot=n,ew(t)&&tw(e)}function Zv(e,t,r){return r(function(){ew(t)&&tw(e)})}function ew(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Rr(e,r)}catch{return!0}}function tw(e){var t=xn(e,1);t!==null&&Tr(t,e,1,-1)}function jg(e){var t=$r();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:e},t.queue=e,e=e.dispatch=RC.bind(null,ze,e),[t.memoizedState,e]}function Ei(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function rw(){return fr().memoizedState}function Kl(e,t,r,n){var o=$r();ze.flags|=e,o.memoizedState=Ei(1|t,r,void 0,n===void 0?null:n)}function nu(e,t,r,n){var o=fr();n=n===void 0?null:n;var a=void 0;if(et!==null){var i=et.memoizedState;if(a=i.destroy,n!==null&&dm(n,i.deps)){o.memoizedState=Ei(t,r,a,n);return}}ze.flags|=e,o.memoizedState=Ei(1|t,r,a,n)}function Ng(e,t){return Kl(8390656,8,e,t)}function mm(e,t){return nu(2048,8,e,t)}function nw(e,t){return nu(4,2,e,t)}function sw(e,t){return nu(4,4,e,t)}function ow(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function aw(e,t,r){return r=r!=null?r.concat([e]):null,nu(4,4,ow.bind(null,t,e),r)}function pm(){}function iw(e,t){var r=fr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&dm(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function lw(e,t){var r=fr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&dm(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function cw(e,t,r){return Hs&21?(Rr(r,t)||(r=mv(),ze.lanes|=r,Bs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ft=!0),e.memoizedState=r)}function PC(e,t){var r=Ee;Ee=r!==0&&4>r?r:4,e(!0);var n=wd.transition;wd.transition={};try{e(!1),t()}finally{Ee=r,wd.transition=n}}function uw(){return fr().memoizedState}function TC(e,t,r){var n=rs(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},dw(e))hw(t,r);else if(r=Kv(e,t,r,n),r!==null){var o=Pt();Tr(r,e,n,o),fw(r,t,n)}}function RC(e,t,r){var n=rs(e),o={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(dw(e))hw(t,o);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,r);if(o.hasEagerState=!0,o.eagerState=l,Rr(l,i)){var c=t.interleaved;c===null?(o.next=o,am(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}r=Kv(e,t,o,n),r!==null&&(o=Pt(),Tr(r,e,n,o),fw(r,t,n))}}function dw(e){var t=e.alternate;return e===ze||t!==null&&t===ze}function hw(e,t){oi=jc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function fw(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Kf(e,r)}}var Nc={readContext:hr,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},AC={readContext:hr,useCallback:function(e,t){return $r().memoizedState=[e,t===void 0?null:t],e},useContext:hr,useEffect:Ng,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Kl(4194308,4,ow.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Kl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Kl(4,2,e,t)},useMemo:function(e,t){var r=$r();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=$r();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=TC.bind(null,ze,e),[n.memoizedState,e]},useRef:function(e){var t=$r();return e={current:e},t.memoizedState=e},useState:jg,useDebugValue:pm,useDeferredValue:function(e){return $r().memoizedState=e},useTransition:function(){var e=jg(!1),t=e[0];return e=PC.bind(null,e[1]),$r().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ze,o=$r();if(Ue){if(r===void 0)throw Error(K(407));r=r()}else{if(r=t(),lt===null)throw Error(K(349));Hs&30||Jv(n,t,r)}o.memoizedState=r;var a={value:r,getSnapshot:t};return o.queue=a,Ng(Zv.bind(null,n,a,e),[e]),n.flags|=2048,Ei(9,Xv.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=$r(),t=lt.identifierPrefix;if(Ue){var r=dn,n=un;r=(n&~(1<<32-Pr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ci++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=EC++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},IC={readContext:hr,useCallback:iw,useContext:hr,useEffect:mm,useImperativeHandle:aw,useInsertionEffect:nw,useLayoutEffect:sw,useMemo:lw,useReducer:bd,useRef:rw,useState:function(){return bd(ki)},useDebugValue:pm,useDeferredValue:function(e){var t=fr();return cw(t,et.memoizedState,e)},useTransition:function(){var e=bd(ki)[0],t=fr().memoizedState;return[e,t]},useMutableSource:Yv,useSyncExternalStore:Qv,useId:uw,unstable_isNewReconciler:!1},OC={readContext:hr,useCallback:iw,useContext:hr,useEffect:mm,useImperativeHandle:aw,useInsertionEffect:nw,useLayoutEffect:sw,useMemo:lw,useReducer:jd,useRef:rw,useState:function(){return jd(ki)},useDebugValue:pm,useDeferredValue:function(e){var t=fr();return et===null?t.memoizedState=e:cw(t,et.memoizedState,e)},useTransition:function(){var e=jd(ki)[0],t=fr().memoizedState;return[e,t]},useMutableSource:Yv,useSyncExternalStore:Qv,useId:uw,unstable_isNewReconciler:!1};function jr(e,t){if(e&&e.defaultProps){t=Be({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function kh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Be({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var su={isMounted:function(e){return(e=e._reactInternals)?eo(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Pt(),o=rs(e),a=mn(n,o);a.payload=t,r!=null&&(a.callback=r),t=es(e,a,o),t!==null&&(Tr(t,e,o,n),Wl(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Pt(),o=rs(e),a=mn(n,o);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=es(e,a,o),t!==null&&(Tr(t,e,o,n),Wl(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Pt(),n=rs(e),o=mn(r,n);o.tag=2,t!=null&&(o.callback=t),t=es(e,o,n),t!==null&&(Tr(t,e,n,r),Wl(t,e,n))}};function Sg(e,t,r,n,o,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,i):t.prototype&&t.prototype.isPureReactComponent?!wi(r,n)||!wi(o,a):!0}function mw(e,t,r){var n=!1,o=is,a=t.contextType;return typeof a=="object"&&a!==null?a=hr(a):(o=Ht(t)?Fs:jt.current,n=t.contextTypes,a=(n=n!=null)?Xo(e,o):is),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=su,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function _g(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&su.enqueueReplaceState(t,t.state,null)}function Eh(e,t,r,n){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs={},im(e);var a=t.contextType;typeof a=="object"&&a!==null?o.context=hr(a):(a=Ht(t)?Fs:jt.current,o.context=Xo(e,a)),o.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(kh(e,t,a,r),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&su.enqueueReplaceState(o,o.state,null),wc(e,r,o,n),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function ra(e,t){try{var r="",n=t;do r+=l_(n),n=n.return;while(n);var o=r}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:o,digest:null}}function Nd(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ph(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var MC=typeof WeakMap=="function"?WeakMap:Map;function pw(e,t,r){r=mn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){_c||(_c=!0,Uh=n),Ph(e,t)},r}function gw(e,t,r){r=mn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var o=t.value;r.payload=function(){return n(o)},r.callback=function(){Ph(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Ph(e,t),typeof n!="function"&&(ts===null?ts=new Set([this]):ts.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Cg(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new MC;var o=new Set;n.set(t,o)}else o=n.get(t),o===void 0&&(o=new Set,n.set(t,o));o.has(r)||(o.add(r),e=YC.bind(null,e,t,r),t.then(e,e))}function kg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Eg(e,t,r,n,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=mn(-1,1),t.tag=2,es(r,t,1))),r.lanes|=1),e)}var DC=Sn.ReactCurrentOwner,Ft=!1;function Ct(e,t,r,n){t.child=e===null?Vv(t,null,r,n):ea(t,e.child,r,n)}function Pg(e,t,r,n,o){r=r.render;var a=t.ref;return Do(t,o),n=hm(e,t,r,n,a,o),r=fm(),e!==null&&!Ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,vn(e,t,o)):(Ue&&r&&em(t),t.flags|=1,Ct(e,t,n,o),t.child)}function Tg(e,t,r,n,o){if(e===null){var a=r.type;return typeof a=="function"&&!Nm(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,yw(e,t,a,n,o)):(e=Ql(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&o)){var i=a.memoizedProps;if(r=r.compare,r=r!==null?r:wi,r(i,n)&&e.ref===t.ref)return vn(e,t,o)}return t.flags|=1,e=ns(a,n),e.ref=t.ref,e.return=t,t.child=e}function yw(e,t,r,n,o){if(e!==null){var a=e.memoizedProps;if(wi(a,n)&&e.ref===t.ref)if(Ft=!1,t.pendingProps=n=a,(e.lanes&o)!==0)e.flags&131072&&(Ft=!0);else return t.lanes=e.lanes,vn(e,t,o)}return Th(e,t,r,n,o)}function xw(e,t,r){var n=t.pendingProps,o=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(Ro,qt),qt|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ae(Ro,qt),qt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Ae(Ro,qt),qt|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Ae(Ro,qt),qt|=n;return Ct(e,t,o,r),t.child}function vw(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Th(e,t,r,n,o){var a=Ht(r)?Fs:jt.current;return a=Xo(t,a),Do(t,o),r=hm(e,t,r,n,a,o),n=fm(),e!==null&&!Ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,vn(e,t,o)):(Ue&&n&&em(t),t.flags|=1,Ct(e,t,r,o),t.child)}function Rg(e,t,r,n,o){if(Ht(r)){var a=!0;pc(t)}else a=!1;if(Do(t,o),t.stateNode===null)ql(e,t),mw(t,r,n),Eh(t,r,n,o),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=hr(u):(u=Ht(r)?Fs:jt.current,u=Xo(t,u));var h=r.getDerivedStateFromProps,d=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&_g(t,i,n,u),Ln=!1;var m=t.memoizedState;i.state=m,wc(t,n,i,o),c=t.memoizedState,l!==n||m!==c||zt.current||Ln?(typeof h=="function"&&(kh(t,r,h,n),c=t.memoizedState),(l=Ln||Sg(t,r,l,n,m,c,u))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,qv(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:jr(t.type,l),i.props=u,d=t.pendingProps,m=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=hr(c):(c=Ht(r)?Fs:jt.current,c=Xo(t,c));var v=r.getDerivedStateFromProps;(h=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==d||m!==c)&&_g(t,i,n,c),Ln=!1,m=t.memoizedState,i.state=m,wc(t,n,i,o);var b=t.memoizedState;l!==d||m!==b||zt.current||Ln?(typeof v=="function"&&(kh(t,r,v,n),b=t.memoizedState),(u=Ln||Sg(t,r,u,n,m,b,c)||!1)?(h||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,b,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,b,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),i.props=n,i.state=b,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Rh(e,t,r,n,a,o)}function Rh(e,t,r,n,o,a){vw(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return o&&gg(t,r,!1),vn(e,t,a);n=t.stateNode,DC.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=ea(t,e.child,null,a),t.child=ea(t,null,l,a)):Ct(e,t,l,a),t.memoizedState=n.state,o&&gg(t,r,!0),t.child}function ww(e){var t=e.stateNode;t.pendingContext?pg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&pg(e,t.context,!1),lm(e,t.containerInfo)}function Ag(e,t,r,n,o){return Zo(),rm(o),t.flags|=256,Ct(e,t,r,n),t.child}var Ah={dehydrated:null,treeContext:null,retryLane:0};function Ih(e){return{baseLanes:e,cachePool:null,transitions:null}}function bw(e,t,r){var n=t.pendingProps,o=Fe.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Ae(Fe,o&1),e===null)return _h(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,a?(n=t.mode,a=t.child,i={mode:"hidden",children:i},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=iu(i,n,0,null),e=Us(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ih(r),t.memoizedState=Ah,e):gm(t,i));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return LC(e,t,i,n,l,o,r);if(a){a=n.fallback,i=t.mode,o=e.child,l=o.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==o?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ns(o,c),n.subtreeFlags=o.subtreeFlags&14680064),l!==null?a=ns(l,a):(a=Us(a,i,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,i=e.child.memoizedState,i=i===null?Ih(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~r,t.memoizedState=Ah,n}return a=e.child,e=a.sibling,n=ns(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function gm(e,t){return t=iu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Nl(e,t,r,n){return n!==null&&rm(n),ea(t,e.child,null,r),e=gm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function LC(e,t,r,n,o,a,i){if(r)return t.flags&256?(t.flags&=-257,n=Nd(Error(K(422))),Nl(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,o=t.mode,n=iu({mode:"visible",children:n.children},o,0,null),a=Us(a,o,i,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&ea(t,e.child,null,i),t.child.memoizedState=Ih(i),t.memoizedState=Ah,a);if(!(t.mode&1))return Nl(e,t,i,null);if(o.data==="$!"){if(n=o.nextSibling&&o.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(K(419)),n=Nd(a,n,void 0),Nl(e,t,i,n)}if(l=(i&e.childLanes)!==0,Ft||l){if(n=lt,n!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(n.suspendedLanes|i)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,xn(e,o),Tr(n,e,o,-1))}return jm(),n=Nd(Error(K(421))),Nl(e,t,i,n)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=QC.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,Yt=Zn(o.nextSibling),Jt=t,Ue=!0,Er=null,e!==null&&(or[ar++]=un,or[ar++]=dn,or[ar++]=zs,un=e.id,dn=e.overflow,zs=t),t=gm(t,n.children),t.flags|=4096,t)}function Ig(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Ch(e.return,t,r)}function Sd(e,t,r,n,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=o)}function jw(e,t,r){var n=t.pendingProps,o=n.revealOrder,a=n.tail;if(Ct(e,t,n.children,r),n=Fe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ig(e,r,t);else if(e.tag===19)Ig(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ae(Fe,n),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(r=t.child,o=null;r!==null;)e=r.alternate,e!==null&&bc(e)===null&&(o=r),r=r.sibling;r=o,r===null?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),Sd(t,!1,o,r,a);break;case"backwards":for(r=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&bc(e)===null){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}Sd(t,!0,r,null,a);break;case"together":Sd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ql(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Bs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(K(153));if(t.child!==null){for(e=t.child,r=ns(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ns(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function $C(e,t,r){switch(t.tag){case 3:ww(t),Zo();break;case 5:Gv(t);break;case 1:Ht(t.type)&&pc(t);break;case 4:lm(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,o=t.memoizedProps.value;Ae(xc,n._currentValue),n._currentValue=o;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ae(Fe,Fe.current&1),t.flags|=128,null):r&t.child.childLanes?bw(e,t,r):(Ae(Fe,Fe.current&1),e=vn(e,t,r),e!==null?e.sibling:null);Ae(Fe,Fe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return jw(e,t,r);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ae(Fe,Fe.current),n)break;return null;case 22:case 23:return t.lanes=0,xw(e,t,r)}return vn(e,t,r)}var Nw,Oh,Sw,_w;Nw=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Oh=function(){};Sw=function(e,t,r,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,Ts(Gr.current);var a=null;switch(r){case"input":o=rh(e,o),n=rh(e,n),a=[];break;case"select":o=Be({},o,{value:void 0}),n=Be({},n,{value:void 0}),a=[];break;case"textarea":o=oh(e,o),n=oh(e,n),a=[];break;default:typeof o.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=fc)}ih(r,n);var i;r=null;for(u in o)if(!n.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var l=o[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fi.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=o!=null?o[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fi.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&De("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};_w=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ua(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function wt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags&14680064,n|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function UC(e,t,r){var n=t.pendingProps;switch(tm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(t),null;case 1:return Ht(t.type)&&mc(),wt(t),null;case 3:return n=t.stateNode,ta(),Le(zt),Le(jt),um(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(bl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Er!==null&&(Hh(Er),Er=null))),Oh(e,t),wt(t),null;case 5:cm(t);var o=Ts(_i.current);if(r=t.type,e!==null&&t.stateNode!=null)Sw(e,t,r,n,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(K(166));return wt(t),null}if(e=Ts(Gr.current),bl(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Br]=t,n[Ni]=a,e=(t.mode&1)!==0,r){case"dialog":De("cancel",n),De("close",n);break;case"iframe":case"object":case"embed":De("load",n);break;case"video":case"audio":for(o=0;o<Ya.length;o++)De(Ya[o],n);break;case"source":De("error",n);break;case"img":case"image":case"link":De("error",n),De("load",n);break;case"details":De("toggle",n);break;case"input":Hp(n,a),De("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},De("invalid",n);break;case"textarea":Wp(n,a),De("invalid",n)}ih(r,a),o=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&wl(n.textContent,l,e),o=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&wl(n.textContent,l,e),o=["children",""+l]):fi.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&De("scroll",n)}switch(r){case"input":hl(n),Bp(n,a,!0);break;case"textarea":hl(n),Vp(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=fc)}n=o,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Zx(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Br]=t,e[Ni]=n,Nw(e,t,!1,!1),t.stateNode=e;e:{switch(i=lh(r,n),r){case"dialog":De("cancel",e),De("close",e),o=n;break;case"iframe":case"object":case"embed":De("load",e),o=n;break;case"video":case"audio":for(o=0;o<Ya.length;o++)De(Ya[o],e);o=n;break;case"source":De("error",e),o=n;break;case"img":case"image":case"link":De("error",e),De("load",e),o=n;break;case"details":De("toggle",e),o=n;break;case"input":Hp(e,n),o=rh(e,n),De("invalid",e);break;case"option":o=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=Be({},n,{value:void 0}),De("invalid",e);break;case"textarea":Wp(e,n),o=oh(e,n),De("invalid",e);break;default:o=n}ih(r,o),l=o;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?rv(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ev(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&mi(e,c):typeof c=="number"&&mi(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(fi.hasOwnProperty(a)?c!=null&&a==="onScroll"&&De("scroll",e):c!=null&&Ff(e,a,c,i))}switch(r){case"input":hl(e),Bp(e,n,!1);break;case"textarea":hl(e),Vp(e);break;case"option":n.value!=null&&e.setAttribute("value",""+as(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Ao(e,!!n.multiple,a,!1):n.defaultValue!=null&&Ao(e,!!n.multiple,n.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=fc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return wt(t),null;case 6:if(e&&t.stateNode!=null)_w(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(K(166));if(r=Ts(_i.current),Ts(Gr.current),bl(t)){if(n=t.stateNode,r=t.memoizedProps,n[Br]=t,(a=n.nodeValue!==r)&&(e=Jt,e!==null))switch(e.tag){case 3:wl(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&wl(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Br]=t,t.stateNode=n}return wt(t),null;case 13:if(Le(Fe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ue&&Yt!==null&&t.mode&1&&!(t.flags&128))Bv(),Zo(),t.flags|=98560,a=!1;else if(a=bl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(K(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(K(317));a[Br]=t}else Zo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;wt(t),a=!1}else Er!==null&&(Hh(Er),Er=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Fe.current&1?tt===0&&(tt=3):jm())),t.updateQueue!==null&&(t.flags|=4),wt(t),null);case 4:return ta(),Oh(e,t),e===null&&bi(t.stateNode.containerInfo),wt(t),null;case 10:return om(t.type._context),wt(t),null;case 17:return Ht(t.type)&&mc(),wt(t),null;case 19:if(Le(Fe),a=t.memoizedState,a===null)return wt(t),null;if(n=(t.flags&128)!==0,i=a.rendering,i===null)if(n)Ua(a,!1);else{if(tt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=bc(e),i!==null){for(t.flags|=128,Ua(a,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ae(Fe,Fe.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ke()>na&&(t.flags|=128,n=!0,Ua(a,!1),t.lanes=4194304)}else{if(!n)if(e=bc(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ua(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!Ue)return wt(t),null}else 2*Ke()-a.renderingStartTime>na&&r!==1073741824&&(t.flags|=128,n=!0,Ua(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(r=a.last,r!==null?r.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ke(),t.sibling=null,r=Fe.current,Ae(Fe,n?r&1|2:r&1),t):(wt(t),null);case 22:case 23:return bm(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?qt&1073741824&&(wt(t),t.subtreeFlags&6&&(t.flags|=8192)):wt(t),null;case 24:return null;case 25:return null}throw Error(K(156,t.tag))}function FC(e,t){switch(tm(t),t.tag){case 1:return Ht(t.type)&&mc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ta(),Le(zt),Le(jt),um(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return cm(t),null;case 13:if(Le(Fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(K(340));Zo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Le(Fe),null;case 4:return ta(),null;case 10:return om(t.type._context),null;case 22:case 23:return bm(),null;case 24:return null;default:return null}}var Sl=!1,bt=!1,zC=typeof WeakSet=="function"?WeakSet:Set,se=null;function To(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ve(e,t,n)}else r.current=null}function Mh(e,t,r){try{r()}catch(n){Ve(e,t,n)}}var Og=!1;function HC(e,t){if(xh=uc,e=Tv(),Zf(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var o=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,h=0,d=e,m=null;t:for(;;){for(var v;d!==r||o!==0&&d.nodeType!==3||(l=i+o),d!==a||n!==0&&d.nodeType!==3||(c=i+n),d.nodeType===3&&(i+=d.nodeValue.length),(v=d.firstChild)!==null;)m=d,d=v;for(;;){if(d===e)break t;if(m===r&&++u===o&&(l=i),m===a&&++h===n&&(c=i),(v=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=v}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(vh={focusedElem:e,selectionRange:r},uc=!1,se=t;se!==null;)if(t=se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,se=e;else for(;se!==null;){t=se;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var y=b.memoizedProps,w=b.memoizedState,p=t.stateNode,g=p.getSnapshotBeforeUpdate(t.elementType===t.type?y:jr(t.type,y),w);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(j){Ve(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,se=e;break}se=t.return}return b=Og,Og=!1,b}function ai(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,a!==void 0&&Mh(t,r,a)}o=o.next}while(o!==n)}}function ou(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Dh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Cw(e){var t=e.alternate;t!==null&&(e.alternate=null,Cw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Br],delete t[Ni],delete t[jh],delete t[SC],delete t[_C])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function kw(e){return e.tag===5||e.tag===3||e.tag===4}function Mg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=fc));else if(n!==4&&(e=e.child,e!==null))for(Lh(e,t,r),e=e.sibling;e!==null;)Lh(e,t,r),e=e.sibling}function $h(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for($h(e,t,r),e=e.sibling;e!==null;)$h(e,t,r),e=e.sibling}var ht=null,Cr=!1;function Pn(e,t,r){for(r=r.child;r!==null;)Ew(e,t,r),r=r.sibling}function Ew(e,t,r){if(qr&&typeof qr.onCommitFiberUnmount=="function")try{qr.onCommitFiberUnmount(Jc,r)}catch{}switch(r.tag){case 5:bt||To(r,t);case 6:var n=ht,o=Cr;ht=null,Pn(e,t,r),ht=n,Cr=o,ht!==null&&(Cr?(e=ht,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ht.removeChild(r.stateNode));break;case 18:ht!==null&&(Cr?(e=ht,r=r.stateNode,e.nodeType===8?yd(e.parentNode,r):e.nodeType===1&&yd(e,r),xi(e)):yd(ht,r.stateNode));break;case 4:n=ht,o=Cr,ht=r.stateNode.containerInfo,Cr=!0,Pn(e,t,r),ht=n,Cr=o;break;case 0:case 11:case 14:case 15:if(!bt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){o=n=n.next;do{var a=o,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Mh(r,t,i),o=o.next}while(o!==n)}Pn(e,t,r);break;case 1:if(!bt&&(To(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ve(r,t,l)}Pn(e,t,r);break;case 21:Pn(e,t,r);break;case 22:r.mode&1?(bt=(n=bt)||r.memoizedState!==null,Pn(e,t,r),bt=n):Pn(e,t,r);break;default:Pn(e,t,r)}}function Dg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new zC),t.forEach(function(n){var o=JC.bind(null,e,n);r.has(n)||(r.add(n),n.then(o,o))})}}function vr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var o=r[n];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:ht=l.stateNode,Cr=!1;break e;case 3:ht=l.stateNode.containerInfo,Cr=!0;break e;case 4:ht=l.stateNode.containerInfo,Cr=!0;break e}l=l.return}if(ht===null)throw Error(K(160));Ew(a,i,o),ht=null,Cr=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(u){Ve(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Pw(t,e),t=t.sibling}function Pw(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vr(t,e),Dr(e),n&4){try{ai(3,e,e.return),ou(3,e)}catch(y){Ve(e,e.return,y)}try{ai(5,e,e.return)}catch(y){Ve(e,e.return,y)}}break;case 1:vr(t,e),Dr(e),n&512&&r!==null&&To(r,r.return);break;case 5:if(vr(t,e),Dr(e),n&512&&r!==null&&To(r,r.return),e.flags&32){var o=e.stateNode;try{mi(o,"")}catch(y){Ve(e,e.return,y)}}if(n&4&&(o=e.stateNode,o!=null)){var a=e.memoizedProps,i=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Jx(o,a),lh(l,i);var u=lh(l,a);for(i=0;i<c.length;i+=2){var h=c[i],d=c[i+1];h==="style"?rv(o,d):h==="dangerouslySetInnerHTML"?ev(o,d):h==="children"?mi(o,d):Ff(o,h,d,u)}switch(l){case"input":nh(o,a);break;case"textarea":Xx(o,a);break;case"select":var m=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?Ao(o,!!a.multiple,v,!1):m!==!!a.multiple&&(a.defaultValue!=null?Ao(o,!!a.multiple,a.defaultValue,!0):Ao(o,!!a.multiple,a.multiple?[]:"",!1))}o[Ni]=a}catch(y){Ve(e,e.return,y)}}break;case 6:if(vr(t,e),Dr(e),n&4){if(e.stateNode===null)throw Error(K(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(y){Ve(e,e.return,y)}}break;case 3:if(vr(t,e),Dr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{xi(t.containerInfo)}catch(y){Ve(e,e.return,y)}break;case 4:vr(t,e),Dr(e);break;case 13:vr(t,e),Dr(e),o=e.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(vm=Ke())),n&4&&Dg(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(bt=(u=bt)||h,vr(t,e),bt=u):vr(t,e),Dr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(se=e,h=e.child;h!==null;){for(d=se=h;se!==null;){switch(m=se,v=m.child,m.tag){case 0:case 11:case 14:case 15:ai(4,m,m.return);break;case 1:To(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(y){Ve(n,r,y)}}break;case 5:To(m,m.return);break;case 22:if(m.memoizedState!==null){$g(d);continue}}v!==null?(v.return=m,se=v):$g(d)}h=h.sibling}e:for(h=null,d=e;;){if(d.tag===5){if(h===null){h=d;try{o=d.stateNode,u?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=d.stateNode,c=d.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=tv("display",i))}catch(y){Ve(e,e.return,y)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){Ve(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vr(t,e),Dr(e),n&4&&Dg(e);break;case 21:break;default:vr(t,e),Dr(e)}}function Dr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(kw(r)){var n=r;break e}r=r.return}throw Error(K(160))}switch(n.tag){case 5:var o=n.stateNode;n.flags&32&&(mi(o,""),n.flags&=-33);var a=Mg(e);$h(e,a,o);break;case 3:case 4:var i=n.stateNode.containerInfo,l=Mg(e);Lh(e,l,i);break;default:throw Error(K(161))}}catch(c){Ve(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function BC(e,t,r){se=e,Tw(e)}function Tw(e,t,r){for(var n=(e.mode&1)!==0;se!==null;){var o=se,a=o.child;if(o.tag===22&&n){var i=o.memoizedState!==null||Sl;if(!i){var l=o.alternate,c=l!==null&&l.memoizedState!==null||bt;l=Sl;var u=bt;if(Sl=i,(bt=c)&&!u)for(se=o;se!==null;)i=se,c=i.child,i.tag===22&&i.memoizedState!==null?Ug(o):c!==null?(c.return=i,se=c):Ug(o);for(;a!==null;)se=a,Tw(a),a=a.sibling;se=o,Sl=l,bt=u}Lg(e)}else o.subtreeFlags&8772&&a!==null?(a.return=o,se=a):Lg(e)}}function Lg(e){for(;se!==null;){var t=se;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:bt||ou(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!bt)if(r===null)n.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:jr(t.type,r.memoizedProps);n.componentDidUpdate(o,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&bg(t,a,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}bg(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&xi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}bt||t.flags&512&&Dh(t)}catch(m){Ve(t,t.return,m)}}if(t===e){se=null;break}if(r=t.sibling,r!==null){r.return=t.return,se=r;break}se=t.return}}function $g(e){for(;se!==null;){var t=se;if(t===e){se=null;break}var r=t.sibling;if(r!==null){r.return=t.return,se=r;break}se=t.return}}function Ug(e){for(;se!==null;){var t=se;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ou(4,t)}catch(c){Ve(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var o=t.return;try{n.componentDidMount()}catch(c){Ve(t,o,c)}}var a=t.return;try{Dh(t)}catch(c){Ve(t,a,c)}break;case 5:var i=t.return;try{Dh(t)}catch(c){Ve(t,i,c)}}}catch(c){Ve(t,t.return,c)}if(t===e){se=null;break}var l=t.sibling;if(l!==null){l.return=t.return,se=l;break}se=t.return}}var WC=Math.ceil,Sc=Sn.ReactCurrentDispatcher,ym=Sn.ReactCurrentOwner,cr=Sn.ReactCurrentBatchConfig,_e=0,lt=null,Xe=null,mt=0,qt=0,Ro=ds(0),tt=0,Pi=null,Bs=0,au=0,xm=0,ii=null,$t=null,vm=0,na=1/0,on=null,_c=!1,Uh=null,ts=null,_l=!1,Gn=null,Cc=0,li=0,Fh=null,Gl=-1,Yl=0;function Pt(){return _e&6?Ke():Gl!==-1?Gl:Gl=Ke()}function rs(e){return e.mode&1?_e&2&&mt!==0?mt&-mt:kC.transition!==null?(Yl===0&&(Yl=mv()),Yl):(e=Ee,e!==0||(e=window.event,e=e===void 0?16:bv(e.type)),e):1}function Tr(e,t,r,n){if(50<li)throw li=0,Fh=null,Error(K(185));Vi(e,r,n),(!(_e&2)||e!==lt)&&(e===lt&&(!(_e&2)&&(au|=r),tt===4&&Un(e,mt)),Bt(e,n),r===1&&_e===0&&!(t.mode&1)&&(na=Ke()+500,ru&&hs()))}function Bt(e,t){var r=e.callbackNode;k_(e,t);var n=cc(e,e===lt?mt:0);if(n===0)r!==null&&Gp(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Gp(r),t===1)e.tag===0?CC(Fg.bind(null,e)):Fv(Fg.bind(null,e)),jC(function(){!(_e&6)&&hs()}),r=null;else{switch(pv(n)){case 1:r=Vf;break;case 4:r=hv;break;case 16:r=lc;break;case 536870912:r=fv;break;default:r=lc}r=$w(r,Rw.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Rw(e,t){if(Gl=-1,Yl=0,_e&6)throw Error(K(327));var r=e.callbackNode;if(Lo()&&e.callbackNode!==r)return null;var n=cc(e,e===lt?mt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=kc(e,n);else{t=n;var o=_e;_e|=2;var a=Iw();(lt!==e||mt!==t)&&(on=null,na=Ke()+500,$s(e,t));do try{qC();break}catch(l){Aw(e,l)}while(!0);sm(),Sc.current=a,_e=o,Xe!==null?t=0:(lt=null,mt=0,t=tt)}if(t!==0){if(t===2&&(o=fh(e),o!==0&&(n=o,t=zh(e,o))),t===1)throw r=Pi,$s(e,0),Un(e,n),Bt(e,Ke()),r;if(t===6)Un(e,n);else{if(o=e.current.alternate,!(n&30)&&!VC(o)&&(t=kc(e,n),t===2&&(a=fh(e),a!==0&&(n=a,t=zh(e,a))),t===1))throw r=Pi,$s(e,0),Un(e,n),Bt(e,Ke()),r;switch(e.finishedWork=o,e.finishedLanes=n,t){case 0:case 1:throw Error(K(345));case 2:js(e,$t,on);break;case 3:if(Un(e,n),(n&130023424)===n&&(t=vm+500-Ke(),10<t)){if(cc(e,0)!==0)break;if(o=e.suspendedLanes,(o&n)!==n){Pt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=bh(js.bind(null,e,$t,on),t);break}js(e,$t,on);break;case 4:if(Un(e,n),(n&4194240)===n)break;for(t=e.eventTimes,o=-1;0<n;){var i=31-Pr(n);a=1<<i,i=t[i],i>o&&(o=i),n&=~a}if(n=o,n=Ke()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*WC(n/1960))-n,10<n){e.timeoutHandle=bh(js.bind(null,e,$t,on),n);break}js(e,$t,on);break;case 5:js(e,$t,on);break;default:throw Error(K(329))}}}return Bt(e,Ke()),e.callbackNode===r?Rw.bind(null,e):null}function zh(e,t){var r=ii;return e.current.memoizedState.isDehydrated&&($s(e,t).flags|=256),e=kc(e,t),e!==2&&(t=$t,$t=r,t!==null&&Hh(t)),e}function Hh(e){$t===null?$t=e:$t.push.apply($t,e)}function VC(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var o=r[n],a=o.getSnapshot;o=o.value;try{if(!Rr(a(),o))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Un(e,t){for(t&=~xm,t&=~au,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Pr(t),n=1<<r;e[r]=-1,t&=~n}}function Fg(e){if(_e&6)throw Error(K(327));Lo();var t=cc(e,0);if(!(t&1))return Bt(e,Ke()),null;var r=kc(e,t);if(e.tag!==0&&r===2){var n=fh(e);n!==0&&(t=n,r=zh(e,n))}if(r===1)throw r=Pi,$s(e,0),Un(e,t),Bt(e,Ke()),r;if(r===6)throw Error(K(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,js(e,$t,on),Bt(e,Ke()),null}function wm(e,t){var r=_e;_e|=1;try{return e(t)}finally{_e=r,_e===0&&(na=Ke()+500,ru&&hs())}}function Ws(e){Gn!==null&&Gn.tag===0&&!(_e&6)&&Lo();var t=_e;_e|=1;var r=cr.transition,n=Ee;try{if(cr.transition=null,Ee=1,e)return e()}finally{Ee=n,cr.transition=r,_e=t,!(_e&6)&&hs()}}function bm(){qt=Ro.current,Le(Ro)}function $s(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,bC(r)),Xe!==null)for(r=Xe.return;r!==null;){var n=r;switch(tm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&mc();break;case 3:ta(),Le(zt),Le(jt),um();break;case 5:cm(n);break;case 4:ta();break;case 13:Le(Fe);break;case 19:Le(Fe);break;case 10:om(n.type._context);break;case 22:case 23:bm()}r=r.return}if(lt=e,Xe=e=ns(e.current,null),mt=qt=t,tt=0,Pi=null,xm=au=Bs=0,$t=ii=null,Ps!==null){for(t=0;t<Ps.length;t++)if(r=Ps[t],n=r.interleaved,n!==null){r.interleaved=null;var o=n.next,a=r.pending;if(a!==null){var i=a.next;a.next=o,n.next=i}r.pending=n}Ps=null}return e}function Aw(e,t){do{var r=Xe;try{if(sm(),Vl.current=Nc,jc){for(var n=ze.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}jc=!1}if(Hs=0,at=et=ze=null,oi=!1,Ci=0,ym.current=null,r===null||r.return===null){tt=1,Pi=t,Xe=null;break}e:{var a=e,i=r.return,l=r,c=t;if(t=mt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=kg(i);if(v!==null){v.flags&=-257,Eg(v,i,l,a,t),v.mode&1&&Cg(a,u,t),t=v,c=u;var b=t.updateQueue;if(b===null){var y=new Set;y.add(c),t.updateQueue=y}else b.add(c);break e}else{if(!(t&1)){Cg(a,u,t),jm();break e}c=Error(K(426))}}else if(Ue&&l.mode&1){var w=kg(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Eg(w,i,l,a,t),rm(ra(c,l));break e}}a=c=ra(c,l),tt!==4&&(tt=2),ii===null?ii=[a]:ii.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var p=pw(a,c,t);wg(a,p);break e;case 1:l=c;var g=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ts===null||!ts.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=gw(a,l,t);wg(a,j);break e}}a=a.return}while(a!==null)}Mw(r)}catch(N){t=N,Xe===r&&r!==null&&(Xe=r=r.return);continue}break}while(!0)}function Iw(){var e=Sc.current;return Sc.current=Nc,e===null?Nc:e}function jm(){(tt===0||tt===3||tt===2)&&(tt=4),lt===null||!(Bs&268435455)&&!(au&268435455)||Un(lt,mt)}function kc(e,t){var r=_e;_e|=2;var n=Iw();(lt!==e||mt!==t)&&(on=null,$s(e,t));do try{KC();break}catch(o){Aw(e,o)}while(!0);if(sm(),_e=r,Sc.current=n,Xe!==null)throw Error(K(261));return lt=null,mt=0,tt}function KC(){for(;Xe!==null;)Ow(Xe)}function qC(){for(;Xe!==null&&!x_();)Ow(Xe)}function Ow(e){var t=Lw(e.alternate,e,qt);e.memoizedProps=e.pendingProps,t===null?Mw(e):Xe=t,ym.current=null}function Mw(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=FC(r,t),r!==null){r.flags&=32767,Xe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{tt=6,Xe=null;return}}else if(r=UC(r,t,qt),r!==null){Xe=r;return}if(t=t.sibling,t!==null){Xe=t;return}Xe=t=e}while(t!==null);tt===0&&(tt=5)}function js(e,t,r){var n=Ee,o=cr.transition;try{cr.transition=null,Ee=1,GC(e,t,r,n)}finally{cr.transition=o,Ee=n}return null}function GC(e,t,r,n){do Lo();while(Gn!==null);if(_e&6)throw Error(K(327));r=e.finishedWork;var o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(K(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(E_(e,a),e===lt&&(Xe=lt=null,mt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||_l||(_l=!0,$w(lc,function(){return Lo(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=cr.transition,cr.transition=null;var i=Ee;Ee=1;var l=_e;_e|=4,ym.current=null,HC(e,r),Pw(r,e),mC(vh),uc=!!xh,vh=xh=null,e.current=r,BC(r),v_(),_e=l,Ee=i,cr.transition=a}else e.current=r;if(_l&&(_l=!1,Gn=e,Cc=o),a=e.pendingLanes,a===0&&(ts=null),j_(r.stateNode),Bt(e,Ke()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)o=t[r],n(o.value,{componentStack:o.stack,digest:o.digest});if(_c)throw _c=!1,e=Uh,Uh=null,e;return Cc&1&&e.tag!==0&&Lo(),a=e.pendingLanes,a&1?e===Fh?li++:(li=0,Fh=e):li=0,hs(),null}function Lo(){if(Gn!==null){var e=pv(Cc),t=cr.transition,r=Ee;try{if(cr.transition=null,Ee=16>e?16:e,Gn===null)var n=!1;else{if(e=Gn,Gn=null,Cc=0,_e&6)throw Error(K(331));var o=_e;for(_e|=4,se=e.current;se!==null;){var a=se,i=a.child;if(se.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(se=u;se!==null;){var h=se;switch(h.tag){case 0:case 11:case 15:ai(8,h,a)}var d=h.child;if(d!==null)d.return=h,se=d;else for(;se!==null;){h=se;var m=h.sibling,v=h.return;if(Cw(h),h===u){se=null;break}if(m!==null){m.return=v,se=m;break}se=v}}}var b=a.alternate;if(b!==null){var y=b.child;if(y!==null){b.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}se=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,se=i;else e:for(;se!==null;){if(a=se,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ai(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,se=p;break e}se=a.return}}var g=e.current;for(se=g;se!==null;){i=se;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,se=x;else e:for(i=g;se!==null;){if(l=se,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ou(9,l)}}catch(N){Ve(l,l.return,N)}if(l===i){se=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,se=j;break e}se=l.return}}if(_e=o,hs(),qr&&typeof qr.onPostCommitFiberRoot=="function")try{qr.onPostCommitFiberRoot(Jc,e)}catch{}n=!0}return n}finally{Ee=r,cr.transition=t}}return!1}function zg(e,t,r){t=ra(r,t),t=pw(e,t,1),e=es(e,t,1),t=Pt(),e!==null&&(Vi(e,1,t),Bt(e,t))}function Ve(e,t,r){if(e.tag===3)zg(e,e,r);else for(;t!==null;){if(t.tag===3){zg(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ts===null||!ts.has(n))){e=ra(r,e),e=gw(t,e,1),t=es(t,e,1),e=Pt(),t!==null&&(Vi(t,1,e),Bt(t,e));break}}t=t.return}}function YC(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Pt(),e.pingedLanes|=e.suspendedLanes&r,lt===e&&(mt&r)===r&&(tt===4||tt===3&&(mt&130023424)===mt&&500>Ke()-vm?$s(e,0):xm|=r),Bt(e,t)}function Dw(e,t){t===0&&(e.mode&1?(t=pl,pl<<=1,!(pl&130023424)&&(pl=4194304)):t=1);var r=Pt();e=xn(e,t),e!==null&&(Vi(e,t,r),Bt(e,r))}function QC(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Dw(e,r)}function JC(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;o!==null&&(r=o.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(K(314))}n!==null&&n.delete(t),Dw(e,r)}var Lw;Lw=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||zt.current)Ft=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ft=!1,$C(e,t,r);Ft=!!(e.flags&131072)}else Ft=!1,Ue&&t.flags&1048576&&zv(t,yc,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ql(e,t),e=t.pendingProps;var o=Xo(t,jt.current);Do(t,r),o=hm(null,t,n,e,o,r);var a=fm();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ht(n)?(a=!0,pc(t)):a=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,im(t),o.updater=su,t.stateNode=o,o._reactInternals=t,Eh(t,n,e,r),t=Rh(null,t,n,!0,a,r)):(t.tag=0,Ue&&a&&em(t),Ct(null,t,o,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ql(e,t),e=t.pendingProps,o=n._init,n=o(n._payload),t.type=n,o=t.tag=ZC(n),e=jr(n,e),o){case 0:t=Th(null,t,n,e,r);break e;case 1:t=Rg(null,t,n,e,r);break e;case 11:t=Pg(null,t,n,e,r);break e;case 14:t=Tg(null,t,n,jr(n.type,e),r);break e}throw Error(K(306,n,""))}return t;case 0:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:jr(n,o),Th(e,t,n,o,r);case 1:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:jr(n,o),Rg(e,t,n,o,r);case 3:e:{if(ww(t),e===null)throw Error(K(387));n=t.pendingProps,a=t.memoizedState,o=a.element,qv(e,t),wc(t,n,null,r);var i=t.memoizedState;if(n=i.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){o=ra(Error(K(423)),t),t=Ag(e,t,n,r,o);break e}else if(n!==o){o=ra(Error(K(424)),t),t=Ag(e,t,n,r,o);break e}else for(Yt=Zn(t.stateNode.containerInfo.firstChild),Jt=t,Ue=!0,Er=null,r=Vv(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Zo(),n===o){t=vn(e,t,r);break e}Ct(e,t,n,r)}t=t.child}return t;case 5:return Gv(t),e===null&&_h(t),n=t.type,o=t.pendingProps,a=e!==null?e.memoizedProps:null,i=o.children,wh(n,o)?i=null:a!==null&&wh(n,a)&&(t.flags|=32),vw(e,t),Ct(e,t,i,r),t.child;case 6:return e===null&&_h(t),null;case 13:return bw(e,t,r);case 4:return lm(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ea(t,null,n,r):Ct(e,t,n,r),t.child;case 11:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:jr(n,o),Pg(e,t,n,o,r);case 7:return Ct(e,t,t.pendingProps,r),t.child;case 8:return Ct(e,t,t.pendingProps.children,r),t.child;case 12:return Ct(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,o=t.pendingProps,a=t.memoizedProps,i=o.value,Ae(xc,n._currentValue),n._currentValue=i,a!==null)if(Rr(a.value,i)){if(a.children===o.children&&!zt.current){t=vn(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=mn(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Ch(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(K(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Ch(i,r,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}Ct(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,n=t.pendingProps.children,Do(t,r),o=hr(o),n=n(o),t.flags|=1,Ct(e,t,n,r),t.child;case 14:return n=t.type,o=jr(n,t.pendingProps),o=jr(n.type,o),Tg(e,t,n,o,r);case 15:return yw(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:jr(n,o),ql(e,t),t.tag=1,Ht(n)?(e=!0,pc(t)):e=!1,Do(t,r),mw(t,n,o),Eh(t,n,o,r),Rh(null,t,n,!0,e,r);case 19:return jw(e,t,r);case 22:return xw(e,t,r)}throw Error(K(156,t.tag))};function $w(e,t){return dv(e,t)}function XC(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(e,t,r,n){return new XC(e,t,r,n)}function Nm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ZC(e){if(typeof e=="function")return Nm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Hf)return 11;if(e===Bf)return 14}return 2}function ns(e,t){var r=e.alternate;return r===null?(r=lr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ql(e,t,r,n,o,a){var i=2;if(n=e,typeof e=="function")Nm(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case bo:return Us(r.children,o,a,t);case zf:i=8,o|=8;break;case Xd:return e=lr(12,r,t,o|2),e.elementType=Xd,e.lanes=a,e;case Zd:return e=lr(13,r,t,o),e.elementType=Zd,e.lanes=a,e;case eh:return e=lr(19,r,t,o),e.elementType=eh,e.lanes=a,e;case Gx:return iu(r,o,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Kx:i=10;break e;case qx:i=9;break e;case Hf:i=11;break e;case Bf:i=14;break e;case Dn:i=16,n=null;break e}throw Error(K(130,e==null?e:typeof e,""))}return t=lr(i,r,t,o),t.elementType=e,t.type=n,t.lanes=a,t}function Us(e,t,r,n){return e=lr(7,e,n,t),e.lanes=r,e}function iu(e,t,r,n){return e=lr(22,e,n,t),e.elementType=Gx,e.lanes=r,e.stateNode={isHidden:!1},e}function _d(e,t,r){return e=lr(6,e,null,t),e.lanes=r,e}function Cd(e,t,r){return t=lr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ek(e,t,r,n,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ad(0),this.expirationTimes=ad(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ad(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Sm(e,t,r,n,o,a,i,l,c){return e=new ek(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=lr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},im(a),e}function tk(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Uw(e){if(!e)return is;e=e._reactInternals;e:{if(eo(e)!==e||e.tag!==1)throw Error(K(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(K(171))}if(e.tag===1){var r=e.type;if(Ht(r))return Uv(e,r,t)}return t}function Fw(e,t,r,n,o,a,i,l,c){return e=Sm(r,n,!0,e,o,a,i,l,c),e.context=Uw(null),r=e.current,n=Pt(),o=rs(r),a=mn(n,o),a.callback=t??null,es(r,a,o),e.current.lanes=o,Vi(e,o,n),Bt(e,n),e}function lu(e,t,r,n){var o=t.current,a=Pt(),i=rs(o);return r=Uw(r),t.context===null?t.context=r:t.pendingContext=r,t=mn(a,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=es(o,t,i),e!==null&&(Tr(e,o,i,a),Wl(e,o,i)),i}function Ec(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Hg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function _m(e,t){Hg(e,t),(e=e.alternate)&&Hg(e,t)}function rk(){return null}var zw=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cm(e){this._internalRoot=e}cu.prototype.render=Cm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(K(409));lu(e,t,null,null)};cu.prototype.unmount=Cm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ws(function(){lu(null,e,null,null)}),t[yn]=null}};function cu(e){this._internalRoot=e}cu.prototype.unstable_scheduleHydration=function(e){if(e){var t=xv();e={blockedOn:null,target:e,priority:t};for(var r=0;r<$n.length&&t!==0&&t<$n[r].priority;r++);$n.splice(r,0,e),r===0&&wv(e)}};function km(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function uu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Bg(){}function nk(e,t,r,n,o){if(o){if(typeof n=="function"){var a=n;n=function(){var u=Ec(i);a.call(u)}}var i=Fw(t,n,e,0,null,!1,!1,"",Bg);return e._reactRootContainer=i,e[yn]=i.current,bi(e.nodeType===8?e.parentNode:e),Ws(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof n=="function"){var l=n;n=function(){var u=Ec(c);l.call(u)}}var c=Sm(e,0,!1,null,null,!1,!1,"",Bg);return e._reactRootContainer=c,e[yn]=c.current,bi(e.nodeType===8?e.parentNode:e),Ws(function(){lu(t,c,r,n)}),c}function du(e,t,r,n,o){var a=r._reactRootContainer;if(a){var i=a;if(typeof o=="function"){var l=o;o=function(){var c=Ec(i);l.call(c)}}lu(t,i,e,o)}else i=nk(r,t,e,o,n);return Ec(i)}gv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ga(t.pendingLanes);r!==0&&(Kf(t,r|1),Bt(t,Ke()),!(_e&6)&&(na=Ke()+500,hs()))}break;case 13:Ws(function(){var n=xn(e,1);if(n!==null){var o=Pt();Tr(n,e,1,o)}}),_m(e,1)}};qf=function(e){if(e.tag===13){var t=xn(e,134217728);if(t!==null){var r=Pt();Tr(t,e,134217728,r)}_m(e,134217728)}};yv=function(e){if(e.tag===13){var t=rs(e),r=xn(e,t);if(r!==null){var n=Pt();Tr(r,e,t,n)}_m(e,t)}};xv=function(){return Ee};vv=function(e,t){var r=Ee;try{return Ee=e,t()}finally{Ee=r}};uh=function(e,t,r){switch(t){case"input":if(nh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var o=tu(n);if(!o)throw Error(K(90));Qx(n),nh(n,o)}}}break;case"textarea":Xx(e,r);break;case"select":t=r.value,t!=null&&Ao(e,!!r.multiple,t,!1)}};ov=wm;av=Ws;var sk={usingClientEntryPoint:!1,Events:[qi,_o,tu,nv,sv,wm]},Fa={findFiberByHostInstance:Es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ok={bundleType:Fa.bundleType,version:Fa.version,rendererPackageName:Fa.rendererPackageName,rendererConfig:Fa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=cv(e),e===null?null:e.stateNode},findFiberByHostInstance:Fa.findFiberByHostInstance||rk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cl.isDisabled&&Cl.supportsFiber)try{Jc=Cl.inject(ok),qr=Cl}catch{}}er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sk;er.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!km(t))throw Error(K(200));return tk(e,t,null,r)};er.createRoot=function(e,t){if(!km(e))throw Error(K(299));var r=!1,n="",o=zw;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Sm(e,1,!1,null,null,r,!1,n,o),e[yn]=t.current,bi(e.nodeType===8?e.parentNode:e),new Cm(t)};er.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(K(188)):(e=Object.keys(e).join(","),Error(K(268,e)));return e=cv(t),e=e===null?null:e.stateNode,e};er.flushSync=function(e){return Ws(e)};er.hydrate=function(e,t,r){if(!uu(t))throw Error(K(200));return du(null,e,t,!0,r)};er.hydrateRoot=function(e,t,r){if(!km(e))throw Error(K(405));var n=r!=null&&r.hydratedSources||null,o=!1,a="",i=zw;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=Fw(t,null,e,1,r??null,o,!1,a,i),e[yn]=t.current,bi(e),n)for(e=0;e<n.length;e++)r=n[e],o=r._getVersion,o=o(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new cu(t)};er.render=function(e,t,r){if(!uu(t))throw Error(K(200));return du(null,e,t,!1,r)};er.unmountComponentAtNode=function(e){if(!uu(e))throw Error(K(40));return e._reactRootContainer?(Ws(function(){du(null,null,e,!1,function(){e._reactRootContainer=null,e[yn]=null})}),!0):!1};er.unstable_batchedUpdates=wm;er.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!uu(r))throw Error(K(200));if(e==null||e._reactInternals===void 0)throw Error(K(38));return du(e,t,r,!1,n)};er.version="18.3.1-next-f1338f8080-20240426";function Hw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hw)}catch(e){console.error(e)}}Hw(),Hx.exports=er;var to=Hx.exports;const Bw=Tx(to);var Ww,Wg=to;Ww=Wg.createRoot,Wg.hydrateRoot;const ak=1,ik=1e6;let kd=0;function lk(){return kd=(kd+1)%Number.MAX_SAFE_INTEGER,kd.toString()}const Ed=new Map,Vg=e=>{if(Ed.has(e))return;const t=setTimeout(()=>{Ed.delete(e),ci({type:"REMOVE_TOAST",toastId:e})},ik);Ed.set(e,t)},ck=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,ak)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Vg(r):e.toasts.forEach(n=>{Vg(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Jl=[];let Xl={toasts:[]};function ci(e){Xl=ck(Xl,e),Jl.forEach(t=>{t(Xl)})}function uk({...e}){const t=lk(),r=o=>ci({type:"UPDATE_TOAST",toast:{...o,id:t}}),n=()=>ci({type:"DISMISS_TOAST",toastId:t});return ci({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||n()}}}),{id:t,dismiss:n,update:r}}function At(){const[e,t]=f.useState(Xl);return f.useEffect(()=>(Jl.push(t),()=>{const r=Jl.indexOf(t);r>-1&&Jl.splice(r,1)}),[e]),{...e,toast:uk,dismiss:r=>ci({type:"DISMISS_TOAST",toastId:r})}}function J(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e==null||e(o),r===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function Kg(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function hu(...e){return t=>{let r=!1;const n=e.map(o=>{const a=Kg(o,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let o=0;o<n.length;o++){const a=n[o];typeof a=="function"?a():Kg(e[o],null)}}}}function ye(...e){return f.useCallback(hu(...e),e)}function dk(e,t){const r=f.createContext(t),n=a=>{const{children:i,...l}=a,c=f.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function o(a){const i=f.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,o]}function It(e,t=[]){let r=[];function n(a,i){const l=f.createContext(i),c=r.length;r=[...r,i];const u=d=>{var p;const{scope:m,children:v,...b}=d,y=((p=m==null?void 0:m[e])==null?void 0:p[c])||l,w=f.useMemo(()=>b,Object.values(b));return s.jsx(y.Provider,{value:w,children:v})};u.displayName=a+"Provider";function h(d,m){var y;const v=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,b=f.useContext(v);if(b)return b;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${a}\``)}return[u,h]}const o=()=>{const a=r.map(i=>f.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return f.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return o.scopeName=e,[n,hk(o,...t)]}function hk(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(a)[`__scope${u}`];return{...l,...d}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Vs(e){const t=mk(e),r=f.forwardRef((n,o)=>{const{children:a,...i}=n,l=f.Children.toArray(a),c=l.find(gk);if(c){const u=c.props.children,h=l.map(d=>d===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:d);return s.jsx(t,{...i,ref:o,children:f.isValidElement(u)?f.cloneElement(u,void 0,h):null})}return s.jsx(t,{...i,ref:o,children:a})});return r.displayName=`${e}.Slot`,r}var fk=Vs("Slot");function mk(e){const t=f.forwardRef((r,n)=>{const{children:o,...a}=r;if(f.isValidElement(o)){const i=xk(o),l=yk(a,o.props);return o.type!==f.Fragment&&(l.ref=n?hu(n,i):i),f.cloneElement(o,l)}return f.Children.count(o)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Vw=Symbol("radix.slottable");function pk(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=Vw,t}function gk(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Vw}function yk(e,t){const r={...t};for(const n in t){const o=e[n],a=t[n];/^on[A-Z]/.test(n)?o&&a?r[n]=(...l)=>{const c=a(...l);return o(...l),c}:o&&(r[n]=o):n==="style"?r[n]={...o,...a}:n==="className"&&(r[n]=[o,a].filter(Boolean).join(" "))}return{...e,...r}}function xk(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function fu(e){const t=e+"CollectionProvider",[r,n]=It(t),[o,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=y=>{const{scope:w,children:p}=y,g=Y.useRef(null),x=Y.useRef(new Map).current;return s.jsx(o,{scope:w,itemMap:x,collectionRef:g,children:p})};i.displayName=t;const l=e+"CollectionSlot",c=Vs(l),u=Y.forwardRef((y,w)=>{const{scope:p,children:g}=y,x=a(l,p),j=ye(w,x.collectionRef);return s.jsx(c,{ref:j,children:g})});u.displayName=l;const h=e+"CollectionItemSlot",d="data-radix-collection-item",m=Vs(h),v=Y.forwardRef((y,w)=>{const{scope:p,children:g,...x}=y,j=Y.useRef(null),N=ye(w,j),S=a(h,p);return Y.useEffect(()=>(S.itemMap.set(j,{ref:j,...x}),()=>void S.itemMap.delete(j))),s.jsx(m,{[d]:"",ref:N,children:g})});v.displayName=h;function b(y){const w=a(e+"CollectionConsumer",y);return Y.useCallback(()=>{const g=w.collectionRef.current;if(!g)return[];const x=Array.from(g.querySelectorAll(`[${d}]`));return Array.from(w.itemMap.values()).sort((S,_)=>x.indexOf(S.ref.current)-x.indexOf(_.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:i,Slot:u,ItemSlot:v},b,n]}var vk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ae=vk.reduce((e,t)=>{const r=Vs(`Primitive.${t}`),n=f.forwardRef((o,a)=>{const{asChild:i,...l}=o,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Em(e,t){e&&to.flushSync(()=>e.dispatchEvent(t))}function qe(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function wk(e,t=globalThis==null?void 0:globalThis.document){const r=qe(e);f.useEffect(()=>{const n=o=>{o.key==="Escape"&&r(o)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var bk="DismissableLayer",Bh="dismissableLayer.update",jk="dismissableLayer.pointerDownOutside",Nk="dismissableLayer.focusOutside",qg,Kw=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),pa=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=f.useContext(Kw),[h,d]=f.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=f.useState({}),b=ye(t,_=>d(_)),y=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),p=y.indexOf(w),g=h?y.indexOf(h):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,j=g>=p,N=_k(_=>{const k=_.target,P=[...u.branches].some(C=>C.contains(k));!j||P||(o==null||o(_),i==null||i(_),_.defaultPrevented||l==null||l())},m),S=Ck(_=>{const k=_.target;[...u.branches].some(C=>C.contains(k))||(a==null||a(_),i==null||i(_),_.defaultPrevented||l==null||l())},m);return wk(_=>{g===u.layers.size-1&&(n==null||n(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},m),f.useEffect(()=>{if(h)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(qg=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),Gg(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=qg)}},[h,m,r,u]),f.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),Gg())},[h,u]),f.useEffect(()=>{const _=()=>v({});return document.addEventListener(Bh,_),()=>document.removeEventListener(Bh,_)},[]),s.jsx(ae.div,{...c,ref:b,style:{pointerEvents:x?j?"auto":"none":void 0,...e.style},onFocusCapture:J(e.onFocusCapture,S.onFocusCapture),onBlurCapture:J(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:J(e.onPointerDownCapture,N.onPointerDownCapture)})});pa.displayName=bk;var Sk="DismissableLayerBranch",qw=f.forwardRef((e,t)=>{const r=f.useContext(Kw),n=f.useRef(null),o=ye(t,n);return f.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),s.jsx(ae.div,{...e,ref:o})});qw.displayName=Sk;function _k(e,t=globalThis==null?void 0:globalThis.document){const r=qe(e),n=f.useRef(!1),o=f.useRef(()=>{});return f.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){Gw(jk,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=c,t.addEventListener("click",o.current,{once:!0})):c()}else t.removeEventListener("click",o.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Ck(e,t=globalThis==null?void 0:globalThis.document){const r=qe(e),n=f.useRef(!1);return f.useEffect(()=>{const o=a=>{a.target&&!n.current&&Gw(Nk,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Gg(){const e=new CustomEvent(Bh);document.dispatchEvent(e)}function Gw(e,t,r,{discrete:n}){const o=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?Em(o,a):o.dispatchEvent(a)}var kk=pa,Ek=qw,ct=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},Pk="Portal",Yi=f.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[o,a]=f.useState(!1);ct(()=>a(!0),[]);const i=r||o&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?Bw.createPortal(s.jsx(ae.div,{...n,ref:t}),i):null});Yi.displayName=Pk;function Tk(e,t){return f.useReducer((r,n)=>t[r][n]??r,e)}var gt=e=>{const{present:t,children:r}=e,n=Rk(t),o=typeof r=="function"?r({present:n.isPresent}):f.Children.only(r),a=ye(n.ref,Ak(o));return typeof r=="function"||n.isPresent?f.cloneElement(o,{ref:a}):null};gt.displayName="Presence";function Rk(e){const[t,r]=f.useState(),n=f.useRef(null),o=f.useRef(e),a=f.useRef("none"),i=e?"mounted":"unmounted",[l,c]=Tk(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const u=kl(n.current);a.current=l==="mounted"?u:"none"},[l]),ct(()=>{const u=n.current,h=o.current;if(h!==e){const m=a.current,v=kl(u);e?c("MOUNT"):v==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&m!==v?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,c]),ct(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,d=v=>{const y=kl(n.current).includes(CSS.escape(v.animationName));if(v.target===t&&y&&(c("ANIMATION_END"),!o.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},m=v=>{v.target===t&&(a.current=kl(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:f.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function kl(e){return(e==null?void 0:e.animationName)||"none"}function Ak(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Ik=Lf[" useInsertionEffect ".trim().toString()]||ct;function wn({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[o,a,i]=Ok({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:o;{const h=f.useRef(e!==void 0);f.useEffect(()=>{const d=h.current;d!==l&&console.warn(`${n} is changing from ${d?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,n])}const u=f.useCallback(h=>{var d;if(l){const m=Mk(h)?h(e):h;m!==e&&((d=i.current)==null||d.call(i,m))}else a(h)},[l,e,a,i]);return[c,u]}function Ok({defaultProp:e,onChange:t}){const[r,n]=f.useState(e),o=f.useRef(r),a=f.useRef(t);return Ik(()=>{a.current=t},[t]),f.useEffect(()=>{var i;o.current!==r&&((i=a.current)==null||i.call(a,r),o.current=r)},[r,o]),[r,n,a]}function Mk(e){return typeof e=="function"}var Yw=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Dk="VisuallyHidden",mu=f.forwardRef((e,t)=>s.jsx(ae.span,{...e,ref:t,style:{...Yw,...e.style}}));mu.displayName=Dk;var Lk=mu,Pm="ToastProvider",[Tm,$k,Uk]=fu("Toast"),[Qw]=It("Toast",[Uk]),[Fk,pu]=Qw(Pm),Jw=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:o="right",swipeThreshold:a=50,children:i}=e,[l,c]=f.useState(null),[u,h]=f.useState(0),d=f.useRef(!1),m=f.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Pm}\`. Expected non-empty \`string\`.`),s.jsx(Tm.Provider,{scope:t,children:s.jsx(Fk,{scope:t,label:r,duration:n,swipeDirection:o,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:f.useCallback(()=>h(v=>v+1),[]),onToastRemove:f.useCallback(()=>h(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:m,children:i})})};Jw.displayName=Pm;var Xw="ToastViewport",zk=["F8"],Wh="toast.viewportPause",Vh="toast.viewportResume",Zw=f.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=zk,label:o="Notifications ({hotkey})",...a}=e,i=pu(Xw,r),l=$k(r),c=f.useRef(null),u=f.useRef(null),h=f.useRef(null),d=f.useRef(null),m=ye(t,d,i.onViewportChange),v=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=i.toastCount>0;f.useEffect(()=>{const w=p=>{var x;n.length!==0&&n.every(j=>p[j]||p.code===j)&&((x=d.current)==null||x.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),f.useEffect(()=>{const w=c.current,p=d.current;if(b&&w&&p){const g=()=>{if(!i.isClosePausedRef.current){const S=new CustomEvent(Wh);p.dispatchEvent(S),i.isClosePausedRef.current=!0}},x=()=>{if(i.isClosePausedRef.current){const S=new CustomEvent(Vh);p.dispatchEvent(S),i.isClosePausedRef.current=!1}},j=S=>{!w.contains(S.relatedTarget)&&x()},N=()=>{w.contains(document.activeElement)||x()};return w.addEventListener("focusin",g),w.addEventListener("focusout",j),w.addEventListener("pointermove",g),w.addEventListener("pointerleave",N),window.addEventListener("blur",g),window.addEventListener("focus",x),()=>{w.removeEventListener("focusin",g),w.removeEventListener("focusout",j),w.removeEventListener("pointermove",g),w.removeEventListener("pointerleave",N),window.removeEventListener("blur",g),window.removeEventListener("focus",x)}}},[b,i.isClosePausedRef]);const y=f.useCallback(({tabbingDirection:w})=>{const g=l().map(x=>{const j=x.ref.current,N=[j,...eE(j)];return w==="forwards"?N:N.reverse()});return(w==="forwards"?g.reverse():g).flat()},[l]);return f.useEffect(()=>{const w=d.current;if(w){const p=g=>{var N,S,_;const x=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!x){const k=document.activeElement,P=g.shiftKey;if(g.target===w&&P){(N=u.current)==null||N.focus();return}const T=y({tabbingDirection:P?"backwards":"forwards"}),M=T.findIndex(R=>R===k);Pd(T.slice(M+1))?g.preventDefault():P?(S=u.current)==null||S.focus():(_=h.current)==null||_.focus()}};return w.addEventListener("keydown",p),()=>w.removeEventListener("keydown",p)}},[l,y]),s.jsxs(Ek,{ref:c,role:"region","aria-label":o.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&s.jsx(Kh,{ref:u,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"forwards"});Pd(w)}}),s.jsx(Tm.Slot,{scope:r,children:s.jsx(ae.ol,{tabIndex:-1,...a,ref:m})}),b&&s.jsx(Kh,{ref:h,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"backwards"});Pd(w)}})]})});Zw.displayName=Xw;var e0="ToastFocusProxy",Kh=f.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...o}=e,a=pu(e0,r);return s.jsx(mu,{tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&n()}})});Kh.displayName=e0;var Qi="Toast",Hk="toast.swipeStart",Bk="toast.swipeMove",Wk="toast.swipeCancel",Vk="toast.swipeEnd",t0=f.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:o,onOpenChange:a,...i}=e,[l,c]=wn({prop:n,defaultProp:o??!0,onChange:a,caller:Qi});return s.jsx(gt,{present:r||l,children:s.jsx(Gk,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:qe(e.onPause),onResume:qe(e.onResume),onSwipeStart:J(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:J(e.onSwipeMove,u=>{const{x:h,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:J(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:J(e.onSwipeEnd,u=>{const{x:h,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),c(!1)})})})});t0.displayName=Qi;var[Kk,qk]=Qw(Qi,{onClose(){}}),Gk=f.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:o,open:a,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:h,onSwipeMove:d,onSwipeCancel:m,onSwipeEnd:v,...b}=e,y=pu(Qi,r),[w,p]=f.useState(null),g=ye(t,R=>p(R)),x=f.useRef(null),j=f.useRef(null),N=o||y.duration,S=f.useRef(0),_=f.useRef(N),k=f.useRef(0),{onToastAdd:P,onToastRemove:C}=y,O=qe(()=>{var B;(w==null?void 0:w.contains(document.activeElement))&&((B=y.viewport)==null||B.focus()),i()}),T=f.useCallback(R=>{!R||R===1/0||(window.clearTimeout(k.current),S.current=new Date().getTime(),k.current=window.setTimeout(O,R))},[O]);f.useEffect(()=>{const R=y.viewport;if(R){const B=()=>{T(_.current),u==null||u()},L=()=>{const D=new Date().getTime()-S.current;_.current=_.current-D,window.clearTimeout(k.current),c==null||c()};return R.addEventListener(Wh,L),R.addEventListener(Vh,B),()=>{R.removeEventListener(Wh,L),R.removeEventListener(Vh,B)}}},[y.viewport,N,c,u,T]),f.useEffect(()=>{a&&!y.isClosePausedRef.current&&T(N)},[a,N,y.isClosePausedRef,T]),f.useEffect(()=>(P(),()=>C()),[P,C]);const M=f.useMemo(()=>w?l0(w):null,[w]);return y.viewport?s.jsxs(s.Fragment,{children:[M&&s.jsx(Yk,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:M}),s.jsx(Kk,{scope:r,onClose:O,children:to.createPortal(s.jsx(Tm.ItemSlot,{scope:r,children:s.jsx(kk,{asChild:!0,onEscapeKeyDown:J(l,()=>{y.isFocusedToastEscapeKeyDownRef.current||O(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(ae.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":y.swipeDirection,...b,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:J(e.onKeyDown,R=>{R.key==="Escape"&&(l==null||l(R.nativeEvent),R.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:J(e.onPointerDown,R=>{R.button===0&&(x.current={x:R.clientX,y:R.clientY})}),onPointerMove:J(e.onPointerMove,R=>{if(!x.current)return;const B=R.clientX-x.current.x,L=R.clientY-x.current.y,D=!!j.current,E=["left","right"].includes(y.swipeDirection),A=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,F=E?A(0,B):0,U=E?0:A(0,L),V=R.pointerType==="touch"?10:2,$={x:F,y:U},X={originalEvent:R,delta:$};D?(j.current=$,El(Bk,d,X,{discrete:!1})):Yg($,y.swipeDirection,V)?(j.current=$,El(Hk,h,X,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(B)>V||Math.abs(L)>V)&&(x.current=null)}),onPointerUp:J(e.onPointerUp,R=>{const B=j.current,L=R.target;if(L.hasPointerCapture(R.pointerId)&&L.releasePointerCapture(R.pointerId),j.current=null,x.current=null,B){const D=R.currentTarget,E={originalEvent:R,delta:B};Yg(B,y.swipeDirection,y.swipeThreshold)?El(Vk,v,E,{discrete:!0}):El(Wk,m,E,{discrete:!0}),D.addEventListener("click",A=>A.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),Yk=e=>{const{__scopeToast:t,children:r,...n}=e,o=pu(Qi,t),[a,i]=f.useState(!1),[l,c]=f.useState(!1);return Xk(()=>i(!0)),f.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(Yi,{asChild:!0,children:s.jsx(mu,{...n,children:a&&s.jsxs(s.Fragment,{children:[o.label," ",r]})})})},Qk="ToastTitle",r0=f.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(ae.div,{...n,ref:t})});r0.displayName=Qk;var Jk="ToastDescription",n0=f.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(ae.div,{...n,ref:t})});n0.displayName=Jk;var s0="ToastAction",o0=f.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(i0,{altText:r,asChild:!0,children:s.jsx(Rm,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${s0}\`. Expected non-empty \`string\`.`),null)});o0.displayName=s0;var a0="ToastClose",Rm=f.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,o=qk(a0,r);return s.jsx(i0,{asChild:!0,children:s.jsx(ae.button,{type:"button",...n,ref:t,onClick:J(e.onClick,o.onClose)})})});Rm.displayName=a0;var i0=f.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...o}=e;return s.jsx(ae.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...o,ref:t})});function l0(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),Zk(n)){const o=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!o)if(a){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...l0(n))}}),t}function El(e,t,r,{discrete:n}){const o=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?Em(o,a):o.dispatchEvent(a)}var Yg=(e,t,r=0)=>{const n=Math.abs(e.x),o=Math.abs(e.y),a=n>o;return t==="left"||t==="right"?a&&n>r:!a&&o>r};function Xk(e=()=>{}){const t=qe(e);ct(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function Zk(e){return e.nodeType===e.ELEMENT_NODE}function eE(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Pd(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var tE=Jw,c0=Zw,u0=t0,d0=r0,h0=n0,f0=o0,m0=Rm;function p0(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=p0(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function g0(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=p0(e))&&(n&&(n+=" "),n+=t);return n}const Qg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Jg=g0,Ji=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Jg(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:o,defaultVariants:a}=t,i=Object.keys(o).map(u=>{const h=r==null?void 0:r[u],d=a==null?void 0:a[u];if(h===null)return null;const m=Qg(h)||Qg(d);return o[u][m]}),l=r&&Object.entries(r).reduce((u,h)=>{let[d,m]=h;return m===void 0||(u[d]=m),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,h)=>{let{class:d,className:m,...v}=h;return Object.entries(v).every(b=>{let[y,w]=b;return Array.isArray(w)?w.includes({...a,...l}[y]):{...a,...l}[y]===w})?[...u,d,m]:u},[]);return Jg(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),y0=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:a,iconNode:i,...l},c)=>f.createElement("svg",{ref:c,...nE,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:y0("lucide",o),...l},[...i.map(([u,h])=>f.createElement(u,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=(e,t)=>{const r=f.forwardRef(({className:n,...o},a)=>f.createElement(sE,{ref:a,iconNode:t,className:y0(`lucide-${rE(e)}`,n),...o}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=re("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=re("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=re("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=re("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=re("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=re("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=re("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=re("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=re("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=re("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=re("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=re("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=re("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=re("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=re("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=re("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=re("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=re("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=re("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=re("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=re("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=re("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=re("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=re("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=re("Flower2",[["path",{d:"M12 5a3 3 0 1 1 3 3m-3-3a3 3 0 1 0-3 3m3-3v1M9 8a3 3 0 1 0 3 3M9 8h1m5 0a3 3 0 1 1-3 3m3-3h-1m-2 3v-1",key:"3pnvol"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M12 10v12",key:"6ubwww"}],["path",{d:"M12 22c4.2 0 7-1.667 7-5-4.2 0-7 1.667-7 5Z",key:"9hd38g"}],["path",{d:"M12 22c-4.2 0-7-1.667-7-5 4.2 0 7 1.667 7 5Z",key:"ufn41s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=re("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=re("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=re("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=re("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=re("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=re("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=re("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=re("Laugh",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M18 13a6 6 0 0 1-6 5 6 6 0 0 1-6-5h12Z",key:"b2q4dd"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=re("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=re("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=re("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=re("Meh",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15",key:"1xb1d9"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=re("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=re("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=re("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=re("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=re("Rainbow",[["path",{d:"M22 17a10 10 0 0 0-20 0",key:"ozegv"}],["path",{d:"M6 17a6 6 0 0 1 12 0",key:"5giftw"}],["path",{d:"M10 17a2 2 0 0 1 4 0",key:"gnsikk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=re("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=re("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=re("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=re("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=re("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=re("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=re("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=re("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=re("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=re("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=re("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=re("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=re("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=re("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=re("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Am="-",DE=e=>{const t=$E(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(Am);return l[0]===""&&l.length!==1&&l.shift(),S0(l,t)||LE(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},S0=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),o=n?S0(e.slice(1),n):void 0;if(o)return o;if(t.validators.length===0)return;const a=e.join(Am);return(i=t.validators.find(({validator:l})=>l(a)))==null?void 0:i.classGroupId},ey=/^\[(.+)\]$/,LE=e=>{if(ey.test(e)){const t=ey.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},$E=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return FE(Object.entries(e.classGroups),r).forEach(([a,i])=>{Gh(i,n,a,t)}),n},Gh=(e,t,r,n)=>{e.forEach(o=>{if(typeof o=="string"){const a=o===""?t:ty(t,o);a.classGroupId=r;return}if(typeof o=="function"){if(UE(o)){Gh(o(n),t,r,n);return}t.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([a,i])=>{Gh(i,ty(t,a),r,n)})})},ty=(e,t)=>{let r=e;return t.split(Am).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},UE=e=>e.isThemeGetter,FE=(e,t)=>t?e.map(([r,n])=>{const o=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([i,l])=>[t+i,l])):a);return[r,o]}):e,zE=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const o=(a,i)=>{r.set(a,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let i=r.get(a);if(i!==void 0)return i;if((i=n.get(a))!==void 0)return o(a,i),i},set(a,i){r.has(a)?r.set(a,i):o(a,i)}}},_0="!",HE=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,o=t[0],a=t.length,i=l=>{const c=[];let u=0,h=0,d;for(let w=0;w<l.length;w++){let p=l[w];if(u===0){if(p===o&&(n||l.slice(w,w+a)===t)){c.push(l.slice(h,w)),h=w+a;continue}if(p==="/"){d=w;continue}}p==="["?u++:p==="]"&&u--}const m=c.length===0?l:l.substring(h),v=m.startsWith(_0),b=v?m.substring(1):m,y=d&&d>h?d-h:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:b,maybePostfixModifierPosition:y}};return r?l=>r({className:l,parseClassName:i}):i},BE=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},WE=e=>({cache:zE(e.cacheSize),parseClassName:HE(e),...DE(e)}),VE=/\s+/,KE=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o}=t,a=[],i=e.trim().split(VE);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:h,hasImportantModifier:d,baseClassName:m,maybePostfixModifierPosition:v}=r(u);let b=!!v,y=n(b?m.substring(0,v):m);if(!y){if(!b){l=u+(l.length>0?" "+l:l);continue}if(y=n(m),!y){l=u+(l.length>0?" "+l:l);continue}b=!1}const w=BE(h).join(":"),p=d?w+_0:w,g=p+y;if(a.includes(g))continue;a.push(g);const x=o(y,b);for(let j=0;j<x.length;++j){const N=x[j];a.push(p+N)}l=u+(l.length>0?" "+l:l)}return l};function qE(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=C0(t))&&(n&&(n+=" "),n+=r);return n}const C0=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=C0(e[n]))&&(r&&(r+=" "),r+=t);return r};function GE(e,...t){let r,n,o,a=i;function i(c){const u=t.reduce((h,d)=>d(h),e());return r=WE(u),n=r.cache.get,o=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const h=KE(c,r);return o(c,h),h}return function(){return a(qE.apply(null,arguments))}}const Me=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},k0=/^\[(?:([a-z-]+):)?(.+)\]$/i,YE=/^\d+\/\d+$/,QE=new Set(["px","full","screen"]),JE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,XE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ZE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,eP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,nn=e=>Uo(e)||QE.has(e)||YE.test(e),Tn=e=>ga(e,"length",cP),Uo=e=>!!e&&!Number.isNaN(Number(e)),Td=e=>ga(e,"number",Uo),za=e=>!!e&&Number.isInteger(Number(e)),rP=e=>e.endsWith("%")&&Uo(e.slice(0,-1)),ve=e=>k0.test(e),Rn=e=>JE.test(e),nP=new Set(["length","size","percentage"]),sP=e=>ga(e,nP,E0),oP=e=>ga(e,"position",E0),aP=new Set(["image","url"]),iP=e=>ga(e,aP,dP),lP=e=>ga(e,"",uP),Ha=()=>!0,ga=(e,t,r)=>{const n=k0.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},cP=e=>XE.test(e)&&!ZE.test(e),E0=()=>!1,uP=e=>eP.test(e),dP=e=>tP.test(e),hP=()=>{const e=Me("colors"),t=Me("spacing"),r=Me("blur"),n=Me("brightness"),o=Me("borderColor"),a=Me("borderRadius"),i=Me("borderSpacing"),l=Me("borderWidth"),c=Me("contrast"),u=Me("grayscale"),h=Me("hueRotate"),d=Me("invert"),m=Me("gap"),v=Me("gradientColorStops"),b=Me("gradientColorStopPositions"),y=Me("inset"),w=Me("margin"),p=Me("opacity"),g=Me("padding"),x=Me("saturate"),j=Me("scale"),N=Me("sepia"),S=Me("skew"),_=Me("space"),k=Me("translate"),P=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",ve,t],T=()=>[ve,t],M=()=>["",nn,Tn],R=()=>["auto",Uo,ve],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],D=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],E=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",ve],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[Uo,ve];return{cacheSize:500,separator:":",theme:{colors:[Ha],spacing:[nn,Tn],blur:["none","",Rn,ve],brightness:U(),borderColor:[e],borderRadius:["none","","full",Rn,ve],borderSpacing:T(),borderWidth:M(),contrast:U(),grayscale:A(),hueRotate:U(),invert:A(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[rP,Tn],inset:O(),margin:O(),opacity:U(),padding:T(),saturate:U(),scale:U(),sepia:A(),skew:U(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",ve]}],container:["container"],columns:[{columns:[Rn]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),ve]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",za,ve]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ve]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",za,ve]}],"grid-cols":[{"grid-cols":[Ha]}],"col-start-end":[{col:["auto",{span:["full",za,ve]},ve]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[Ha]}],"row-start-end":[{row:["auto",{span:[za,ve]},ve]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ve]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...E()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...E(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...E(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ve,t]}],"min-w":[{"min-w":[ve,t,"min","max","fit"]}],"max-w":[{"max-w":[ve,t,"none","full","min","max","fit","prose",{screen:[Rn]},Rn]}],h:[{h:[ve,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ve,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ve,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ve,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Rn,Tn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Td]}],"font-family":[{font:[Ha]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ve]}],"line-clamp":[{"line-clamp":["none",Uo,Td]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",nn,ve]}],"list-image":[{"list-image":["none",ve]}],"list-style-type":[{list:["none","disc","decimal",ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",nn,Tn]}],"underline-offset":[{"underline-offset":["auto",nn,ve]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),oP]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",sP]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},iP]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:L()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[nn,ve]}],"outline-w":[{outline:[nn,Tn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[nn,Tn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Rn,lP]}],"shadow-color":[{shadow:[Ha]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...D(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Rn,ve]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[d]}],saturate:[{saturate:[x]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ve]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",ve]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[za,ve]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ve]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[nn,Tn,Td]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},fP=GE(hP);function ie(...e){return fP(g0(e))}const mP=tE,P0=f.forwardRef(({className:e,...t},r)=>s.jsx(c0,{ref:r,className:ie("fixed top-12 left-1/2 -translate-x-1/2 z-[100] flex max-h-screen w-[calc(100%-2rem)] max-w-md flex-col gap-2 sm:top-4 sm:left-auto sm:right-4 sm:translate-x-0",e),...t}));P0.displayName=c0.displayName;const pP=Ji("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),T0=f.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(u0,{ref:n,className:ie(pP({variant:t}),e),...r}));T0.displayName=u0.displayName;const gP=f.forwardRef(({className:e,...t},r)=>s.jsx(f0,{ref:r,className:ie("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));gP.displayName=f0.displayName;const R0=f.forwardRef(({className:e,...t},r)=>s.jsx(m0,{ref:r,className:ie("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(vu,{className:"h-4 w-4"})}));R0.displayName=m0.displayName;const A0=f.forwardRef(({className:e,...t},r)=>s.jsx(d0,{ref:r,className:ie("text-sm font-semibold",e),...t}));A0.displayName=d0.displayName;const I0=f.forwardRef(({className:e,...t},r)=>s.jsx(h0,{ref:r,className:ie("text-sm opacity-90",e),...t}));I0.displayName=h0.displayName;function yP(){const{toasts:e}=At();return s.jsxs(mP,{children:[e.map(function({id:t,title:r,description:n,action:o,...a}){return s.jsxs(T0,{...a,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(A0,{children:r}),n&&s.jsx(I0,{children:n})]}),o,s.jsx(R0,{})]},t)}),s.jsx(P0,{})]})}var ry=["light","dark"],xP="(prefers-color-scheme: dark)",vP=f.createContext(void 0),wP={setTheme:e=>{},themes:[]},bP=()=>{var e;return(e=f.useContext(vP))!=null?e:wP};f.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:o,defaultTheme:a,value:i,attrs:l,nonce:c})=>{let u=a==="system",h=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,d=o?ry.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(b,y=!1,w=!0)=>{let p=i?i[b]:b,g=y?b+"|| ''":`'${p}'`,x="";return o&&w&&!y&&ry.includes(b)&&(x+=`d.style.colorScheme = '${b}';`),r==="class"?y||p?x+=`c.add(${g})`:x+="null":p&&(x+=`d[s](n,${g})`),x},v=e?`!function(){${h}${m(e)}}()`:n?`!function(){try{${h}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${xP}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}${u?"":"else{"+m(a,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}else{${m(a,!1,!1)};}${d}}catch(t){}}();`;return f.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:v}})});function jP(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const NP=e=>{switch(e){case"success":return CP;case"info":return EP;case"warning":return kP;case"error":return PP;default:return null}},SP=Array(12).fill(0),_P=({visible:e,className:t})=>Y.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Y.createElement("div",{className:"sonner-spinner"},SP.map((r,n)=>Y.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),CP=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),kP=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),EP=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),PP=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),TP=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Y.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Y.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),RP=()=>{const[e,t]=Y.useState(document.hidden);return Y.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let Yh=1;class AP{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...o}=t,a=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:Yh++,i=this.toasts.find(c=>c.id===a),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(c=>c.id===a?(this.publish({...c,...t,id:a,title:n}),{...c,...t,id:a,dismissible:l,title:n}):c):this.addToast({title:n,...o,dismissible:l,id:a}),a},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const o=Promise.resolve(t instanceof Function?t():t);let a=n!==void 0,i;const l=o.then(async u=>{if(i=["resolve",u],Y.isValidElement(u))a=!1,this.create({id:n,type:"default",message:u});else if(OP(u)&&!u.ok){a=!1;const d=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,m=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,b=typeof d=="object"&&!Y.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:m,...b})}else if(u instanceof Error){a=!1;const d=typeof r.error=="function"?await r.error(u):r.error,m=typeof r.description=="function"?await r.description(u):r.description,b=typeof d=="object"&&!Y.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:m,...b})}else if(r.success!==void 0){a=!1;const d=typeof r.success=="function"?await r.success(u):r.success,m=typeof r.description=="function"?await r.description(u):r.description,b=typeof d=="object"&&!Y.isValidElement(d)?d:{message:d};this.create({id:n,type:"success",description:m,...b})}}).catch(async u=>{if(i=["reject",u],r.error!==void 0){a=!1;const h=typeof r.error=="function"?await r.error(u):r.error,d=typeof r.description=="function"?await r.description(u):r.description,v=typeof h=="object"&&!Y.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:d,...v})}}).finally(()=>{a&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),c=()=>new Promise((u,h)=>l.then(()=>i[0]==="reject"?h(i[1]):u(i[1])).catch(h));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||Yh++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Lt=new AP,IP=(e,t)=>{const r=(t==null?void 0:t.id)||Yh++;return Lt.addToast({title:e,...t,id:r}),r},OP=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",MP=IP,DP=()=>Lt.toasts,LP=()=>Lt.getActiveToasts(),we=Object.assign(MP,{success:Lt.success,info:Lt.info,warning:Lt.warning,error:Lt.error,custom:Lt.custom,message:Lt.message,promise:Lt.promise,dismiss:Lt.dismiss,loading:Lt.loading},{getHistory:DP,getToasts:LP});jP("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Pl(e){return e.label!==void 0}const $P=3,UP="24px",FP="16px",ny=4e3,zP=356,HP=14,BP=45,WP=200;function Lr(...e){return e.filter(Boolean).join(" ")}function VP(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const KP=e=>{var t,r,n,o,a,i,l,c,u;const{invert:h,toast:d,unstyled:m,interacting:v,setHeights:b,visibleToasts:y,heights:w,index:p,toasts:g,expanded:x,removeToast:j,defaultRichColors:N,closeButton:S,style:_,cancelButtonStyle:k,actionButtonStyle:P,className:C="",descriptionClassName:O="",duration:T,position:M,gap:R,expandByDefault:B,classNames:L,icons:D,closeButtonAriaLabel:E="Close toast"}=e,[A,F]=Y.useState(null),[U,V]=Y.useState(null),[$,X]=Y.useState(!1),[oe,ue]=Y.useState(!1),[I,q]=Y.useState(!1),[te,le]=Y.useState(!1),[me,fe]=Y.useState(!1),[Ie,ne]=Y.useState(0),[ce,Ce]=Y.useState(0),$e=Y.useRef(d.duration||T||ny),ut=Y.useRef(null),be=Y.useRef(null),Nt=p===0,oo=p+1<=y,Oe=d.type,Mt=d.dismissible!==!1,gr=d.className||"",Mr=d.descriptionClassName||"",Wt=Y.useMemo(()=>w.findIndex(xe=>xe.toastId===d.id)||0,[w,d.id]),tn=Y.useMemo(()=>{var xe;return(xe=d.closeButton)!=null?xe:S},[d.closeButton,S]),Ra=Y.useMemo(()=>d.duration||T||ny,[d.duration,T]),ao=Y.useRef(0),_n=Y.useRef(0),ol=Y.useRef(0),Cn=Y.useRef(null),[rn,Aa]=M.split("-"),al=Y.useMemo(()=>w.reduce((xe,st,yt)=>yt>=Wt?xe:xe+st.height,0),[w,Wt]),Rp=RP(),E1=d.invert||h,Zu=Oe==="loading";_n.current=Y.useMemo(()=>Wt*R+al,[Wt,al]),Y.useEffect(()=>{$e.current=Ra},[Ra]),Y.useEffect(()=>{X(!0)},[]),Y.useEffect(()=>{const xe=be.current;if(xe){const st=xe.getBoundingClientRect().height;return Ce(st),b(yt=>[{toastId:d.id,height:st,position:d.position},...yt]),()=>b(yt=>yt.filter(Vt=>Vt.toastId!==d.id))}},[b,d.id]),Y.useLayoutEffect(()=>{if(!$)return;const xe=be.current,st=xe.style.height;xe.style.height="auto";const yt=xe.getBoundingClientRect().height;xe.style.height=st,Ce(yt),b(Vt=>Vt.find(dt=>dt.toastId===d.id)?Vt.map(dt=>dt.toastId===d.id?{...dt,height:yt}:dt):[{toastId:d.id,height:yt,position:d.position},...Vt])},[$,d.title,d.description,b,d.id,d.jsx,d.action,d.cancel]);const kn=Y.useCallback(()=>{ue(!0),ne(_n.current),b(xe=>xe.filter(st=>st.toastId!==d.id)),setTimeout(()=>{j(d)},WP)},[d,j,b,_n]);Y.useEffect(()=>{if(d.promise&&Oe==="loading"||d.duration===1/0||d.type==="loading")return;let xe;return x||v||Rp?(()=>{if(ol.current<ao.current){const Vt=new Date().getTime()-ao.current;$e.current=$e.current-Vt}ol.current=new Date().getTime()})():(()=>{$e.current!==1/0&&(ao.current=new Date().getTime(),xe=setTimeout(()=>{d.onAutoClose==null||d.onAutoClose.call(d,d),kn()},$e.current))})(),()=>clearTimeout(xe)},[x,v,d,Oe,Rp,kn]),Y.useEffect(()=>{d.delete&&(kn(),d.onDismiss==null||d.onDismiss.call(d,d))},[kn,d.delete]);function P1(){var xe;if(D!=null&&D.loading){var st;return Y.createElement("div",{className:Lr(L==null?void 0:L.loader,d==null||(st=d.classNames)==null?void 0:st.loader,"sonner-loader"),"data-visible":Oe==="loading"},D.loading)}return Y.createElement(_P,{className:Lr(L==null?void 0:L.loader,d==null||(xe=d.classNames)==null?void 0:xe.loader),visible:Oe==="loading"})}const T1=d.icon||(D==null?void 0:D[Oe])||NP(Oe);var Ap,Ip;return Y.createElement("li",{tabIndex:0,ref:be,className:Lr(C,gr,L==null?void 0:L.toast,d==null||(t=d.classNames)==null?void 0:t.toast,L==null?void 0:L.default,L==null?void 0:L[Oe],d==null||(r=d.classNames)==null?void 0:r[Oe]),"data-sonner-toast":"","data-rich-colors":(Ap=d.richColors)!=null?Ap:N,"data-styled":!(d.jsx||d.unstyled||m),"data-mounted":$,"data-promise":!!d.promise,"data-swiped":me,"data-removed":oe,"data-visible":oo,"data-y-position":rn,"data-x-position":Aa,"data-index":p,"data-front":Nt,"data-swiping":I,"data-dismissible":Mt,"data-type":Oe,"data-invert":E1,"data-swipe-out":te,"data-swipe-direction":U,"data-expanded":!!(x||B&&$),"data-testid":d.testId,style:{"--index":p,"--toasts-before":p,"--z-index":g.length-p,"--offset":`${oe?Ie:_n.current}px`,"--initial-height":B?"auto":`${ce}px`,..._,...d.style},onDragEnd:()=>{q(!1),F(null),Cn.current=null},onPointerDown:xe=>{xe.button!==2&&(Zu||!Mt||(ut.current=new Date,ne(_n.current),xe.target.setPointerCapture(xe.pointerId),xe.target.tagName!=="BUTTON"&&(q(!0),Cn.current={x:xe.clientX,y:xe.clientY})))},onPointerUp:()=>{var xe,st,yt;if(te||!Mt)return;Cn.current=null;const Vt=Number(((xe=be.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),il=Number(((st=be.current)==null?void 0:st.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),dt=new Date().getTime()-((yt=ut.current)==null?void 0:yt.getTime()),nr=A==="x"?Vt:il,ll=Math.abs(nr)/dt;if(Math.abs(nr)>=BP||ll>.11){ne(_n.current),d.onDismiss==null||d.onDismiss.call(d,d),V(A==="x"?Vt>0?"right":"left":il>0?"down":"up"),kn(),le(!0);return}else{var yr,xr;(yr=be.current)==null||yr.style.setProperty("--swipe-amount-x","0px"),(xr=be.current)==null||xr.style.setProperty("--swipe-amount-y","0px")}fe(!1),q(!1),F(null)},onPointerMove:xe=>{var st,yt,Vt;if(!Cn.current||!Mt||((st=window.getSelection())==null?void 0:st.toString().length)>0)return;const dt=xe.clientY-Cn.current.y,nr=xe.clientX-Cn.current.x;var ll;const yr=(ll=e.swipeDirections)!=null?ll:VP(M);!A&&(Math.abs(nr)>1||Math.abs(dt)>1)&&F(Math.abs(nr)>Math.abs(dt)?"x":"y");let xr={x:0,y:0};const Op=xs=>1/(1.5+Math.abs(xs)/20);if(A==="y"){if(yr.includes("top")||yr.includes("bottom"))if(yr.includes("top")&&dt<0||yr.includes("bottom")&&dt>0)xr.y=dt;else{const xs=dt*Op(dt);xr.y=Math.abs(xs)<Math.abs(dt)?xs:dt}}else if(A==="x"&&(yr.includes("left")||yr.includes("right")))if(yr.includes("left")&&nr<0||yr.includes("right")&&nr>0)xr.x=nr;else{const xs=nr*Op(nr);xr.x=Math.abs(xs)<Math.abs(nr)?xs:nr}(Math.abs(xr.x)>0||Math.abs(xr.y)>0)&&fe(!0),(yt=be.current)==null||yt.style.setProperty("--swipe-amount-x",`${xr.x}px`),(Vt=be.current)==null||Vt.style.setProperty("--swipe-amount-y",`${xr.y}px`)}},tn&&!d.jsx&&Oe!=="loading"?Y.createElement("button",{"aria-label":E,"data-disabled":Zu,"data-close-button":!0,onClick:Zu||!Mt?()=>{}:()=>{kn(),d.onDismiss==null||d.onDismiss.call(d,d)},className:Lr(L==null?void 0:L.closeButton,d==null||(n=d.classNames)==null?void 0:n.closeButton)},(Ip=D==null?void 0:D.close)!=null?Ip:TP):null,(Oe||d.icon||d.promise)&&d.icon!==null&&((D==null?void 0:D[Oe])!==null||d.icon)?Y.createElement("div",{"data-icon":"",className:Lr(L==null?void 0:L.icon,d==null||(o=d.classNames)==null?void 0:o.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||P1():null,d.type!=="loading"?T1:null):null,Y.createElement("div",{"data-content":"",className:Lr(L==null?void 0:L.content,d==null||(a=d.classNames)==null?void 0:a.content)},Y.createElement("div",{"data-title":"",className:Lr(L==null?void 0:L.title,d==null||(i=d.classNames)==null?void 0:i.title)},d.jsx?d.jsx:typeof d.title=="function"?d.title():d.title),d.description?Y.createElement("div",{"data-description":"",className:Lr(O,Mr,L==null?void 0:L.description,d==null||(l=d.classNames)==null?void 0:l.description)},typeof d.description=="function"?d.description():d.description):null),Y.isValidElement(d.cancel)?d.cancel:d.cancel&&Pl(d.cancel)?Y.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||k,onClick:xe=>{Pl(d.cancel)&&Mt&&(d.cancel.onClick==null||d.cancel.onClick.call(d.cancel,xe),kn())},className:Lr(L==null?void 0:L.cancelButton,d==null||(c=d.classNames)==null?void 0:c.cancelButton)},d.cancel.label):null,Y.isValidElement(d.action)?d.action:d.action&&Pl(d.action)?Y.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||P,onClick:xe=>{Pl(d.action)&&(d.action.onClick==null||d.action.onClick.call(d.action,xe),!xe.defaultPrevented&&kn())},className:Lr(L==null?void 0:L.actionButton,d==null||(u=d.classNames)==null?void 0:u.actionButton)},d.action.label):null)};function sy(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function qP(e,t){const r={};return[e,t].forEach((n,o)=>{const a=o===1,i=a?"--mobile-offset":"--offset",l=a?FP:UP;function c(u){["top","right","bottom","left"].forEach(h=>{r[`${i}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${i}-${u}`]=l:r[`${i}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}const GP=Y.forwardRef(function(t,r){const{id:n,invert:o,position:a="bottom-right",hotkey:i=["altKey","KeyT"],expand:l,closeButton:c,className:u,offset:h,mobileOffset:d,theme:m="light",richColors:v,duration:b,style:y,visibleToasts:w=$P,toastOptions:p,dir:g=sy(),gap:x=HP,icons:j,containerAriaLabel:N="Notifications"}=t,[S,_]=Y.useState([]),k=Y.useMemo(()=>n?S.filter($=>$.toasterId===n):S.filter($=>!$.toasterId),[S,n]),P=Y.useMemo(()=>Array.from(new Set([a].concat(k.filter($=>$.position).map($=>$.position)))),[k,a]),[C,O]=Y.useState([]),[T,M]=Y.useState(!1),[R,B]=Y.useState(!1),[L,D]=Y.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),E=Y.useRef(null),A=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=Y.useRef(null),U=Y.useRef(!1),V=Y.useCallback($=>{_(X=>{var oe;return(oe=X.find(ue=>ue.id===$.id))!=null&&oe.delete||Lt.dismiss($.id),X.filter(({id:ue})=>ue!==$.id)})},[]);return Y.useEffect(()=>Lt.subscribe($=>{if($.dismiss){requestAnimationFrame(()=>{_(X=>X.map(oe=>oe.id===$.id?{...oe,delete:!0}:oe))});return}setTimeout(()=>{Bw.flushSync(()=>{_(X=>{const oe=X.findIndex(ue=>ue.id===$.id);return oe!==-1?[...X.slice(0,oe),{...X[oe],...$},...X.slice(oe+1)]:[$,...X]})})})}),[S]),Y.useEffect(()=>{if(m!=="system"){D(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?D("dark"):D("light")),typeof window>"u")return;const $=window.matchMedia("(prefers-color-scheme: dark)");try{$.addEventListener("change",({matches:X})=>{D(X?"dark":"light")})}catch{$.addListener(({matches:oe})=>{try{D(oe?"dark":"light")}catch(ue){console.error(ue)}})}},[m]),Y.useEffect(()=>{S.length<=1&&M(!1)},[S]),Y.useEffect(()=>{const $=X=>{var oe;if(i.every(q=>X[q]||X.code===q)){var I;M(!0),(I=E.current)==null||I.focus()}X.code==="Escape"&&(document.activeElement===E.current||(oe=E.current)!=null&&oe.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[i]),Y.useEffect(()=>{if(E.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,U.current=!1)}},[E.current]),Y.createElement("section",{ref:r,"aria-label":`${N} ${A}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map(($,X)=>{var oe;const[ue,I]=$.split("-");return k.length?Y.createElement("ol",{key:$,dir:g==="auto"?sy():g,tabIndex:-1,ref:E,className:u,"data-sonner-toaster":!0,"data-sonner-theme":L,"data-y-position":ue,"data-x-position":I,style:{"--front-toast-height":`${((oe=C[0])==null?void 0:oe.height)||0}px`,"--width":`${zP}px`,"--gap":`${x}px`,...y,...qP(h,d)},onBlur:q=>{U.current&&!q.currentTarget.contains(q.relatedTarget)&&(U.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||U.current||(U.current=!0,F.current=q.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{R||M(!1)},onDragEnd:()=>M(!1),onPointerDown:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||B(!0)},onPointerUp:()=>B(!1)},k.filter(q=>!q.position&&X===0||q.position===$).map((q,te)=>{var le,me;return Y.createElement(KP,{key:q.id,icons:j,index:te,toast:q,defaultRichColors:v,duration:(le=p==null?void 0:p.duration)!=null?le:b,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:o,visibleToasts:w,closeButton:(me=p==null?void 0:p.closeButton)!=null?me:c,interacting:R,position:$,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,closeButtonAriaLabel:p==null?void 0:p.closeButtonAriaLabel,removeToast:V,toasts:k.filter(fe=>fe.position==q.position),heights:C.filter(fe=>fe.position==q.position),setHeights:O,expandByDefault:l,gap:x,expanded:T,swipeDirections:t.swipeDirections})})):null}))}),YP=({...e})=>{const{theme:t="system"}=bP();return s.jsx(GP,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var QP=Lf[" useId ".trim().toString()]||(()=>{}),JP=0;function Yr(e){const[t,r]=f.useState(QP());return ct(()=>{r(n=>n??String(JP++))},[e]),t?`radix-${t}`:""}const XP=["top","right","bottom","left"],ls=Math.min,Gt=Math.max,Rc=Math.round,Tl=Math.floor,Qr=e=>({x:e,y:e}),ZP={left:"right",right:"left",bottom:"top",top:"bottom"},e2={start:"end",end:"start"};function Qh(e,t,r){return Gt(e,ls(t,r))}function bn(e,t){return typeof e=="function"?e(t):e}function jn(e){return e.split("-")[0]}function ya(e){return e.split("-")[1]}function Im(e){return e==="x"?"y":"x"}function Om(e){return e==="y"?"height":"width"}const t2=new Set(["top","bottom"]);function Kr(e){return t2.has(jn(e))?"y":"x"}function Mm(e){return Im(Kr(e))}function r2(e,t,r){r===void 0&&(r=!1);const n=ya(e),o=Mm(e),a=Om(o);let i=o==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=Ac(i)),[i,Ac(i)]}function n2(e){const t=Ac(e);return[Jh(e),t,Jh(t)]}function Jh(e){return e.replace(/start|end/g,t=>e2[t])}const oy=["left","right"],ay=["right","left"],s2=["top","bottom"],o2=["bottom","top"];function a2(e,t,r){switch(e){case"top":case"bottom":return r?t?ay:oy:t?oy:ay;case"left":case"right":return t?s2:o2;default:return[]}}function i2(e,t,r,n){const o=ya(e);let a=a2(jn(e),r==="start",n);return o&&(a=a.map(i=>i+"-"+o),t&&(a=a.concat(a.map(Jh)))),a}function Ac(e){return e.replace(/left|right|bottom|top/g,t=>ZP[t])}function l2(e){return{top:0,right:0,bottom:0,left:0,...e}}function O0(e){return typeof e!="number"?l2(e):{top:e,right:e,bottom:e,left:e}}function Ic(e){const{x:t,y:r,width:n,height:o}=e;return{width:n,height:o,top:r,left:t,right:t+n,bottom:r+o,x:t,y:r}}function iy(e,t,r){let{reference:n,floating:o}=e;const a=Kr(t),i=Mm(t),l=Om(i),c=jn(t),u=a==="y",h=n.x+n.width/2-o.width/2,d=n.y+n.height/2-o.height/2,m=n[l]/2-o[l]/2;let v;switch(c){case"top":v={x:h,y:n.y-o.height};break;case"bottom":v={x:h,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:d};break;case"left":v={x:n.x-o.width,y:d};break;default:v={x:n.x,y:n.y}}switch(ya(t)){case"start":v[i]-=m*(r&&u?-1:1);break;case"end":v[i]+=m*(r&&u?-1:1);break}return v}const c2=async(e,t,r)=>{const{placement:n="bottom",strategy:o="absolute",middleware:a=[],platform:i}=r,l=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:o}),{x:h,y:d}=iy(u,n,c),m=n,v={},b=0;for(let y=0;y<l.length;y++){const{name:w,fn:p}=l[y],{x:g,y:x,data:j,reset:N}=await p({x:h,y:d,initialPlacement:n,placement:m,strategy:o,middlewareData:v,rects:u,platform:i,elements:{reference:e,floating:t}});h=g??h,d=x??d,v={...v,[w]:{...v[w],...j}},N&&b<=50&&(b++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(u=N.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:o}):N.rects),{x:h,y:d}=iy(u,m,c)),y=-1)}return{x:h,y:d,placement:m,strategy:o,middlewareData:v}};async function Ri(e,t){var r;t===void 0&&(t={});const{x:n,y:o,platform:a,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:d="floating",altBoundary:m=!1,padding:v=0}=bn(t,e),b=O0(v),w=l[m?d==="floating"?"reference":"floating":d],p=Ic(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(w)))==null||r?w:w.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),g=d==="floating"?{x:n,y:o,width:i.floating.width,height:i.floating.height}:i.reference,x=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),j=await(a.isElement==null?void 0:a.isElement(x))?await(a.getScale==null?void 0:a.getScale(x))||{x:1,y:1}:{x:1,y:1},N=Ic(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:x,strategy:c}):g);return{top:(p.top-N.top+b.top)/j.y,bottom:(N.bottom-p.bottom+b.bottom)/j.y,left:(p.left-N.left+b.left)/j.x,right:(N.right-p.right+b.right)/j.x}}const u2=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:o,rects:a,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:h=0}=bn(e,t)||{};if(u==null)return{};const d=O0(h),m={x:r,y:n},v=Mm(o),b=Om(v),y=await i.getDimensions(u),w=v==="y",p=w?"top":"left",g=w?"bottom":"right",x=w?"clientHeight":"clientWidth",j=a.reference[b]+a.reference[v]-m[v]-a.floating[b],N=m[v]-a.reference[v],S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let _=S?S[x]:0;(!_||!await(i.isElement==null?void 0:i.isElement(S)))&&(_=l.floating[x]||a.floating[b]);const k=j/2-N/2,P=_/2-y[b]/2-1,C=ls(d[p],P),O=ls(d[g],P),T=C,M=_-y[b]-O,R=_/2-y[b]/2+k,B=Qh(T,R,M),L=!c.arrow&&ya(o)!=null&&R!==B&&a.reference[b]/2-(R<T?C:O)-y[b]/2<0,D=L?R<T?R-T:R-M:0;return{[v]:m[v]+D,data:{[v]:B,centerOffset:R-B-D,...L&&{alignmentOffset:D}},reset:L}}}),d2=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:o,middlewareData:a,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:h=!0,crossAxis:d=!0,fallbackPlacements:m,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:y=!0,...w}=bn(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const p=jn(o),g=Kr(l),x=jn(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=m||(x||!y?[Ac(l)]:n2(l)),S=b!=="none";!m&&S&&N.push(...i2(l,y,b,j));const _=[l,...N],k=await Ri(t,w),P=[];let C=((n=a.flip)==null?void 0:n.overflows)||[];if(h&&P.push(k[p]),d){const R=r2(o,i,j);P.push(k[R[0]],k[R[1]])}if(C=[...C,{placement:o,overflows:P}],!P.every(R=>R<=0)){var O,T;const R=(((O=a.flip)==null?void 0:O.index)||0)+1,B=_[R];if(B&&(!(d==="alignment"?g!==Kr(B):!1)||C.every(E=>Kr(E.placement)===g?E.overflows[0]>0:!0)))return{data:{index:R,overflows:C},reset:{placement:B}};let L=(T=C.filter(D=>D.overflows[0]<=0).sort((D,E)=>D.overflows[1]-E.overflows[1])[0])==null?void 0:T.placement;if(!L)switch(v){case"bestFit":{var M;const D=(M=C.filter(E=>{if(S){const A=Kr(E.placement);return A===g||A==="y"}return!0}).map(E=>[E.placement,E.overflows.filter(A=>A>0).reduce((A,F)=>A+F,0)]).sort((E,A)=>E[1]-A[1])[0])==null?void 0:M[0];D&&(L=D);break}case"initialPlacement":L=l;break}if(o!==L)return{reset:{placement:L}}}return{}}}};function ly(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function cy(e){return XP.some(t=>e[t]>=0)}const h2=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...o}=bn(e,t);switch(n){case"referenceHidden":{const a=await Ri(t,{...o,elementContext:"reference"}),i=ly(a,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:cy(i)}}}case"escaped":{const a=await Ri(t,{...o,altBoundary:!0}),i=ly(a,r.floating);return{data:{escapedOffsets:i,escaped:cy(i)}}}default:return{}}}}},M0=new Set(["left","top"]);async function f2(e,t){const{placement:r,platform:n,elements:o}=e,a=await(n.isRTL==null?void 0:n.isRTL(o.floating)),i=jn(r),l=ya(r),c=Kr(r)==="y",u=M0.has(i)?-1:1,h=a&&c?-1:1,d=bn(t,e);let{mainAxis:m,crossAxis:v,alignmentAxis:b}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof b=="number"&&(v=l==="end"?b*-1:b),c?{x:v*h,y:m*u}:{x:m*u,y:v*h}}const m2=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:o,y:a,placement:i,middlewareData:l}=t,c=await f2(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:o+c.x,y:a+c.y,data:{...c,placement:i}}}}},p2=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:o}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:l={fn:w=>{let{x:p,y:g}=w;return{x:p,y:g}}},...c}=bn(e,t),u={x:r,y:n},h=await Ri(t,c),d=Kr(jn(o)),m=Im(d);let v=u[m],b=u[d];if(a){const w=m==="y"?"top":"left",p=m==="y"?"bottom":"right",g=v+h[w],x=v-h[p];v=Qh(g,v,x)}if(i){const w=d==="y"?"top":"left",p=d==="y"?"bottom":"right",g=b+h[w],x=b-h[p];b=Qh(g,b,x)}const y=l.fn({...t,[m]:v,[d]:b});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[m]:a,[d]:i}}}}}},g2=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:o,rects:a,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=bn(e,t),h={x:r,y:n},d=Kr(o),m=Im(d);let v=h[m],b=h[d];const y=bn(l,t),w=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const x=m==="y"?"height":"width",j=a.reference[m]-a.floating[x]+w.mainAxis,N=a.reference[m]+a.reference[x]-w.mainAxis;v<j?v=j:v>N&&(v=N)}if(u){var p,g;const x=m==="y"?"width":"height",j=M0.has(jn(o)),N=a.reference[d]-a.floating[x]+(j&&((p=i.offset)==null?void 0:p[d])||0)+(j?0:w.crossAxis),S=a.reference[d]+a.reference[x]+(j?0:((g=i.offset)==null?void 0:g[d])||0)-(j?w.crossAxis:0);b<N?b=N:b>S&&(b=S)}return{[m]:v,[d]:b}}}},y2=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:o,rects:a,platform:i,elements:l}=t,{apply:c=()=>{},...u}=bn(e,t),h=await Ri(t,u),d=jn(o),m=ya(o),v=Kr(o)==="y",{width:b,height:y}=a.floating;let w,p;d==="top"||d==="bottom"?(w=d,p=m===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(p=d,w=m==="end"?"top":"bottom");const g=y-h.top-h.bottom,x=b-h.left-h.right,j=ls(y-h[w],g),N=ls(b-h[p],x),S=!t.middlewareData.shift;let _=j,k=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=x),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(_=g),S&&!m){const C=Gt(h.left,0),O=Gt(h.right,0),T=Gt(h.top,0),M=Gt(h.bottom,0);v?k=b-2*(C!==0||O!==0?C+O:Gt(h.left,h.right)):_=y-2*(T!==0||M!==0?T+M:Gt(h.top,h.bottom))}await c({...t,availableWidth:k,availableHeight:_});const P=await i.getDimensions(l.floating);return b!==P.width||y!==P.height?{reset:{rects:!0}}:{}}}};function wu(){return typeof window<"u"}function xa(e){return D0(e)?(e.nodeName||"").toLowerCase():"#document"}function Xt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Zr(e){var t;return(t=(D0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function D0(e){return wu()?e instanceof Node||e instanceof Xt(e).Node:!1}function Ar(e){return wu()?e instanceof Element||e instanceof Xt(e).Element:!1}function Xr(e){return wu()?e instanceof HTMLElement||e instanceof Xt(e).HTMLElement:!1}function uy(e){return!wu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Xt(e).ShadowRoot}const x2=new Set(["inline","contents"]);function Xi(e){const{overflow:t,overflowX:r,overflowY:n,display:o}=Ir(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!x2.has(o)}const v2=new Set(["table","td","th"]);function w2(e){return v2.has(xa(e))}const b2=[":popover-open",":modal"];function bu(e){return b2.some(t=>{try{return e.matches(t)}catch{return!1}})}const j2=["transform","translate","scale","rotate","perspective"],N2=["transform","translate","scale","rotate","perspective","filter"],S2=["paint","layout","strict","content"];function Dm(e){const t=Lm(),r=Ar(e)?Ir(e):e;return j2.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||N2.some(n=>(r.willChange||"").includes(n))||S2.some(n=>(r.contain||"").includes(n))}function _2(e){let t=cs(e);for(;Xr(t)&&!ia(t);){if(Dm(t))return t;if(bu(t))return null;t=cs(t)}return null}function Lm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const C2=new Set(["html","body","#document"]);function ia(e){return C2.has(xa(e))}function Ir(e){return Xt(e).getComputedStyle(e)}function ju(e){return Ar(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function cs(e){if(xa(e)==="html")return e;const t=e.assignedSlot||e.parentNode||uy(e)&&e.host||Zr(e);return uy(t)?t.host:t}function L0(e){const t=cs(e);return ia(t)?e.ownerDocument?e.ownerDocument.body:e.body:Xr(t)&&Xi(t)?t:L0(t)}function Ai(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const o=L0(e),a=o===((n=e.ownerDocument)==null?void 0:n.body),i=Xt(o);if(a){const l=Xh(i);return t.concat(i,i.visualViewport||[],Xi(o)?o:[],l&&r?Ai(l):[])}return t.concat(o,Ai(o,[],r))}function Xh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function $0(e){const t=Ir(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const o=Xr(e),a=o?e.offsetWidth:r,i=o?e.offsetHeight:n,l=Rc(r)!==a||Rc(n)!==i;return l&&(r=a,n=i),{width:r,height:n,$:l}}function $m(e){return Ar(e)?e:e.contextElement}function Fo(e){const t=$m(e);if(!Xr(t))return Qr(1);const r=t.getBoundingClientRect(),{width:n,height:o,$:a}=$0(t);let i=(a?Rc(r.width):r.width)/n,l=(a?Rc(r.height):r.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const k2=Qr(0);function U0(e){const t=Xt(e);return!Lm()||!t.visualViewport?k2:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function E2(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Xt(e)?!1:t}function Gs(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const o=e.getBoundingClientRect(),a=$m(e);let i=Qr(1);t&&(n?Ar(n)&&(i=Fo(n)):i=Fo(e));const l=E2(a,r,n)?U0(a):Qr(0);let c=(o.left+l.x)/i.x,u=(o.top+l.y)/i.y,h=o.width/i.x,d=o.height/i.y;if(a){const m=Xt(a),v=n&&Ar(n)?Xt(n):n;let b=m,y=Xh(b);for(;y&&n&&v!==b;){const w=Fo(y),p=y.getBoundingClientRect(),g=Ir(y),x=p.left+(y.clientLeft+parseFloat(g.paddingLeft))*w.x,j=p.top+(y.clientTop+parseFloat(g.paddingTop))*w.y;c*=w.x,u*=w.y,h*=w.x,d*=w.y,c+=x,u+=j,b=Xt(y),y=Xh(b)}}return Ic({width:h,height:d,x:c,y:u})}function Nu(e,t){const r=ju(e).scrollLeft;return t?t.left+r:Gs(Zr(e)).left+r}function F0(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Nu(e,r),o=r.top+t.scrollTop;return{x:n,y:o}}function P2(e){let{elements:t,rect:r,offsetParent:n,strategy:o}=e;const a=o==="fixed",i=Zr(n),l=t?bu(t.floating):!1;if(n===i||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=Qr(1);const h=Qr(0),d=Xr(n);if((d||!d&&!a)&&((xa(n)!=="body"||Xi(i))&&(c=ju(n)),Xr(n))){const v=Gs(n);u=Fo(n),h.x=v.x+n.clientLeft,h.y=v.y+n.clientTop}const m=i&&!d&&!a?F0(i,c):Qr(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+h.x+m.x,y:r.y*u.y-c.scrollTop*u.y+h.y+m.y}}function T2(e){return Array.from(e.getClientRects())}function R2(e){const t=Zr(e),r=ju(e),n=e.ownerDocument.body,o=Gt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Gt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+Nu(e);const l=-r.scrollTop;return Ir(n).direction==="rtl"&&(i+=Gt(t.clientWidth,n.clientWidth)-o),{width:o,height:a,x:i,y:l}}const dy=25;function A2(e,t){const r=Xt(e),n=Zr(e),o=r.visualViewport;let a=n.clientWidth,i=n.clientHeight,l=0,c=0;if(o){a=o.width,i=o.height;const h=Lm();(!h||h&&t==="fixed")&&(l=o.offsetLeft,c=o.offsetTop)}const u=Nu(n);if(u<=0){const h=n.ownerDocument,d=h.body,m=getComputedStyle(d),v=h.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,b=Math.abs(n.clientWidth-d.clientWidth-v);b<=dy&&(a-=b)}else u<=dy&&(a+=u);return{width:a,height:i,x:l,y:c}}const I2=new Set(["absolute","fixed"]);function O2(e,t){const r=Gs(e,!0,t==="fixed"),n=r.top+e.clientTop,o=r.left+e.clientLeft,a=Xr(e)?Fo(e):Qr(1),i=e.clientWidth*a.x,l=e.clientHeight*a.y,c=o*a.x,u=n*a.y;return{width:i,height:l,x:c,y:u}}function hy(e,t,r){let n;if(t==="viewport")n=A2(e,r);else if(t==="document")n=R2(Zr(e));else if(Ar(t))n=O2(t,r);else{const o=U0(e);n={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Ic(n)}function z0(e,t){const r=cs(e);return r===t||!Ar(r)||ia(r)?!1:Ir(r).position==="fixed"||z0(r,t)}function M2(e,t){const r=t.get(e);if(r)return r;let n=Ai(e,[],!1).filter(l=>Ar(l)&&xa(l)!=="body"),o=null;const a=Ir(e).position==="fixed";let i=a?cs(e):e;for(;Ar(i)&&!ia(i);){const l=Ir(i),c=Dm(i);!c&&l.position==="fixed"&&(o=null),(a?!c&&!o:!c&&l.position==="static"&&!!o&&I2.has(o.position)||Xi(i)&&!c&&z0(e,i))?n=n.filter(h=>h!==i):o=l,i=cs(i)}return t.set(e,n),n}function D2(e){let{element:t,boundary:r,rootBoundary:n,strategy:o}=e;const i=[...r==="clippingAncestors"?bu(t)?[]:M2(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,h)=>{const d=hy(t,h,o);return u.top=Gt(d.top,u.top),u.right=ls(d.right,u.right),u.bottom=ls(d.bottom,u.bottom),u.left=Gt(d.left,u.left),u},hy(t,l,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function L2(e){const{width:t,height:r}=$0(e);return{width:t,height:r}}function $2(e,t,r){const n=Xr(t),o=Zr(t),a=r==="fixed",i=Gs(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Qr(0);function u(){c.x=Nu(o)}if(n||!n&&!a)if((xa(t)!=="body"||Xi(o))&&(l=ju(t)),n){const v=Gs(t,!0,a,t);c.x=v.x+t.clientLeft,c.y=v.y+t.clientTop}else o&&u();a&&!n&&o&&u();const h=o&&!n&&!a?F0(o,l):Qr(0),d=i.left+l.scrollLeft-c.x-h.x,m=i.top+l.scrollTop-c.y-h.y;return{x:d,y:m,width:i.width,height:i.height}}function Rd(e){return Ir(e).position==="static"}function fy(e,t){if(!Xr(e)||Ir(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Zr(e)===r&&(r=r.ownerDocument.body),r}function H0(e,t){const r=Xt(e);if(bu(e))return r;if(!Xr(e)){let o=cs(e);for(;o&&!ia(o);){if(Ar(o)&&!Rd(o))return o;o=cs(o)}return r}let n=fy(e,t);for(;n&&w2(n)&&Rd(n);)n=fy(n,t);return n&&ia(n)&&Rd(n)&&!Dm(n)?r:n||_2(e)||r}const U2=async function(e){const t=this.getOffsetParent||H0,r=this.getDimensions,n=await r(e.floating);return{reference:$2(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function F2(e){return Ir(e).direction==="rtl"}const z2={convertOffsetParentRelativeRectToViewportRelativeRect:P2,getDocumentElement:Zr,getClippingRect:D2,getOffsetParent:H0,getElementRects:U2,getClientRects:T2,getDimensions:L2,getScale:Fo,isElement:Ar,isRTL:F2};function B0(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function H2(e,t){let r=null,n;const o=Zr(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:h,top:d,width:m,height:v}=u;if(l||t(),!m||!v)return;const b=Tl(d),y=Tl(o.clientWidth-(h+m)),w=Tl(o.clientHeight-(d+v)),p=Tl(h),x={rootMargin:-b+"px "+-y+"px "+-w+"px "+-p+"px",threshold:Gt(0,ls(1,c))||1};let j=!0;function N(S){const _=S[0].intersectionRatio;if(_!==c){if(!j)return i();_?i(!1,_):n=setTimeout(()=>{i(!1,1e-7)},1e3)}_===1&&!B0(u,e.getBoundingClientRect())&&i(),j=!1}try{r=new IntersectionObserver(N,{...x,root:o.ownerDocument})}catch{r=new IntersectionObserver(N,x)}r.observe(e)}return i(!0),a}function B2(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=$m(e),h=o||a?[...u?Ai(u):[],...Ai(t)]:[];h.forEach(p=>{o&&p.addEventListener("scroll",r,{passive:!0}),a&&p.addEventListener("resize",r)});const d=u&&l?H2(u,r):null;let m=-1,v=null;i&&(v=new ResizeObserver(p=>{let[g]=p;g&&g.target===u&&v&&(v.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var x;(x=v)==null||x.observe(t)})),r()}),u&&!c&&v.observe(u),v.observe(t));let b,y=c?Gs(e):null;c&&w();function w(){const p=Gs(e);y&&!B0(y,p)&&r(),y=p,b=requestAnimationFrame(w)}return r(),()=>{var p;h.forEach(g=>{o&&g.removeEventListener("scroll",r),a&&g.removeEventListener("resize",r)}),d==null||d(),(p=v)==null||p.disconnect(),v=null,c&&cancelAnimationFrame(b)}}const W2=m2,V2=p2,K2=d2,q2=y2,G2=h2,my=u2,Y2=g2,Q2=(e,t,r)=>{const n=new Map,o={platform:z2,...r},a={...o.platform,_c:n};return c2(e,t,{...o,platform:a})};var J2=typeof document<"u",X2=function(){},tc=J2?f.useLayoutEffect:X2;function Oc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Oc(e[n],t[n]))return!1;return!0}if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,o[n]))return!1;for(n=r;n--!==0;){const a=o[n];if(!(a==="_owner"&&e.$$typeof)&&!Oc(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function W0(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function py(e,t){const r=W0(e);return Math.round(t*r)/r}function Ad(e){const t=f.useRef(e);return tc(()=>{t.current=e}),t}function Z2(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:o,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[h,d]=f.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,v]=f.useState(n);Oc(m,n)||v(n);const[b,y]=f.useState(null),[w,p]=f.useState(null),g=f.useCallback(E=>{E!==S.current&&(S.current=E,y(E))},[]),x=f.useCallback(E=>{E!==_.current&&(_.current=E,p(E))},[]),j=a||b,N=i||w,S=f.useRef(null),_=f.useRef(null),k=f.useRef(h),P=c!=null,C=Ad(c),O=Ad(o),T=Ad(u),M=f.useCallback(()=>{if(!S.current||!_.current)return;const E={placement:t,strategy:r,middleware:m};O.current&&(E.platform=O.current),Q2(S.current,_.current,E).then(A=>{const F={...A,isPositioned:T.current!==!1};R.current&&!Oc(k.current,F)&&(k.current=F,to.flushSync(()=>{d(F)}))})},[m,t,r,O,T]);tc(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,d(E=>({...E,isPositioned:!1})))},[u]);const R=f.useRef(!1);tc(()=>(R.current=!0,()=>{R.current=!1}),[]),tc(()=>{if(j&&(S.current=j),N&&(_.current=N),j&&N){if(C.current)return C.current(j,N,M);M()}},[j,N,M,C,P]);const B=f.useMemo(()=>({reference:S,floating:_,setReference:g,setFloating:x}),[g,x]),L=f.useMemo(()=>({reference:j,floating:N}),[j,N]),D=f.useMemo(()=>{const E={position:r,left:0,top:0};if(!L.floating)return E;const A=py(L.floating,h.x),F=py(L.floating,h.y);return l?{...E,transform:"translate("+A+"px, "+F+"px)",...W0(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:A,top:F}},[r,l,L.floating,h.x,h.y]);return f.useMemo(()=>({...h,update:M,refs:B,elements:L,floatingStyles:D}),[h,M,B,L,D])}const eT=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:o}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?my({element:n.current,padding:o}).fn(r):{}:n?my({element:n,padding:o}).fn(r):{}}}},tT=(e,t)=>({...W2(e),options:[e,t]}),rT=(e,t)=>({...V2(e),options:[e,t]}),nT=(e,t)=>({...Y2(e),options:[e,t]}),sT=(e,t)=>({...K2(e),options:[e,t]}),oT=(e,t)=>({...q2(e),options:[e,t]}),aT=(e,t)=>({...G2(e),options:[e,t]}),iT=(e,t)=>({...eT(e),options:[e,t]});var lT="Arrow",V0=f.forwardRef((e,t)=>{const{children:r,width:n=10,height:o=5,...a}=e;return s.jsx(ae.svg,{...a,ref:t,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});V0.displayName=lT;var cT=V0;function Um(e){const[t,r]=f.useState(void 0);return ct(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Fm="Popper",[K0,va]=It(Fm),[uT,q0]=K0(Fm),G0=e=>{const{__scopePopper:t,children:r}=e,[n,o]=f.useState(null);return s.jsx(uT,{scope:t,anchor:n,onAnchorChange:o,children:r})};G0.displayName=Fm;var Y0="PopperAnchor",Q0=f.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...o}=e,a=q0(Y0,r),i=f.useRef(null),l=ye(t,i),c=f.useRef(null);return f.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||i.current,u!==c.current&&a.onAnchorChange(c.current)}),n?null:s.jsx(ae.div,{...o,ref:l})});Q0.displayName=Y0;var zm="PopperContent",[dT,hT]=K0(zm),J0=f.forwardRef((e,t)=>{var I,q,te,le,me,fe;const{__scopePopper:r,side:n="bottom",sideOffset:o=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:d="partial",hideWhenDetached:m=!1,updatePositionStrategy:v="optimized",onPlaced:b,...y}=e,w=q0(zm,r),[p,g]=f.useState(null),x=ye(t,Ie=>g(Ie)),[j,N]=f.useState(null),S=Um(j),_=(S==null?void 0:S.width)??0,k=(S==null?void 0:S.height)??0,P=n+(a!=="center"?"-"+a:""),C=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},O=Array.isArray(u)?u:[u],T=O.length>0,M={padding:C,boundary:O.filter(mT),altBoundary:T},{refs:R,floatingStyles:B,placement:L,isPositioned:D,middlewareData:E}=Z2({strategy:"fixed",placement:P,whileElementsMounted:(...Ie)=>B2(...Ie,{animationFrame:v==="always"}),elements:{reference:w.anchor},middleware:[tT({mainAxis:o+k,alignmentAxis:i}),c&&rT({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?nT():void 0,...M}),c&&sT({...M}),oT({...M,apply:({elements:Ie,rects:ne,availableWidth:ce,availableHeight:Ce})=>{const{width:$e,height:ut}=ne.reference,be=Ie.floating.style;be.setProperty("--radix-popper-available-width",`${ce}px`),be.setProperty("--radix-popper-available-height",`${Ce}px`),be.setProperty("--radix-popper-anchor-width",`${$e}px`),be.setProperty("--radix-popper-anchor-height",`${ut}px`)}}),j&&iT({element:j,padding:l}),pT({arrowWidth:_,arrowHeight:k}),m&&aT({strategy:"referenceHidden",...M})]}),[A,F]=eb(L),U=qe(b);ct(()=>{D&&(U==null||U())},[D,U]);const V=(I=E.arrow)==null?void 0:I.x,$=(q=E.arrow)==null?void 0:q.y,X=((te=E.arrow)==null?void 0:te.centerOffset)!==0,[oe,ue]=f.useState();return ct(()=>{p&&ue(window.getComputedStyle(p).zIndex)},[p]),s.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:D?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:oe,"--radix-popper-transform-origin":[(le=E.transformOrigin)==null?void 0:le.x,(me=E.transformOrigin)==null?void 0:me.y].join(" "),...((fe=E.hide)==null?void 0:fe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(dT,{scope:r,placedSide:A,onArrowChange:N,arrowX:V,arrowY:$,shouldHideArrow:X,children:s.jsx(ae.div,{"data-side":A,"data-align":F,...y,ref:x,style:{...y.style,animation:D?void 0:"none"}})})})});J0.displayName=zm;var X0="PopperArrow",fT={top:"bottom",right:"left",bottom:"top",left:"right"},Z0=f.forwardRef(function(t,r){const{__scopePopper:n,...o}=t,a=hT(X0,n),i=fT[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(cT,{...o,ref:r,style:{...o.style,display:"block"}})})});Z0.displayName=X0;function mT(e){return e!==null}var pT=e=>({name:"transformOrigin",options:e,fn(t){var w,p,g;const{placement:r,rects:n,middlewareData:o}=t,i=((w=o.arrow)==null?void 0:w.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,h]=eb(r),d={start:"0%",center:"50%",end:"100%"}[h],m=(((p=o.arrow)==null?void 0:p.x)??0)+l/2,v=(((g=o.arrow)==null?void 0:g.y)??0)+c/2;let b="",y="";return u==="bottom"?(b=i?d:`${m}px`,y=`${-c}px`):u==="top"?(b=i?d:`${m}px`,y=`${n.floating.height+c}px`):u==="right"?(b=`${-c}px`,y=i?d:`${v}px`):u==="left"&&(b=`${n.floating.width+c}px`,y=i?d:`${v}px`),{data:{x:b,y}}}});function eb(e){const[t,r="center"]=e.split("-");return[t,r]}var tb=G0,Hm=Q0,Bm=J0,Wm=Z0,[Su]=It("Tooltip",[va]),Vm=va(),rb="TooltipProvider",gT=700,gy="tooltip.open",[yT,nb]=Su(rb),sb=e=>{const{__scopeTooltip:t,delayDuration:r=gT,skipDelayDuration:n=300,disableHoverableContent:o=!1,children:a}=e,i=f.useRef(!0),l=f.useRef(!1),c=f.useRef(0);return f.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(yT,{scope:t,isOpenDelayedRef:i,delayDuration:r,onOpen:f.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:f.useCallback(u=>{l.current=u},[]),disableHoverableContent:o,children:a})};sb.displayName=rb;var ob="Tooltip",[ZL,_u]=Su(ob),Zh="TooltipTrigger",xT=f.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,o=_u(Zh,r),a=nb(Zh,r),i=Vm(r),l=f.useRef(null),c=ye(t,l,o.onTriggerChange),u=f.useRef(!1),h=f.useRef(!1),d=f.useCallback(()=>u.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),s.jsx(Hm,{asChild:!0,...i,children:s.jsx(ae.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...n,ref:c,onPointerMove:J(e.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!a.isPointerInTransitRef.current&&(o.onTriggerEnter(),h.current=!0)}),onPointerLeave:J(e.onPointerLeave,()=>{o.onTriggerLeave(),h.current=!1}),onPointerDown:J(e.onPointerDown,()=>{o.open&&o.onClose(),u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:J(e.onFocus,()=>{u.current||o.onOpen()}),onBlur:J(e.onBlur,o.onClose),onClick:J(e.onClick,o.onClose)})})});xT.displayName=Zh;var vT="TooltipPortal",[e3,wT]=Su(vT,{forceMount:void 0}),la="TooltipContent",ab=f.forwardRef((e,t)=>{const r=wT(la,e.__scopeTooltip),{forceMount:n=r.forceMount,side:o="top",...a}=e,i=_u(la,e.__scopeTooltip);return s.jsx(gt,{present:n||i.open,children:i.disableHoverableContent?s.jsx(ib,{side:o,...a,ref:t}):s.jsx(bT,{side:o,...a,ref:t})})}),bT=f.forwardRef((e,t)=>{const r=_u(la,e.__scopeTooltip),n=nb(la,e.__scopeTooltip),o=f.useRef(null),a=ye(t,o),[i,l]=f.useState(null),{trigger:c,onClose:u}=r,h=o.current,{onPointerInTransitChange:d}=n,m=f.useCallback(()=>{l(null),d(!1)},[d]),v=f.useCallback((b,y)=>{const w=b.currentTarget,p={x:b.clientX,y:b.clientY},g=CT(p,w.getBoundingClientRect()),x=kT(p,g),j=ET(y.getBoundingClientRect()),N=TT([...x,...j]);l(N),d(!0)},[d]);return f.useEffect(()=>()=>m(),[m]),f.useEffect(()=>{if(c&&h){const b=w=>v(w,h),y=w=>v(w,c);return c.addEventListener("pointerleave",b),h.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",b),h.removeEventListener("pointerleave",y)}}},[c,h,v,m]),f.useEffect(()=>{if(i){const b=y=>{const w=y.target,p={x:y.clientX,y:y.clientY},g=(c==null?void 0:c.contains(w))||(h==null?void 0:h.contains(w)),x=!PT(p,i);g?m():x&&(m(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,h,i,u,m]),s.jsx(ib,{...e,ref:a})}),[jT,NT]=Su(ob,{isInside:!1}),ST=pk("TooltipContent"),ib=f.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":o,onEscapeKeyDown:a,onPointerDownOutside:i,...l}=e,c=_u(la,r),u=Vm(r),{onClose:h}=c;return f.useEffect(()=>(document.addEventListener(gy,h),()=>document.removeEventListener(gy,h)),[h]),f.useEffect(()=>{if(c.trigger){const d=m=>{const v=m.target;v!=null&&v.contains(c.trigger)&&h()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,h]),s.jsx(pa,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:d=>d.preventDefault(),onDismiss:h,children:s.jsxs(Bm,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(ST,{children:n}),s.jsx(jT,{scope:r,isInside:!0,children:s.jsx(Lk,{id:c.contentId,role:"tooltip",children:o||n})})]})})});ab.displayName=la;var lb="TooltipArrow",_T=f.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,o=Vm(r);return NT(lb,r).isInside?null:s.jsx(Wm,{...o,...n,ref:t})});_T.displayName=lb;function CT(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,o,a)){case a:return"left";case o:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function kT(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function ET(e){const{top:t,right:r,bottom:n,left:o}=e;return[{x:o,y:t},{x:r,y:t},{x:r,y:n},{x:o,y:n}]}function PT(e,t){const{x:r,y:n}=e;let o=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a],c=t[i],u=l.x,h=l.y,d=c.x,m=c.y;h>n!=m>n&&r<(d-u)*(n-h)/(m-h)+u&&(o=!o)}return o}function TT(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),RT(t)}function RT(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const o=e[n];for(;t.length>=2;){const a=t[t.length-1],i=t[t.length-2];if((a.x-i.x)*(o.y-i.y)>=(a.y-i.y)*(o.x-i.x))t.pop();else break}t.push(o)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const o=e[n];for(;r.length>=2;){const a=r[r.length-1],i=r[r.length-2];if((a.x-i.x)*(o.y-i.y)>=(a.y-i.y)*(o.x-i.x))r.pop();else break}r.push(o)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var AT=sb,cb=ab;const IT=AT,OT=f.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(cb,{ref:n,sideOffset:t,className:ie("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));OT.displayName=cb.displayName;var Cu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},MT={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},zn,Af,bx,DT=(bx=class{constructor(){Se(this,zn,MT);Se(this,Af,!1)}setTimeoutProvider(e){pe(this,zn,e)}setTimeout(e,t){return z(this,zn).setTimeout(e,t)}clearTimeout(e){z(this,zn).clearTimeout(e)}setInterval(e,t){return z(this,zn).setInterval(e,t)}clearInterval(e){z(this,zn).clearInterval(e)}},zn=new WeakMap,Af=new WeakMap,bx),ef=new DT;function LT(e){setTimeout(e,0)}var ku=typeof window>"u"||"Deno"in globalThis;function Nr(){}function $T(e,t){return typeof e=="function"?e(t):e}function UT(e){return typeof e=="number"&&e>=0&&e!==1/0}function FT(e,t){return Math.max(e+(t||0)-Date.now(),0)}function tf(e,t){return typeof e=="function"?e(t):e}function zT(e,t){return typeof e=="function"?e(t):e}function yy(e,t){const{type:r="all",exact:n,fetchStatus:o,predicate:a,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==Km(i,t.options))return!1}else if(!Oi(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||o&&o!==t.state.fetchStatus||a&&!a(t))}function xy(e,t){const{exact:r,status:n,predicate:o,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Ii(t.options.mutationKey)!==Ii(a))return!1}else if(!Oi(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||o&&!o(t))}function Km(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ii)(e)}function Ii(e){return JSON.stringify(e,(t,r)=>rf(r)?Object.keys(r).sort().reduce((n,o)=>(n[o]=r[o],n),{}):r)}function Oi(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Oi(e[r],t[r])):!1}var HT=Object.prototype.hasOwnProperty;function ub(e,t){if(e===t)return e;const r=vy(e)&&vy(t);if(!r&&!(rf(e)&&rf(t)))return t;const o=(r?e:Object.keys(e)).length,a=r?t:Object.keys(t),i=a.length,l=r?new Array(i):{};let c=0;for(let u=0;u<i;u++){const h=r?u:a[u],d=e[h],m=t[h];if(d===m){l[h]=d,(r?u<o:HT.call(e,h))&&c++;continue}if(d===null||m===null||typeof d!="object"||typeof m!="object"){l[h]=m;continue}const v=ub(d,m);l[h]=v,v===d&&c++}return o===i&&c===o?e:l}function vy(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function rf(e){if(!wy(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!wy(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function wy(e){return Object.prototype.toString.call(e)==="[object Object]"}function BT(e){return new Promise(t=>{ef.setTimeout(t,e)})}function WT(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?ub(e,t):t}function VT(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function KT(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var qm=Symbol();function db(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===qm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var As,Hn,Bo,jx,qT=(jx=class extends Cu{constructor(){super();Se(this,As);Se(this,Hn);Se(this,Bo);pe(this,Bo,t=>{if(!ku&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){z(this,Hn)||this.setEventListener(z(this,Bo))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,Hn))==null||t.call(this),pe(this,Hn,void 0))}setEventListener(t){var r;pe(this,Bo,t),(r=z(this,Hn))==null||r.call(this),pe(this,Hn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){z(this,As)!==t&&(pe(this,As,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof z(this,As)=="boolean"?z(this,As):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},As=new WeakMap,Hn=new WeakMap,Bo=new WeakMap,jx),hb=new qT;function GT(){let e,t;const r=new Promise((o,a)=>{e=o,t=a});r.status="pending",r.catch(()=>{});function n(o){Object.assign(r,o),delete r.resolve,delete r.reject}return r.resolve=o=>{n({status:"fulfilled",value:o}),e(o)},r.reject=o=>{n({status:"rejected",reason:o}),t(o)},r}var YT=LT;function QT(){let e=[],t=0,r=l=>{l()},n=l=>{l()},o=YT;const a=l=>{t?e.push(l):o(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&o(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{o=l}}}var Et=QT(),Wo,Bn,Vo,Nx,JT=(Nx=class extends Cu{constructor(){super();Se(this,Wo,!0);Se(this,Bn);Se(this,Vo);pe(this,Vo,t=>{if(!ku&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){z(this,Bn)||this.setEventListener(z(this,Vo))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,Bn))==null||t.call(this),pe(this,Bn,void 0))}setEventListener(t){var r;pe(this,Vo,t),(r=z(this,Bn))==null||r.call(this),pe(this,Bn,t(this.setOnline.bind(this)))}setOnline(t){z(this,Wo)!==t&&(pe(this,Wo,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return z(this,Wo)}},Wo=new WeakMap,Bn=new WeakMap,Vo=new WeakMap,Nx),Mc=new JT;function XT(e){return Math.min(1e3*2**e,3e4)}function fb(e){return(e??"online")==="online"?Mc.isOnline():!0}var nf=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function mb(e){let t=!1,r=0,n;const o=GT(),a=()=>o.status!=="pending",i=y=>{var w;if(!a()){const p=new nf(y);m(p),(w=e.onCancel)==null||w.call(e,p)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>hb.isFocused()&&(e.networkMode==="always"||Mc.isOnline())&&e.canRun(),h=()=>fb(e.networkMode)&&e.canRun(),d=y=>{a()||(n==null||n(),o.resolve(y))},m=y=>{a()||(n==null||n(),o.reject(y))},v=()=>new Promise(y=>{var w;n=p=>{(a()||u())&&y(p)},(w=e.onPause)==null||w.call(e)}).then(()=>{var y;n=void 0,a()||(y=e.onContinue)==null||y.call(e)}),b=()=>{if(a())return;let y;const w=r===0?e.initialPromise:void 0;try{y=w??e.fn()}catch(p){y=Promise.reject(p)}Promise.resolve(y).then(d).catch(p=>{var S;if(a())return;const g=e.retry??(ku?0:3),x=e.retryDelay??XT,j=typeof x=="function"?x(r,p):x,N=g===!0||typeof g=="number"&&r<g||typeof g=="function"&&g(r,p);if(t||!N){m(p);return}r++,(S=e.onFail)==null||S.call(e,r,p),BT(j).then(()=>u()?void 0:v()).then(()=>{t?m(p):b()})})};return{promise:o,status:()=>o.status,cancel:i,continue:()=>(n==null||n(),o),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?b():v().then(b),o)}}var Is,Sx,pb=(Sx=class{constructor(){Se(this,Is)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),UT(this.gcTime)&&pe(this,Is,ef.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ku?1/0:5*60*1e3))}clearGcTimeout(){z(this,Is)&&(ef.clearTimeout(z(this,Is)),pe(this,Is,void 0))}},Is=new WeakMap,Sx),Os,Ko,sr,Ms,ot,zi,Ds,Sr,sn,_x,ZT=(_x=class extends pb{constructor(t){super();Se(this,Sr);Se(this,Os);Se(this,Ko);Se(this,sr);Se(this,Ms);Se(this,ot);Se(this,zi);Se(this,Ds);pe(this,Ds,!1),pe(this,zi,t.defaultOptions),this.setOptions(t.options),this.observers=[],pe(this,Ms,t.client),pe(this,sr,z(this,Ms).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,pe(this,Os,by(this.options)),this.state=t.state??z(this,Os),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=z(this,ot))==null?void 0:t.promise}setOptions(t){if(this.options={...z(this,zi),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=by(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),pe(this,Os,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,sr).remove(this)}setData(t,r){const n=WT(this.state.data,t,this.options);return xt(this,Sr,sn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){xt(this,Sr,sn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,o;const r=(n=z(this,ot))==null?void 0:n.promise;return(o=z(this,ot))==null||o.cancel(t),r?r.then(Nr).catch(Nr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,Os))}isActive(){return this.observers.some(t=>zT(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===qm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>tf(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!FT(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=z(this,ot))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=z(this,ot))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),z(this,sr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(z(this,ot)&&(z(this,Ds)?z(this,ot).cancel({revert:!0}):z(this,ot).cancelRetry()),this.scheduleGc()),z(this,sr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||xt(this,Sr,sn).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,h,d,m,v,b,y,w,p,g,x;if(this.state.fetchStatus!=="idle"&&((c=z(this,ot))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,ot))return z(this,ot).continueRetry(),z(this,ot).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(N=>N.options.queryFn);j&&this.setOptions(j.options)}const n=new AbortController,o=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(pe(this,Ds,!0),n.signal)})},a=()=>{const j=db(this.options,r),S=(()=>{const _={client:z(this,Ms),queryKey:this.queryKey,meta:this.meta};return o(_),_})();return pe(this,Ds,!1),this.options.persister?this.options.persister(j,S,this):j(S)},l=(()=>{const j={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:z(this,Ms),state:this.state,fetchFn:a};return o(j),j})();(u=this.options.behavior)==null||u.onFetch(l,this),pe(this,Ko,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&xt(this,Sr,sn).call(this,{type:"fetch",meta:(d=l.fetchOptions)==null?void 0:d.meta}),pe(this,ot,mb({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:j=>{j instanceof nf&&j.revert&&this.setState({...z(this,Ko),fetchStatus:"idle"}),n.abort()},onFail:(j,N)=>{xt(this,Sr,sn).call(this,{type:"failed",failureCount:j,error:N})},onPause:()=>{xt(this,Sr,sn).call(this,{type:"pause"})},onContinue:()=>{xt(this,Sr,sn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await z(this,ot).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(v=(m=z(this,sr).config).onSuccess)==null||v.call(m,j,this),(y=(b=z(this,sr).config).onSettled)==null||y.call(b,j,this.state.error,this),j}catch(j){if(j instanceof nf){if(j.silent)return z(this,ot).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw xt(this,Sr,sn).call(this,{type:"error",error:j}),(p=(w=z(this,sr).config).onError)==null||p.call(w,j,this),(x=(g=z(this,sr).config).onSettled)==null||x.call(g,this.state.data,j,this),j}finally{this.scheduleGc()}}},Os=new WeakMap,Ko=new WeakMap,sr=new WeakMap,Ms=new WeakMap,ot=new WeakMap,zi=new WeakMap,Ds=new WeakMap,Sr=new WeakSet,sn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...eR(n.data,this.options),fetchMeta:t.meta??null};case"success":const o={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return pe(this,Ko,t.manual?o:void 0),o;case"error":const a=t.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Et.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),z(this,sr).notify({query:this,type:"updated",action:t})})},_x);function eR(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:fb(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function by(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function jy(e){return{onFetch:(t,r)=>{var h,d,m,v,b;const n=t.options,o=(m=(d=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:d.fetchMore)==null?void 0:m.direction,a=((v=t.state.data)==null?void 0:v.pages)||[],i=((b=t.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let y=!1;const w=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},p=db(t.options,t.fetchOptions),g=async(x,j,N)=>{if(y)return Promise.reject();if(j==null&&x.pages.length)return Promise.resolve(x);const _=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:j,direction:N?"backward":"forward",meta:t.options.meta};return w(O),O})(),k=await p(_),{maxPages:P}=t.options,C=N?KT:VT;return{pages:C(x.pages,k,P),pageParams:C(x.pageParams,j,P)}};if(o&&a.length){const x=o==="backward",j=x?tR:Ny,N={pages:a,pageParams:i},S=j(n,N);l=await g(N,S,x)}else{const x=e??a.length;do{const j=c===0?i[0]??n.initialPageParam:Ny(n,l);if(c>0&&j==null)break;l=await g(l,j),c++}while(c<x)}return l};t.options.persister?t.fetchFn=()=>{var y,w;return(w=(y=t.options).persister)==null?void 0:w.call(y,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Ny(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function tR(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Hi,Fr,_t,Ls,zr,In,Cx,rR=(Cx=class extends pb{constructor(t){super();Se(this,zr);Se(this,Hi);Se(this,Fr);Se(this,_t);Se(this,Ls);pe(this,Hi,t.client),this.mutationId=t.mutationId,pe(this,_t,t.mutationCache),pe(this,Fr,[]),this.state=t.state||nR(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){z(this,Fr).includes(t)||(z(this,Fr).push(t),this.clearGcTimeout(),z(this,_t).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){pe(this,Fr,z(this,Fr).filter(r=>r!==t)),this.scheduleGc(),z(this,_t).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){z(this,Fr).length||(this.state.status==="pending"?this.scheduleGc():z(this,_t).remove(this))}continue(){var t;return((t=z(this,Ls))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,l,c,u,h,d,m,v,b,y,w,p,g,x,j,N,S,_,k,P;const r=()=>{xt(this,zr,In).call(this,{type:"continue"})},n={client:z(this,Hi),meta:this.options.meta,mutationKey:this.options.mutationKey};pe(this,Ls,mb({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(C,O)=>{xt(this,zr,In).call(this,{type:"failed",failureCount:C,error:O})},onPause:()=>{xt(this,zr,In).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,_t).canRun(this)}));const o=this.state.status==="pending",a=!z(this,Ls).canStart();try{if(o)r();else{xt(this,zr,In).call(this,{type:"pending",variables:t,isPaused:a}),await((l=(i=z(this,_t).config).onMutate)==null?void 0:l.call(i,t,this,n));const O=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));O!==this.state.context&&xt(this,zr,In).call(this,{type:"pending",context:O,variables:t,isPaused:a})}const C=await z(this,Ls).start();return await((d=(h=z(this,_t).config).onSuccess)==null?void 0:d.call(h,C,t,this.state.context,this,n)),await((v=(m=this.options).onSuccess)==null?void 0:v.call(m,C,t,this.state.context,n)),await((y=(b=z(this,_t).config).onSettled)==null?void 0:y.call(b,C,null,this.state.variables,this.state.context,this,n)),await((p=(w=this.options).onSettled)==null?void 0:p.call(w,C,null,t,this.state.context,n)),xt(this,zr,In).call(this,{type:"success",data:C}),C}catch(C){try{throw await((x=(g=z(this,_t).config).onError)==null?void 0:x.call(g,C,t,this.state.context,this,n)),await((N=(j=this.options).onError)==null?void 0:N.call(j,C,t,this.state.context,n)),await((_=(S=z(this,_t).config).onSettled)==null?void 0:_.call(S,void 0,C,this.state.variables,this.state.context,this,n)),await((P=(k=this.options).onSettled)==null?void 0:P.call(k,void 0,C,t,this.state.context,n)),C}finally{xt(this,zr,In).call(this,{type:"error",error:C})}}finally{z(this,_t).runNext(this)}}},Hi=new WeakMap,Fr=new WeakMap,_t=new WeakMap,Ls=new WeakMap,zr=new WeakSet,In=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Et.batch(()=>{z(this,Fr).forEach(n=>{n.onMutationUpdate(t)}),z(this,_t).notify({mutation:this,type:"updated",action:t})})},Cx);function nR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var cn,_r,Bi,kx,sR=(kx=class extends Cu{constructor(t={}){super();Se(this,cn);Se(this,_r);Se(this,Bi);this.config=t,pe(this,cn,new Set),pe(this,_r,new Map),pe(this,Bi,0)}build(t,r,n){const o=new rR({client:t,mutationCache:this,mutationId:++cl(this,Bi)._,options:t.defaultMutationOptions(r),state:n});return this.add(o),o}add(t){z(this,cn).add(t);const r=Rl(t);if(typeof r=="string"){const n=z(this,_r).get(r);n?n.push(t):z(this,_r).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(z(this,cn).delete(t)){const r=Rl(t);if(typeof r=="string"){const n=z(this,_r).get(r);if(n)if(n.length>1){const o=n.indexOf(t);o!==-1&&n.splice(o,1)}else n[0]===t&&z(this,_r).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Rl(t);if(typeof r=="string"){const n=z(this,_r).get(r),o=n==null?void 0:n.find(a=>a.state.status==="pending");return!o||o===t}else return!0}runNext(t){var n;const r=Rl(t);if(typeof r=="string"){const o=(n=z(this,_r).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Et.batch(()=>{z(this,cn).forEach(t=>{this.notify({type:"removed",mutation:t})}),z(this,cn).clear(),z(this,_r).clear()})}getAll(){return Array.from(z(this,cn))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>xy(r,n))}findAll(t={}){return this.getAll().filter(r=>xy(t,r))}notify(t){Et.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Et.batch(()=>Promise.all(t.map(r=>r.continue().catch(Nr))))}},cn=new WeakMap,_r=new WeakMap,Bi=new WeakMap,kx);function Rl(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Hr,Ex,oR=(Ex=class extends Cu{constructor(t={}){super();Se(this,Hr);this.config=t,pe(this,Hr,new Map)}build(t,r,n){const o=r.queryKey,a=r.queryHash??Km(o,r);let i=this.get(a);return i||(i=new ZT({client:t,queryKey:o,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(o)}),this.add(i)),i}add(t){z(this,Hr).has(t.queryHash)||(z(this,Hr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=z(this,Hr).get(t.queryHash);r&&(t.destroy(),r===t&&z(this,Hr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Et.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return z(this,Hr).get(t)}getAll(){return[...z(this,Hr).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>yy(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>yy(t,n)):r}notify(t){Et.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Et.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Et.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Hr=new WeakMap,Ex),We,Wn,Vn,qo,Go,Kn,Yo,Qo,Px,aR=(Px=class{constructor(e={}){Se(this,We);Se(this,Wn);Se(this,Vn);Se(this,qo);Se(this,Go);Se(this,Kn);Se(this,Yo);Se(this,Qo);pe(this,We,e.queryCache||new oR),pe(this,Wn,e.mutationCache||new sR),pe(this,Vn,e.defaultOptions||{}),pe(this,qo,new Map),pe(this,Go,new Map),pe(this,Kn,0)}mount(){cl(this,Kn)._++,z(this,Kn)===1&&(pe(this,Yo,hb.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,We).onFocus())})),pe(this,Qo,Mc.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,We).onOnline())})))}unmount(){var e,t;cl(this,Kn)._--,z(this,Kn)===0&&((e=z(this,Yo))==null||e.call(this),pe(this,Yo,void 0),(t=z(this,Qo))==null||t.call(this),pe(this,Qo,void 0))}isFetching(e){return z(this,We).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return z(this,Wn).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=z(this,We).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=z(this,We).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(tf(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return z(this,We).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),o=z(this,We).get(n.queryHash),a=o==null?void 0:o.state.data,i=$T(t,a);if(i!==void 0)return z(this,We).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return Et.batch(()=>z(this,We).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=z(this,We).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=z(this,We);Et.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=z(this,We);return Et.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Et.batch(()=>z(this,We).findAll(e).map(o=>o.cancel(r)));return Promise.all(n).then(Nr).catch(Nr)}invalidateQueries(e,t={}){return Et.batch(()=>(z(this,We).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Et.batch(()=>z(this,We).findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let a=o.fetch(void 0,r);return r.throwOnError||(a=a.catch(Nr)),o.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Nr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=z(this,We).build(this,t);return r.isStaleByTime(tf(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Nr).catch(Nr)}fetchInfiniteQuery(e){return e.behavior=jy(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Nr).catch(Nr)}ensureInfiniteQueryData(e){return e.behavior=jy(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Mc.isOnline()?z(this,Wn).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,We)}getMutationCache(){return z(this,Wn)}getDefaultOptions(){return z(this,Vn)}setDefaultOptions(e){pe(this,Vn,e)}setQueryDefaults(e,t){z(this,qo).set(Ii(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...z(this,qo).values()],r={};return t.forEach(n=>{Oi(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){z(this,Go).set(Ii(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...z(this,Go).values()],r={};return t.forEach(n=>{Oi(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...z(this,Vn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Km(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===qm&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...z(this,Vn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){z(this,We).clear(),z(this,Wn).clear()}},We=new WeakMap,Wn=new WeakMap,Vn=new WeakMap,qo=new WeakMap,Go=new WeakMap,Kn=new WeakMap,Yo=new WeakMap,Qo=new WeakMap,Px),iR=f.createContext(void 0),lR=({client:e,children:t})=>(f.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(iR.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mi(){return Mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mi.apply(this,arguments)}var Yn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Yn||(Yn={}));const Sy="popstate";function cR(e){e===void 0&&(e={});function t(n,o){let{pathname:a,search:i,hash:l}=n.location;return sf("",{pathname:a,search:i,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(n,o){return typeof o=="string"?o:Dc(o)}return dR(t,r,null,e)}function Ge(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function gb(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function uR(){return Math.random().toString(36).substr(2,8)}function _y(e,t){return{usr:e.state,key:e.key,idx:t}}function sf(e,t,r,n){return r===void 0&&(r=null),Mi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?wa(t):t,{state:r,key:t&&t.key||n||uR()})}function Dc(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function wa(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function dR(e,t,r,n){n===void 0&&(n={});let{window:o=document.defaultView,v5Compat:a=!1}=n,i=o.history,l=Yn.Pop,c=null,u=h();u==null&&(u=0,i.replaceState(Mi({},i.state,{idx:u}),""));function h(){return(i.state||{idx:null}).idx}function d(){l=Yn.Pop;let w=h(),p=w==null?null:w-u;u=w,c&&c({action:l,location:y.location,delta:p})}function m(w,p){l=Yn.Push;let g=sf(y.location,w,p);u=h()+1;let x=_y(g,u),j=y.createHref(g);try{i.pushState(x,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;o.location.assign(j)}a&&c&&c({action:l,location:y.location,delta:1})}function v(w,p){l=Yn.Replace;let g=sf(y.location,w,p);u=h();let x=_y(g,u),j=y.createHref(g);i.replaceState(x,"",j),a&&c&&c({action:l,location:y.location,delta:0})}function b(w){let p=o.location.origin!=="null"?o.location.origin:o.location.href,g=typeof w=="string"?w:Dc(w);return g=g.replace(/ $/,"%20"),Ge(p,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,p)}let y={get action(){return l},get location(){return e(o,i)},listen(w){if(c)throw new Error("A history only accepts one active listener");return o.addEventListener(Sy,d),c=w,()=>{o.removeEventListener(Sy,d),c=null}},createHref(w){return t(o,w)},createURL:b,encodeLocation(w){let p=b(w);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:m,replace:v,go(w){return i.go(w)}};return y}var Cy;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Cy||(Cy={}));function hR(e,t,r){return r===void 0&&(r="/"),fR(e,t,r)}function fR(e,t,r,n){let o=typeof t=="string"?wa(t):t,a=Gm(o.pathname||"/",r);if(a==null)return null;let i=yb(e);mR(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=CR(a);l=NR(i[c],u)}return l}function yb(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let o=(a,i,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(Ge(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=ss([n,c.relativePath]),h=r.concat(c);a.children&&a.children.length>0&&(Ge(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),yb(a.children,t,h,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:bR(u,a.index),routesMeta:h})};return e.forEach((a,i)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))o(a,i);else for(let c of xb(a.path))o(a,i,c)}),t}function xb(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,o=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return o?[a,""]:[a];let i=xb(n.join("/")),l=[];return l.push(...i.map(c=>c===""?a:[a,c].join("/"))),o&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function mR(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:jR(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const pR=/^:[\w-]+$/,gR=3,yR=2,xR=1,vR=10,wR=-2,ky=e=>e==="*";function bR(e,t){let r=e.split("/"),n=r.length;return r.some(ky)&&(n+=wR),t&&(n+=yR),r.filter(o=>!ky(o)).reduce((o,a)=>o+(pR.test(a)?gR:a===""?xR:vR),n)}function jR(e,t){return e.length===t.length&&e.slice(0,-1).every((n,o)=>n===t[o])?e[e.length-1]-t[t.length-1]:0}function NR(e,t,r){let{routesMeta:n}=e,o={},a="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,h=a==="/"?t:t.slice(a.length)||"/",d=SR({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),m=c.route;if(!d)return null;Object.assign(o,d.params),i.push({params:o,pathname:ss([a,d.pathname]),pathnameBase:TR(ss([a,d.pathnameBase])),route:m}),d.pathnameBase!=="/"&&(a=ss([a,d.pathnameBase]))}return i}function SR(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=_R(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let a=o[0],i=a.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:n.reduce((u,h,d)=>{let{paramName:m,isOptional:v}=h;if(m==="*"){let y=l[d]||"";i=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const b=l[d];return v&&!b?u[m]=void 0:u[m]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function _R(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),gb(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),n]}function CR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gb(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Gm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function kR(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:o=""}=typeof e=="string"?wa(e):e;return{pathname:r?r.startsWith("/")?r:ER(r,t):t,search:RR(n),hash:AR(o)}}function ER(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Id(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function PR(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ym(e,t){let r=PR(e);return t?r.map((n,o)=>o===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Qm(e,t,r,n){n===void 0&&(n=!1);let o;typeof e=="string"?o=wa(e):(o=Mi({},e),Ge(!o.pathname||!o.pathname.includes("?"),Id("?","pathname","search",o)),Ge(!o.pathname||!o.pathname.includes("#"),Id("#","pathname","hash",o)),Ge(!o.search||!o.search.includes("#"),Id("#","search","hash",o)));let a=e===""||o.pathname==="",i=a?"/":o.pathname,l;if(i==null)l=r;else{let d=t.length-1;if(!n&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),d-=1;o.pathname=m.join("/")}l=d>=0?t[d]:"/"}let c=kR(o,l),u=i&&i!=="/"&&i.endsWith("/"),h=(a||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const ss=e=>e.join("/").replace(/\/\/+/g,"/"),TR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),RR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,AR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function IR(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const vb=["post","put","patch","delete"];new Set(vb);const OR=["get",...vb];new Set(OR);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Di(){return Di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Di.apply(this,arguments)}const Jm=f.createContext(null),MR=f.createContext(null),fs=f.createContext(null),Eu=f.createContext(null),ms=f.createContext({outlet:null,matches:[],isDataRoute:!1}),wb=f.createContext(null);function DR(e,t){let{relative:r}=t===void 0?{}:t;ba()||Ge(!1);let{basename:n,navigator:o}=f.useContext(fs),{hash:a,pathname:i,search:l}=jb(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:ss([n,i])),o.createHref({pathname:c,search:l,hash:a})}function ba(){return f.useContext(Eu)!=null}function rr(){return ba()||Ge(!1),f.useContext(Eu).location}function bb(e){f.useContext(fs).static||f.useLayoutEffect(e)}function nt(){let{isDataRoute:e}=f.useContext(ms);return e?YR():LR()}function LR(){ba()||Ge(!1);let e=f.useContext(Jm),{basename:t,future:r,navigator:n}=f.useContext(fs),{matches:o}=f.useContext(ms),{pathname:a}=rr(),i=JSON.stringify(Ym(o,r.v7_relativeSplatPath)),l=f.useRef(!1);return bb(()=>{l.current=!0}),f.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let d=Qm(u,JSON.parse(i),a,h.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:ss([t,d.pathname])),(h.replace?n.replace:n.push)(d,h.state,h)},[t,n,i,a,e])}function jb(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=f.useContext(fs),{matches:o}=f.useContext(ms),{pathname:a}=rr(),i=JSON.stringify(Ym(o,n.v7_relativeSplatPath));return f.useMemo(()=>Qm(e,JSON.parse(i),a,r==="path"),[e,i,a,r])}function $R(e,t){return UR(e,t)}function UR(e,t,r,n){ba()||Ge(!1);let{navigator:o}=f.useContext(fs),{matches:a}=f.useContext(ms),i=a[a.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=rr(),h;if(t){var d;let w=typeof t=="string"?wa(t):t;c==="/"||(d=w.pathname)!=null&&d.startsWith(c)||Ge(!1),h=w}else h=u;let m=h.pathname||"/",v=m;if(c!=="/"){let w=c.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let b=hR(e,{pathname:v}),y=WR(b&&b.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:ss([c,o.encodeLocation?o.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:ss([c,o.encodeLocation?o.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,r,n);return t&&y?f.createElement(Eu.Provider,{value:{location:Di({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Yn.Pop}},y):y}function FR(){let e=GR(),t=IR(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),r?f.createElement("pre",{style:o},r):null,null)}const zR=f.createElement(FR,null);class HR extends f.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?f.createElement(ms.Provider,{value:this.props.routeContext},f.createElement(wb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function BR(e){let{routeContext:t,match:r,children:n}=e,o=f.useContext(Jm);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),f.createElement(ms.Provider,{value:t},n)}function WR(e,t,r,n){var o;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(o=r)==null?void 0:o.errors;if(l!=null){let h=i.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);h>=0||Ge(!1),i=i.slice(0,Math.min(i.length,h+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<i.length;h++){let d=i[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:m,errors:v}=r,b=d.route.loader&&m[d.route.id]===void 0&&(!v||v[d.route.id]===void 0);if(d.route.lazy||b){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((h,d,m)=>{let v,b=!1,y=null,w=null;r&&(v=l&&d.route.id?l[d.route.id]:void 0,y=d.route.errorElement||zR,c&&(u<0&&m===0?(QR("route-fallback"),b=!0,w=null):u===m&&(b=!0,w=d.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,m+1)),g=()=>{let x;return v?x=y:b?x=w:d.route.Component?x=f.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=h,f.createElement(BR,{match:d,routeContext:{outlet:h,matches:p,isDataRoute:r!=null},children:x})};return r&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?f.createElement(HR,{location:r.location,revalidation:r.revalidation,component:y,error:v,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var Nb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Nb||{}),Sb=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Sb||{});function VR(e){let t=f.useContext(Jm);return t||Ge(!1),t}function KR(e){let t=f.useContext(MR);return t||Ge(!1),t}function qR(e){let t=f.useContext(ms);return t||Ge(!1),t}function _b(e){let t=qR(),r=t.matches[t.matches.length-1];return r.route.id||Ge(!1),r.route.id}function GR(){var e;let t=f.useContext(wb),r=KR(),n=_b();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function YR(){let{router:e}=VR(Nb.UseNavigateStable),t=_b(Sb.UseNavigateStable),r=f.useRef(!1);return bb(()=>{r.current=!0}),f.useCallback(function(o,a){a===void 0&&(a={}),r.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,Di({fromRouteId:t},a)))},[e,t])}const Ey={};function QR(e,t,r){Ey[e]||(Ey[e]=!0)}function JR(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Cb(e){let{to:t,replace:r,state:n,relative:o}=e;ba()||Ge(!1);let{future:a,static:i}=f.useContext(fs),{matches:l}=f.useContext(ms),{pathname:c}=rr(),u=nt(),h=Qm(t,Ym(l,a.v7_relativeSplatPath),c,o==="path"),d=JSON.stringify(h);return f.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:o}),[u,d,o,r,n]),null}function St(e){Ge(!1)}function XR(e){let{basename:t="/",children:r=null,location:n,navigationType:o=Yn.Pop,navigator:a,static:i=!1,future:l}=e;ba()&&Ge(!1);let c=t.replace(/^\/*/,"/"),u=f.useMemo(()=>({basename:c,navigator:a,static:i,future:Di({v7_relativeSplatPath:!1},l)}),[c,l,a,i]);typeof n=="string"&&(n=wa(n));let{pathname:h="/",search:d="",hash:m="",state:v=null,key:b="default"}=n,y=f.useMemo(()=>{let w=Gm(h,c);return w==null?null:{location:{pathname:w,search:d,hash:m,state:v,key:b},navigationType:o}},[c,h,d,m,v,b,o]);return y==null?null:f.createElement(fs.Provider,{value:u},f.createElement(Eu.Provider,{children:r,value:y}))}function ZR(e){let{children:t,location:r}=e;return $R(of(t),r)}new Promise(()=>{});function of(e,t){t===void 0&&(t=[]);let r=[];return f.Children.forEach(e,(n,o)=>{if(!f.isValidElement(n))return;let a=[...t,o];if(n.type===f.Fragment){r.push.apply(r,of(n.props.children,a));return}n.type!==St&&Ge(!1),!n.props.index||!n.props.children||Ge(!1);let i={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=of(n.props.children,a)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function af(){return af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},af.apply(this,arguments)}function eA(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,a;for(a=0;a<n.length;a++)o=n[a],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function tA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function rA(e,t){return e.button===0&&(!t||t==="_self")&&!tA(e)}function lf(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(o=>[r,o]):[[r,n]])},[]))}function nA(e,t){let r=lf(e);return t&&t.forEach((n,o)=>{r.has(o)||t.getAll(o).forEach(a=>{r.append(o,a)})}),r}const sA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],oA="6";try{window.__reactRouterVersion=oA}catch{}const aA="startTransition",Py=Lf[aA];function iA(e){let{basename:t,children:r,future:n,window:o}=e,a=f.useRef();a.current==null&&(a.current=cR({window:o,v5Compat:!0}));let i=a.current,[l,c]=f.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},h=f.useCallback(d=>{u&&Py?Py(()=>c(d)):c(d)},[c,u]);return f.useLayoutEffect(()=>i.listen(h),[i,h]),f.useEffect(()=>JR(n),[n]),f.createElement(XR,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const lA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lc=f.forwardRef(function(t,r){let{onClick:n,relative:o,reloadDocument:a,replace:i,state:l,target:c,to:u,preventScrollReset:h,viewTransition:d}=t,m=eA(t,sA),{basename:v}=f.useContext(fs),b,y=!1;if(typeof u=="string"&&cA.test(u)&&(b=u,lA))try{let x=new URL(window.location.href),j=u.startsWith("//")?new URL(x.protocol+u):new URL(u),N=Gm(j.pathname,v);j.origin===x.origin&&N!=null?u=N+j.search+j.hash:y=!0}catch{}let w=DR(u,{relative:o}),p=uA(u,{replace:i,state:l,target:c,preventScrollReset:h,relative:o,viewTransition:d});function g(x){n&&n(x),x.defaultPrevented||p(x)}return f.createElement("a",af({},m,{href:b||w,onClick:y||a?n:g,ref:r,target:c}))});var Ty;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ty||(Ty={}));var Ry;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ry||(Ry={}));function uA(e,t){let{target:r,replace:n,state:o,preventScrollReset:a,relative:i,viewTransition:l}=t===void 0?{}:t,c=nt(),u=rr(),h=jb(e,{relative:i});return f.useCallback(d=>{if(rA(d,r)){d.preventDefault();let m=n!==void 0?n:Dc(u)===Dc(h);c(e,{replace:m,state:o,preventScrollReset:a,relative:i,viewTransition:l})}},[u,c,h,n,o,r,e,a,i,l])}function Pu(e){let t=f.useRef(lf(e)),r=f.useRef(!1),n=rr(),o=f.useMemo(()=>nA(n.search,r.current?null:t.current),[n.search]),a=nt(),i=f.useCallback((l,c)=>{const u=lf(typeof l=="function"?l(o):l);r.current=!0,a("?"+u,c)},[a,o]);return[o,i]}const dA="modulepreload",hA=function(e){return"/"+e},Ay={},Ys=function(t,r,n){let o=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));o=Promise.allSettled(r.map(c=>{if(c=hA(c),c in Ay)return;Ay[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":dA,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((m,v)=>{d.addEventListener("load",m),d.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return o.then(i=>{for(const l of i||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},fA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ys(async()=>{const{default:n}=await Promise.resolve().then(()=>ja);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Xm extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Iy extends Xm{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Oy extends Xm{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class My extends Xm{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var cf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(cf||(cf={}));var mA=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(h){try{u(n.next(h))}catch(d){i(d)}}function c(h){try{u(n.throw(h))}catch(d){i(d)}}function u(h){h.done?a(h.value):o(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class pA{constructor(t,{headers:r={},customFetch:n,region:o=cf.Any}={}){this.url=t,this.headers=r,this.region=o,this.fetch=fA(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return mA(this,arguments,void 0,function*(r,n={}){var o;try{const{headers:a,method:i,body:l,signal:c}=n;let u={},{region:h}=n;h||(h=this.region);const d=new URL(`${this.url}/${r}`);h&&h!=="any"&&(u["x-region"]=h,d.searchParams.set("forceFunctionRegion",h));let m;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(u["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(u["Content-Type"]="application/json",m=JSON.stringify(l)));const v=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),a),body:m,signal:c}).catch(p=>{throw p.name==="AbortError"?p:new Iy(p)}),b=v.headers.get("x-relay-error");if(b&&b==="true")throw new Oy(v);if(!v.ok)throw new My(v);let y=((o=v.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),w;return y==="application/json"?w=yield v.json():y==="application/octet-stream"?w=yield v.blob():y==="text/event-stream"?w=v:y==="multipart/form-data"?w=yield v.formData():w=yield v.text(),{data:w,error:null,response:v}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new Iy(a)}:{data:null,error:a,response:a instanceof My||a instanceof Oy?a.context:void 0}}})}}var Ut={},Zm={},Tu={},Zi={},Ru={},Au={},gA=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ca=gA();const yA=ca.fetch,kb=ca.fetch.bind(ca),Eb=ca.Headers,xA=ca.Request,vA=ca.Response,ja=Object.freeze(Object.defineProperty({__proto__:null,Headers:Eb,Request:xA,Response:vA,default:kb,fetch:yA},Symbol.toStringTag,{value:"Module"})),wA=O1(ja);var Iu={};Object.defineProperty(Iu,"__esModule",{value:!0});let bA=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Iu.default=bA;var Pb=dr&&dr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Au,"__esModule",{value:!0});const jA=Pb(wA),NA=Pb(Iu);let SA=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=jA.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let o=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var i,l,c,u;let h=null,d=null,m=null,v=a.status,b=a.statusText;if(a.ok){if(this.method!=="HEAD"){const g=await a.text();g===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((i=this.headers.get("Accept"))===null||i===void 0)&&i.includes("application/vnd.pgrst.plan+text"))?d=g:d=JSON.parse(g))}const w=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),p=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");w&&p&&p.length>1&&(m=parseInt(p[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(h={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,m=null,v=406,b="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await a.text();try{h=JSON.parse(w),Array.isArray(h)&&a.status===404&&(d=[],h=null,v=200,b="OK")}catch{a.status===404&&w===""?(v=204,b="No Content"):h={message:w}}if(h&&this.isMaybeSingle&&(!((u=h==null?void 0:h.details)===null||u===void 0)&&u.includes("0 rows"))&&(h=null,v=200,b="OK"),h&&this.shouldThrowOnError)throw new NA.default(h)}return{error:h,data:d,count:m,status:v,statusText:b}});return this.shouldThrowOnError||(o=o.catch(a=>{var i,l,c;return{error:{message:`${(i=a==null?void 0:a.name)!==null&&i!==void 0?i:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),o.then(t,r)}returns(){return this}overrideTypes(){return this}};Au.default=SA;var _A=dr&&dr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ru,"__esModule",{value:!0});const CA=_A(Au);let kA=class extends CA.default{select(t){let r=!1;const n=(t??"*").split("").map(o=>/\s/.test(o)&&!r?"":(o==='"'&&(r=!r),o)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:o,referencedTable:a=o}={}){const i=a?`${a}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(o,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:o=n}={}){const a=typeof o>"u"?"offset":`${o}.offset`,i=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(i,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:o=!1,wal:a=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,o?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Ru.default=kA;var EA=dr&&dr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zi,"__esModule",{value:!0});const PA=EA(Ru);let TA=class extends PA.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:o}={}){let a="";o==="plain"?a="pl":o==="phrase"?a="ph":o==="websearch"&&(a="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${i}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const o=n?`${n}.or`:"or";return this.url.searchParams.append(o,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Zi.default=TA;var RA=dr&&dr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tu,"__esModule",{value:!0});const Ba=RA(Zi);let AA=class{constructor(t,{headers:r={},schema:n,fetch:o}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=o}select(t,r){const{head:n=!1,count:o}=r??{},a=n?"HEAD":"GET";let i=!1;const l=(t??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join("");return this.url.searchParams.set("select",l),o&&this.headers.append("Prefer",`count=${o}`),new Ba.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var o;const a="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Ba.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:o,defaultToNull:a=!0}={}){var i;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),o&&this.headers.append("Prefer",`count=${o}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ba.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:r}={}){var n;const o="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new Ba.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Ba.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Tu.default=AA;var Tb=dr&&dr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zm,"__esModule",{value:!0});const IA=Tb(Tu),OA=Tb(Zi);let MA=class Rb{constructor(t,{headers:r={},schema:n,fetch:o}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=o}from(t){const r=new URL(`${this.url}/${t}`);return new IA.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Rb(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:o=!1,count:a}={}){var i;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||o?(l=n?"HEAD":"GET",Object.entries(r).filter(([d,m])=>m!==void 0).map(([d,m])=>[d,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([d,m])=>{c.searchParams.append(d,m)})):(l="POST",u=r);const h=new Headers(this.headers);return a&&h.set("Prefer",`count=${a}`),new OA.default({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};Zm.default=MA;var Na=dr&&dr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ut,"__esModule",{value:!0});Ut.PostgrestError=Ut.PostgrestBuilder=Ut.PostgrestTransformBuilder=Ut.PostgrestFilterBuilder=Ut.PostgrestQueryBuilder=Ut.PostgrestClient=void 0;const Ab=Na(Zm);Ut.PostgrestClient=Ab.default;const Ib=Na(Tu);Ut.PostgrestQueryBuilder=Ib.default;const Ob=Na(Zi);Ut.PostgrestFilterBuilder=Ob.default;const Mb=Na(Ru);Ut.PostgrestTransformBuilder=Mb.default;const Db=Na(Au);Ut.PostgrestBuilder=Db.default;const Lb=Na(Iu);Ut.PostgrestError=Lb.default;var DA=Ut.default={PostgrestClient:Ab.default,PostgrestQueryBuilder:Ib.default,PostgrestFilterBuilder:Ob.default,PostgrestTransformBuilder:Mb.default,PostgrestBuilder:Db.default,PostgrestError:Lb.default};const{PostgrestClient:LA,PostgrestQueryBuilder:a3,PostgrestFilterBuilder:i3,PostgrestTransformBuilder:l3,PostgrestBuilder:c3,PostgrestError:u3}=DA;class $A{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,o=parseInt(n.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const UA="2.75.1",FA=`realtime-js/${UA}`,zA="1.0.0",uf=1e4,HA=1e3,BA=100;var ui;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ui||(ui={}));var Ze;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ze||(Ze={}));var kr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(kr||(kr={}));var df;(function(e){e.websocket="websocket"})(df||(df={}));var Cs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Cs||(Cs={}));class WA{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const o=r.getUint8(1),a=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(t.slice(i,i+o));i=i+o;const c=n.decode(t.slice(i,i+a));i=i+a;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class $b{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Re;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Re||(Re={}));const Dy=(e,t,r={})=>{var n;const o=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,i)=>(a[i]=VA(i,e,t,o),a),{}):{}},VA=(e,t,r,n)=>{const o=t.find(l=>l.name===e),a=o==null?void 0:o.type,i=r[e];return a&&!n.includes(a)?Ub(a,i):hf(i)},Ub=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return YA(t,r)}switch(e){case Re.bool:return KA(t);case Re.float4:case Re.float8:case Re.int2:case Re.int4:case Re.int8:case Re.numeric:case Re.oid:return qA(t);case Re.json:case Re.jsonb:return GA(t);case Re.timestamp:return QA(t);case Re.abstime:case Re.date:case Re.daterange:case Re.int4range:case Re.int8range:case Re.money:case Re.reltime:case Re.text:case Re.time:case Re.timestamptz:case Re.timetz:case Re.tsrange:case Re.tstzrange:return hf(t);default:return hf(t)}},hf=e=>e,KA=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},qA=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},GA=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},YA=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const i=e.slice(1,r);try{a=JSON.parse("["+i+"]")}catch{a=i?i.split(","):[]}return a.map(l=>Ub(t,l))}return e},QA=e=>typeof e=="string"?e.replace(" ","T"):e,Fb=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Od{constructor(t,r,n={},o=uf){this.channel=t,this.event=r,this.payload=n,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ly;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ly||(Ly={}));class di{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},o=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=di.syncState(this.state,o,a,i),this.pendingDiffs.forEach(c=>{this.state=di.syncDiff(this.state,c,a,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},o=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=di.syncDiff(this.state,o,a,i),l())}),this.onJoin((o,a,i)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:i})}),this.onLeave((o,a,i)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,o){const a=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(a,(u,h)=>{i[u]||(c[u]=h)}),this.map(i,(u,h)=>{const d=a[u];if(d){const m=h.map(w=>w.presence_ref),v=d.map(w=>w.presence_ref),b=h.filter(w=>v.indexOf(w.presence_ref)<0),y=d.filter(w=>m.indexOf(w.presence_ref)<0);b.length>0&&(l[u]=b),y.length>0&&(c[u]=y)}else l[u]=h}),this.syncDiff(a,{joins:l,leaves:c},n,o)}static syncDiff(t,r,n,o){const{joins:a,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),o||(o=()=>{}),this.map(a,(l,c)=>{var u;const h=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),h.length>0){const d=t[l].map(v=>v.presence_ref),m=h.filter(v=>d.indexOf(v.presence_ref)<0);t[l].unshift(...m)}n(l,h,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const h=c.map(d=>d.presence_ref);u=u.filter(d=>h.indexOf(d.presence_ref)<0),t[l]=u,o(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const o=t[n];return"metas"in o?r[n]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=o,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var $y;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})($y||($y={}));var hi;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(hi||(hi={}));var an;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(an||(an={}));class ep{constructor(t,r={config:{}},n){var o,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ze.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Od(this,kr.join,this.params,this.timeout),this.rejoinTimer=new $b(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ze.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ze.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this._on(kr.reply,{},(i,l)=>{this._trigger(this._replyEventName(l),i)}),this.presence=new di(this),this.broadcastEndpointURL=Fb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,o,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Ze.closed){const{config:{broadcast:i,presence:l,private:c}}=this.params,u=(o=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&o!==void 0?o:[],h=!!this.bindings[hi.PRESENCE]&&this.bindings[hi.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,d={},m={broadcast:i,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(v=>t==null?void 0:t(an.CHANNEL_ERROR,v)),this._onClose(()=>t==null?void 0:t(an.CLOSED)),this.updateJoinPayload(Object.assign({config:m},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var b;if(this.socket.setAuth(),v===void 0){t==null||t(an.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,w=(b=y==null?void 0:y.length)!==null&&b!==void 0?b:0,p=[];for(let g=0;g<w;g++){const x=y[g],{filter:{event:j,schema:N,table:S,filter:_}}=x,k=v&&v[g];if(k&&k.event===j&&k.schema===N&&k.table===S&&k.filter===_)p.push(Object.assign(Object.assign({},x),{id:k.id}));else{this.unsubscribe(),this.state=Ze.errored,t==null||t(an.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(an.SUBSCRIBED);return}}).receive("error",v=>{this.state=Ze.errored,t==null||t(an.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(an.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Ze.joined&&t===hi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,o;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((o=u.body)===null||o===void 0?void 0:o.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var i,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ze.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(kr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(o=>{n=new Od(this,kr.leave,{},t),n.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ze.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const o=new AbortController,a=setTimeout(()=>o.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(a),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Od(this,t,r,n);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>BA){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var o,a;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:h}=kr;if(n&&[l,c,u,h].indexOf(i)>=0&&n!==this._joinRef())return;let m=this._onMessage(i,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(v=>{var b,y,w;return((b=v.filter)===null||b===void 0?void 0:b.event)==="*"||((w=(y=v.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===i}).map(v=>v.callback(m,n)):(a=this.bindings[i])===null||a===void 0||a.filter(v=>{var b,y,w,p,g,x;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in v){const j=v.id,N=(b=v.filter)===null||b===void 0?void 0:b.event;return j&&((y=r.ids)===null||y===void 0?void 0:y.includes(j))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(g=(p=v==null?void 0:v.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return j==="*"||j===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===i}).map(v=>{if(typeof m=="object"&&"ids"in m){const b=m.data,{schema:y,table:w,commit_timestamp:p,type:g,errors:x}=b;m=Object.assign(Object.assign({},{schema:y,table:w,commit_timestamp:p,eventType:g,new:{},old:{},errors:x}),this._getPayloadRecords(b))}v.callback(m,n)})}_isClosed(){return this.state===Ze.closed}_isJoined(){return this.state===Ze.joined}_isJoining(){return this.state===Ze.joining}_isLeaving(){return this.state===Ze.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const o=t.toLocaleLowerCase(),a={type:o,filter:r,callback:n};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&ep.isEqual(o.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(kr.close,{},t)}_onError(t){this._on(kr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ze.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Dy(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Dy(t.columns,t.old_record)),r}}const Md=()=>{},Al={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},JA=[1e3,2e3,5e3,1e4],XA=1e4,ZA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class eI{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=uf,this.transport=null,this.heartbeatIntervalMs=Al.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Md,this.ref=0,this.reconnectTimer=null,this.logger=Md,this.conn=null,this.sendBuffer=[],this.serializer=new WA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...i)=>Ys(async()=>{const{default:l}=await Promise.resolve().then(()=>ja);return{default:l}},void 0).then(({default:l})=>l(...i)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...i)=>a(...i)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${df.websocket}`,this.httpEndpoint=Fb(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=$A.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:zA}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ui.connecting:return Cs.Connecting;case ui.open:return Cs.Open;case ui.closing:return Cs.Closing;default:return Cs.Closed}}isConnected(){return this.connectionState()===Cs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,o=this.getChannels().find(a=>a.topic===n);if(o)return o;{const a=new ep(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:o,ref:a}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,o),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(HA,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Al.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:o,payload:a,ref:i}=r,l=i?`(${i})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${o} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(o,a,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(kr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${t}${n}${o}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([ZA],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const o={access_token:r,version:FA};r&&n.updateJoinPayload(o),n.joinedOnce&&n._isJoined()&&n._push(kr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new $b(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Al.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,o,a,i,l,c,u,h;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:uf,this.heartbeatIntervalMs=(o=t==null?void 0:t.heartbeatIntervalMs)!==null&&o!==void 0?o:Al.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Md,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:d=>JA[d-1]||XA,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(d,m)=>m(JSON.stringify(d)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class tp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Qe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class tI extends tp{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ff extends tp{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var rI=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(h){try{u(n.next(h))}catch(d){i(d)}}function c(h){try{u(n.throw(h))}catch(d){i(d)}}function u(h){h.done?a(h.value):o(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const zb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ys(async()=>{const{default:n}=await Promise.resolve().then(()=>ja);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},nI=()=>rI(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ys(()=>Promise.resolve().then(()=>ja),void 0)).Response:Response}),mf=e=>{if(Array.isArray(e))return e.map(r=>mf(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const o=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[o]=mf(n)}),t},sI=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var ro=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(h){try{u(n.next(h))}catch(d){i(d)}}function c(h){try{u(n.throw(h))}catch(d){i(d)}}function u(h){h.done?a(h.value):o(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Dd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),oI=(e,t,r)=>ro(void 0,void 0,void 0,function*(){const n=yield nI();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(o=>{const a=e.status||500,i=(o==null?void 0:o.statusCode)||a+"";t(new tI(Dd(o),a,i))}).catch(o=>{t(new ff(Dd(o),o))}):t(new ff(Dd(e),e))}),aI=(e,t,r,n)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?o:(sI(n)?(o.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),o.body=JSON.stringify(n)):o.body=n,t!=null&&t.duplex&&(o.duplex=t.duplex),Object.assign(Object.assign({},o),r))};function el(e,t,r,n,o,a){return ro(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,aI(t,n,o,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>oI(c,l,n))})})}function $c(e,t,r,n){return ro(this,void 0,void 0,function*(){return el(e,"GET",t,r,n)})}function Ur(e,t,r,n,o){return ro(this,void 0,void 0,function*(){return el(e,"POST",t,n,o,r)})}function pf(e,t,r,n,o){return ro(this,void 0,void 0,function*(){return el(e,"PUT",t,n,o,r)})}function iI(e,t,r,n){return ro(this,void 0,void 0,function*(){return el(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Hb(e,t,r,n,o){return ro(this,void 0,void 0,function*(){return el(e,"DELETE",t,n,o,r)})}var lI=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(h){try{u(n.next(h))}catch(d){i(d)}}function c(h){try{u(n.throw(h))}catch(d){i(d)}}function u(h){h.done?a(h.value):o(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class cI{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return lI(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}})}}var uI=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(h){try{u(n.next(h))}catch(d){i(d)}}function c(h){try{u(n.throw(h))}catch(d){i(d)}}function u(h){h.done?a(h.value):o(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})},Bb;class dI{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[Bb]="BlobDownloadBuilder",this.promise=null}asStream(){return new cI(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return uI(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}})}}Bb=Symbol.toStringTag;var Dt=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(h){try{u(n.next(h))}catch(d){i(d)}}function c(h){try{u(n.throw(h))}catch(d){i(d)}}function u(h){h.done?a(h.value):o(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const hI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Uy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class fI{constructor(t,r={},n,o){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=zb(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,o){return Dt(this,void 0,void 0,function*(){try{let a;const i=Object.assign(Object.assign({},Uy),o);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),o!=null&&o.headers&&(l=Object.assign(Object.assign({},l),o.headers));const u=this._removeEmptyFolders(r),h=this._getFinalPath(u),d=yield(t=="PUT"?pf:Ur)(this.fetch,`${this.url}/object/${h}`,a,Object.assign({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Qe(a))return{data:null,error:a};throw a}})}upload(t,r,n){return Dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,o){return Dt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),i=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Uy.upsert},o),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType);const d=yield pf(this.fetch,l.toString(),c,{headers:h});return{data:{path:a,fullPath:d.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Qe(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Dt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const o=Object.assign({},this.headers);r!=null&&r.upsert&&(o["x-upsert"]="true");const a=yield Ur(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:o}),i=new URL(this.url+a.url),l=i.searchParams.get("token");if(!l)throw new tp("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}})}update(t,r,n){return Dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Dt(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Qe(o))return{data:null,error:o};throw o}})}copy(t,r,n){return Dt(this,void 0,void 0,function*(){try{return{data:{path:(yield Ur(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Qe(o))return{data:null,error:o};throw o}})}createSignedUrl(t,r,n){return Dt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),a=yield Ur(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${i}`)},{data:a,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Qe(o))return{data:null,error:o};throw o}})}createSignedUrls(t,r,n){return Dt(this,void 0,void 0,function*(){try{const o=yield Ur(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${a}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Qe(o))return{data:null,error:o};throw o}})}download(t,r){const o=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=a?`?${a}`:"",l=this._getFinalPath(t),c=()=>$c(this.fetch,`${this.url}/${o}/${l}${i}`,{headers:this.headers,noResolveJson:!0});return new dI(c,this.shouldThrowOnError)}info(t){return Dt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield $c(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:mf(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}})}exists(t){return Dt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield iI(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qe(n)&&n instanceof ff){const o=n.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),o=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&o.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&o.push(c);let u=o.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Dt(this,void 0,void 0,function*(){try{return{data:yield Hb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}})}list(t,r,n){return Dt(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},hI),r),{prefix:t||""});return{data:yield Ur(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},n),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Qe(o))return{data:null,error:o};throw o}})}listV2(t,r){return Dt(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Ur(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const mI="2.75.1",pI={"X-Client-Info":`storage-js/${mI}`};var lo=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(h){try{u(n.next(h))}catch(d){i(d)}}function c(h){try{u(n.throw(h))}catch(d){i(d)}}function u(h){h.done?a(h.value):o(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class gI{constructor(t,r={},n,o){this.shouldThrowOnError=!1;const a=new URL(t);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},pI),r),this.fetch=zb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return lo(this,void 0,void 0,function*(){try{return{data:yield $c(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}})}getBucket(t){return lo(this,void 0,void 0,function*(){try{return{data:yield $c(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}})}createBucket(t){return lo(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ur(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Qe(o))return{data:null,error:o};throw o}})}updateBucket(t,r){return lo(this,void 0,void 0,function*(){try{return{data:yield pf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}})}emptyBucket(t){return lo(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}})}deleteBucket(t){return lo(this,void 0,void 0,function*(){try{return{data:yield Hb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}})}}class yI extends gI{constructor(t,r={},n,o){super(t,r,n,o)}from(t){return new fI(this.url,this.headers,t,this.fetch)}}const xI="2.75.1";let Ja="";typeof Deno<"u"?Ja="deno":typeof document<"u"?Ja="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ja="react-native":Ja="node";const vI={"X-Client-Info":`supabase-js-${Ja}/${xI}`},wI={headers:vI},bI={schema:"public"},jI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},NI={};var SI=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(h){try{u(n.next(h))}catch(d){i(d)}}function c(h){try{u(n.throw(h))}catch(d){i(d)}}function u(h){h.done?a(h.value):o(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const _I=e=>{let t;return e?t=e:typeof fetch>"u"?t=kb:t=fetch,(...r)=>t(...r)},CI=()=>typeof Headers>"u"?Eb:Headers,kI=(e,t,r)=>{const n=_I(r),o=CI();return(a,i)=>SI(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new o(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},i),{headers:u}))})};var EI=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(h){try{u(n.next(h))}catch(d){i(d)}}function c(h){try{u(n.throw(h))}catch(d){i(d)}}function u(h){h.done?a(h.value):o(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function PI(e){return e.endsWith("/")?e:e+"/"}function TI(e,t){var r,n;const{db:o,auth:a,realtime:i,global:l}=e,{db:c,auth:u,realtime:h,global:d}=t,m={db:Object.assign(Object.assign({},c),o),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},h),i),storage:{},global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>EI(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function RI(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(PI(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Wb="2.75.1",xo=30*1e3,gf=3,Ld=gf*xo,AI="http://localhost:9999",II="supabase.auth.token",OI={"X-Client-Info":`gotrue-js/${Wb}`},yf="X-Supabase-Api-Version",Vb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},MI=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,DI=10*60*1e3;class Li extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function de(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class LI extends Li{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function $I(e){return de(e)&&e.name==="AuthApiError"}class ks extends Li{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ps extends Li{constructor(t,r,n,o){super(t,n,o),this.name=r,this.status=n}}class On extends ps{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function UI(e){return de(e)&&e.name==="AuthSessionMissingError"}class co extends ps{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Il extends ps{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ol extends ps{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function FI(e){return de(e)&&e.name==="AuthImplicitGrantRedirectError"}class Fy extends ps{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xf extends ps{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function $d(e){return de(e)&&e.name==="AuthRetryableFetchError"}class zy extends ps{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class vf extends ps{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Uc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Hy=` 	
\r=`.split(""),zI=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Hy.length;t+=1)e[Hy[t].charCodeAt(0)]=-2;for(let t=0;t<Uc.length;t+=1)e[Uc[t].charCodeAt(0)]=t;return e})();function By(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Uc[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Uc[n]),t.queuedBits-=6}}function Kb(e,t,r){const n=zI[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Wy(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=i=>{WI(i,n,r)};for(let i=0;i<e.length;i+=1)Kb(e.charCodeAt(i),o,a);return t.join("")}function HI(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function BI(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const o=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}HI(n,t)}}function WI(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function zo(e){const t=[],r={queue:0,queuedBits:0},n=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)Kb(e.charCodeAt(o),r,n);return new Uint8Array(t)}function VI(e){const t=[];return BI(e,r=>t.push(r)),new Uint8Array(t)}function Rs(e){const t=[],r={queue:0,queuedBits:0},n=o=>{t.push(o)};return e.forEach(o=>By(o,r,n)),By(null,r,n),t.join("")}function KI(e){return Math.round(Date.now()/1e3)+e}function qI(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Kt=()=>typeof window<"u"&&typeof document<"u",vs={tested:!1,writable:!1},qb=()=>{if(!Kt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(vs.tested)return vs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),vs.tested=!0,vs.writable=!0}catch{vs.tested=!0,vs.writable=!1}return vs.writable};function GI(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,a)=>{t[a]=o})}catch{}return r.searchParams.forEach((n,o)=>{t[o]=n}),t}const Gb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ys(async()=>{const{default:n}=await Promise.resolve().then(()=>ja);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},YI=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",vo=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ws=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},An=async(e,t)=>{await e.removeItem(t)};class Ou{constructor(){this.promise=new Ou.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ou.promiseConstructor=Promise;function Ud(e){const t=e.split(".");if(t.length!==3)throw new vf("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!MI.test(t[n]))throw new vf("JWT not in base64url format");return{header:JSON.parse(Wy(t[0])),payload:JSON.parse(Wy(t[1])),signature:zo(t[2]),raw:{header:t[0],payload:t[1]}}}async function QI(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function JI(e,t){return new Promise((n,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const i=await e(a);if(!t(a,null,i)){n(i);return}}catch(i){if(!t(a,i)){o(i);return}}})()})}function XI(e){return("0"+e.toString(16)).substr(-2)}function ZI(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let o="";for(let a=0;a<56;a++)o+=r.charAt(Math.floor(Math.random()*n));return o}return crypto.getRandomValues(t),Array.from(t,XI).join("")}async function e4(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(n);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function t4(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await e4(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function uo(e,t,r=!1){const n=ZI();let o=n;r&&(o+="/PASSWORD_RECOVERY"),await vo(e,`${t}-code-verifier`,o);const a=await t4(n);return[a,n===a?"plain":"s256"]}const r4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function n4(e){const t=e.headers.get(yf);if(!t||!t.match(r4))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function s4(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function o4(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const a4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ho(e){if(!a4.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Fd(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Vy(e){return JSON.parse(JSON.stringify(e))}var i4=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};const Ns=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),l4=[502,503,504];async function Ky(e){var t;if(!YI(e))throw new xf(Ns(e),0);if(l4.includes(e.status))throw new xf(Ns(e),e.status);let r;try{r=await e.json()}catch(a){throw new ks(Ns(a),a)}let n;const o=n4(e);if(o&&o.getTime()>=Vb["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new zy(Ns(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new On}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,i)=>a&&typeof i=="string",!0))throw new zy(Ns(r),e.status,r.weak_password.reasons);throw new LI(Ns(r),e.status||500,n)}const c4=(e,t,r,n)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),o.body=JSON.stringify(n),Object.assign(Object.assign({},o),r))};async function ge(e,t,r,n){var o;const a=Object.assign({},n==null?void 0:n.headers);a[yf]||(a[yf]=Vb["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const i=(o=n==null?void 0:n.query)!==null&&o!==void 0?o:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await u4(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function u4(e,t,r,n,o,a){const i=c4(t,n,o,a);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new xf(Ns(c),0)}if(l.ok||await Ky(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Ky(c)}}function wr(e){var t;let r=null;f4(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=KI(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function qy(e){const t=wr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Fn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function d4(e){return{data:e,error:null}}function h4(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:o,verification_type:a}=e,i=i4(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:o,verification_type:a},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function Gy(e){return e}function f4(e){return e.access_token&&e.refresh_token&&e.expires_in}const zd=["global","local","others"];var m4=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};class p4{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Gb(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=zd[0]){if(zd.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${zd.join(", ")}`);try{return await ge(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Fn})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=m4(t,["options"]),o=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(o.new_email=n==null?void 0:n.newEmail,delete o.newEmail),await ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:h4,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(de(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ge(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Fn})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,o,a,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},h=await ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:Gy});if(h.error)throw h.error;const d=await h.json(),m=(i=h.headers.get("x-total-count"))!==null&&i!==void 0?i:0,v=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(b=>{const y=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);u[`${w}Page`]=y}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(de(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ho(t);try{return await ge(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Fn})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ho(t);try{return await ge(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Fn})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ho(t);try{return await ge(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Fn})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ho(t.userId);try{const{data:r,error:n}=await ge(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:n}}catch(r){if(de(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ho(t.userId),ho(t.id);try{return{data:await ge(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,o,a,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},h=await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:Gy});if(h.error)throw h.error;const d=await h.json(),m=(i=h.headers.get("x-total-count"))!==null&&i!==void 0?i:0,v=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(b=>{const y=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);u[`${w}Page`]=y}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(de(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await ge(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}}function Yy(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const fo={debug:!!(globalThis&&qb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Yb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class g4 extends Yb{}async function y4(e,t,r){fo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),fo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async o=>{if(o){fo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await r()}finally{fo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw fo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new g4(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(fo.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function x4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Qb(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function v4(e){return parseInt(e,16)}function w4(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function b4(e){var t;const{chainId:r,domain:n,expirationTime:o,issuedAt:a=new Date,nonce:i,notBefore:l,requestId:c,resources:u,scheme:h,uri:d,version:m}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=Qb(e.address),b=h?`${h}://${n}`:n,y=e.statement?`${e.statement}
`:"",w=`${b} wants you to sign in with your Ethereum account:
${v}

${y}`;let p=`URI: ${d}
Version: ${m}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${a.toISOString()}`;if(o&&(p+=`
Expiration Time: ${o.toISOString()}`),l&&(p+=`
Not Before: ${l.toISOString()}`),c&&(p+=`
Request ID: ${c}`),u){let g=`
Resources:`;for(const x of u){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);g+=`
- ${x}`}p+=g}return`${w}
${p}`}class Ye extends Error{constructor({message:t,code:r,cause:n,name:o}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=o??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Fc extends Ye{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function j4({error:e,options:t}){var r,n,o;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ye({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ye({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ye({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((o=a.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Ye({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ye({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ye({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Ye({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ye({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(Xb(i)){if(a.rp.id!==i)return new Ye({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ye({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Ye({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ye({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ye({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function N4({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ye({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ye({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Xb(n)){if(r.rpId!==n)return new Ye({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ye({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ye({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ye({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var Jb=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};class S4{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const _4=new S4;function C4(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,o=Jb(e,["challenge","user","excludeCredentials"]),a=zo(t).buffer,i=Object.assign(Object.assign({},r),{id:zo(r.id).buffer}),l=Object.assign(Object.assign({},o),{challenge:a,user:i});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:zo(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function k4(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Jb(e,["challenge","allowCredentials"]),o=zo(t).buffer,a=Object.assign(Object.assign({},n),{challenge:o});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const l=r[i];a.allowCredentials[i]=Object.assign(Object.assign({},l),{id:zo(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function E4(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Rs(new Uint8Array(e.response.attestationObject)),clientDataJSON:Rs(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function P4(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),o=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Rs(new Uint8Array(o.authenticatorData)),clientDataJSON:Rs(new Uint8Array(o.clientDataJSON)),signature:Rs(new Uint8Array(o.signature)),userHandle:o.userHandle?Rs(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Xb(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Qy(){var e,t;return!!(Kt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function T4(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Fc("Browser returned unexpected credential type",t)}:{data:null,error:new Fc("Empty credential response",t)}}catch(t){return{data:null,error:j4({error:t,options:e})}}}async function R4(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Fc("Browser returned unexpected credential type",t)}:{data:null,error:new Fc("Empty credential response",t)}}catch(t){return{data:null,error:N4({error:t,options:e})}}}const A4={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},I4={userVerification:"preferred",hints:["security-key"]};function zc(...e){const t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),n={};for(const o of e)if(o)for(const a in o){const i=o[a];if(i!==void 0)if(Array.isArray(i))n[a]=i;else if(r(i))n[a]=i;else if(t(i)){const l=n[a];t(l)?n[a]=zc(l,i):n[a]=zc(i)}else n[a]=i}return n}function O4(e,t){return zc(A4,e,t||{})}function M4(e,t){return zc(I4,e,t||{})}class D4{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:o},a){try{const{data:i,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!i)return{data:null,error:l};const c=o??_4.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:u}=i.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(i.webauthn.type){case"create":{const u=O4(i.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:h,error:d}=await T4({publicKey:u,signal:c});return h?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:h}},error:null}:{data:null,error:d}}case"request":{const u=M4(i.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:h,error:d}=await R4(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:u,signal:c}));return h?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:h}},error:null}:{data:null,error:d}}}}catch(i){return de(i)?{data:null,error:i}:{data:null,error:new ks("Unexpected error in challenge",i)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:o}},a){if(!r)return{data:null,error:new Li("rpId is required for WebAuthn authentication")};try{if(!Qy())return{data:null,error:new ks("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:o},{request:a});if(!i)return{data:null,error:l};const{webauthn:c}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(i){return de(i)?{data:null,error:i}:{data:null,error:new ks("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:o},a){if(!r)return{data:null,error:new Li("rpId is required for WebAuthn registration")};try{if(!Qy())return{data:null,error:new ks("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(h=>{var d;return(d=h.data)===null||d===void 0?void 0:d.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:o},{create:a});return c?this._verify({factorId:i.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(i){return de(i)?{data:null,error:i}:{data:null,error:new ks("Unexpected error in register",i)}}}}x4();const L4={url:AI,storageKey:II,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:OI,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Jy(e,t,r){return await r()}const mo={};class $i{get jwks(){var t,r;return(r=(t=mo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){mo[this.storageKey]=Object.assign(Object.assign({},mo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=mo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){mo[this.storageKey]=Object.assign(Object.assign({},mo[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=$i.nextInstanceID,$i.nextInstanceID+=1,this.instanceID>0&&Kt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},L4),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new p4({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Gb(o.fetch),this.lock=o.lock||Jy,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Kt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=y4:this.lock=Jy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new D4(this)},this.persistSession?(o.storage?this.storage=o.storage:qb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Yy(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Yy(this.memoryStorage)),Kt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Wb}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=GI(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Kt()&&this.detectSessionInUrl&&n!=="none"){const{data:o,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),FI(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:i,redirectType:l}=o;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return de(r)?{error:r}:{error:new ks("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,o;try{const a=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(o=t==null?void 0:t.options)===null||o===void 0?void 0:o.captchaToken}},xform:wr}),{data:i,error:l}=a;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(de(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,o;try{let a;if("email"in t){const{email:h,password:d,options:m}=t;let v=null,b=null;this.flowType==="pkce"&&([v,b]=await uo(this.storage,this.storageKey)),a=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:h,password:d,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:b},xform:wr})}else if("phone"in t){const{phone:h,password:d,options:m}=t;a=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:d,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(o=m==null?void 0:m.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:wr})}else throw new Il("You must provide either an email or phone number and a password");const{data:i,error:l}=a;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(de(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:i,options:l}=t;r=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:qy})}else if("phone"in t){const{phone:a,password:i,options:l}=t;r=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:qy})}else throw new Il("You must provide either an email or phone number and a password");const{data:n,error:o}=r;return o?{data:{user:null,session:null},error:o}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new co}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:o})}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,o,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,o,a,i,l,c,u,h,d,m;let v,b;if("message"in t)v=t.message,b=t.signature;else{const{chain:y,wallet:w,statement:p,options:g}=t;let x;if(Kt())if(typeof w=="object")x=w;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")x=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=w}const j=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href),N=await x.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=Qb(N[0]);let _=(n=g==null?void 0:g.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!_){const P=await x.request({method:"eth_chainId"});_=v4(P)}const k={domain:j.host,address:S,statement:p,uri:j.href,version:"1",chainId:_,nonce:(o=g==null?void 0:g.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(i=(a=g==null?void 0:g.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(h=g==null?void 0:g.signInWithEthereum)===null||h===void 0?void 0:h.resources};v=b4(k),b=await x.request({method:"personal_sign",params:[w4(v),S]})}try{const{data:y,error:w}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:b},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:wr});if(w)throw w;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new co}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:w})}catch(y){if(de(y))return{data:{user:null,session:null},error:y};throw y}}async signInWithSolana(t){var r,n,o,a,i,l,c,u,h,d,m,v;let b,y;if("message"in t)b=t.message,y=t.signature;else{const{chain:w,wallet:p,statement:g,options:x}=t;let j;if(Kt())if(typeof p=="object")j=p;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))j=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=p}const N=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const S=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),g?{statement:g}:null));let _;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")_=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)_=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)b=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),y=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${N.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(o=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((d=(h=x==null?void 0:x.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||d===void 0)&&d.length?["Resources",...x.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const S=await j.signMessage(new TextEncoder().encode(b),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=S}}try{const{data:w,error:p}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Rs(y)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:wr});if(p)throw p;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new co}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:p})}catch(w){if(de(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await ws(this.storage,`${this.storageKey}-code-verifier`),[n,o]=(r??"").split("/");try{const{data:a,error:i}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:wr});if(await An(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new co}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:i})}catch(a){if(de(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:o,access_token:a,nonce:i}=t,l=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:o,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:wr}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new co}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,o,a,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await uo(this.storage,this.storageKey));const{error:d}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:h}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=c==null?void 0:c.data)!==null&&o!==void 0?o:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new Il("You must provide either an email or phone number.")}catch(l){if(de(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let o,a;"options"in t&&(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:wr});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(de(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(t){var r,n,o;try{let a=null,i=null;return this.flowType==="pkce"&&([a,i]=await uo(this.storage,this.storageKey)),await ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((o=t==null?void 0:t.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:i}),headers:this.headers,xform:d4})}catch(a){if(de(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new On;const{error:o}=await ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}})}catch(t){if(de(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:o,options:a}=t,{error:i}=await ge(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:o,options:a}=t,{data:i,error:l}=await ge(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new Il("You must provide either an email or phone number and a type")}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ws(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ld:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await ws(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=Fd()}if(this.storage.isServer&&t.user){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,h)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,h))})}return{data:{session:t},error:null}}const{data:o,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Fn}):await this._useSession(async r=>{var n,o,a;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new On}:await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=i.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:Fn})})}catch(r){if(de(r))return UI(r)&&(await this._removeSession(),await An(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:o,error:a}=n;if(a)throw a;if(!o.session)throw new On;const i=o.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await uo(this.storage,this.storageKey));const{data:u,error:h}=await ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:Fn});if(h)throw h;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new On;const r=Date.now()/1e3;let n=r,o=!0,a=null;const{payload:i}=Ud(t.access_token);if(i.exp&&(n=i.exp,o=n<=r),o){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(de(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new On;const{data:o,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Kt())throw new Ol("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ol(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Fy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ol("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Fy("No code detected.");const{data:g,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:o,access_token:a,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!i||!u)throw new Ol("No session defined in URL");const h=Math.round(Date.now()/1e3),d=parseInt(l);let m=h+d;c&&(m=parseInt(c));const v=m-h;v*1e3<=xo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${d}s`);const b=m-d;h-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,m,h):h-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,m,h);const{data:y,error:w}=await this._getUser(a);if(w)throw w;const p={provider_token:n,provider_refresh_token:o,access_token:a,expires_in:d,expires_at:m,refresh_token:i,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(n){if(de(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ws(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:o,error:a}=r;if(a)return{error:a};const i=(n=o.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!($I(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await An(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=qI(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,o;try{const{data:{session:a},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,o=null;this.flowType==="pkce"&&([n,o]=await uo(this.storage,this.storageKey,!0));try{return await ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(de(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:o}=await this._useSession(async a=>{var i,l,c,u,h;const{data:d,error:m}=a;if(m)throw m;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ge(this.fetch,"GET",v,{headers:this.headers,jwt:(h=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(o)throw o;return Kt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(de(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:o,data:{session:a}}=r;if(o)throw o;const{options:i,provider:l,token:c,access_token:u,nonce:h}=t,d=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:wr}),{data:m,error:v}=d;return v?{data:{user:null,session:null},error:v}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new co}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),{data:m,error:v})}catch(o){if(de(o))return{data:{user:null,session:null},error:o};throw o}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,o;const{data:a,error:i}=r;if(i)throw i;return await ge(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await JI(async o=>(o>0&&await QI(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:wr})),(o,a)=>{const i=200*Math.pow(2,o);return a&&$d(a)&&Date.now()+i-n<xo})}catch(n){if(this._debug(r,"error",n),de(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Kt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const o=await ws(this.storage,this.storageKey);if(o&&this.userStorage){let i=await ws(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:o.user},await vo(this.userStorage,this.storageKey+"-user",i)),o.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:Fd()}else if(o&&!o.user&&!o.user){const i=await ws(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(o.user=i.user,await An(this.storage,this.storageKey+"-user"),await vo(this.storage,this.storageKey,o)):o.user=Fd()}if(this._debug(n,"session from storage",o),!this._isValidSession(o)){this._debug(n,"session is not valid"),o!==null&&await this._removeSession();return}const a=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ld;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Ld}s`),a){if(this.autoRefreshToken&&o.refresh_token){const{error:i}=await this._callRefreshToken(o.refresh_token);i&&(console.error(i),$d(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(o.access_token);!l&&(i!=null&&i.user)?(o.user=i.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(n,"error",o),console.error(o);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new On;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Ou;const{data:a,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!a.session)throw new On;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(o,"error",a),de(a)){const i={data:null,error:a};return $d(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,r,n=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(i),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await vo(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const a=Vy(o);await vo(this.storage,this.storageKey,a)}else{const o=Vy(r);await vo(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await An(this.storage,this.storageKey),await An(this.storage,this.storageKey+"-code-verifier"),await An(this.storage,this.storageKey+"-user"),this.userStorage&&await An(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Kt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),xo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((n.expires_at*1e3-t)/xo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${xo}ms, refresh threshold is ${gf} ticks`),o<=gf&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Yb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Kt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const o=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&o.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&o.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,i]=await uo(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(i)}`});o.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);o.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&o.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:o,error:a}=r;return a?{data:null,error:a}:await ge(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,o;const{data:a,error:i}=r;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await ge(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((o=c==null?void 0:c.totp)===null||o===void 0)&&o.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:o,error:a}=r;if(a)return{data:null,error:a};const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?E4(t.webauthn.credential_response):P4(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(de(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:o,error:a}=r;if(a)return{data:null,error:a};const i=await ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:l}=i;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:C4(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:k4(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(de(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const o={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])o.all.push(a),a.status==="verified"&&o[a.factor_type].push(a);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:o},error:a}=t;if(a)return{data:null,error:a};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Ud(o.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((n=(r=o.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const h=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const o=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+DI>o)return n;const{data:a,error:i}=await ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,n=a.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:v,error:b}=await this.getSession();if(b||!v.session)return{data:null,error:b};n=v.session.access_token}const{header:o,payload:a,signature:i,raw:{header:l,payload:c}}=Ud(n);r!=null&&r.allowExpired||s4(a.exp);const u=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:a,header:o,signature:i},error:null}}const h=o4(o.alg),d=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,d,i,VI(`${l}.${c}`)))throw new vf("Invalid JWT signature");return{data:{claims:a,header:o,signature:i},error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}}$i.nextInstanceID=0;const $4=$i;class U4 extends $4{constructor(t){super(t)}}var F4=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(h){try{u(n.next(h))}catch(d){i(d)}}function c(h){try{u(n.throw(h))}catch(d){i(d)}}function u(h){h.done?a(h.value):o(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class z4{constructor(t,r,n){var o,a,i;this.supabaseUrl=t,this.supabaseKey=r;const l=RI(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:bI,realtime:NI,auth:Object.assign(Object.assign({},jI),{storageKey:c}),global:wI},h=TI(n??{},u);this.storageKey=(o=h.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=h.global.headers)!==null&&a!==void 0?a:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(d,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=h.auth)!==null&&i!==void 0?i:{},this.headers,h.global.fetch),this.fetch=kI(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new LA(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new yI(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new pA(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return F4(this,void 0,void 0,function*(){var t,r;if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:o,userStorage:a,storageKey:i,flowType:l,lock:c,debug:u},h,d){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new U4({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),h),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:o,userStorage:a,flowType:l,lock:c,debug:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new eI(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const H4=(e,t,r)=>new z4(e,t,r);function B4(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}B4()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const W4="https://hmmimemzznsyilxqakty.supabase.co",V4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhtbWltZW16em5zeWlseHFha3R5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI1MTU2MjgsImV4cCI6MjA2ODA5MTYyOH0.MrfJUkMzIPk12SFGuxWEtdLCVHq55ZWJLqDwOCIA2ZM";console.log(" Supabase client initialized successfully");const G=H4(W4,V4,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,flowType:"pkce"}}),ke={PREMIUM_MONTHLY:"com.mattyc.heartlift.premium.monthly",HEALING_KIT:"com.mattyc.heartlift.healingkit"};class K4{constructor(){En(this,"initialized",!1);En(this,"initializing",!1);En(this,"userId","");En(this,"store",null);En(this,"deviceReadyFired",!1);En(this,"initPromise",null);En(this,"pendingPurchaseResolvers",new Map);typeof document<"u"&&document.addEventListener("deviceready",()=>{console.log(" Cordova deviceready event fired"),this.deviceReadyFired=!0},!1)}async waitForDeviceReady(){if(!this.deviceReadyFired)return console.log(" Waiting for Cordova deviceready..."),new Promise(t=>{const r=()=>{this.deviceReadyFired?t():setTimeout(r,100)};r()})}async initialize(t){if(this.initialized){console.log(" Purchase service already initialized");return}if(this.initializing&&this.initPromise)return console.log(" Initialization already in progress, waiting..."),this.initPromise;console.log(" Initializing purchase service for user:",t),this.userId=t,this.initializing=!0,this.initPromise=this._doInitialize();try{await this.initPromise}finally{this.initializing=!1}}async _doInitialize(){try{if(console.log(" [INIT] Starting MINIMAL initialization (no event listeners)"),!window.Capacitor||!window.Capacitor.isNativePlatform()){console.warn(" [INIT] IAP not available on web platform - mocking initialization"),this.initialized=!0;return}if(console.log(" [INIT] Running on native platform"),console.log(" [INIT] Waiting for deviceready..."),await this.waitForDeviceReady(),console.log(" [INIT] Device ready event fired"),console.log(" [INIT] Checking if CdvPurchase is defined..."),typeof CdvPurchase>"u")throw console.error(" [INIT] CdvPurchase is not defined - plugin not loaded"),new Error("cordova-plugin-purchase not loaded");if(console.log(" [INIT] CdvPurchase is defined"),this.store=CdvPurchase.store,!this.store)throw console.error(" [INIT] CdvPurchase.store is null or undefined"),new Error("CdvPurchase.store is not available");console.log(" [INIT] Store instance obtained"),console.log(" [INIT] Registering products (MINIMAL approach)..."),this.store.register([{id:ke.PREMIUM_MONTHLY,type:CdvPurchase.ProductType.PAID_SUBSCRIPTION,platform:CdvPurchase.Platform.APPLE_APPSTORE},{id:ke.HEALING_KIT,type:CdvPurchase.ProductType.NON_CONSUMABLE,platform:CdvPurchase.Platform.APPLE_APPSTORE}]),console.log(" [INIT] Products registered"),console.log(" [INIT] Setting up .approved() listener..."),this.store.when().approved(async n=>{console.log(" [EVENT] ========== PURCHASE APPROVED =========="),console.log(" [EVENT] Transaction:",n);try{const o=n.products||[];console.log(" [EVENT] Transaction products array:",o);let a=!1,i=!1;for(const l of o)console.log(" [EVENT] Checking product:",l.id),l.id===ke.PREMIUM_MONTHLY&&(a=!0,console.log(" [EVENT]  Premium detected")),l.id===ke.HEALING_KIT&&(i=!0,console.log(" [EVENT]  Healing Kit detected"));console.log(" [EVENT] Final detection:",{isPremium:a,isHealingKit:i}),a&&this.pendingPurchaseResolvers.has(ke.PREMIUM_MONTHLY)&&(this.pendingPurchaseResolvers.get(ke.PREMIUM_MONTHLY).resolve(),this.pendingPurchaseResolvers.delete(ke.PREMIUM_MONTHLY),console.log(" [EVENT] Premium promise resolved (UI can unlock now)")),i&&this.pendingPurchaseResolvers.has(ke.HEALING_KIT)&&(this.pendingPurchaseResolvers.get(ke.HEALING_KIT).resolve(),this.pendingPurchaseResolvers.delete(ke.HEALING_KIT),console.log(" [EVENT] Healing Kit promise resolved (UI can unlock now)")),n.finish(),console.log(" [EVENT] Transaction finished"),a||i?(console.log(" [EVENT] Starting background Supabase sync..."),this.syncToSupabase(a,i).then(()=>{console.log(" [EVENT]  Background sync to Supabase completed")}).catch(l=>{console.error(" [EVENT] Background sync failed:",l)})):console.warn(" [EVENT] No products matched for sync")}catch(o){console.error(" [EVENT] Error handling approval:",o);for(const[a,i]of this.pendingPurchaseResolvers.entries())i.reject(o);this.pendingPurchaseResolvers.clear()}}),console.log(" [INIT] Approved listener set up"),console.log(" [INIT] Calling store.initialize() with platform..."),await this.store.initialize([CdvPurchase.Platform.APPLE_APPSTORE]),console.log(" [INIT] store.initialize() completed");const t=this.store.get(ke.PREMIUM_MONTHLY),r=this.store.get(ke.HEALING_KIT);console.log(" [INIT] Premium product:",t),console.log(" [INIT] Healing Kit product:",r),this.initialized=!0,console.log(" [INIT] Store ready - Apple will handle purchase flow"),console.log(" [INIT] Checking subscription status on launch..."),await this.checkSubscriptionStatus()}catch(t){throw console.error(" [INIT] Failed to initialize Apple IAP:",t),console.error(" [INIT] Error:",t),this.initialized=!1,t}}async checkSubscriptionStatus(){console.log(" [STATUS] Checking subscription status from Apple...");try{if(!this.initialized||!this.store)return console.warn(" [STATUS] Store not initialized, skipping status check"),{isPremium:!1,hasHealingKit:!1};const t=this.store.get(ke.PREMIUM_MONTHLY),r=this.store.get(ke.HEALING_KIT);console.log(" [STATUS] Premium product:",t),console.log(" [STATUS] Healing Kit product:",r);const n=!!(t&&t.owned),o=!!(r&&r.owned);return console.log(" [STATUS] Current ownership:",{isPremium:n,hasHealingKit:o}),await this.syncToSupabase(n,o),console.log(" [STATUS] Status synced to Supabase"),{isPremium:n,hasHealingKit:o}}catch(t){return console.error(" [STATUS] Error checking subscription status:",t),{isPremium:!1,hasHealingKit:!1}}}async ensureInitialized(){if(console.log(" [ENSURE] ensureInitialized called"),console.log(" [ENSURE] initialized:",this.initialized),console.log(" [ENSURE] store exists:",!!this.store),console.log(" [ENSURE] userId:",this.userId),!this.initialized){if(console.log(" [ENSURE] Store not initialized, initializing now..."),!this.userId)throw console.error(" [ENSURE] Cannot initialize - no user ID set"),new Error("Cannot initialize - no user ID set");await this.initialize(this.userId)}if(console.log(" [ENSURE] After initialize check - initialized:",this.initialized,"store:",!!this.store),!this.initialized||!this.store)throw console.error(" [ENSURE] Purchase service failed to initialize"),new Error("Purchase service failed to initialize");console.log(" [ENSURE] Store is ready for purchases")}async getProducts(){try{await this.ensureInitialized();const t=this.store.get(ke.PREMIUM_MONTHLY),r=this.store.get(ke.HEALING_KIT);return console.log(" Products loaded from Apple IAP:",{premiumProduct:t,healingKitProduct:r}),{premium:t,healingKit:r}}catch(t){throw console.error(" Failed to get products:",t),t}}async purchasePremium(){console.log(" [PURCHASE_PREMIUM] purchasePremium() called");try{await this.ensureInitialized();const t=this.store.get(ke.PREMIUM_MONTHLY);if(!t||!t.canPurchase)throw new Error("Premium product not available for purchase");const r=t.offers;if(!r||r.length===0)throw new Error("No purchase offers available");return await this.store.order(r[0]),console.log(" [PURCHASE_PREMIUM] Order placed"),{success:!0}}catch(t){throw console.error(" [PURCHASE_PREMIUM] Purchase failed:",t),t}}async purchaseHealingKit(){console.log(" [PURCHASE_KIT] purchaseHealingKit() called");try{await this.ensureInitialized();const t=this.store.get(ke.HEALING_KIT);if(!t||!t.canPurchase)throw new Error("Healing Kit not available for purchase");const r=t.offers;if(!r||r.length===0)throw new Error("No purchase offers available");return await this.store.order(r[0]),console.log(" [PURCHASE_KIT] Order placed"),{success:!0}}catch(t){throw console.error(" [PURCHASE_KIT] Purchase failed:",t),t}}async restorePurchases(){var t,r;try{await this.ensureInitialized(),console.log(" Restoring purchases via Apple IAP..."),await this.store.restorePurchases(),await new Promise(l=>setTimeout(l,2e3));const n=this.store.get(ke.PREMIUM_MONTHLY),o=this.store.get(ke.HEALING_KIT),a=(n==null?void 0:n.owned)||!1,i=(o==null?void 0:o.owned)||!1;return console.log(" Purchases restored from Apple:",{hasPremium:a,hasHealingKit:i}),(a||i)&&await this.syncToSupabase(a,i),{hasPremium:a,hasHealingKit:i,platform:"apple"}}catch(n){console.error(" Failed to restore purchases:",n);try{console.log(" Falling back to Supabase check...");const{data:{user:o}}=await G.auth.getUser();if(!o)throw new Error("No user logged in");const[a,i]=await Promise.all([G.from("subscribers").select("subscribed").eq("user_id",o.id).single(),G.from("healing_kit_purchases").select("status").eq("user_id",o.id).single()]),l=((t=a.data)==null?void 0:t.subscribed)||!1,c=((r=i.data)==null?void 0:r.status)==="completed";return console.log(" Purchases restored from Supabase fallback:",{hasPremium:l,hasHealingKit:c}),{hasPremium:l,hasHealingKit:c,platform:"supabase"}}catch(o){throw console.error(" Fallback also failed:",o),n}}}async cancelSubscriptionInSupabase(){try{const{data:{user:t}}=await G.auth.getUser();if(!t)throw new Error("No user logged in");console.log(" Subscription expired - revoking premium access in Supabase...");const{error:r}=await G.from("subscribers").update({subscribed:!1,payment_status:"expired",updated_at:new Date().toISOString()}).eq("user_id",t.id);r?console.error(" Failed to update subscription status in Supabase:",r):console.log(" Premium access revoked in Supabase (subscription expired at end of billing period)")}catch(t){console.error(" Error updating subscription status:",t)}}async syncToSupabase(t,r){try{console.log(" [SYNC] Starting Supabase sync..."),console.log(" [SYNC] hasPremium:",t,"hasHealingKit:",r);const{data:{user:n},error:o}=await G.auth.getUser();if(o)throw console.error(" [SYNC] Auth error:",o),new Error("Failed to get authenticated user: "+o.message);if(!n)throw console.error(" [SYNC] No authenticated user found"),new Error("No user logged in - cannot sync to Supabase");if(console.log(" [SYNC] Authenticated user:",n.id),t){console.log(" [SYNC] Updating Premium in Supabase...");const{data:a,error:i}=await G.from("subscribers").upsert({user_id:n.id,email:n.email,plan_type:"premium",subscribed:!0,payment_status:"active",updated_at:new Date().toISOString()},{onConflict:"user_id"}).select();i?(console.error(" [SYNC] Failed to update premium in Supabase:",i),console.error(" [SYNC] Error details:",JSON.stringify(i))):console.log(" [SYNC] Premium updated in Supabase:",a)}if(r){console.log(" [SYNC] Updating Healing Kit in Supabase...");const{data:a,error:i}=await G.from("healing_kit_purchases").upsert({user_id:n.id,amount:499,currency:"gbp",status:"completed",purchased_at:new Date().toISOString()},{onConflict:"user_id"}).select();i?(console.error(" [SYNC] Failed to update healing kit in Supabase:",i),console.error(" [SYNC] Error details:",JSON.stringify(i))):console.log(" [SYNC] Healing Kit updated in Supabase:",a)}console.log(" [SYNC] All purchases synced to Supabase successfully")}catch(n){throw console.error(" [SYNC] Failed to sync purchases to Supabase:",n),console.error(" [SYNC] Error stack:",n==null?void 0:n.stack),n}}async checkPurchaseStatus(){var t,r;try{const{data:{user:n}}=await G.auth.getUser();if(!n)return{hasPremium:!1,hasHealingKit:!1};const[o,a]=await Promise.all([G.from("subscribers").select("subscribed").eq("user_id",n.id).single(),G.from("healing_kit_purchases").select("status").eq("user_id",n.id).single()]);return{hasPremium:((t=o.data)==null?void 0:t.subscribed)||!1,hasHealingKit:((r=a.data)==null?void 0:r.status)==="completed"}}catch(n){return console.error(" Failed to check purchase status:",n),{hasPremium:!1,hasHealingKit:!1}}}async buyPremium(){console.log(" [BUY_PREMIUM] buyPremium() called");try{await this.ensureInitialized(),console.log(" [BUY_PREMIUM] Store is initialized");const t=this.store.get(ke.PREMIUM_MONTHLY);if(console.log(" [BUY_PREMIUM] Product:",t),!t)throw console.error(" [BUY_PREMIUM] Product not found"),new Error("Premium product not found. Please try again.");if(!t.canPurchase)throw console.error(" [BUY_PREMIUM] Product cannot be purchased"),new Error("This product is not available for purchase.");const r=t.offers;if(console.log(" [BUY_PREMIUM] Product offers:",r),!r||r.length===0)throw console.error(" [BUY_PREMIUM] No offers available"),new Error("No purchase offers available. Please try again.");const n=r[0];console.log(" [BUY_PREMIUM] Using offer:",n);const o=new Promise((a,i)=>{this.pendingPurchaseResolvers.set(ke.PREMIUM_MONTHLY,{resolve:a,reject:i}),setTimeout(()=>{this.pendingPurchaseResolvers.has(ke.PREMIUM_MONTHLY)&&(this.pendingPurchaseResolvers.delete(ke.PREMIUM_MONTHLY),i(new Error("Purchase timeout")))},3e5)});return console.log(" [BUY_PREMIUM] Calling store.order() with offer"),await this.store.order(n),console.log(" [BUY_PREMIUM] Order called - waiting for approval..."),await o,console.log(" [BUY_PREMIUM] Purchase approved and synced!"),{success:!0}}catch(t){return console.error(" [BUY_PREMIUM] Purchase failed:",t),this.pendingPurchaseResolvers.delete(ke.PREMIUM_MONTHLY),{success:!1,error:(t==null?void 0:t.message)||"Failed to purchase premium subscription"}}}async buyHealingKit(){console.log(" [BUY_KIT] buyHealingKit() called");try{await this.ensureInitialized(),console.log(" [BUY_KIT] Store is initialized");const t=this.store.get(ke.HEALING_KIT);if(console.log(" [BUY_KIT] Product:",t),!t)throw console.error(" [BUY_KIT] Product not found"),new Error("Healing Kit not found. Please try again.");if(!t.canPurchase)throw console.error(" [BUY_KIT] Product cannot be purchased"),new Error("This product is not available for purchase.");const r=t.offers;if(console.log(" [BUY_KIT] Product offers:",r),!r||r.length===0)throw console.error(" [BUY_KIT] No offers available"),new Error("No purchase offers available. Please try again.");const n=r[0];console.log(" [BUY_KIT] Using offer:",n);const o=new Promise((a,i)=>{this.pendingPurchaseResolvers.set(ke.HEALING_KIT,{resolve:a,reject:i}),setTimeout(()=>{this.pendingPurchaseResolvers.has(ke.HEALING_KIT)&&(this.pendingPurchaseResolvers.delete(ke.HEALING_KIT),i(new Error("Purchase timeout")))},3e5)});return console.log(" [BUY_KIT] Calling store.order() with offer"),await this.store.order(n),console.log(" [BUY_KIT] Order called - waiting for approval..."),await o,console.log(" [BUY_KIT] Purchase approved and synced!"),{success:!0}}catch(t){return console.error(" [BUY_KIT] Purchase failed:",t),this.pendingPurchaseResolvers.delete(ke.HEALING_KIT),{success:!1,error:(t==null?void 0:t.message)||"Failed to purchase Healing Kit"}}}}const ua=new K4,Zb=f.createContext(void 0),Te=()=>{const e=f.useContext(Zb);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},q4=({children:e})=>{const[t,r]=f.useState(null),[n,o]=f.useState(null),[a,i]=f.useState(!0),[l,c]=f.useState(()=>{const P=localStorage.getItem("isPremium");return P?JSON.parse(P):!1}),[u,h]=f.useState(()=>{const P=localStorage.getItem("hasHealingKit");return P?JSON.parse(P):!1}),[d,m]=f.useState(()=>{const P=localStorage.getItem("subscriptionStatus");return P?JSON.parse(P):"free"}),v=async P=>{try{await G.from("conversation_history").delete().eq("user_id",P),console.log("[AuthContext] Cleared all conversations for user on login")}catch(C){console.error("[AuthContext] Error clearing conversations:",C)}},b=async()=>{if(t)try{console.log("[AuthContext] Checking subscription for user:",t.id);const{data:P,error:C}=await G.from("subscribers").select("*").eq("user_id",t.id).maybeSingle();let O=!1;!C&&P?(console.log("[AuthContext] RAW Subscriber data:",JSON.stringify(P)),P.subscribed===!0?(O=!0,console.log("[AuthContext]  Premium ACTIVE (subscribed=true)")):P.plan_type==="premium"&&P.payment_status==="active"?(O=!0,console.log("[AuthContext]  Premium ACTIVE (plan_type=premium, payment_status=active)")):console.log("[AuthContext]  NO PREMIUM - Data:",P)):C?console.error("[AuthContext] Error fetching subscriber:",C):console.log("[AuthContext] No subscriber record found for user");const{data:T,error:M}=await G.rpc("user_has_healing_kit",{user_uuid:t.id});let R=!1;M?console.error("[AuthContext] Error checking healing kit:",M):(console.log("[AuthContext] Healing kit status:",T),R=T===!0),c(O),m(O?"premium":"free"),h(R),localStorage.setItem("isPremium",JSON.stringify(O)),localStorage.setItem("subscriptionStatus",JSON.stringify(O?"premium":"free")),localStorage.setItem("hasHealingKit",JSON.stringify(R)),console.log("[AuthContext] Subscription check complete - Premium:",O,"Healing Kit:",R)}catch(P){console.error("[AuthContext] Error checking subscription:",P)}};f.useEffect(()=>{const{data:{subscription:P}}=G.auth.onAuthStateChange(async(C,O)=>{var T;if(console.log("[AuthContext] Auth state change:",C,(T=O==null?void 0:O.user)==null?void 0:T.email),o(O),r((O==null?void 0:O.user)??null),i(!1),C==="SIGNED_IN"&&(O!=null&&O.user)&&!O.user.email_confirmed_at){console.log("[AuthContext] Forcing sign out - email not verified"),await G.auth.signOut();return}if(O!=null&&O.user&&(C==="SIGNED_IN"||C==="INITIAL_SESSION")){console.log("[AuthContext] User session detected, checking subscription immediately");try{await ua.initialize(O.user.id),console.log("[AuthContext] Purchase service initialized successfully")}catch(M){console.error("[AuthContext] Failed to initialize purchase service:",M)}setTimeout(()=>b(),0)}else C==="SIGNED_OUT"&&(console.log("[AuthContext] User signed out, clearing state"),t&&await v(t.id),c(!1),h(!1),m("free"),localStorage.removeItem("isPremium"),localStorage.removeItem("hasHealingKit"),localStorage.removeItem("subscriptionStatus"))});return G.auth.getSession().then(async({data:{session:C},error:O})=>{if(O){console.error("[AuthContext] Error getting session:",O),await G.auth.signOut({scope:"local"}),localStorage.clear(),o(null),r(null),i(!1);return}if(o(C),r((C==null?void 0:C.user)??null),C!=null&&C.user)try{await ua.initialize(C.user.id),console.log("[AuthContext] Purchase service initialized for existing session")}catch(T){console.error("[AuthContext] Failed to initialize purchase service:",T)}i(!1),C!=null&&C.user?(console.log("[AuthContext] Found existing session for:",C.user.email),setTimeout(()=>b(),0)):console.log("[AuthContext] No existing session found")}).catch(async C=>{console.error("[AuthContext] Failed to get session:",C),await G.auth.signOut({scope:"local"}),localStorage.clear(),o(null),r(null),i(!1)}),()=>P.unsubscribe()},[]),f.useEffect(()=>{t&&b()},[t]);const y=async(P,C)=>{var O;try{console.log("[AuthContext] Attempting sign in for:",P);const{data:T,error:M}=await G.auth.signInWithPassword({email:P,password:C});return M?(console.error("[AuthContext] Sign in error:",M),{error:M}):T.user&&!T.user.email_confirmed_at?(console.log("[AuthContext] Email not verified, signing out"),await G.auth.signOut(),{error:{message:"Please verify your email before signing in. Check your inbox for the verification code."}}):(console.log("[AuthContext] Sign in successful for:",(O=T.user)==null?void 0:O.email),{error:null})}catch(T){return console.error("[AuthContext] Unexpected sign in error:",T),{error:{message:(T==null?void 0:T.message)||"An unexpected error occurred during sign in"}}}},w=async(P,C,O)=>{const T=`${window.location.origin}/`,{data:M,error:R}=await G.auth.signUp({email:P,password:C,options:{emailRedirectTo:T,data:{full_name:O}}});return M!=null&&M.user&&M.user.identities&&M.user.identities.length===0?{error:{message:"An account with this email already exists. Please sign in instead."}}:(M!=null&&M.user&&!M.user.email_confirmed_at&&await G.auth.signOut(),{error:R})},p=async()=>{try{r(null),o(null),c(!1),h(!1),m("free"),localStorage.removeItem("isPremium"),localStorage.removeItem("hasHealingKit"),localStorage.removeItem("subscriptionStatus"),t&&await v(t.id),await G.auth.signOut(),window.location.href="/"}catch(P){console.error("Error during sign out:",P),localStorage.clear(),window.location.href="/"}},g=async()=>{try{console.log("[AuthContext] Force sign out initiated"),r(null),o(null),c(!1),h(!1),m("free"),localStorage.clear(),sessionStorage.clear(),await G.auth.signOut(),window.location.href="/"}catch(P){console.error("Error during force sign out:",P),localStorage.clear(),sessionStorage.clear(),window.location.href="/"}},x=()=>{console.log("[AuthContext]  unlockPremium() CALLED"),console.log("[AuthContext]  Before unlock - isPremium:",l),c(!0),console.log("[AuthContext]  setIsPremium(true) executed"),m("premium"),console.log("[AuthContext]  setSubscriptionStatus(premium) executed"),localStorage.setItem("isPremium","true"),localStorage.setItem("subscriptionStatus",JSON.stringify("premium")),console.log("[AuthContext]  localStorage updated - isPremium: true"),console.log("[AuthContext]  After unlock - isPremium:",l)},j=()=>{console.log("[AuthContext]  unlockHealingKit() CALLED"),console.log("[AuthContext]  Before unlock - hasHealingKit:",u),h(!0),console.log("[AuthContext]  setHasHealingKit(true) executed"),localStorage.setItem("hasHealingKit","true"),console.log("[AuthContext]  localStorage updated - hasHealingKit: true"),console.log("[AuthContext]  After unlock - hasHealingKit:",u)},N=()=>{console.log("[AuthContext]  LOCKING PREMIUM - subscription expired/cancelled"),c(!1),m("free"),localStorage.setItem("isPremium","false"),localStorage.setItem("subscriptionStatus",JSON.stringify("free"))},S=()=>{console.log("[AuthContext]  LOCKING HEALING KIT - subscription expired/cancelled"),h(!1),localStorage.setItem("hasHealingKit","false")},k={user:t,session:n,signIn:y,signUp:w,signOut:p,forceSignOut:g,loading:a,isPremium:l,hasHealingKit:u,subscriptionStatus:d,checkSubscription:b,unlockPremium:x,unlockHealingKit:j,lockPremium:N,lockHealingKit:S,checkSupabaseSubscriptionStatus:async()=>{var P,C;if(!t)return{isPremium:!1,hasHealingKit:!1};console.log("[AuthContext]  Checking Supabase for subscription status...");try{const[O,T]=await Promise.all([G.from("subscribers").select("subscribed").eq("user_id",t.id).single(),G.from("healing_kit_purchases").select("status").eq("user_id",t.id).single()]),M=((P=O.data)==null?void 0:P.subscribed)||!1,R=((C=T.data)==null?void 0:C.status)==="completed";console.log("[AuthContext]  Supabase status:",{isPremiumFromDB:M,hasHealingKitFromDB:R});const B=localStorage.getItem("isPremium")==="true",L=localStorage.getItem("hasHealingKit")==="true";return M||B?x():N(),R||L?j():S(),console.log("[AuthContext]  Final state - Premium:",M||B,"HealingKit:",R||L),{isPremium:M||B,hasHealingKit:R||L}}catch(O){return console.error("[AuthContext]  Error checking Supabase:",O),{isPremium:!1,hasHealingKit:!1}}}};return s.jsx(Zb.Provider,{value:k,children:e})},G4=Ji("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",warm:"bg-gradient-to-r from-primary to-primary-glow text-primary-foreground shadow-warm hover:shadow-float transform hover:scale-[1.02] transition-all duration-300 hover:animate-pulse-warm",healing:"bg-gradient-to-r from-secondary to-accent text-secondary-foreground shadow-gentle hover:shadow-warm transition-all duration-300",gentle:"bg-background border border-primary/20 text-foreground hover:bg-primary/5 hover:border-primary/40 shadow-card hover:shadow-gentle transition-all duration-300",flirty:"bg-gradient-to-r from-pink-400 to-pink-500 text-white shadow-warm hover:shadow-float hover:from-pink-500 hover:to-pink-600 transition-all duration-300 hover:scale-[1.02]",therapist:"bg-gradient-to-r from-purple-400 to-purple-500 text-white shadow-warm hover:shadow-float hover:from-purple-500 hover:to-purple-600 transition-all duration-300 hover:scale-[1.02]",tough:"bg-gradient-to-r from-orange-400 to-orange-500 text-white shadow-warm hover:shadow-float hover:from-orange-500 hover:to-orange-600 transition-all duration-300 hover:scale-[1.02]",chill:"bg-gradient-to-r from-green-400 to-green-500 text-white shadow-warm hover:shadow-float hover:from-green-500 hover:to-green-600 transition-all duration-300 hover:scale-[1.02]"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),H=f.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...o},a)=>{const i=n?fk:"button";return s.jsx(i,{className:ie(G4({variant:t,size:r,className:e})),ref:a,...o})});H.displayName="Button";const Y4=({onGetStarted:e})=>{const t=nt(),{user:r}=Te(),n=()=>{r?e==null||e():t("/auth")};return s.jsxs("section",{className:"min-h-screen flex items-center justify-center px-4 py-16 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background via-muted to-secondary"}),s.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-gradient-to-r from-primary/10 to-primary-glow/10 rounded-full blur-3xl animate-float-gentle"}),s.jsx("div",{className:"absolute bottom-32 right-16 w-48 h-48 bg-gradient-to-r from-secondary/15 to-accent/15 rounded-full blur-3xl animate-float-gentle",style:{animationDelay:"1s"}}),s.jsx("div",{className:"absolute top-1/2 left-1/4 w-24 h-24 bg-gradient-to-r from-accent/10 to-primary/10 rounded-full blur-2xl animate-pulse-warm"}),s.jsxs("div",{className:"max-w-5xl mx-auto text-center space-y-12 animate-fade-in relative z-10",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"p-6 rounded-full bg-gradient-to-r from-primary to-primary-glow shadow-float animate-float-gentle",children:s.jsx(he,{className:"w-12 h-12 text-primary-foreground"})}),s.jsx("div",{className:"absolute -top-2 -right-2 text-2xl animate-bounce-gentle",style:{animationDelay:"0.5s"},children:""}),s.jsx("div",{className:"absolute -bottom-1 -left-1 text-xl animate-pulse-warm",style:{animationDelay:"1s"},children:""})]})}),s.jsxs("h1",{className:"text-3xl sm:text-5xl md:text-6xl lg:text-8xl font-bold text-foreground tracking-tight leading-tight px-4 sm:px-0",children:["Heart",s.jsx("span",{className:"bg-gradient-to-r from-primary via-primary to-primary bg-clip-text text-transparent font-black drop-shadow-sm",children:"Lift"})]}),s.jsxs("p",{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl text-muted-foreground max-w-3xl mx-auto leading-relaxed font-bold px-4 sm:px-0",children:["Helping your heart heal, grow, and thrive ",s.jsx("br",{className:"block mb-2 sm:mb-3"}),s.jsx("span",{className:"text-base sm:text-lg lg:text-xl block sm:inline mt-2 sm:mt-0 font-medium",children:"Navigate love, heartbreak, and communication with AI coaches who truly understand you"})]})]}),s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 lg:gap-6 max-w-4xl mx-auto px-4 sm:px-0",children:[{icon:xu,title:"AI Coaches with Soul",description:"Four unique personalities ready to support your relationship journey",emoji:"",gradient:"from-pink-400/20 to-rose-400/20"},{icon:he,title:"Healing Toolkit",description:"No-contact tracker, daily check-ins, and personalised recovery plans",emoji:"",gradient:"from-green-400/20 to-emerald-400/20"},{icon:aa,title:"Growth Tracking",description:"Visualize your emotional journey and celebrate every milestone",emoji:"",gradient:"from-purple-400/20 to-indigo-400/20"}].map((o,a)=>s.jsxs("div",{className:"group p-3 sm:p-4 lg:p-6 xl:p-8 bg-card backdrop-blur-sm rounded-2xl border border-border/40 hover:border-primary/20 hover:shadow-warm transition-all duration-500 hover:scale-[1.02] animate-slide-up relative overflow-hidden",style:{animationDelay:`${a*200}ms`},children:[s.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${o.gradient} opacity-40`}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center justify-center mb-4",children:[s.jsx(o.icon,{className:"w-10 h-10 sm:w-12 sm:h-12 text-primary group-hover:animate-bounce-gentle stroke-[1.5]"}),s.jsx("span",{className:"text-2xl sm:text-3xl ml-2",children:o.emoji})]}),s.jsx("h3",{className:"font-bold text-base sm:text-lg mb-2 sm:mb-3 group-hover:text-primary transition-colors",children:o.title}),s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground leading-relaxed",children:o.description})]})]},o.title))}),s.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[s.jsx("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center items-center",children:s.jsx(H,{variant:"warm",size:"lg",className:"px-6 sm:px-10 py-4 sm:py-4 text-base sm:text-lg font-semibold group relative overflow-hidden w-full sm:w-auto min-h-[48px] shadow-md hover:shadow-lg transition-all duration-300 hover:scale-105",onClick:n,children:s.jsx("span",{className:"relative z-10 flex items-center gap-2",children:r?s.jsxs(s.Fragment,{children:[s.jsx(he,{className:"w-5 h-5 group-hover:animate-pulse-warm"}),r.created_at&&new Date().getTime()-new Date(r.created_at).getTime()<24*60*60*1e3?"Start Your Journey":"Continue Your Journey"]}):s.jsx(s.Fragment,{children:" Start Your Healing Journey"})})})}),s.jsx("div",{className:"flex justify-center",children:s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-emerald-50 to-green-50 rounded-full border border-emerald-200 shadow-sm",children:[s.jsx("span",{className:"text-lg",children:""}),s.jsx("span",{className:"font-semibold text-emerald-700 text-sm sm:text-base",children:"Free to start"})]})})]}),s.jsx("div",{className:"flex items-center justify-center pt-8 pb-4",children:s.jsxs("span",{className:"flex items-center gap-2 text-muted-foreground text-base sm:text-lg",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Premium from 11.99/month"})]})}),s.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 pt-4 pb-8",children:[s.jsxs("span",{className:"text-muted-foreground text-sm",children:["Need help? Contact us at"," ",s.jsx("a",{href:"mailto:support@heart-lift.com",className:"text-primary hover:text-primary/80 underline transition-colors",children:"support@heart-lift.com"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("a",{href:"/privacy-policy",className:"text-muted-foreground hover:text-primary text-xs underline transition-colors",children:"Privacy Policy"}),s.jsx("span",{className:"text-muted-foreground text-xs",children:""}),s.jsx("a",{href:"/terms-of-service",className:"text-muted-foreground hover:text-primary text-xs underline transition-colors",children:"Terms of Service"})]})]})]})]})},W=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ie("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));W.displayName="Card";const Z=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ie("flex flex-col space-y-1.5 p-6",e),...t}));Z.displayName="CardHeader";const ee=f.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:ie("text-2xl font-semibold leading-none tracking-tight",e),...t}));ee.displayName="CardTitle";const He=f.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:ie("text-sm text-muted-foreground",e),...t}));He.displayName="CardDescription";const Q=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ie("p-6 pt-0",e),...t}));Q.displayName="CardContent";const Q4=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ie("flex items-center p-6 pt-0",e),...t}));Q4.displayName="CardFooter";const J4=()=>{const{user:e}=Te(),[t,r]=f.useState({}),[n,o]=f.useState(!0);return f.useEffect(()=>{if(!e){o(!1);return}(async()=>{try{const{data:l,error:c}=await G.from("conversation_history").select("coach_id, created_at").eq("user_id",e.id).order("created_at",{ascending:!1});if(c)throw c;const u={};l&&l.forEach(h=>{h.coach_id&&!u[h.coach_id]&&(u[h.coach_id]=new Date(h.created_at))}),r(u)}catch(l){console.error("Error fetching last interactions:",l)}finally{o(!1)}})()},[e]),{getLastInteractionText:i=>{const l=t[i];if(!l)return"Available";const u=new Date().getTime()-l.getTime(),h=Math.floor(u/6e4),d=Math.floor(u/36e5),m=Math.floor(u/864e5);if(h<5)return"Online now";if(h<60)return`Last spoke ${h} min${h!==1?"s":""} ago`;if(d<24)return`Last spoke ${d} hour${d!==1?"s":""} ago`;if(m===1)return"Last spoke yesterday";if(m<7)return`Last spoke ${m} days ago`;if(m<30){const v=Math.floor(m/7);return`Last spoke ${v} week${v!==1?"s":""} ago`}else{const v=Math.floor(m/30);return`Last spoke ${v} month${v!==1?"s":""} ago`}},loading:n}},X4=[{id:"flirty",name:"Luna Love",icon:he,emoji:"",description:"Your confidence coach for dating, flirting, and magnetic attraction",personality:"Playful, empowering, flirty, and charmingly bold",specialties:["Dating confidence","Flirting tips","Self-love","Planning fun, adventurous dates"],greetings:["Hi {firstName}! Ready to turn heads today? ","Hey {firstName}, feeling that spark yet? Let's bring it out! ","Hi {firstName}! You've got main character energy and I'm here for it.","Hello {firstName}, let's add a little confidence magic to your day."],color:"from-pink-400 to-rose-500",bgColor:"from-pink-50 to-rose-50",accent:"text-pink-600",shadowColor:"shadow-pink-200/50",backstory:"Luna Love is your confidence coach for dating, flirting, and magnetic attraction. She believes life is a party and you deserve to be the star. Luna always sprinkles sparkle into her words, uses emojis liberally, and never misses a chance to boost your confidence. She's bold but kind, flirty but supportive.",tone:'High energy, witty, playful, slightly cheeky. Uses nicknames ("gorgeous", "superstar"), emojis , and dramatic flair. Luna loves excitement, fun, and helping you shine.',strengths:["Dating confidence","Flirting tips","Self-love","Planning fun, adventurous dates"],quirks:["Always throws in a sparkly emoji ","Speaks like a bestie hyping you up before a party","Loves bold colors, cocktails, dance floors, rooftop bars"],abilities:["Give quick dating confidence boosts","Suggest flirty conversation starters","Plan fun, adventurous date ideas tailored to the user's mood, budget, and vibe","Offer playful self-love reminders"],scenarios:[{trigger:"plan a date",response:"Ooooh, date night!  Tell me the vibe you're feeling:  Glam night out (dress to impress)  Cute & creative (arts, classes, DIY fun)  Chill & cozy (picnic, stargazing, blankets)  Spontaneous adventure (day trip, rooftop, live show) I'll whip up some irresistible ideas for you!"},{trigger:"feeling nervous",response:"Babe, nerves are just excitement in disguise . Take a deep breath, throw on your fave outfit, and remember: YOU are the magic tonight . Want me to drop a confidence-boosting mantra?"}],exampleDialogues:[{user:"Luna, can you plan me a fun first date?",coach:"Absolutely, gorgeous!  First dates should sparkle. If you're up for playful fun, how about mini-golf + milkshakes?  Or if you're feeling glam, cocktails at a rooftop bar with skyline views . Which vibe is calling to you?"},{user:"I'm worried my date will be boring.",coach:"Impossible! With YOU there, boring isn't an option . But just in case, here's a cheeky plan: suggest a game of '2 truths & a lie' over dinner . Instant fun, instant flirty energy!"}]},{id:"therapist",name:"Dr. Sage",icon:Wr,emoji:"",description:"Relationship wellbeing coach specializing in attachment and relationship patterns",personality:"Compassionate, insightful, and evidence-based",specialties:["Attachment theory","Communication skills","Healing trauma","Intimacy-focused date planning"],greetings:["Hi {firstName}, I'm here to help you understand yourself better.","Hello {firstName}. Let's take a moment to pause and reflect together.","Hi {firstName}, what's been on your mind lately? I'm listening.","Hi {firstName}. You've taken the first step just by showing up and that matters."],color:"from-purple-400 to-indigo-500",bgColor:"from-purple-50 to-indigo-50",accent:"text-purple-600",shadowColor:"shadow-purple-200/50",backstory:"Dr. Sage is a relationship wellbeing coach specializing in attachment and relationship patterns. They help you understand yourself and your partner at a deep level.",tone:"Gentle, wise, calm, reflective. Uses validating language and evidence-based insights. No emojis overloadjust thoughtful guidance.",strengths:["Attachment theory","Communication skills","Healing trauma","Intimacy-focused date planning"],quirks:["Often references research or psychology","Encourages journaling or reflection"],abilities:["Guide users through reflective exercises","Explain attachment styles and patterns","Plan dates that deepen emotional connection"],scenarios:[{trigger:"plan a date",response:"For deep connection, consider: - Heartfelt conversation over coffee or tea  - Couples journaling + sharing - Cooking a meal together  - Visiting an art exhibit and reflecting on what resonates"}],exampleDialogues:[{user:"Dr. Sage, plan us a date.",coach:"A quiet dinner where you ask each other meaningful questions could strengthen your bond. Would you like me to suggest prompts?"},{user:"I feel anxious before dates.",coach:"That's natural. Anxiety often comes from attachment triggers. Let's explore what feels unsafe for you, then plan a date that supports safety."}]},{id:"tough-love",name:"Phoenix Fire",icon:Ti,emoji:"",description:"Your no-BS mentor for radical self-transformation and boundary setting",personality:"Direct, motivating, and courageously honest",specialties:["Tough love coaching","Setting boundaries","Self-respect","Bold, adventurous date planning"],greetings:["Hey {firstName}! I'm Phoenix, your no BS mentor for self transformation. Ready to light things up? ","Hi {firstName}, I'm here to help you set boundaries, own your power, and make real change.","Hello {firstName}! Time for some straight talk. Let's cut through the noise and get you feeling strong again.","Hey {firstName}, growth takes courage and you already have what it takes."],color:"from-orange-400 to-red-500",bgColor:"from-orange-50 to-red-50",accent:"text-orange-600",shadowColor:"shadow-orange-200/50",backstory:"Phoenix Fire is your no-BS mentor for radical self-transformation. They thrive on honesty, empowerment, and helping you set strong boundaries. Phoenix pushes you out of your comfort zonealways with love, never with fluff.",tone:'Bold, fiery, motivational. Uses phrases like "level up," "real talk," and "own your power." Limited emojis for emphasis.',strengths:["Tough love coaching","Setting boundaries","Self-respect","Bold, adventurous date planning"],quirks:["Calls out excuses directly","Loves challenges, adrenaline, and transformation"],abilities:["Challenge users to step outside comfort zones","Coach on boundaries and respect","Plan bold, unforgettable dates"],scenarios:[{trigger:"plan a date",response:"Let's cut the fluff. You want a date that leaves you buzzing? Try: - Rock climbing or indoor bouldering  - Karaoke showdown  - Spicy food challenge  - Road trip to somewhere new "}],exampleDialogues:[{user:"Phoenix, I want a date idea.",coach:"Stop playing it safe. Go for karaoke night nothing builds connection like courage on stage."},{user:"I feel insecure.",coach:"Own it. You're stronger than you think . Book that bold date and prove it."}]},{id:"chill",name:"River Calm",icon:b0,emoji:"",description:"Your laid-back friend for mindful healing and gentle perspective",personality:"Zen, supportive, and naturally wise",specialties:["Mindfulness","Gentle healing","Offering perspective","Tranquil, grounding date planning"],greetings:["Hello {firstName}, I'm River. Take a deep breath and let's find your calm together.","Hi {firstName}. I'm here to offer you a peaceful space to reflect and release what's been heavy.","Hey {firstName}, take a moment to pause and reconnect. Let's find your balance again.","Hi {firstName}. You've arrived in a safe and gentle space. What's been flowing through your mind today?"],color:"from-emerald-400 to-teal-500",bgColor:"from-emerald-50 to-teal-50",accent:"text-emerald-600",shadowColor:"shadow-emerald-200/50",backstory:"River Calm is your laid-back friend for mindful healing and gentle perspective. They remind you to breathe, slow down, and nurture connection with presence.",tone:"Warm, supportive, slow-paced. Encourages grounding, mindfulness, and gentle healing. Uses nature-inspired metaphors and soft emojis .",strengths:["Mindfulness","Gentle healing","Offering perspective","Tranquil, grounding date planning"],quirks:["Always reminds you to breathe","Loves nature and simple pleasures"],abilities:["Guide users through calming practices","Suggest grounding reflections","Plan tranquil, nurturing dates"],scenarios:[{trigger:"plan a date",response:"Let's keep it gentle and nourishing: - Sunset picnic by the water  - Nature walk with mindful pauses  - Stargazing with blankets  - Tea ceremony at home "}],exampleDialogues:[{user:"River, can you plan a date?",coach:"How about a quiet evening under the stars warm blankets, soft music, and no rush."},{user:"I feel stressed about dating.",coach:"Take a deep breath . Stress is a waveyou don't need to fight it, just let it pass. Want me to suggest a calming date idea?"}]}],Xy=({onSelectCoach:e,selectedCoach:t,compact:r=!1})=>{const{getLastInteractionText:n,loading:o}=J4();return s.jsxs("div",{className:"space-y-8 animate-fade-in",children:[!r&&s.jsxs("div",{className:"text-center space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(rt,{className:"w-6 h-6 text-primary animate-pulse-warm"}),s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Meet Your Coaches"}),s.jsx(rt,{className:"w-6 h-6 text-primary animate-pulse-warm"})]}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"Each coach brings their unique personality and wisdom to guide your journey"})]}),s.jsx("div",{className:`grid gap-4 sm:gap-6 ${r?"grid-cols-2 sm:grid-cols-4 lg:grid-cols-1":"grid-cols-1 sm:grid-cols-2"}`,children:X4.map((a,i)=>{const l=a.icon,c=t===a.id;return s.jsxs(W,{className:`cursor-pointer transition-all duration-500 hover:scale-[1.02] group relative overflow-hidden animate-fade-in-scale ${c?"ring-2 ring-primary shadow-float bg-gradient-to-br "+a.bgColor:"hover:shadow-warm bg-card"}`,style:{animationDelay:`${i*150}ms`},onClick:()=>e(a.id),children:[s.jsx("div",{className:`absolute -top-10 -right-10 w-20 h-20 bg-gradient-to-r ${a.color} rounded-full opacity-10 group-hover:scale-150 transition-transform duration-700`}),s.jsx(Z,{className:`pb-2 sm:pb-6 relative ${r?"p-2 sm:p-8":"p-4 sm:p-8"}`,children:s.jsxs("div",{className:`flex items-start ${r?"flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-6":"space-x-4 sm:space-x-6"}`,children:[s.jsxs("div",{className:`relative ${r?"p-2 sm:p-4":"p-3 sm:p-4"} rounded-2xl bg-gradient-to-r ${a.color} shadow-lg group-hover:animate-bounce-gentle ${r?"mx-auto sm:mx-0":""}`,children:[s.jsx(l,{className:`${r?"w-4 h-4 sm:w-8 sm:h-8":"w-6 h-6 sm:w-8 sm:h-8"} text-white`}),s.jsx("div",{className:`absolute -top-1 -right-1 ${r?"text-sm sm:text-2xl":"text-xl sm:text-2xl"}`,children:a.emoji})]}),s.jsxs("div",{className:`flex-1 ${r?"text-center sm:text-left":""}`,children:[s.jsx(ee,{className:`${r?"text-base sm:text-2xl":"text-lg sm:text-2xl"} mb-1 sm:mb-2 group-hover:text-primary transition-colors`,children:a.name}),s.jsx(He,{className:`${r?"text-xs sm:text-base hidden sm:block":"text-sm sm:text-base"} font-medium ${a.accent}`,children:a.personality}),s.jsx("div",{className:`flex items-center gap-1 mt-1 ${r?"justify-center sm:justify-start text-xs":"text-xs sm:text-sm"}`,children:o?s.jsx("span",{className:"text-muted-foreground italic",children:"Loading..."}):n(a.id).includes("Online")?s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"relative flex h-2 w-2",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),s.jsx("span",{className:"text-green-600 font-medium",children:n(a.id)})]}):s.jsx("span",{className:"text-muted-foreground italic",children:n(a.id)})})]}),c&&s.jsx(oa,{className:`${r?"w-4 h-4 sm:w-6 sm:h-6":"w-5 h-5 sm:w-6 sm:h-6"} text-primary animate-pulse-warm`})]})}),s.jsxs(Q,{className:`space-y-2 sm:space-y-6 ${r?"p-2 sm:p-8":"p-4 sm:p-8"}`,children:[!r&&s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground leading-relaxed",children:a.description}),!r&&s.jsx("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:a.specialties.map(u=>s.jsx("span",{className:`px-2 py-1 sm:px-3 sm:py-2 text-xs sm:text-sm rounded-full bg-gradient-to-r ${a.color} text-white shadow-sm`,children:u},u))}),!r&&s.jsx("div",{className:`p-3 sm:p-4 rounded-lg bg-gradient-to-r ${a.bgColor} border border-current border-opacity-10`,children:s.jsxs("p",{className:`text-sm sm:text-base italic ${a.accent} font-medium`,children:['"',a.greetings[0],'"']})}),s.jsx(H,{variant:c?a.id:"gentle",size:r?"sm":"lg",className:`w-full transition-all duration-300 ${r?"text-xs sm:text-base h-8 sm:h-12":"h-12 sm:h-14 text-base sm:text-lg"}`,onClick:u=>{u.stopPropagation(),e(a.id)},children:c?s.jsxs("span",{className:"flex items-center gap-1 sm:gap-2",children:[s.jsx(oa,{className:`${r?"w-3 h-3 sm:w-4 sm:h-4":"w-4 h-4"}`}),s.jsx("span",{className:r?"hidden sm:inline":"",children:"Your Coach"}),s.jsx("span",{className:r?"sm:hidden":"hidden",children:""})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:r?"hidden sm:inline":"",children:`Chat with ${a.name.split(" ")[0]}`}),s.jsx("span",{className:r?"sm:hidden":"hidden",children:a.name.split(" ")[0]})]})})]})]},a.id)})})]})},it=f.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:ie("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));it.displayName="Input";var Z4=f.createContext(void 0);function Sa(e){const t=f.useContext(Z4);return e||t||"ltr"}function wf(e,[t,r]){return Math.min(r,Math.max(t,e))}function eO(e,t){return f.useReducer((r,n)=>t[r][n]??r,e)}var rp="ScrollArea",[ej]=It(rp),[tO,pr]=ej(rp),tj=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:o,scrollHideDelay:a=600,...i}=e,[l,c]=f.useState(null),[u,h]=f.useState(null),[d,m]=f.useState(null),[v,b]=f.useState(null),[y,w]=f.useState(null),[p,g]=f.useState(0),[x,j]=f.useState(0),[N,S]=f.useState(!1),[_,k]=f.useState(!1),P=ye(t,O=>c(O)),C=Sa(o);return s.jsx(tO,{scope:r,type:n,dir:C,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:h,content:d,onContentChange:m,scrollbarX:v,onScrollbarXChange:b,scrollbarXEnabled:N,onScrollbarXEnabledChange:S,scrollbarY:y,onScrollbarYChange:w,scrollbarYEnabled:_,onScrollbarYEnabledChange:k,onCornerWidthChange:g,onCornerHeightChange:j,children:s.jsx(ae.div,{dir:C,...i,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":p+"px","--radix-scroll-area-corner-height":x+"px",...e.style}})})});tj.displayName=rp;var rj="ScrollAreaViewport",nj=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:o,...a}=e,i=pr(rj,r),l=f.useRef(null),c=ye(t,l,i.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),s.jsx(ae.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});nj.displayName=rj;var en="ScrollAreaScrollbar",np=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=pr(en,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=o,l=e.orientation==="horizontal";return f.useEffect(()=>(l?a(!0):i(!0),()=>{l?a(!1):i(!1)}),[l,a,i]),o.type==="hover"?s.jsx(rO,{...n,ref:t,forceMount:r}):o.type==="scroll"?s.jsx(nO,{...n,ref:t,forceMount:r}):o.type==="auto"?s.jsx(sj,{...n,ref:t,forceMount:r}):o.type==="always"?s.jsx(sp,{...n,ref:t}):null});np.displayName=en;var rO=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=pr(en,e.__scopeScrollArea),[a,i]=f.useState(!1);return f.useEffect(()=>{const l=o.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},h=()=>{c=window.setTimeout(()=>i(!1),o.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",h)}}},[o.scrollArea,o.scrollHideDelay]),s.jsx(gt,{present:r||a,children:s.jsx(sj,{"data-state":a?"visible":"hidden",...n,ref:t})})}),nO=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=pr(en,e.__scopeScrollArea),a=e.orientation==="horizontal",i=Du(()=>c("SCROLL_END"),100),[l,c]=eO("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,o.scrollHideDelay,c]),f.useEffect(()=>{const u=o.viewport,h=a?"scrollLeft":"scrollTop";if(u){let d=u[h];const m=()=>{const v=u[h];d!==v&&(c("SCROLL"),i()),d=v};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[o.viewport,a,c,i]),s.jsx(gt,{present:r||l!=="hidden",children:s.jsx(sp,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:J(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:J(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),sj=f.forwardRef((e,t)=>{const r=pr(en,e.__scopeScrollArea),{forceMount:n,...o}=e,[a,i]=f.useState(!1),l=e.orientation==="horizontal",c=Du(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,h=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?u:h)}},10);return da(r.viewport,c),da(r.content,c),s.jsx(gt,{present:n||a,children:s.jsx(sp,{"data-state":a?"visible":"hidden",...o,ref:t})})}),sp=f.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,o=pr(en,e.__scopeScrollArea),a=f.useRef(null),i=f.useRef(0),[l,c]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=cj(l.viewport,l.content),h={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function d(m,v){return cO(m,i.current,l,v)}return r==="horizontal"?s.jsx(sO,{...h,ref:t,onThumbPositionChange:()=>{if(o.viewport&&a.current){const m=o.viewport.scrollLeft,v=Zy(m,l,o.dir);a.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:m=>{o.viewport&&(o.viewport.scrollLeft=m)},onDragScroll:m=>{o.viewport&&(o.viewport.scrollLeft=d(m,o.dir))}}):r==="vertical"?s.jsx(oO,{...h,ref:t,onThumbPositionChange:()=>{if(o.viewport&&a.current){const m=o.viewport.scrollTop,v=Zy(m,l);a.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:m=>{o.viewport&&(o.viewport.scrollTop=m)},onDragScroll:m=>{o.viewport&&(o.viewport.scrollTop=d(m))}}):null}),sO=f.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...o}=e,a=pr(en,e.__scopeScrollArea),[i,l]=f.useState(),c=f.useRef(null),u=ye(t,c,a.onScrollbarXChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(aj,{"data-orientation":"horizontal",...o,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Mu(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,d)=>{if(a.viewport){const m=a.viewport.scrollLeft+h.deltaX;e.onWheelScroll(m),dj(m,d)&&h.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Bc(i.paddingLeft),paddingEnd:Bc(i.paddingRight)}})}})}),oO=f.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...o}=e,a=pr(en,e.__scopeScrollArea),[i,l]=f.useState(),c=f.useRef(null),u=ye(t,c,a.onScrollbarYChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(aj,{"data-orientation":"vertical",...o,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Mu(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,d)=>{if(a.viewport){const m=a.viewport.scrollTop+h.deltaY;e.onWheelScroll(m),dj(m,d)&&h.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Bc(i.paddingTop),paddingEnd:Bc(i.paddingBottom)}})}})}),[aO,oj]=ej(en),aj=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:o,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:h,onResize:d,...m}=e,v=pr(en,r),[b,y]=f.useState(null),w=ye(t,P=>y(P)),p=f.useRef(null),g=f.useRef(""),x=v.viewport,j=n.content-n.viewport,N=qe(h),S=qe(c),_=Du(d,10);function k(P){if(p.current){const C=P.clientX-p.current.left,O=P.clientY-p.current.top;u({x:C,y:O})}}return f.useEffect(()=>{const P=C=>{const O=C.target;(b==null?void 0:b.contains(O))&&N(C,j)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[x,b,j,N]),f.useEffect(S,[n,S]),da(b,_),da(v.content,_),s.jsx(aO,{scope:r,scrollbar:b,hasThumb:o,onThumbChange:qe(a),onThumbPointerUp:qe(i),onThumbPositionChange:S,onThumbPointerDown:qe(l),children:s.jsx(ae.div,{...m,ref:w,style:{position:"absolute",...m.style},onPointerDown:J(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),p.current=b.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),k(P))}),onPointerMove:J(e.onPointerMove,k),onPointerUp:J(e.onPointerUp,P=>{const C=P.target;C.hasPointerCapture(P.pointerId)&&C.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=g.current,v.viewport&&(v.viewport.style.scrollBehavior=""),p.current=null})})})}),Hc="ScrollAreaThumb",ij=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=oj(Hc,e.__scopeScrollArea);return s.jsx(gt,{present:r||o.hasThumb,children:s.jsx(iO,{ref:t,...n})})}),iO=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...o}=e,a=pr(Hc,r),i=oj(Hc,r),{onThumbPositionChange:l}=i,c=ye(t,d=>i.onThumbChange(d)),u=f.useRef(void 0),h=Du(()=>{u.current&&(u.current(),u.current=void 0)},100);return f.useEffect(()=>{const d=a.viewport;if(d){const m=()=>{if(h(),!u.current){const v=uO(d,l);u.current=v,l()}};return l(),d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[a.viewport,h,l]),s.jsx(ae.div,{"data-state":i.hasThumb?"visible":"hidden",...o,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:J(e.onPointerDownCapture,d=>{const v=d.target.getBoundingClientRect(),b=d.clientX-v.left,y=d.clientY-v.top;i.onThumbPointerDown({x:b,y})}),onPointerUp:J(e.onPointerUp,i.onThumbPointerUp)})});ij.displayName=Hc;var op="ScrollAreaCorner",lj=f.forwardRef((e,t)=>{const r=pr(op,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(lO,{...e,ref:t}):null});lj.displayName=op;var lO=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,o=pr(op,r),[a,i]=f.useState(0),[l,c]=f.useState(0),u=!!(a&&l);return da(o.scrollbarX,()=>{var d;const h=((d=o.scrollbarX)==null?void 0:d.offsetHeight)||0;o.onCornerHeightChange(h),c(h)}),da(o.scrollbarY,()=>{var d;const h=((d=o.scrollbarY)==null?void 0:d.offsetWidth)||0;o.onCornerWidthChange(h),i(h)}),u?s.jsx(ae.div,{...n,ref:t,style:{width:a,height:l,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Bc(e){return e?parseInt(e,10):0}function cj(e,t){const r=e/t;return isNaN(r)?0:r}function Mu(e){const t=cj(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function cO(e,t,r,n="ltr"){const o=Mu(r),a=o/2,i=t||a,l=o-i,c=r.scrollbar.paddingStart+i,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,h=r.content-r.viewport,d=n==="ltr"?[0,h]:[h*-1,0];return uj([c,u],d)(e)}function Zy(e,t,r="ltr"){const n=Mu(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-o,i=t.content-t.viewport,l=a-n,c=r==="ltr"?[0,i]:[i*-1,0],u=wf(e,c);return uj([0,i],[0,l])(u)}function uj(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function dj(e,t){return e>0&&e<t}var uO=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function o(){const a={left:e.scrollLeft,top:e.scrollTop},i=r.left!==a.left,l=r.top!==a.top;(i||l)&&t(),r=a,n=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(n)};function Du(e,t){const r=qe(e),n=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(n.current),[]),f.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function da(e,t){const r=qe(t);ct(()=>{let n=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return o.observe(e),()=>{window.cancelAnimationFrame(n),o.unobserve(e)}}},[e,r])}var hj=tj,dO=nj,hO=lj;const ap=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(hj,{ref:n,className:ie("relative overflow-hidden",e),...r,children:[s.jsx(dO,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(fj,{}),s.jsx(hO,{})]}));ap.displayName=hj.displayName;const fj=f.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(np,{ref:n,orientation:t,className:ie("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(ij,{className:"relative flex-1 rounded-full bg-border"})}));fj.displayName=np.displayName;var Hd="focusScope.autoFocusOnMount",Bd="focusScope.autoFocusOnUnmount",ex={bubbles:!1,cancelable:!0},fO="FocusScope",Lu=f.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...i}=e,[l,c]=f.useState(null),u=qe(o),h=qe(a),d=f.useRef(null),m=ye(t,y=>c(y)),v=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(n){let y=function(x){if(v.paused||!l)return;const j=x.target;l.contains(j)?d.current=j:Mn(d.current,{select:!0})},w=function(x){if(v.paused||!l)return;const j=x.relatedTarget;j!==null&&(l.contains(j)||Mn(d.current,{select:!0}))},p=function(x){if(document.activeElement===document.body)for(const N of x)N.removedNodes.length>0&&Mn(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",w);const g=new MutationObserver(p);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),g.disconnect()}}},[n,l,v.paused]),f.useEffect(()=>{if(l){rx.add(v);const y=document.activeElement;if(!l.contains(y)){const p=new CustomEvent(Hd,ex);l.addEventListener(Hd,u),l.dispatchEvent(p),p.defaultPrevented||(mO(vO(mj(l)),{select:!0}),document.activeElement===y&&Mn(l))}return()=>{l.removeEventListener(Hd,u),setTimeout(()=>{const p=new CustomEvent(Bd,ex);l.addEventListener(Bd,h),l.dispatchEvent(p),p.defaultPrevented||Mn(y??document.body,{select:!0}),l.removeEventListener(Bd,h),rx.remove(v)},0)}}},[l,u,h,v]);const b=f.useCallback(y=>{if(!r&&!n||v.paused)return;const w=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,p=document.activeElement;if(w&&p){const g=y.currentTarget,[x,j]=pO(g);x&&j?!y.shiftKey&&p===j?(y.preventDefault(),r&&Mn(x,{select:!0})):y.shiftKey&&p===x&&(y.preventDefault(),r&&Mn(j,{select:!0})):p===g&&y.preventDefault()}},[r,n,v.paused]);return s.jsx(ae.div,{tabIndex:-1,...i,ref:m,onKeyDown:b})});Lu.displayName=fO;function mO(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Mn(n,{select:t}),document.activeElement!==r)return}function pO(e){const t=mj(e),r=tx(t,e),n=tx(t.reverse(),e);return[r,n]}function mj(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function tx(e,t){for(const r of e)if(!gO(r,{upTo:t}))return r}function gO(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function yO(e){return e instanceof HTMLInputElement&&"select"in e}function Mn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&yO(e)&&t&&e.select()}}var rx=xO();function xO(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=nx(e,t),e.unshift(t)},remove(t){var r;e=nx(e,t),(r=e[0])==null||r.resume()}}}function nx(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function vO(e){return e.filter(t=>t.tagName!=="A")}var Wd=0;function ip(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??sx()),document.body.insertAdjacentElement("beforeend",e[1]??sx()),Wd++,()=>{Wd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Wd--}},[])}function sx(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Vr=function(){return Vr=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Vr.apply(this,arguments)};function pj(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function wO(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,a;n<o;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var rc="right-scroll-bar-position",nc="width-before-scroll-bar",bO="with-scroll-bars-hidden",jO="--removed-body-scroll-bar-size";function Vd(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function NO(e,t){var r=f.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var o=r.value;o!==n&&(r.value=n,r.callback(n,o))}}}})[0];return r.callback=t,r.facade}var SO=typeof window<"u"?f.useLayoutEffect:f.useEffect,ox=new WeakMap;function _O(e,t){var r=NO(null,function(n){return e.forEach(function(o){return Vd(o,n)})});return SO(function(){var n=ox.get(r);if(n){var o=new Set(n),a=new Set(e),i=r.current;o.forEach(function(l){a.has(l)||Vd(l,null)}),a.forEach(function(l){o.has(l)||Vd(l,i)})}ox.set(r,e)},[e]),r}function CO(e){return e}function kO(e,t){t===void 0&&(t=CO);var r=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var i=t(a,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(a){for(n=!0;r.length;){var i=r;r=[],i.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(a),i=r}var c=function(){var h=i;i=[],h.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(h){i.push(h),u()},filter:function(h){return i=i.filter(h),r}}}};return o}function EO(e){e===void 0&&(e={});var t=kO(null);return t.options=Vr({async:!0,ssr:!1},e),t}var gj=function(e){var t=e.sideCar,r=pj(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return f.createElement(n,Vr({},r))};gj.isSideCarExport=!0;function PO(e,t){return e.useMedium(t),gj}var yj=EO(),Kd=function(){},$u=f.forwardRef(function(e,t){var r=f.useRef(null),n=f.useState({onScrollCapture:Kd,onWheelCapture:Kd,onTouchMoveCapture:Kd}),o=n[0],a=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,h=e.enabled,d=e.shards,m=e.sideCar,v=e.noRelative,b=e.noIsolation,y=e.inert,w=e.allowPinchZoom,p=e.as,g=p===void 0?"div":p,x=e.gapMode,j=pj(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=m,S=_O([r,t]),_=Vr(Vr({},j),o);return f.createElement(f.Fragment,null,h&&f.createElement(N,{sideCar:yj,removeScrollBar:u,shards:d,noRelative:v,noIsolation:b,inert:y,setCallbacks:a,allowPinchZoom:!!w,lockRef:r,gapMode:x}),i?f.cloneElement(f.Children.only(l),Vr(Vr({},_),{ref:S})):f.createElement(g,Vr({},_,{className:c,ref:S}),l))});$u.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$u.classNames={fullWidth:nc,zeroRight:rc};var TO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function RO(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=TO();return t&&e.setAttribute("nonce",t),e}function AO(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function IO(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var OO=function(){var e=0,t=null;return{add:function(r){e==0&&(t=RO())&&(AO(t,r),IO(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},MO=function(){var e=OO();return function(t,r){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},xj=function(){var e=MO(),t=function(r){var n=r.styles,o=r.dynamic;return e(n,o),null};return t},DO={left:0,top:0,right:0,gap:0},qd=function(e){return parseInt(e||"",10)||0},LO=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[qd(r),qd(n),qd(o)]},$O=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return DO;var t=LO(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},UO=xj(),Ho="data-scroll-locked",FO=function(e,t,r,n){var o=e.left,a=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(bO,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Ho,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(rc,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(nc,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(rc," .").concat(rc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(nc," .").concat(nc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ho,`] {
    `).concat(jO,": ").concat(l,`px;
  }
`)},ax=function(){var e=parseInt(document.body.getAttribute(Ho)||"0",10);return isFinite(e)?e:0},zO=function(){f.useEffect(function(){return document.body.setAttribute(Ho,(ax()+1).toString()),function(){var e=ax()-1;e<=0?document.body.removeAttribute(Ho):document.body.setAttribute(Ho,e.toString())}},[])},HO=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,o=n===void 0?"margin":n;zO();var a=f.useMemo(function(){return $O(o)},[o]);return f.createElement(UO,{styles:FO(a,!t,o,r?"":"!important")})},bf=!1;if(typeof window<"u")try{var Ml=Object.defineProperty({},"passive",{get:function(){return bf=!0,!0}});window.addEventListener("test",Ml,Ml),window.removeEventListener("test",Ml,Ml)}catch{bf=!1}var po=bf?{passive:!1}:!1,BO=function(e){return e.tagName==="TEXTAREA"},vj=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!BO(e)&&r[t]==="visible")},WO=function(e){return vj(e,"overflowY")},VO=function(e){return vj(e,"overflowX")},ix=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=wj(e,n);if(o){var a=bj(e,n),i=a[1],l=a[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},KO=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},qO=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},wj=function(e,t){return e==="v"?WO(t):VO(t)},bj=function(e,t){return e==="v"?KO(t):qO(t)},GO=function(e,t){return e==="h"&&t==="rtl"?-1:1},YO=function(e,t,r,n,o){var a=GO(e,window.getComputedStyle(t).direction),i=a*n,l=r.target,c=t.contains(l),u=!1,h=i>0,d=0,m=0;do{if(!l)break;var v=bj(e,l),b=v[0],y=v[1],w=v[2],p=y-w-a*b;(b||p)&&wj(e,l)&&(d+=p,m+=b);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&Math.abs(d)<1||!h&&Math.abs(m)<1)&&(u=!0),u},Dl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},lx=function(e){return[e.deltaX,e.deltaY]},cx=function(e){return e&&"current"in e?e.current:e},QO=function(e,t){return e[0]===t[0]&&e[1]===t[1]},JO=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},XO=0,go=[];function ZO(e){var t=f.useRef([]),r=f.useRef([0,0]),n=f.useRef(),o=f.useState(XO++)[0],a=f.useState(xj)[0],i=f.useRef(e);f.useEffect(function(){i.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var y=wO([e.lockRef.current],(e.shards||[]).map(cx),!0).filter(Boolean);return y.forEach(function(w){return w.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),y.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var l=f.useCallback(function(y,w){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!i.current.allowPinchZoom;var p=Dl(y),g=r.current,x="deltaX"in y?y.deltaX:g[0]-p[0],j="deltaY"in y?y.deltaY:g[1]-p[1],N,S=y.target,_=Math.abs(x)>Math.abs(j)?"h":"v";if("touches"in y&&_==="h"&&S.type==="range")return!1;var k=ix(_,S);if(!k)return!0;if(k?N=_:(N=_==="v"?"h":"v",k=ix(_,S)),!k)return!1;if(!n.current&&"changedTouches"in y&&(x||j)&&(n.current=N),!N)return!0;var P=n.current||N;return YO(P,w,y,P==="h"?x:j)},[]),c=f.useCallback(function(y){var w=y;if(!(!go.length||go[go.length-1]!==a)){var p="deltaY"in w?lx(w):Dl(w),g=t.current.filter(function(N){return N.name===w.type&&(N.target===w.target||w.target===N.shadowParent)&&QO(N.delta,p)})[0];if(g&&g.should){w.cancelable&&w.preventDefault();return}if(!g){var x=(i.current.shards||[]).map(cx).filter(Boolean).filter(function(N){return N.contains(w.target)}),j=x.length>0?l(w,x[0]):!i.current.noIsolation;j&&w.cancelable&&w.preventDefault()}}},[]),u=f.useCallback(function(y,w,p,g){var x={name:y,delta:w,target:p,should:g,shadowParent:eM(p)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(j){return j!==x})},1)},[]),h=f.useCallback(function(y){r.current=Dl(y),n.current=void 0},[]),d=f.useCallback(function(y){u(y.type,lx(y),y.target,l(y,e.lockRef.current))},[]),m=f.useCallback(function(y){u(y.type,Dl(y),y.target,l(y,e.lockRef.current))},[]);f.useEffect(function(){return go.push(a),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:m}),document.addEventListener("wheel",c,po),document.addEventListener("touchmove",c,po),document.addEventListener("touchstart",h,po),function(){go=go.filter(function(y){return y!==a}),document.removeEventListener("wheel",c,po),document.removeEventListener("touchmove",c,po),document.removeEventListener("touchstart",h,po)}},[]);var v=e.removeScrollBar,b=e.inert;return f.createElement(f.Fragment,null,b?f.createElement(a,{styles:JO(o)}):null,v?f.createElement(HO,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function eM(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const tM=PO(yj,ZO);var Uu=f.forwardRef(function(e,t){return f.createElement($u,Vr({},e,{ref:t,sideCar:tM}))});Uu.classNames=$u.classNames;var rM=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},yo=new WeakMap,Ll=new WeakMap,$l={},Gd=0,jj=function(e){return e&&(e.host||jj(e.parentNode))},nM=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=jj(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},sM=function(e,t,r,n){var o=nM(t,Array.isArray(e)?e:[e]);$l[r]||($l[r]=new WeakMap);var a=$l[r],i=[],l=new Set,c=new Set(o),u=function(d){!d||l.has(d)||(l.add(d),u(d.parentNode))};o.forEach(u);var h=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(m){if(l.has(m))h(m);else try{var v=m.getAttribute(n),b=v!==null&&v!=="false",y=(yo.get(m)||0)+1,w=(a.get(m)||0)+1;yo.set(m,y),a.set(m,w),i.push(m),y===1&&b&&Ll.set(m,!0),w===1&&m.setAttribute(r,"true"),b||m.setAttribute(n,"true")}catch(p){console.error("aria-hidden: cannot operate on ",m,p)}})};return h(t),l.clear(),Gd++,function(){i.forEach(function(d){var m=yo.get(d)-1,v=a.get(d)-1;yo.set(d,m),a.set(d,v),m||(Ll.has(d)||d.removeAttribute(n),Ll.delete(d)),v||d.removeAttribute(r)}),Gd--,Gd||(yo=new WeakMap,yo=new WeakMap,Ll=new WeakMap,$l={})}},lp=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),o=rM(e);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live], script"))),sM(n,o,r,"aria-hidden")):function(){return null}},Fu="Dialog",[Nj]=It(Fu),[oM,Or]=Nj(Fu),Sj=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:o,onOpenChange:a,modal:i=!0}=e,l=f.useRef(null),c=f.useRef(null),[u,h]=wn({prop:n,defaultProp:o??!1,onChange:a,caller:Fu});return s.jsx(oM,{scope:t,triggerRef:l,contentRef:c,contentId:Yr(),titleId:Yr(),descriptionId:Yr(),open:u,onOpenChange:h,onOpenToggle:f.useCallback(()=>h(d=>!d),[h]),modal:i,children:r})};Sj.displayName=Fu;var _j="DialogTrigger",aM=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Or(_j,r),a=ye(t,o.triggerRef);return s.jsx(ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":dp(o.open),...n,ref:a,onClick:J(e.onClick,o.onOpenToggle)})});aM.displayName=_j;var cp="DialogPortal",[iM,Cj]=Nj(cp,{forceMount:void 0}),kj=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:o}=e,a=Or(cp,t);return s.jsx(iM,{scope:t,forceMount:r,children:f.Children.map(n,i=>s.jsx(gt,{present:r||a.open,children:s.jsx(Yi,{asChild:!0,container:o,children:i})}))})};kj.displayName=cp;var Wc="DialogOverlay",Ej=f.forwardRef((e,t)=>{const r=Cj(Wc,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,a=Or(Wc,e.__scopeDialog);return a.modal?s.jsx(gt,{present:n||a.open,children:s.jsx(cM,{...o,ref:t})}):null});Ej.displayName=Wc;var lM=Vs("DialogOverlay.RemoveScroll"),cM=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Or(Wc,r);return s.jsx(Uu,{as:lM,allowPinchZoom:!0,shards:[o.contentRef],children:s.jsx(ae.div,{"data-state":dp(o.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Qs="DialogContent",Pj=f.forwardRef((e,t)=>{const r=Cj(Qs,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,a=Or(Qs,e.__scopeDialog);return s.jsx(gt,{present:n||a.open,children:a.modal?s.jsx(uM,{...o,ref:t}):s.jsx(dM,{...o,ref:t})})});Pj.displayName=Qs;var uM=f.forwardRef((e,t)=>{const r=Or(Qs,e.__scopeDialog),n=f.useRef(null),o=ye(t,r.contentRef,n);return f.useEffect(()=>{const a=n.current;if(a)return lp(a)},[]),s.jsx(Tj,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:J(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:J(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&a.preventDefault()}),onFocusOutside:J(e.onFocusOutside,a=>a.preventDefault())})}),dM=f.forwardRef((e,t)=>{const r=Or(Qs,e.__scopeDialog),n=f.useRef(!1),o=f.useRef(!1);return s.jsx(Tj,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const i=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),Tj=f.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:a,...i}=e,l=Or(Qs,r),c=f.useRef(null),u=ye(t,c);return ip(),s.jsxs(s.Fragment,{children:[s.jsx(Lu,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:a,children:s.jsx(pa,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":dp(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(hM,{titleId:l.titleId}),s.jsx(mM,{contentRef:c,descriptionId:l.descriptionId})]})]})}),up="DialogTitle",Rj=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Or(up,r);return s.jsx(ae.h2,{id:o.titleId,...n,ref:t})});Rj.displayName=up;var Aj="DialogDescription",Ij=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Or(Aj,r);return s.jsx(ae.p,{id:o.descriptionId,...n,ref:t})});Ij.displayName=Aj;var Oj="DialogClose",Mj=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Or(Oj,r);return s.jsx(ae.button,{type:"button",...n,ref:t,onClick:J(e.onClick,()=>o.onOpenChange(!1))})});Mj.displayName=Oj;function dp(e){return e?"open":"closed"}var Dj="DialogTitleWarning",[d3,Lj]=dk(Dj,{contentName:Qs,titleName:up,docsSlug:"dialog"}),hM=({titleId:e})=>{const t=Lj(Dj),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},fM="DialogDescriptionWarning",mM=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Lj(fM).contentName}}.`;return f.useEffect(()=>{var a;const o=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},pM=Sj,gM=kj,$j=Ej,Uj=Pj,Fj=Rj,zj=Ij,yM=Mj;const tl=pM,xM=gM,Hj=f.forwardRef(({className:e,...t},r)=>s.jsx($j,{ref:r,className:ie("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Hj.displayName=$j.displayName;const _a=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(xM,{children:[s.jsx(Hj,{}),s.jsxs(Uj,{ref:n,className:ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(yM,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(vu,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));_a.displayName=Uj.displayName;const Ca=({className:e,...t})=>s.jsx("div",{className:ie("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ca.displayName="DialogHeader";const ka=f.forwardRef(({className:e,...t},r)=>s.jsx(Fj,{ref:r,className:ie("text-lg font-semibold leading-none tracking-tight",e),...t}));ka.displayName=Fj.displayName;const Bj=f.forwardRef(({className:e,...t},r)=>s.jsx(zj,{ref:r,className:ie("text-sm text-muted-foreground",e),...t}));Bj.displayName=zj.displayName;const vM=Ji("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function je({className:e,variant:t,...r}){return s.jsx("div",{className:ie(vM({variant:t}),e),...r})}const Wj=({isOpen:e,onClose:t,trigger:r="usage_limit",coachName:n})=>{const[o,a]=f.useState(!1),{user:i}=Te(),{toast:l}=At(),c=nt(),u=rr(),h=async()=>{if(!i){l({title:"Please sign in",description:"You need to be signed in to upgrade to Premium.",variant:"destructive"});return}t();const b=u.pathname+u.search;c("/premium-purchase",{state:{from:b}})},d=[{icon:Jr,title:"Unlimited AI coach conversations",description:"Remove message limits and chat freely with all your coaches",gradient:"from-blue-400 to-blue-500"},{icon:he,title:"Regenerate AI responses",description:"Get new responses from your coach if you want a different perspective",gradient:"from-emerald-400 to-emerald-500"},{icon:Ti,title:"Guided Programmes",description:"Access structured healing programs and recovery plans",gradient:"from-orange-400 to-orange-500"},{icon:rt,title:"Personalised insights & reports",description:"Get detailed analysis and custom reports on your progress",gradient:"from-purple-400 to-purple-500"},{icon:Pe,title:"Daily attachment style quiz with AI analysis",description:"Take daily quizzes with personalised AI insights on your attachment patterns",gradient:"from-pink-400 to-pink-500"},{icon:Jr,title:"Conversation analyser with AI insights",description:"Get AI-powered analysis of your conversations and relationships",gradient:"from-indigo-400 to-indigo-500"},{icon:he,title:"Text suggestion helper for all scenarios",description:"Get AI-powered text suggestions for difficult conversations",gradient:"from-green-400 to-green-500"},{icon:Ti,title:"Priority support",description:"Get faster response times and priority customer support",gradient:"from-yellow-400 to-yellow-500"}],v=r==="usage_limit"?{title:"You've reached today's free limit ",description:"Want to keep talking? Upgrade to Premium and chat unlimited with all your coaches!",highlight:"Free users get 10 messages per day"}:{title:`${n||"Your coach"} wants to help you more! `,description:"This kind of personalised coaching is included in Premium. Ready to unlock the full experience?",highlight:"Premium includes deep insights and custom advice"};return s.jsx(tl,{open:e,onOpenChange:t,children:s.jsxs(_a,{className:"max-w-4xl max-h-[85vh] flex flex-col p-0 overflow-hidden",children:[s.jsx(Ca,{className:"px-6 pt-6 pb-4 shrink-0",children:s.jsxs(ka,{className:"text-2xl font-bold text-center flex items-center justify-center gap-2",children:[s.jsx(Pe,{className:"w-6 h-6 text-yellow-500"}),v.title]})}),s.jsxs("div",{className:"space-y-6 overflow-y-auto flex-1 px-6 pb-6",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("p",{className:"text-muted-foreground text-lg",children:v.description}),s.jsx(je,{variant:"outline",className:"bg-primary/5",children:v.highlight})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map((b,y)=>s.jsxs(W,{className:"border-0 shadow-card hover:shadow-warm transition-all duration-300 group",children:[s.jsx(Z,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-r ${b.gradient}`,children:s.jsx(b.icon,{className:"w-5 h-5 text-white"})}),s.jsx(ee,{className:"text-sm group-hover:text-primary transition-colors",children:b.title})]})}),s.jsx(Q,{children:s.jsx("p",{className:"text-xs text-muted-foreground",children:b.description})})]},y))}),s.jsxs(W,{className:"bg-gradient-to-br from-primary via-primary-glow to-primary/90 border-0 shadow-2xl overflow-hidden relative",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmZmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48cGF0aCBkPSJNMzYgMzRjMC0yLjIxLTEuNzktNC00LTRzLTQgMS43OS00IDQgMS43OSA0IDQgNCA0LTEuNzkgNC00eiIvPjwvZz48L2c+PC9zdmc+')] opacity-30"}),s.jsx(Q,{className:"pt-8 pb-8 relative z-10",children:s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx("div",{className:"inline-block p-3 rounded-full bg-white/20 backdrop-blur-sm mb-2",children:s.jsx(Pe,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"text-4xl font-bold text-white drop-shadow-lg",children:["11.99",s.jsx("span",{className:"text-lg font-normal text-white/90",children:"/month"})]}),s.jsx("p",{className:"text-white/90 font-medium",children:"Cancel anytime  No hidden fees"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-4",children:[s.jsxs("div",{className:"flex flex-col items-center gap-2 p-3 rounded-xl bg-white/10 backdrop-blur-sm",children:[s.jsx(Qt,{className:"w-5 h-5 text-white"}),s.jsx("span",{className:"text-sm text-white font-medium",children:"Unlimited conversations"})]}),s.jsxs("div",{className:"flex flex-col items-center gap-2 p-3 rounded-xl bg-white/10 backdrop-blur-sm",children:[s.jsx(Qt,{className:"w-5 h-5 text-white"}),s.jsx("span",{className:"text-sm text-white font-medium",children:"AI insights & analysis"})]}),s.jsxs("div",{className:"flex flex-col items-center gap-2 p-3 rounded-xl bg-white/10 backdrop-blur-sm",children:[s.jsx(Qt,{className:"w-5 h-5 text-white"}),s.jsx("span",{className:"text-sm text-white font-medium",children:"Guided programmes"})]}),s.jsxs("div",{className:"flex flex-col items-center gap-2 p-3 rounded-xl bg-white/10 backdrop-blur-sm",children:[s.jsx(Qt,{className:"w-5 h-5 text-white"}),s.jsx("span",{className:"text-sm text-white font-medium",children:"Priority support"})]})]})]})})]})]}),s.jsxs("div",{className:"shrink-0 bg-background px-4 py-4 border-t flex flex-col sm:flex-row gap-3",children:[s.jsxs(H,{variant:"outline",onClick:t,className:"w-full sm:flex-1 h-12 text-sm",disabled:o,children:[s.jsx(vu,{className:"w-4 h-4 mr-2"}),"Maybe later"]}),s.jsxs(H,{onClick:h,className:"w-full sm:flex-1 h-12 bg-gradient-to-r from-primary to-primary-glow hover:opacity-90 text-white shadow-lg text-sm whitespace-nowrap",disabled:o,children:[s.jsx(Pe,{className:"w-4 h-4 mr-2 shrink-0"}),o?"Loading...":"Go Premium"]})]})]})})};var hp="Progress",fp=100,[wM]=It(hp),[bM,jM]=wM(hp),Vj=f.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:o,getValueLabel:a=NM,...i}=e;(o||o===0)&&!ux(o)&&console.error(SM(`${o}`,"Progress"));const l=ux(o)?o:fp;n!==null&&!dx(n,l)&&console.error(_M(`${n}`,"Progress"));const c=dx(n,l)?n:null,u=Vc(c)?a(c,l):void 0;return s.jsx(bM,{scope:r,value:c,max:l,children:s.jsx(ae.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Vc(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":Gj(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});Vj.displayName=hp;var Kj="ProgressIndicator",qj=f.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,o=jM(Kj,r);return s.jsx(ae.div,{"data-state":Gj(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...n,ref:t})});qj.displayName=Kj;function NM(e,t){return`${Math.round(e/t*100)}%`}function Gj(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Vc(e){return typeof e=="number"}function ux(e){return Vc(e)&&!isNaN(e)&&e>0}function dx(e,t){return Vc(e)&&!isNaN(e)&&e<=t&&e>=0}function SM(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${fp}\`.`}function _M(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${fp} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Yj=Vj,CM=qj;const Ea=f.forwardRef(({className:e,value:t,...r},n)=>s.jsx(Yj,{ref:n,className:ie("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx(CM,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Ea.displayName=Yj.displayName;const kM=({currentUsage:e,onUpgradeClick:t,isPremium:r=!1})=>{const[n,o]=f.useState(null),[a,i]=f.useState(""),{user:l}=Te(),c=async()=>{if(!(!l||r))try{const v=await fetch(`https://heartlift-launch.emergent.host/api/usage/check/${l.id}`);if(v.ok){const b=await v.json();o({message_count:b.message_count||0,can_send_message:b.can_send_message||!0,hours_until_reset:Math.floor((b.seconds_until_reset||0)/3600)})}}catch(m){console.error("Error fetching usage data:",m)}};if(f.useEffect(()=>{c();const m=setInterval(c,3e4);return()=>clearInterval(m)},[l,r]),f.useEffect(()=>{if(!n||n.can_send_message)return;const m=()=>{const b=new Date,w=new Date(b.getTime()+n.hours_until_reset*60*60*1e3).getTime()-b.getTime();if(w<=0){i("Ready to chat!"),c();return}const p=Math.floor(w/(1e3*60*60)),g=Math.floor(w%(1e3*60*60)/(1e3*60));i(`${p}h ${g}m`)};m();const v=setInterval(m,6e4);return()=>clearInterval(v)},[n]),r)return s.jsx(W,{className:"bg-gradient-to-r from-yellow-50 to-orange-50 border-yellow-200",children:s.jsx(Q,{className:"py-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pe,{className:"w-5 h-5 text-yellow-600"}),s.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"Premium Active"})]}),s.jsxs(je,{variant:"outline",className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:[s.jsx(Ti,{className:"w-3 h-3 mr-1"}),"Unlimited"]})]})})});const u=Math.min(e/10*100,100),h=e>=10,d=Math.max(0,10-e);return s.jsx(W,{className:`border-0 shadow-card ${h?"bg-gradient-to-r from-red-50 to-orange-50":"bg-gradient-to-r from-blue-50 to-indigo-50"}`,children:s.jsxs(Q,{className:"py-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jr,{className:`w-4 h-4 ${h?"text-red-600":"text-blue-600"}`}),s.jsxs("span",{className:"text-sm font-medium",children:[d," messages left today (10 total across all coaches)"]})]}),h&&s.jsxs(je,{variant:"outline",className:"bg-red-100 text-red-800 border-red-200",children:[s.jsx($o,{className:"w-3 h-3 mr-1"}),"Limit reached"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ea,{value:u,className:`h-2 ${h?"bg-red-100":"bg-blue-100"}`}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"Free daily limit"}),a&&s.jsxs("span",{className:`font-medium ${h?"text-red-600":"text-blue-600"}`,children:["Resets in ",a]})]})]}),h&&s.jsx("div",{className:"pt-2 border-t border-red-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-red-700",children:"Want to keep chatting?"}),s.jsxs(H,{variant:"outline",size:"sm",onClick:t,className:"bg-gradient-to-r from-primary to-primary-glow text-white border-0 hover:shadow-warm transition-all duration-300",children:[s.jsx(Pe,{className:"w-3 h-3 mr-1"}),"Go Premium"]})]})})]})})},EM=({isOpen:e,onClose:t,userName:r="there"})=>{const[n,o]=f.useState(0),a=[{icon:Jr,title:"Unlimited AI Conversations",description:"Chat with all coaches as much as you want - no daily limits!",gradient:"from-blue-400 to-blue-500",bgColor:"from-blue-50 to-blue-100"},{icon:qh,title:"All Coach Personas",description:"Access Luna Love, Dr. Sage, Phoenix Fire, and River Calm anytime",gradient:"from-purple-400 to-purple-500",bgColor:"from-purple-50 to-purple-100"},{icon:he,title:"Text Conversation Helpers",description:"Get custom message templates and rewriting suggestions",gradient:"from-pink-400 to-pink-500",bgColor:"from-pink-50 to-pink-100"},{icon:iE,title:"Advanced Mood Analytics",description:"Weekly trends, emotion patterns, and personalised insights",gradient:"from-green-400 to-green-500",bgColor:"from-green-50 to-green-100"},{icon:rt,title:"Personalised Reports",description:"Dating patterns, attachment analysis, and healing roadmaps",gradient:"from-yellow-400 to-orange-400",bgColor:"from-yellow-50 to-orange-100"},{icon:Pc,title:"Text Helpers",description:"Message suggestions, rewriting tools, and conversation analysis",gradient:"from-indigo-400 to-indigo-500",bgColor:"from-indigo-50 to-indigo-100"}],i=a[n]||a[0],l=()=>{n<a.length-1?o(n+1):t()},c=()=>{n>0&&o(n-1)};return s.jsx(tl,{open:e,onOpenChange:t,children:s.jsxs(_a,{className:"max-w-2xl",children:[s.jsx(Ca,{children:s.jsxs(ka,{className:"text-3xl font-bold text-center flex items-center justify-center gap-2",children:[s.jsx(Pe,{className:"w-8 h-8 text-yellow-500 animate-pulse-warm"}),"Welcome to Premium, ",r,"! "]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("p",{className:"text-muted-foreground text-lg",children:"Your premium coaching experience is now unlocked! Here's what you can do:"}),s.jsx(Ea,{value:(n+1)/a.length*100,className:"h-2"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[n+1," of ",a.length," features"]})]}),s.jsx(W,{className:`border-0 shadow-warm bg-gradient-to-br ${i.bgColor} animate-fade-in-scale`,children:s.jsxs(Z,{className:"text-center pb-4",children:[s.jsxs("div",{className:"mx-auto mb-4 relative",children:[s.jsx("div",{className:`p-4 rounded-full bg-gradient-to-r ${i.gradient} shadow-lg animate-float-gentle`,children:s.jsx(i.icon,{className:"w-8 h-8 text-white"})}),s.jsx("div",{className:"absolute -top-1 -right-1 text-2xl animate-bounce-gentle",children:""})]}),s.jsx(ee,{className:"text-2xl mb-2",children:i.title}),s.jsx(He,{className:"text-base leading-relaxed",children:i.description})]})}),s.jsx("div",{className:"grid grid-cols-7 gap-2",children:a.map((u,h)=>s.jsxs("div",{className:`p-2 rounded-lg border-2 transition-all duration-300 cursor-pointer ${h===n?"border-primary bg-primary/10 shadow-gentle":h<n?"border-green-500 bg-green-50":"border-border bg-background"}`,onClick:()=>o(h),children:[s.jsx(u.icon,{className:`w-4 h-4 mx-auto ${h===n?"text-primary":h<n?"text-green-500":"text-muted-foreground"}`}),h<n&&s.jsx(Qt,{className:"w-3 h-3 text-green-500 mx-auto mt-1"})]},h))}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(H,{variant:"outline",onClick:c,disabled:n===0,className:"flex items-center gap-2",children:"Previous"}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(je,{variant:"outline",className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:[s.jsx(Pe,{className:"w-3 h-3 mr-1"}),"Premium Active"]})}),s.jsx(H,{variant:"warm",onClick:l,className:"flex items-center gap-2",children:n===a.length-1?s.jsxs(s.Fragment,{children:[s.jsx(rt,{className:"w-4 h-4"}),"Start Exploring!"]}):s.jsxs(s.Fragment,{children:["Next",s.jsxs("span",{className:"text-xs",children:["(",a.length-n-1," left)"]})]})})]})]})]})})},PM=({variant:e="default",className:t=""})=>e==="compact"?s.jsxs(je,{variant:"outline",className:`bg-gradient-to-r from-yellow-100 to-orange-100 text-yellow-800 border-yellow-200 animate-pulse-warm ${t}`,children:[s.jsx(Pe,{className:"w-3 h-3 mr-1"}),"Premium"]}):e==="floating"?s.jsx("div",{className:`fixed top-4 right-4 z-50 animate-float-gentle ${t}`,children:s.jsxs(je,{variant:"outline",className:"bg-gradient-to-r from-yellow-100 to-orange-100 text-yellow-800 border-yellow-200 shadow-warm px-3 py-1",children:[s.jsx(Pe,{className:"w-4 h-4 mr-1"}),"Premium Active",s.jsx(rt,{className:"w-3 h-3 ml-1 animate-pulse-warm"})]})}):s.jsxs(je,{variant:"outline",className:`bg-gradient-to-r from-yellow-100 to-orange-100 text-yellow-800 border-yellow-200 animate-glow ${t}`,children:[s.jsx(Pe,{className:"w-4 h-4 mr-2"}),"Premium Member",s.jsx(rt,{className:"w-3 h-3 ml-2 animate-pulse-warm"})]}),Nn=f.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:ie("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Nn.displayName="Textarea";var TM="Separator",hx="horizontal",RM=["horizontal","vertical"],Qj=f.forwardRef((e,t)=>{const{decorative:r,orientation:n=hx,...o}=e,a=AM(n)?n:hx,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return s.jsx(ae.div,{"data-orientation":a,...l,...o,ref:t})});Qj.displayName=TM;function AM(e){return RM.includes(e)}var Jj=Qj;const mp=f.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},o)=>s.jsx(Jj,{ref:o,decorative:r,orientation:t,className:ie("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));mp.displayName=Jj.displayName;const fx={flirty:"Luna Love",therapist:"Dr. Sage","tough-love":"Phoenix Fire",chill:"River Calm"},IM=()=>{const[e,t]=f.useState({coaches_chatted_with:[],conversation_rating:null,helpful_moments:"",areas_for_improvement:"",reflection_date:new Date().toISOString().split("T")[0]}),[r,n]=f.useState([]),[o,a]=f.useState(!1),[i,l]=f.useState(!1),[c,u]=f.useState(!1),[h,d]=f.useState(!1),{user:m}=Te(),{toast:v}=At();f.useEffect(()=>{if(m){b(),y();const j=setInterval(()=>{const S=new Date().toISOString().split("T")[0];e.reflection_date!==S&&(t({coaches_chatted_with:[],conversation_rating:null,helpful_moments:"",areas_for_improvement:"",reflection_date:S}),u(!1),y())},6e4);return()=>clearInterval(j)}},[m]);const b=async()=>{if(m){a(!0);try{const j=new Date().toISOString().split("T")[0],N="https://heartlift-launch.emergent.host";console.log(`Loading today's reflection from backend: ${N}/api/reflections/today/${m.id}`);const S=await fetch(`${N}/api/reflections/today/${m.id}`);if(!S.ok)throw new Error(`Failed to load reflection: ${S.statusText}`);const _=await S.json();_&&_.id?(console.log("Loaded reflection from backend:",_),t({id:_.id,coaches_chatted_with:_.coaches_chatted_with||[],conversation_rating:_.conversation_rating,helpful_moments:_.helpful_moments||"",areas_for_improvement:_.areas_for_improvement||"",reflection_date:_.reflection_date,created_at:_.created_at}),u(!0)):(console.log("No reflection found for today"),t({coaches_chatted_with:[],conversation_rating:null,helpful_moments:"",areas_for_improvement:"",reflection_date:j}),u(!1))}catch(j){console.error("Error loading reflection:",j)}finally{a(!1)}}},y=async()=>{if(m)try{const j="https://heartlift-launch.emergent.host";console.log(`Loading past reflections from backend: ${j}/api/reflections/past/${m.id}`);const N=await fetch(`${j}/api/reflections/past/${m.id}`);if(!N.ok)throw new Error(`Failed to load past reflections: ${N.statusText}`);const S=await N.json();console.log("Loaded past reflections:",S),n(S||[])}catch(j){console.error("Error loading past reflections:",j)}},w=j=>{t(N=>({...N,coaches_chatted_with:N.coaches_chatted_with.includes(j)?N.coaches_chatted_with.filter(S=>S!==j):[...N.coaches_chatted_with,j]}))},p=j=>{t(N=>({...N,conversation_rating:j}))},g=async()=>{if(console.log("========== SAVE REFLECTION CALLED =========="),console.log("User:",m),console.log("User ID:",m==null?void 0:m.id),console.log("Reflection data:",e),!m){alert("ERROR: No user logged in!"),v({title:"Not logged in",description:"Please log in first.",variant:"destructive"});return}if(e.coaches_chatted_with.length===0){alert("ERROR: No coaches selected!"),v({title:"Please select at least one coach",description:"Let us know which coaches you chatted with today.",variant:"destructive"});return}l(!0);try{const j={user_id:m.id,reflection_date:e.reflection_date,coaches_chatted_with:e.coaches_chatted_with,conversation_rating:e.conversation_rating,helpful_moments:e.helpful_moments,areas_for_improvement:e.areas_for_improvement};console.log("Reflection data to save:",JSON.stringify(j,null,2));const N="https://heartlift-launch.emergent.host";console.log("Backend URL:",N);const S=`${N}/api/reflections/save`;console.log("Full URL:",S),alert(`About to POST to: ${S}`);const _=await fetch(S,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)});if(console.log("Response status:",_.status),console.log("Response ok:",_.ok),!_.ok){const P=await _.text();throw console.error("ERROR Response:",P),alert(`ERROR: ${_.status} - ${P}`),new Error(`Failed to save reflection: ${P}`)}const k=await _.json();console.log("SUCCESS! Saved data:",k),alert(`SUCCESS! Reflection saved with ID: ${k.id}`),u(!0),t({...e,id:k.id,created_at:k.created_at}),await b(),await y(),v({title:"Reflection saved!",description:`ID: ${k.id}`})}catch(j){console.error("CATCH ERROR:",j),alert(`CATCH ERROR: ${j instanceof Error?j.message:String(j)}`),v({title:"Error saving reflection",description:j instanceof Error?j.message:"Please try again.",variant:"destructive"})}finally{l(!1),console.log("========== SAVE REFLECTION COMPLETE ==========")}},x=j=>new Date(j).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return o?s.jsx(W,{className:"w-full",children:s.jsx(Q,{className:"flex items-center justify-center p-8",children:s.jsx("div",{className:"animate-pulse text-muted-foreground",children:"Loading today's reflection..."})})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs(W,{className:"w-full shadow-gentle",children:[s.jsxs(Z,{children:[s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(ft,{className:"w-5 h-5"}),"Today's Reflection",c&&s.jsxs(je,{variant:"secondary",className:"ml-2",children:[s.jsx(RE,{className:"w-3 h-3 mr-1"}),"Complete"]})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[x(e.reflection_date),"  Help your coaches remember your journey by reflecting on today's conversations"]})]}),s.jsxs(Q,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-sm font-medium",children:"Which coaches did you chat with today? (Select all that apply)"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(fx).map(([j,N])=>s.jsxs(H,{variant:e.coaches_chatted_with.includes(j)?"default":"outline",size:"sm",onClick:()=>w(j),className:"flex items-center gap-2",children:[s.jsx(Jr,{className:"w-3 h-3"}),N]},j))})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-sm font-medium",children:"How helpful were your conversations today?"}),s.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(j=>s.jsx(H,{variant:"ghost",size:"sm",onClick:()=>p(j),className:"p-1",children:s.jsx(oa,{className:`w-6 h-6 ${e.conversation_rating&&j<=e.conversation_rating?"fill-yellow-400 text-yellow-400":"text-muted-foreground"}`})},j))})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-sm font-medium",children:"What was most helpful in your conversations today?"}),s.jsx(Nn,{placeholder:"Share what insights, advice, or support stood out to you...",value:e.helpful_moments,onChange:j=>t(N=>({...N,helpful_moments:j.target.value})),rows:3})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-sm font-medium",children:"What would you like to explore more in future conversations?"}),s.jsx(Nn,{placeholder:"Any topics, feelings, or situations you'd like your coaches to help you work through...",value:e.areas_for_improvement,onChange:j=>t(N=>({...N,areas_for_improvement:j.target.value})),rows:3})]}),s.jsx(H,{onClick:g,disabled:i,className:"w-full",children:i?"Saving...":c?"Update Reflection":"Save Reflection"}),s.jsxs(H,{onClick:()=>d(!h),variant:"outline",className:"w-full",children:[s.jsx(Xg,{className:"w-4 h-4 mr-2"}),h?"Hide":"View"," Past Reflections (",r.length,")"]})]})]}),h&&s.jsxs(W,{className:"w-full shadow-gentle",children:[s.jsxs(Z,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xg,{className:"w-5 h-5"}),s.jsxs(ee,{children:["Reflection History (",r.length,")"]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"View your past reflections to track your journey"})]}),s.jsx(Q,{children:r.length>0?s.jsx(ap,{className:"h-96",children:s.jsx("div",{className:"space-y-4",children:r.map((j,N)=>s.jsxs("div",{className:"border-l-2 border-primary/20 pl-4 pb-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"font-medium text-sm",children:x(j.reflection_date)}),s.jsx("div",{className:"flex items-center gap-2",children:j.conversation_rating&&s.jsx("div",{className:"flex items-center gap-1",children:[...Array(j.conversation_rating)].map((S,_)=>s.jsx(oa,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"},_))})})]}),j.coaches_chatted_with&&j.coaches_chatted_with.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1",children:j.coaches_chatted_with.map(S=>s.jsx(je,{variant:"outline",className:"text-xs",children:fx[S]},S))}),j.helpful_moments&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"What was helpful:"}),s.jsx("p",{className:"text-sm",children:j.helpful_moments})]}),j.areas_for_improvement&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Areas to explore:"}),s.jsx("p",{className:"text-sm",children:j.areas_for_improvement})]})]}),N<r.length-1&&s.jsx(mp,{className:"mt-4"})]},j.id||N))})}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx("p",{children:"No past reflections yet."}),s.jsx("p",{className:"text-sm mt-2",children:"Complete today's reflection above to start building your journey history!"})]})})]})]})},OM=({coachName:e,coachPersonality:t,coachGreetings:r,coachIcon:n,coachColor:o})=>{var ue;const[a,i]=f.useState([]),[l,c]=f.useState(""),[u,h]=f.useState(!1),[d,m]=f.useState(0),[v,b]=f.useState(10),[y,w]=f.useState(!0),[p,g]=f.useState(!1),[x,j]=f.useState(!1),[N,S]=f.useState("usage_limit"),[_,k]=f.useState(!1),P=f.useRef(null),C=f.useRef(null);f.useRef(null);const O=f.useRef(null),T=f.useRef(0),M=f.useRef(null),{user:R,isPremium:B,checkSubscription:L}=Te(),{toast:D}=At();f.useEffect(()=>{a.length>T.current&&setTimeout(()=>{const I=document.querySelector("[data-radix-scroll-area-viewport]");I&&I.scrollTo({top:I.scrollHeight,behavior:"smooth"})},100),T.current=a.length},[a]);const E=()=>{var q,te;if(!R)return"";if((q=R.user_metadata)!=null&&q.full_name){const me=R.user_metadata.full_name.split(" ")[0];return me.charAt(0).toUpperCase()+me.slice(1).toLowerCase()}const I=((te=R.email)==null?void 0:te.split("@")[0])||"";return I.charAt(0).toUpperCase()+I.slice(1).toLowerCase()};f.useEffect(()=>{R&&V()},[R,t]),f.useEffect(()=>{if(!B&&R){const I=setInterval(()=>{const q=new Date,te=localStorage.getItem(`lastUsageCheck_${R.id}`),le=q.toISOString().split("T")[0];te&&te!==le&&(console.log("New day detected - resetting usage count"),V()),localStorage.setItem(`lastUsageCheck_${R.id}`,le)},6e4);return()=>clearInterval(I)}},[R,B]),f.useEffect(()=>{if(B&&!x){const I=localStorage.getItem("hasSeenPremiumWelcome"),q=sessionStorage.getItem("premiumWelcomeShownThisSession");!I&&!q&&(j(!0),sessionStorage.setItem("premiumWelcomeShownThisSession","true"))}},[B]);const A=()=>{const I=E();if(console.log("Coach greetings received:",r),console.log("Coach name:",e),!r||r.length===0)return console.warn("No greetings array provided, using fallback"),I?`Hi ${I}! I'm ${e}, and I'm here to support you through whatever you're going through. What's on your heart today?`:`Hi there! I'm ${e}, and I'm here to support you through whatever you're going through. What's on your heart today?`;const q=Math.floor(Math.random()*r.length),te=r[q];console.log("Selected greeting template:",te);const le=te.replace("{firstName}",I||"there");return console.log("Final greeting:",le),le};f.useEffect(()=>{R&&t&&(c(""),h(!1),(async()=>{if(!await F())await U();else{const te=A();await G.rpc("insert_conversation_message",{p_user_id:R.id,p_coach_id:t,p_message_content:te,p_sender:"coach"}),i([{id:"1",content:te,sender:"coach",timestamp:new Date}]),k(!0)}})())},[R,t]);const F=async()=>{if(!R)return;const I=`lastRefresh_${R.id}_${t}`,q=localStorage.getItem(I),te=new Date().toDateString();if(!q)return localStorage.setItem(I,te),!1;if(q!==te)try{return await G.from("conversation_history").delete().eq("user_id",R.id).eq("coach_id",t),localStorage.setItem(I,te),!0}catch(le){return console.error("Error during daily refresh:",le),!1}return!1},U=async()=>{if(R)try{const{data:I,error:q}=await G.from("conversation_history").select("*").eq("user_id",R.id).eq("coach_id",t).order("created_at",{ascending:!0}).limit(50);if(q)throw q;const te=A();if(I&&I.length>0){const le=I.filter((me,fe)=>!(fe===0&&me.sender==="coach"));if(le.length>0){const me=le.map((fe,Ie)=>({id:`${fe.id}-${Ie}`,content:fe.message_content,sender:fe.sender,timestamp:new Date(fe.created_at)}));i([{id:"1",content:te,sender:"coach",timestamp:new Date},...me])}else i([{id:"1",content:te,sender:"coach",timestamp:new Date}])}else i([{id:"1",content:te,sender:"coach",timestamp:new Date}]);k(!0)}catch(I){console.error("Error loading conversation history:",I);const q=A();i([{id:"1",content:q,sender:"coach",timestamp:new Date}]),k(!0)}},V=async()=>{if(R)try{const q=await fetch(`https://heartlift-launch.emergent.host/api/usage/check/${R.id}`);if(q.ok){const te=await q.json();m(te.message_count||0),b(te.remaining_messages||10),w(te.can_send_message||!1)}}catch(I){console.error("Error loading usage count:",I)}},$=async()=>{if(!l.trim()||u||!R)return;if(!y&&!B){S("usage_limit"),g(!0);return}const I={id:Date.now().toString(),content:l,sender:"user",timestamp:new Date};i(q=>[...q,I]),c(""),h(!0);try{const{data:q,error:te}=await G.auth.getSession();if(te||!q.session)throw new Error("Please sign in again to continue");await G.rpc("insert_conversation_message",{p_user_id:R.id,p_coach_id:t,p_message_content:l,p_sender:"user"});const me=await fetch("https://heartlift-launch.emergent.host/api/ai/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:l,coach_id:t,conversation_history:a.slice(-5).map(ne=>({content:ne.content,sender:ne.sender})),user_name:E()||void 0,user_id:R.id})});if(!me.ok)throw new Error(`Failed to get AI response: ${me.statusText}`);const fe=await me.json(),Ie={id:(Date.now()+1).toString(),content:fe.response,sender:"coach",timestamp:new Date};if(i(ne=>[...ne,Ie]),await G.rpc("insert_conversation_message",{p_user_id:R.id,p_coach_id:t,p_message_content:fe.response,p_sender:"coach"}),!B){const ne="https://heartlift-launch.emergent.host";try{const ce=await fetch(`${ne}/api/usage/track`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:R.id,coach_id:t})});if(ce.ok){const Ce=await ce.json();m(Ce.message_count),b(Ce.remaining_messages),w(Ce.can_send_message),Ce.can_send_message||(S("usage_limit"),g(!0))}}catch(ce){console.error("Error tracking usage:",ce)}}}catch(q){console.error("Error sending message:",q),D({title:"Error",description:"Failed to send message. Please try again.",variant:"destructive"})}finally{h(!1)}},X=async I=>{if(!B)return;const q=a.findIndex(le=>le.id===I);if(q===-1)return;const te=a[q-1];if(!(!te||te.sender!=="user")){h(!0);try{const{data:le,error:me}=await G.auth.getSession();if(me||!le.session)throw new Error("Please sign in again to continue");const Ie=await fetch("https://heartlift-launch.emergent.host/api/ai/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:te.content,coach_id:t,conversation_history:a.slice(0,q-1).map(Ce=>({content:Ce.content,sender:Ce.sender})),user_name:E()||void 0,user_id:R==null?void 0:R.id})});if(!Ie.ok)throw new Error(`Failed to regenerate response: ${Ie.statusText}`);const ne=await Ie.json(),ce=[...a];ce[q]={...ce[q],content:ne.response,timestamp:new Date},i(ce)}catch(le){console.error("Error regenerating response:",le),D({title:"Error",description:"Failed to regenerate response. Please try again.",variant:"destructive"})}finally{h(!1)}}},oe=async()=>{if(R)try{await G.from("conversation_history").delete().eq("user_id",R.id).eq("coach_id",t);const I=`lastRefresh_${R.id}_${t}`;localStorage.removeItem(I);const q=`manualRefresh_${R.id}_${t}`;localStorage.setItem(q,new Date().toISOString());const te=A();await G.rpc("insert_conversation_message",{p_user_id:R.id,p_coach_id:t,p_message_content:te,p_sender:"coach"}),i([{id:"1",content:te,sender:"coach",timestamp:new Date}]),k(!1),setTimeout(()=>k(!0),100),D({title:"Conversation refreshed",description:"Started a fresh conversation with "+e})}catch(I){console.error("Error refreshing conversation:",I),D({title:"Error",description:"Failed to refresh conversation. Please try again.",variant:"destructive"})}};return s.jsxs("div",{className:"space-y-2 sm:space-y-4",children:[s.jsx(kM,{currentUsage:d,onUpgradeClick:()=>{S("usage_limit"),g(!0)},isPremium:B}),s.jsxs(W,{ref:M,className:"h-[600px] sm:h-[600px] max-h-[800px] flex flex-col shadow-gentle overflow-hidden",children:[s.jsx(Z,{className:"pb-3 flex-shrink-0",children:s.jsxs(ee,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:`p-2 rounded-full bg-gradient-to-r ${o||"from-primary to-primary-glow"} shadow-lg`,children:n?(()=>{const I=n;return s.jsx(I,{className:"w-4 h-4 text-white"})})():s.jsx(Zl,{className:"w-4 h-4 text-white"})}),s.jsx("span",{children:e}),B&&s.jsx(PM,{variant:"compact"})]}),s.jsxs(H,{variant:"ghost",size:"sm",onClick:oe,className:"flex items-center gap-2 text-muted-foreground hover:text-foreground",disabled:u,children:[s.jsx(qs,{className:"w-4 h-4"}),"Refresh"]})]})}),s.jsxs(Q,{className:"flex-1 flex flex-col p-0 min-h-0 overflow-hidden",children:[s.jsx(ap,{className:"flex-1 px-4 h-full",type:"auto",children:s.jsxs("div",{ref:C,className:"space-y-4 pb-4 pt-2",children:[a.map(I=>s.jsx("div",{"data-message-id":I.id,"data-sender":I.sender,className:`flex ${I.sender==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[90%] sm:max-w-[80%] rounded-lg px-3 sm:px-4 py-3 ${I.sender==="user"?"bg-primary text-primary-foreground":I.isPremiumTeaser?"bg-gradient-to-r from-yellow-100 to-orange-100 text-orange-800 border border-orange-200":"bg-secondary text-secondary-foreground"}`,children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[I.sender==="user"?s.jsx(Tc,{className:"w-3 h-3"}):s.jsx(Zl,{className:"w-3 h-3"}),s.jsx("span",{className:"text-xs opacity-70",children:I.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),s.jsx("p",{className:"text-sm",children:I.content}),I.isPremiumTeaser&&s.jsx("div",{className:"mt-2 pt-2 border-t border-orange-200",children:s.jsxs(H,{variant:"outline",size:"sm",onClick:()=>{S("premium_teaser"),g(!0)},className:"bg-gradient-to-r from-primary to-primary-glow text-white border-0",children:[s.jsx(Pe,{className:"w-3 h-3 mr-1"}),"Unlock Premium"]})}),I.sender==="coach"&&B&&!I.isPremiumTeaser&&s.jsx("div",{className:"mt-2 pt-2 border-t border-border/50",children:s.jsxs(H,{variant:"outline",size:"sm",onClick:()=>X(I.id),className:"text-xs",disabled:u,children:[s.jsx(rt,{className:"w-3 h-3 mr-1"}),"Regenerate"]})})]})},I.id)),u&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-secondary text-secondary-foreground rounded-lg px-4 py-2 max-w-[80%]",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Zl,{className:"w-3 h-3"}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse-warm"}),s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse-warm",style:{animationDelay:"0.2s"}}),s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse-warm",style:{animationDelay:"0.4s"}})]})]})})}),s.jsx("div",{ref:P})]})}),s.jsxs("div",{className:"p-3 sm:p-4 border-t border-border flex-shrink-0 bg-background",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(it,{ref:O,value:l,onChange:I=>c(I.target.value),placeholder:!y&&!B?"Daily limit reached - upgrade to continue":B?"Ask me anything... (Premium)":`Share what's on your heart... (${v} left)`,onKeyDown:I=>{I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),$())},onFocus:()=>{requestAnimationFrame(()=>{if(M.current){const te=M.current.getBoundingClientRect().top+window.pageYOffset-60;window.scrollTo({top:te,behavior:"smooth"})}})},className:"flex-1 text-base sm:text-base py-3 px-4 sm:py-3 sm:px-4 min-h-[44px] sm:min-h-[44px]",disabled:!y&&!B||u,autoComplete:"off",autoCorrect:"off",autoCapitalize:"sentences"}),s.jsx(H,{onClick:$,disabled:!l.trim()||u||!y&&!B,variant:"warm",size:"icon",className:"min-h-[44px] min-w-[44px]",children:!y&&!B?s.jsx($o,{className:"w-4 h-4"}):s.jsx(EE,{className:"w-4 h-4"})})]}),!y&&!B&&s.jsxs("div",{className:"flex items-center gap-2 mt-2 p-2 bg-gradient-to-r from-red-50 to-orange-50 rounded-lg border border-red-200",children:[s.jsx(w0,{className:"w-4 h-4 text-red-600"}),s.jsx("span",{className:"text-sm text-red-700",children:"Daily limit reached"}),s.jsxs(H,{variant:"outline",size:"sm",onClick:()=>g(!0),className:"ml-auto bg-gradient-to-r from-primary to-primary-glow text-white border-0",children:[s.jsx(Pe,{className:"w-3 h-3 mr-1"}),"Upgrade"]})]})]})]})]}),s.jsx(Wj,{isOpen:p,onClose:()=>g(!1),trigger:N,coachName:e}),s.jsx(EM,{isOpen:x,onClose:()=>{j(!1),localStorage.setItem("hasSeenPremiumWelcome","true")},userName:((ue=R==null?void 0:R.user_metadata)==null?void 0:ue.full_name)||"there"}),s.jsx("div",{className:"mt-6",children:s.jsx(IM,{})})]})},Yd=[{id:1,icon:yE,label:"Struggling",emoji:"",color:"from-blue-500 to-indigo-600",bgGlow:"shadow-blue-200/30",iconColor:"text-blue-600",message:"It's okay to not be okay. You're brave for checking in. ",lightBg:"bg-gradient-to-br from-blue-50/50 to-indigo-50/50"},{id:2,icon:_E,label:"Low",emoji:"",color:"from-purple-500 to-violet-600",bgGlow:"shadow-purple-200/30",iconColor:"text-purple-600",message:"Taking it one step at a time. You're doing your best. ",lightBg:"bg-gradient-to-br from-purple-50/50 to-violet-50/50"},{id:3,icon:PE,label:"Neutral",emoji:"",color:"from-slate-500 to-gray-600",bgGlow:"shadow-slate-200/30",iconColor:"text-slate-600",message:"Balanced and present. Sometimes neutral is exactly right. ",lightBg:"bg-gradient-to-br from-slate-50/50 to-gray-50/50"},{id:4,icon:bE,label:"Good",emoji:"",color:"from-emerald-500 to-green-600",bgGlow:"shadow-emerald-200/30",iconColor:"text-emerald-600",message:"Lovely to see you feeling good today! Keep nurturing this energy. ",lightBg:"bg-gradient-to-br from-emerald-50/50 to-green-50/50"},{id:5,icon:he,label:"Amazing",emoji:"",color:"from-pink-500 to-rose-600",bgGlow:"shadow-pink-200/30",iconColor:"text-pink-600",message:"You're radiating joy! Share this beautiful energy with the world. ",lightBg:"bg-gradient-to-br from-pink-50/50 to-rose-50/50"}],mx=["How is your heart feeling today? ","What's your emotional weather like right now? ","How would you describe your inner landscape today? ","On your healing journey, where are you today? ","How connected do you feel to yourself today? "],MM=()=>{const[e,t]=f.useState(null),[r]=f.useState(mx[Math.floor(Math.random()*mx.length)]),[n,o]=f.useState(!1),[a,i]=f.useState([]),[l,c]=f.useState(!1),[u,h]=f.useState(!1),[d,m]=f.useState(null),{user:v}=Te(),{toast:b}=At();f.useEffect(()=>{v&&(y(),w())},[v]);const y=async()=>{if(v)try{const{data:x,error:j}=await G.from("mood_entries").select("*").eq("user_id",v.id).order("entry_date",{ascending:!1}).limit(30);if(j)throw j;i(x||[])}catch(x){console.error("Error loading mood history:",x)}},w=async()=>{if(!v)return;const x=new Date().toISOString().split("T")[0];try{const{data:j,error:N}=await G.from("mood_entries").select("*").eq("user_id",v.id).eq("entry_date",x).single();j&&(m(j),o(!0),t(j.mood_level))}catch{m(null),o(!1)}},p=async()=>{if(!e||!v)return;h(!0);const x=Yd.find(N=>N.id===e);if(!x)return;const j=new Date().toISOString().split("T")[0];try{const{data:N,error:S}=await G.from("mood_entries").upsert({user_id:v.id,mood_level:e,mood_label:x.label,mood_emoji:x.emoji,message_received:x.message,entry_date:j},{onConflict:"user_id,entry_date",ignoreDuplicates:!1}).select().single();if(S)throw S;m(N),o(!0),await y(),b({title:"Mood saved! ",description:"Your daily check-in has been recorded."})}catch(N){b({title:"Error saving mood",description:N.message,variant:"destructive"})}finally{h(!1)}},g=e?Yd.find(x=>x.id===e):null;return v?l?s.jsxs("div",{className:"space-y-4 sm:space-y-6 animate-fade-in px-2 sm:px-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(H,{variant:"outline",onClick:()=>c(!1),className:"flex items-center gap-2",children:[s.jsx(v0,{className:"w-4 h-4"}),"Back to Today"]}),s.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Mood History"})]}),s.jsxs(W,{className:"shadow-float bg-gradient-to-br from-card via-card/95 to-secondary/10 border-0",children:[s.jsxs(Z,{children:[s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(ft,{className:"w-5 h-5 text-primary"}),"Your Mood Journey"]}),s.jsxs(He,{children:[a.length," check-ins recorded"]})]}),s.jsx(Q,{children:a.length===0?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"No mood entries yet. Start your journey today! "})}):s.jsx("div",{className:"space-y-3",children:a.map(x=>{const j=new Date(x.entry_date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"});return s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-2xl bg-gradient-to-r from-secondary/20 to-secondary/10 border border-secondary/30",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-2xl",children:x.mood_emoji}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:x.mood_label}),s.jsx("p",{className:"text-sm text-muted-foreground",children:j})]})]}),s.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((N,S)=>s.jsx("div",{className:`w-2 h-2 rounded-full ${S<x.mood_level?"bg-primary":"bg-muted"}`},S))})]},x.id)})})})]})]}):n&&g?s.jsx("div",{className:"px-2 sm:px-0 animate-fade-in-scale",children:s.jsxs(W,{className:"shadow-float bg-gradient-to-br from-card via-card/95 to-secondary/10 border-0 backdrop-blur-sm overflow-hidden relative",children:[s.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-primary via-primary-glow to-accent"}),s.jsx("div",{className:"absolute -top-20 -right-20 w-40 h-40 bg-gradient-to-r from-primary/10 to-primary-glow/10 rounded-full blur-3xl animate-pulse-warm"}),s.jsx("div",{className:"absolute -bottom-20 -left-20 w-40 h-40 bg-gradient-to-r from-accent/10 to-secondary/10 rounded-full blur-3xl animate-float-gentle"}),s.jsxs(Z,{className:"text-center space-y-6 relative z-10 pt-8 sm:pt-12",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"mx-auto p-4 sm:p-6 rounded-full bg-gradient-to-r from-primary to-primary-glow w-fit animate-pulse-warm shadow-float",children:s.jsx(he,{className:"w-8 h-8 sm:w-10 sm:h-10 text-primary-foreground"})}),s.jsx("div",{className:"absolute -top-2 -right-2 text-2xl animate-bounce-gentle",children:""}),s.jsx("div",{className:"absolute -top-1 -left-3 text-lg animate-pulse-warm",children:""})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-5xl sm:text-6xl animate-bounce-gentle mb-4",children:g.emoji}),s.jsx(ee,{className:"text-2xl sm:text-3xl bg-gradient-to-r from-primary via-primary-glow to-accent bg-clip-text text-transparent",children:"Thank you for sharing! "}),s.jsx(He,{className:"text-base sm:text-lg text-muted-foreground max-w-md mx-auto leading-relaxed",children:g.message})]})]}),s.jsxs(Q,{className:"text-center space-y-8 relative z-10 pb-8 sm:pb-12",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 max-w-md mx-auto",children:[s.jsxs("div",{className:"p-4 sm:p-6 bg-gradient-to-br from-emerald-50/80 to-green-50/80 rounded-2xl border border-emerald-100 backdrop-blur-sm",children:[s.jsx(aa,{className:"w-6 h-6 sm:w-8 sm:h-8 text-emerald-500 mx-auto mb-3 animate-bounce-gentle"}),s.jsxs("p",{className:"text-sm sm:text-base font-bold text-emerald-700",children:[a.length," Day",a.length!==1?"s":""," Tracked"]}),s.jsx("p",{className:"text-xs sm:text-sm text-emerald-600 mt-1",children:"Building healthy habits! "})]}),s.jsxs("div",{className:"p-4 sm:p-6 bg-gradient-to-br from-purple-50/80 to-pink-50/80 rounded-2xl border border-purple-100 backdrop-blur-sm",children:[s.jsx(rt,{className:"w-6 h-6 sm:w-8 sm:h-8 text-purple-500 mx-auto mb-3 animate-pulse-warm"}),s.jsx("p",{className:"text-sm sm:text-base font-bold text-purple-700",children:"Self-Care"}),s.jsx("p",{className:"text-xs sm:text-sm text-purple-600 mt-1",children:"Growing daily "})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[s.jsxs(H,{variant:"gentle",size:"lg",onClick:()=>{o(!1),t(null)},className:"px-8 sm:px-12 py-3 sm:py-4 text-base sm:text-lg font-semibold shadow-gentle hover:shadow-warm transition-all duration-300",children:[s.jsx(he,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Update Today's Mood"]}),s.jsxs(H,{variant:"outline",size:"lg",onClick:()=>c(!0),className:"px-8 sm:px-12 py-3 sm:py-4 text-base sm:text-lg font-semibold",children:[s.jsx(ft,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"View History"]})]})]})]})}):s.jsxs("div",{className:"space-y-6 sm:space-y-8 animate-fade-in px-2 sm:px-0",children:[s.jsxs("div",{className:"text-center space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(TE,{className:"w-7 h-7 sm:w-8 sm:h-8 text-yellow-500 animate-pulse-warm"}),s.jsx("div",{className:"absolute -top-1 -right-1 text-xs",children:""})]}),s.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-primary via-primary-glow to-accent bg-clip-text text-transparent",children:"Daily Check-in"}),s.jsxs("div",{className:"relative",children:[s.jsx(cE,{className:"w-7 h-7 sm:w-8 sm:h-8 text-blue-400 animate-float-gentle"}),s.jsx("div",{className:"absolute -top-1 -right-1 text-xs",children:""})]})]}),s.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2",children:s.jsx(rt,{className:"w-4 h-4 text-primary/40 animate-pulse-warm"})}),s.jsx("div",{className:"absolute -top-4 right-1/4",children:s.jsx(CE,{className:"w-5 h-5 text-primary/30 animate-float-gentle"})})]}),s.jsx("div",{className:"max-w-md mx-auto",children:s.jsx("p",{className:"text-base sm:text-lg text-muted-foreground leading-relaxed font-medium",children:r})})]}),s.jsxs(W,{className:"shadow-float bg-gradient-to-br from-card via-card/95 to-secondary/10 border-0 backdrop-blur-sm overflow-hidden relative",children:[s.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-primary via-primary-glow to-accent"}),s.jsx("div",{className:"absolute -top-16 -right-16 w-32 h-32 bg-gradient-to-r from-primary/5 to-primary-glow/5 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute -bottom-16 -left-16 w-32 h-32 bg-gradient-to-r from-accent/5 to-secondary/5 rounded-full blur-3xl"}),s.jsxs(Z,{className:"text-center pb-4 sm:pb-6 relative z-10",children:[s.jsxs(ee,{className:"text-xl sm:text-2xl flex items-center justify-center gap-2 sm:gap-3 mb-2",children:[s.jsx(he,{className:"w-6 h-6 sm:w-7 sm:h-7 text-primary animate-pulse-warm"}),s.jsx("span",{className:"bg-gradient-to-r from-foreground to-foreground/80 bg-clip-text",children:"How's your heart today?"})]}),s.jsx(He,{className:"text-sm sm:text-base text-muted-foreground leading-relaxed max-w-sm mx-auto",children:"Your feelings are valid and important. Let's check in together "})]}),s.jsxs(Q,{className:"space-y-6 sm:space-y-8 relative z-10",children:[s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3 sm:gap-4",children:Yd.map((x,j)=>{const N=x.icon,S=e===x.id;return s.jsxs("button",{onClick:()=>t(x.id),className:`group relative p-4 sm:p-6 rounded-3xl border-2 transition-all duration-500 hover:scale-105 active:scale-95 animate-slide-up min-h-[44px] min-w-[44px] ${S?`border-primary shadow-float ${x.lightBg} ring-2 ring-primary/20`:"border-border/50 hover:border-primary/30 bg-card/50 hover:bg-card backdrop-blur-sm"}`,style:{animationDelay:`${j*100}ms`},children:[S&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${x.color} opacity-5 rounded-3xl`}),s.jsx("div",{className:`absolute -inset-1 bg-gradient-to-r ${x.color} opacity-10 rounded-3xl blur-sm`})]}),s.jsxs("div",{className:"relative space-y-2 sm:space-y-3",children:[s.jsx("div",{className:"text-3xl sm:text-4xl group-hover:animate-bounce-gentle transition-all duration-300 group-hover:scale-110",children:x.emoji}),s.jsx(N,{className:`w-5 h-5 sm:w-6 sm:h-6 mx-auto ${x.iconColor} group-hover:scale-110 transition-all duration-300 ${S?"scale-110":""}`}),s.jsx("p",{className:`text-xs sm:text-sm font-semibold text-center transition-colors duration-300 ${S?"text-primary":"text-muted-foreground group-hover:text-foreground"}`,children:x.label})]})]},x.id)})}),e&&g&&s.jsxs("div",{className:`text-center p-4 sm:p-6 ${g.lightBg} rounded-3xl border border-primary/10 animate-fade-in-scale relative overflow-hidden`,children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 via-transparent to-primary-glow/5"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"text-2xl mb-2",children:g.emoji}),s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground leading-relaxed font-medium",children:g.message})]})]}),s.jsx("div",{className:"text-center pt-2",children:s.jsxs(H,{variant:"warm",onClick:p,disabled:!e||u,size:"lg",className:`px-8 sm:px-12 py-3 sm:py-4 text-base sm:text-lg font-semibold transition-all duration-300 ${e?"animate-pulse-warm shadow-float":""}`,children:[s.jsx(rt,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),u?"Saving...":d?"Update Today's Check-In":"Save Today's Check-In"]})}),a.length>0&&s.jsx("div",{className:"text-center border-t border-border/50 pt-4",children:s.jsxs(H,{variant:"outline",onClick:()=>c(!0),className:"text-muted-foreground hover:text-foreground",children:[s.jsx(ft,{className:"w-4 h-4 mr-2"}),"View Your Mood History (",a.length," entries)"]})})]})]})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(he,{className:"w-12 h-12 text-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Please sign in to track your daily mood check-ins"})]})},DM=[{name:"Free",price:"0",period:"forever",icon:he,description:"Perfect for getting started on your healing journey",features:["Basic AI relationship advice","10 messages per day","Daily mood check-ins","Daily reflections","Access to all coaches","Email support"],buttonText:"Start Free",variant:"gentle",popular:!1},{name:"Premium",price:"11.99",period:"per month",icon:rt,description:"Unlimited support for your relationship growth",features:["Everything in free","Unlimited AI coach conversations","Regenerate AI responses","Guided Programmes","Personalised insights & reports","Daily attachment style quiz with AI analysis","Conversation analyser with AI insights","Text suggestion helper for all scenarios","Create personalised AI-generated visuals","Priority support"],buttonText:"Go Premium",variant:"warm",popular:!0},{name:"Healing Kit",price:"4.99",period:"one-time",icon:Pe,description:"Complete break-up recovery package",features:["30-day healing plan","Daily affirmations","Visualisation practices","No-contact tracker","Journal prompts","Priority support"],buttonText:"Get Healing Kit",variant:"healing",popular:!1}],px=({backTo:e="home"}={})=>{const[t,r]=f.useState(!1),{user:n,checkSubscription:o}=Te(),a=nt();rr();const i=l=>{const c=e;if(e==="home"){a("/auth");return}if(l==="Premium"){if(!n){a("/auth");return}a("/premium-purchase",{state:{from:c}})}else if(l==="Healing Kit"){if(!n){a("/auth");return}a("/healing-kit-purchase",{state:{from:c}})}};return s.jsx("section",{className:"py-16 px-4 bg-gradient-to-br from-secondary/30 to-accent/30",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"text-center space-y-4 mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground",children:"Choose Your Healing Path"}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Every relationship journey is unique. Find the support level that feels right for you."})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-6 sm:gap-8 max-w-5xl mx-auto",children:DM.map(l=>{const c=l.icon;return s.jsxs(W,{className:`relative overflow-hidden transition-all duration-300 hover:shadow-gentle ${l.popular?"ring-2 ring-primary shadow-warm scale-105":""}`,children:[l.popular&&s.jsx("div",{className:"absolute top-0 right-0 bg-gradient-to-r from-primary to-primary-glow text-primary-foreground px-3 py-1 text-xs font-medium rounded-bl-lg",children:"Most Popular"}),s.jsxs(Z,{className:"text-center pb-2",children:[s.jsx("div",{className:"mx-auto p-3 rounded-full bg-gradient-to-r from-primary/10 to-primary-glow/10 w-fit mb-4",children:s.jsx(c,{className:"w-6 h-6 text-primary"})}),s.jsx(ee,{className:"text-xl sm:text-2xl",children:l.name}),s.jsx("div",{className:"space-y-1",children:s.jsxs("div",{className:"flex items-baseline justify-center space-x-1",children:[s.jsx("span",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:l.price}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["/",l.period]})]})}),s.jsx(He,{className:"text-center text-sm sm:text-base",children:l.description})]}),s.jsxs(Q,{className:"space-y-4 sm:space-y-6",children:[s.jsx("ul",{className:"space-y-2 sm:space-y-3",children:l.features.map((u,h)=>s.jsxs("li",{className:"flex items-start space-x-2 sm:space-x-3",children:[s.jsx(Qt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"text-xs sm:text-sm text-foreground leading-relaxed",children:u})]},h))}),s.jsx(H,{variant:l.variant,className:"w-full min-h-[44px]",size:"lg",onClick:()=>i(l.name),children:e==="home"?"Get Started":l.buttonText})]})]},l.name)})}),s.jsxs("div",{className:"text-center mt-12 space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"All plans include our core emotional support features"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Cancel anytime  Secure payments"}),s.jsxs("p",{className:"text-xs text-muted-foreground pt-4",children:["Need help? Contact us at"," ",s.jsx("a",{href:"mailto:support@heart-lift.com",className:"text-primary hover:text-primary/80 underline transition-colors",children:"support@heart-lift.com"})]})]}),s.jsx(Wj,{isOpen:t,onClose:()=>r(!1),trigger:"usage_limit"})]})})},LM=()=>{const{user:e,isPremium:t,hasHealingKit:r}=Te();return!e||!(t||r)?null:s.jsx(W,{className:"mb-6 p-4 bg-gradient-to-r from-primary/10 via-primary-glow/10 to-secondary/10 border-primary/20",children:s.jsxs("div",{className:"flex items-center justify-center gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ks,{className:"w-5 h-5 text-green-500"}),s.jsx("span",{className:"font-medium text-foreground",children:"Your Active Plans"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[t&&s.jsxs(je,{variant:"default",className:"bg-gradient-to-r from-primary to-primary-glow text-primary-foreground px-3 py-1",children:[s.jsx(rt,{className:"w-4 h-4 mr-1"}),"Premium Active"]}),r&&s.jsxs(je,{variant:"secondary",className:"bg-gradient-to-r from-healing to-healing-glow text-healing-foreground px-3 py-1",children:[s.jsx(he,{className:"w-4 h-4 mr-1"}),"Healing Kit Active"]})]})]})})};function $M({firstName:e,onStartChat:t,onClose:r}){const n=()=>{t(),r()};return s.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:r,children:s.jsx(W,{className:"w-full max-w-md mx-auto shadow-2xl border-2 border-primary/20",onClick:o=>o.stopPropagation(),children:s.jsxs(Q,{className:"p-8 text-center space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:["Welcome, ",e,"! "]}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"We're here to support your growth and healing."})]}),s.jsxs(H,{onClick:n,className:"w-full h-12 text-lg font-semibold",size:"lg",children:[s.jsx(xu,{className:"w-5 h-5 mr-2"}),"Start Chatting with Your Coach "]})]})})})}var Qd="rovingFocusGroup.onEntryFocus",UM={bubbles:!1,cancelable:!0},rl="RovingFocusGroup",[jf,Xj,FM]=fu(rl),[zM,Pa]=It(rl,[FM]),[HM,BM]=zM(rl),Zj=f.forwardRef((e,t)=>s.jsx(jf.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(jf.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(WM,{...e,ref:t})})}));Zj.displayName=rl;var WM=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:o=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...d}=e,m=f.useRef(null),v=ye(t,m),b=Sa(a),[y,w]=wn({prop:i,defaultProp:l??null,onChange:c,caller:rl}),[p,g]=f.useState(!1),x=qe(u),j=Xj(r),N=f.useRef(!1),[S,_]=f.useState(0);return f.useEffect(()=>{const k=m.current;if(k)return k.addEventListener(Qd,x),()=>k.removeEventListener(Qd,x)},[x]),s.jsx(HM,{scope:r,orientation:n,dir:b,loop:o,currentTabStopId:y,onItemFocus:f.useCallback(k=>w(k),[w]),onItemShiftTab:f.useCallback(()=>g(!0),[]),onFocusableItemAdd:f.useCallback(()=>_(k=>k+1),[]),onFocusableItemRemove:f.useCallback(()=>_(k=>k-1),[]),children:s.jsx(ae.div,{tabIndex:p||S===0?-1:0,"data-orientation":n,...d,ref:v,style:{outline:"none",...e.style},onMouseDown:J(e.onMouseDown,()=>{N.current=!0}),onFocus:J(e.onFocus,k=>{const P=!N.current;if(k.target===k.currentTarget&&P&&!p){const C=new CustomEvent(Qd,UM);if(k.currentTarget.dispatchEvent(C),!C.defaultPrevented){const O=j().filter(L=>L.focusable),T=O.find(L=>L.active),M=O.find(L=>L.id===y),B=[T,M,...O].filter(Boolean).map(L=>L.ref.current);rN(B,h)}}N.current=!1}),onBlur:J(e.onBlur,()=>g(!1))})})}),eN="RovingFocusGroupItem",tN=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:o=!1,tabStopId:a,children:i,...l}=e,c=Yr(),u=a||c,h=BM(eN,r),d=h.currentTabStopId===u,m=Xj(r),{onFocusableItemAdd:v,onFocusableItemRemove:b,currentTabStopId:y}=h;return f.useEffect(()=>{if(n)return v(),()=>b()},[n,v,b]),s.jsx(jf.ItemSlot,{scope:r,id:u,focusable:n,active:o,children:s.jsx(ae.span,{tabIndex:d?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:J(e.onMouseDown,w=>{n?h.onItemFocus(u):w.preventDefault()}),onFocus:J(e.onFocus,()=>h.onItemFocus(u)),onKeyDown:J(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){h.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const p=qM(w,h.orientation,h.dir);if(p!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let x=m().filter(j=>j.focusable).map(j=>j.ref.current);if(p==="last")x.reverse();else if(p==="prev"||p==="next"){p==="prev"&&x.reverse();const j=x.indexOf(w.currentTarget);x=h.loop?GM(x,j+1):x.slice(j+1)}setTimeout(()=>rN(x))}}),children:typeof i=="function"?i({isCurrentTabStop:d,hasTabStop:y!=null}):i})})});tN.displayName=eN;var VM={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function KM(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function qM(e,t,r){const n=KM(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return VM[n]}function rN(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function GM(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var pp=Zj,gp=tN,zu="Tabs",[YM]=It(zu,[Pa]),nN=Pa(),[QM,yp]=YM(zu),sN=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:o,defaultValue:a,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,h=Sa(l),[d,m]=wn({prop:n,onChange:o,defaultProp:a??"",caller:zu});return s.jsx(QM,{scope:r,baseId:Yr(),value:d,onValueChange:m,orientation:i,dir:h,activationMode:c,children:s.jsx(ae.div,{dir:h,"data-orientation":i,...u,ref:t})})});sN.displayName=zu;var oN="TabsList",aN=f.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...o}=e,a=yp(oN,r),i=nN(r);return s.jsx(pp,{asChild:!0,...i,orientation:a.orientation,dir:a.dir,loop:n,children:s.jsx(ae.div,{role:"tablist","aria-orientation":a.orientation,...o,ref:t})})});aN.displayName=oN;var iN="TabsTrigger",lN=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:o=!1,...a}=e,i=yp(iN,r),l=nN(r),c=dN(i.baseId,n),u=hN(i.baseId,n),h=n===i.value;return s.jsx(gp,{asChild:!0,...l,focusable:!o,active:h,children:s.jsx(ae.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:c,...a,ref:t,onMouseDown:J(e.onMouseDown,d=>{!o&&d.button===0&&d.ctrlKey===!1?i.onValueChange(n):d.preventDefault()}),onKeyDown:J(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&i.onValueChange(n)}),onFocus:J(e.onFocus,()=>{const d=i.activationMode!=="manual";!h&&!o&&d&&i.onValueChange(n)})})})});lN.displayName=iN;var cN="TabsContent",uN=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:o,children:a,...i}=e,l=yp(cN,r),c=dN(l.baseId,n),u=hN(l.baseId,n),h=n===l.value,d=f.useRef(h);return f.useEffect(()=>{const m=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(m)},[]),s.jsx(gt,{present:o||h,children:({present:m})=>s.jsx(ae.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:m&&a})})});uN.displayName=cN;function dN(e,t){return`${e}-trigger-${t}`}function hN(e,t){return`${e}-content-${t}`}var JM=sN,fN=aN,mN=lN,pN=uN;const xp=JM,Hu=f.forwardRef(({className:e,...t},r)=>s.jsx(fN,{ref:r,className:ie("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Hu.displayName=fN.displayName;const hn=f.forwardRef(({className:e,...t},r)=>s.jsx(mN,{ref:r,className:ie("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-gradient-to-r data-[state=active]:from-primary data-[state=active]:to-primary-glow data-[state=active]:text-primary-foreground data-[state=active]:shadow-md",e),...t}));hn.displayName=mN.displayName;const fn=f.forwardRef(({className:e,...t},r)=>s.jsx(pN,{ref:r,className:ie("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));fn.displayName=pN.displayName;var Nf=["Enter"," "],XM=["ArrowDown","PageUp","Home"],gN=["ArrowUp","PageDown","End"],ZM=[...XM,...gN],eD={ltr:[...Nf,"ArrowRight"],rtl:[...Nf,"ArrowLeft"]},tD={ltr:["ArrowLeft"],rtl:["ArrowRight"]},nl="Menu",[Ui,rD,nD]=fu(nl),[no,yN]=It(nl,[nD,va,Pa]),Bu=va(),xN=Pa(),[sD,so]=no(nl),[oD,sl]=no(nl),vN=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:o,onOpenChange:a,modal:i=!0}=e,l=Bu(t),[c,u]=f.useState(null),h=f.useRef(!1),d=qe(a),m=Sa(o);return f.useEffect(()=>{const v=()=>{h.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>h.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),s.jsx(tb,{...l,children:s.jsx(sD,{scope:t,open:r,onOpenChange:d,content:c,onContentChange:u,children:s.jsx(oD,{scope:t,onClose:f.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:h,dir:m,modal:i,children:n})})})};vN.displayName=nl;var aD="MenuAnchor",vp=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,o=Bu(r);return s.jsx(Hm,{...o,...n,ref:t})});vp.displayName=aD;var wp="MenuPortal",[iD,wN]=no(wp,{forceMount:void 0}),bN=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:o}=e,a=so(wp,t);return s.jsx(iD,{scope:t,forceMount:r,children:s.jsx(gt,{present:r||a.open,children:s.jsx(Yi,{asChild:!0,container:o,children:n})})})};bN.displayName=wp;var ur="MenuContent",[lD,bp]=no(ur),jN=f.forwardRef((e,t)=>{const r=wN(ur,e.__scopeMenu),{forceMount:n=r.forceMount,...o}=e,a=so(ur,e.__scopeMenu),i=sl(ur,e.__scopeMenu);return s.jsx(Ui.Provider,{scope:e.__scopeMenu,children:s.jsx(gt,{present:n||a.open,children:s.jsx(Ui.Slot,{scope:e.__scopeMenu,children:i.modal?s.jsx(cD,{...o,ref:t}):s.jsx(uD,{...o,ref:t})})})})}),cD=f.forwardRef((e,t)=>{const r=so(ur,e.__scopeMenu),n=f.useRef(null),o=ye(t,n);return f.useEffect(()=>{const a=n.current;if(a)return lp(a)},[]),s.jsx(jp,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:J(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),uD=f.forwardRef((e,t)=>{const r=so(ur,e.__scopeMenu);return s.jsx(jp,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),dD=Vs("MenuContent.ScrollLock"),jp=f.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:d,onInteractOutside:m,onDismiss:v,disableOutsideScroll:b,...y}=e,w=so(ur,r),p=sl(ur,r),g=Bu(r),x=xN(r),j=rD(r),[N,S]=f.useState(null),_=f.useRef(null),k=ye(t,_,w.onContentChange),P=f.useRef(0),C=f.useRef(""),O=f.useRef(0),T=f.useRef(null),M=f.useRef("right"),R=f.useRef(0),B=b?Uu:f.Fragment,L=b?{as:dD,allowPinchZoom:!0}:void 0,D=A=>{var I,q;const F=C.current+A,U=j().filter(te=>!te.disabled),V=document.activeElement,$=(I=U.find(te=>te.ref.current===V))==null?void 0:I.textValue,X=U.map(te=>te.textValue),oe=ND(X,F,$),ue=(q=U.find(te=>te.textValue===oe))==null?void 0:q.ref.current;(function te(le){C.current=le,window.clearTimeout(P.current),le!==""&&(P.current=window.setTimeout(()=>te(""),1e3))})(F),ue&&setTimeout(()=>ue.focus())};f.useEffect(()=>()=>window.clearTimeout(P.current),[]),ip();const E=f.useCallback(A=>{var U,V;return M.current===((U=T.current)==null?void 0:U.side)&&_D(A,(V=T.current)==null?void 0:V.area)},[]);return s.jsx(lD,{scope:r,searchRef:C,onItemEnter:f.useCallback(A=>{E(A)&&A.preventDefault()},[E]),onItemLeave:f.useCallback(A=>{var F;E(A)||((F=_.current)==null||F.focus(),S(null))},[E]),onTriggerLeave:f.useCallback(A=>{E(A)&&A.preventDefault()},[E]),pointerGraceTimerRef:O,onPointerGraceIntentChange:f.useCallback(A=>{T.current=A},[]),children:s.jsx(B,{...L,children:s.jsx(Lu,{asChild:!0,trapped:o,onMountAutoFocus:J(a,A=>{var F;A.preventDefault(),(F=_.current)==null||F.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:s.jsx(pa,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:d,onInteractOutside:m,onDismiss:v,children:s.jsx(pp,{asChild:!0,...x,dir:p.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:S,onEntryFocus:J(c,A=>{p.isUsingKeyboardRef.current||A.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(Bm,{role:"menu","aria-orientation":"vertical","data-state":$N(w.open),"data-radix-menu-content":"",dir:p.dir,...g,...y,ref:k,style:{outline:"none",...y.style},onKeyDown:J(y.onKeyDown,A=>{const U=A.target.closest("[data-radix-menu-content]")===A.currentTarget,V=A.ctrlKey||A.altKey||A.metaKey,$=A.key.length===1;U&&(A.key==="Tab"&&A.preventDefault(),!V&&$&&D(A.key));const X=_.current;if(A.target!==X||!ZM.includes(A.key))return;A.preventDefault();const ue=j().filter(I=>!I.disabled).map(I=>I.ref.current);gN.includes(A.key)&&ue.reverse(),bD(ue)}),onBlur:J(e.onBlur,A=>{A.currentTarget.contains(A.target)||(window.clearTimeout(P.current),C.current="")}),onPointerMove:J(e.onPointerMove,Fi(A=>{const F=A.target,U=R.current!==A.clientX;if(A.currentTarget.contains(F)&&U){const V=A.clientX>R.current?"right":"left";M.current=V,R.current=A.clientX}}))})})})})})})});jN.displayName=ur;var hD="MenuGroup",Np=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(ae.div,{role:"group",...n,ref:t})});Np.displayName=hD;var fD="MenuLabel",NN=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(ae.div,{...n,ref:t})});NN.displayName=fD;var Kc="MenuItem",gx="menu.itemSelect",Wu=f.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...o}=e,a=f.useRef(null),i=sl(Kc,e.__scopeMenu),l=bp(Kc,e.__scopeMenu),c=ye(t,a),u=f.useRef(!1),h=()=>{const d=a.current;if(!r&&d){const m=new CustomEvent(gx,{bubbles:!0,cancelable:!0});d.addEventListener(gx,v=>n==null?void 0:n(v),{once:!0}),Em(d,m),m.defaultPrevented?u.current=!1:i.onClose()}};return s.jsx(SN,{...o,ref:c,disabled:r,onClick:J(e.onClick,h),onPointerDown:d=>{var m;(m=e.onPointerDown)==null||m.call(e,d),u.current=!0},onPointerUp:J(e.onPointerUp,d=>{var m;u.current||(m=d.currentTarget)==null||m.click()}),onKeyDown:J(e.onKeyDown,d=>{const m=l.searchRef.current!=="";r||m&&d.key===" "||Nf.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});Wu.displayName=Kc;var SN=f.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:o,...a}=e,i=bp(Kc,r),l=xN(r),c=f.useRef(null),u=ye(t,c),[h,d]=f.useState(!1),[m,v]=f.useState("");return f.useEffect(()=>{const b=c.current;b&&v((b.textContent??"").trim())},[a.children]),s.jsx(Ui.ItemSlot,{scope:r,disabled:n,textValue:o??m,children:s.jsx(gp,{asChild:!0,...l,focusable:!n,children:s.jsx(ae.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:J(e.onPointerMove,Fi(b=>{n?i.onItemLeave(b):(i.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:J(e.onPointerLeave,Fi(b=>i.onItemLeave(b))),onFocus:J(e.onFocus,()=>d(!0)),onBlur:J(e.onBlur,()=>d(!1))})})})}),mD="MenuCheckboxItem",_N=f.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...o}=e;return s.jsx(TN,{scope:e.__scopeMenu,checked:r,children:s.jsx(Wu,{role:"menuitemcheckbox","aria-checked":qc(r)?"mixed":r,...o,ref:t,"data-state":_p(r),onSelect:J(o.onSelect,()=>n==null?void 0:n(qc(r)?!0:!r),{checkForDefaultPrevented:!1})})})});_N.displayName=mD;var CN="MenuRadioGroup",[pD,gD]=no(CN,{value:void 0,onValueChange:()=>{}}),kN=f.forwardRef((e,t)=>{const{value:r,onValueChange:n,...o}=e,a=qe(n);return s.jsx(pD,{scope:e.__scopeMenu,value:r,onValueChange:a,children:s.jsx(Np,{...o,ref:t})})});kN.displayName=CN;var EN="MenuRadioItem",PN=f.forwardRef((e,t)=>{const{value:r,...n}=e,o=gD(EN,e.__scopeMenu),a=r===o.value;return s.jsx(TN,{scope:e.__scopeMenu,checked:a,children:s.jsx(Wu,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":_p(a),onSelect:J(n.onSelect,()=>{var i;return(i=o.onValueChange)==null?void 0:i.call(o,r)},{checkForDefaultPrevented:!1})})})});PN.displayName=EN;var Sp="MenuItemIndicator",[TN,yD]=no(Sp,{checked:!1}),RN=f.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...o}=e,a=yD(Sp,r);return s.jsx(gt,{present:n||qc(a.checked)||a.checked===!0,children:s.jsx(ae.span,{...o,ref:t,"data-state":_p(a.checked)})})});RN.displayName=Sp;var xD="MenuSeparator",AN=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(ae.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});AN.displayName=xD;var vD="MenuArrow",IN=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,o=Bu(r);return s.jsx(Wm,{...o,...n,ref:t})});IN.displayName=vD;var wD="MenuSub",[h3,ON]=no(wD),Xa="MenuSubTrigger",MN=f.forwardRef((e,t)=>{const r=so(Xa,e.__scopeMenu),n=sl(Xa,e.__scopeMenu),o=ON(Xa,e.__scopeMenu),a=bp(Xa,e.__scopeMenu),i=f.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},h=f.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return f.useEffect(()=>h,[h]),f.useEffect(()=>{const d=l.current;return()=>{window.clearTimeout(d),c(null)}},[l,c]),s.jsx(vp,{asChild:!0,...u,children:s.jsx(SN,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":o.contentId,"data-state":$N(r.open),...e,ref:hu(t,o.onTriggerChange),onClick:d=>{var m;(m=e.onClick)==null||m.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:J(e.onPointerMove,Fi(d=>{a.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(a.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),h()},100))})),onPointerLeave:J(e.onPointerLeave,Fi(d=>{var v,b;h();const m=(v=r.content)==null?void 0:v.getBoundingClientRect();if(m){const y=(b=r.content)==null?void 0:b.dataset.side,w=y==="right",p=w?-5:5,g=m[w?"left":"right"],x=m[w?"right":"left"];a.onPointerGraceIntentChange({area:[{x:d.clientX+p,y:d.clientY},{x:g,y:m.top},{x,y:m.top},{x,y:m.bottom},{x:g,y:m.bottom}],side:y}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(d),d.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:J(e.onKeyDown,d=>{var v;const m=a.searchRef.current!=="";e.disabled||m&&d.key===" "||eD[n.dir].includes(d.key)&&(r.onOpenChange(!0),(v=r.content)==null||v.focus(),d.preventDefault())})})})});MN.displayName=Xa;var DN="MenuSubContent",LN=f.forwardRef((e,t)=>{const r=wN(ur,e.__scopeMenu),{forceMount:n=r.forceMount,...o}=e,a=so(ur,e.__scopeMenu),i=sl(ur,e.__scopeMenu),l=ON(DN,e.__scopeMenu),c=f.useRef(null),u=ye(t,c);return s.jsx(Ui.Provider,{scope:e.__scopeMenu,children:s.jsx(gt,{present:n||a.open,children:s.jsx(Ui.Slot,{scope:e.__scopeMenu,children:s.jsx(jp,{id:l.contentId,"aria-labelledby":l.triggerId,...o,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var d;i.isUsingKeyboardRef.current&&((d=c.current)==null||d.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:J(e.onFocusOutside,h=>{h.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:J(e.onEscapeKeyDown,h=>{i.onClose(),h.preventDefault()}),onKeyDown:J(e.onKeyDown,h=>{var v;const d=h.currentTarget.contains(h.target),m=tD[i.dir].includes(h.key);d&&m&&(a.onOpenChange(!1),(v=l.trigger)==null||v.focus(),h.preventDefault())})})})})})});LN.displayName=DN;function $N(e){return e?"open":"closed"}function qc(e){return e==="indeterminate"}function _p(e){return qc(e)?"indeterminate":e?"checked":"unchecked"}function bD(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function jD(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function ND(e,t,r){const o=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=jD(e,Math.max(a,0));o.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(o.toLowerCase()));return c!==r?c:void 0}function SD(e,t){const{x:r,y:n}=e;let o=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a],c=t[i],u=l.x,h=l.y,d=c.x,m=c.y;h>n!=m>n&&r<(d-u)*(n-h)/(m-h)+u&&(o=!o)}return o}function _D(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return SD(r,t)}function Fi(e){return t=>t.pointerType==="mouse"?e(t):void 0}var CD=vN,kD=vp,ED=bN,PD=jN,TD=Np,RD=NN,AD=Wu,ID=_N,OD=kN,MD=PN,DD=RN,LD=AN,$D=IN,UD=MN,FD=LN,Vu="DropdownMenu",[zD]=It(Vu,[yN]),Ot=yN(),[HD,UN]=zD(Vu),FN=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:o,defaultOpen:a,onOpenChange:i,modal:l=!0}=e,c=Ot(t),u=f.useRef(null),[h,d]=wn({prop:o,defaultProp:a??!1,onChange:i,caller:Vu});return s.jsx(HD,{scope:t,triggerId:Yr(),triggerRef:u,contentId:Yr(),open:h,onOpenChange:d,onOpenToggle:f.useCallback(()=>d(m=>!m),[d]),modal:l,children:s.jsx(CD,{...c,open:h,onOpenChange:d,dir:n,modal:l,children:r})})};FN.displayName=Vu;var zN="DropdownMenuTrigger",HN=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...o}=e,a=UN(zN,r),i=Ot(r);return s.jsx(kD,{asChild:!0,...i,children:s.jsx(ae.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...o,ref:hu(t,a.triggerRef),onPointerDown:J(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:J(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});HN.displayName=zN;var BD="DropdownMenuPortal",BN=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Ot(t);return s.jsx(ED,{...n,...r})};BN.displayName=BD;var WN="DropdownMenuContent",VN=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=UN(WN,r),a=Ot(r),i=f.useRef(!1);return s.jsx(PD,{id:o.contentId,"aria-labelledby":o.triggerId,...a,...n,ref:t,onCloseAutoFocus:J(e.onCloseAutoFocus,l=>{var c;i.current||(c=o.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:J(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,h=c.button===2||u;(!o.modal||h)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});VN.displayName=WN;var WD="DropdownMenuGroup",VD=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ot(r);return s.jsx(TD,{...o,...n,ref:t})});VD.displayName=WD;var KD="DropdownMenuLabel",KN=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ot(r);return s.jsx(RD,{...o,...n,ref:t})});KN.displayName=KD;var qD="DropdownMenuItem",qN=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ot(r);return s.jsx(AD,{...o,...n,ref:t})});qN.displayName=qD;var GD="DropdownMenuCheckboxItem",GN=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ot(r);return s.jsx(ID,{...o,...n,ref:t})});GN.displayName=GD;var YD="DropdownMenuRadioGroup",QD=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ot(r);return s.jsx(OD,{...o,...n,ref:t})});QD.displayName=YD;var JD="DropdownMenuRadioItem",YN=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ot(r);return s.jsx(MD,{...o,...n,ref:t})});YN.displayName=JD;var XD="DropdownMenuItemIndicator",QN=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ot(r);return s.jsx(DD,{...o,...n,ref:t})});QN.displayName=XD;var ZD="DropdownMenuSeparator",JN=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ot(r);return s.jsx(LD,{...o,...n,ref:t})});JN.displayName=ZD;var e5="DropdownMenuArrow",t5=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ot(r);return s.jsx($D,{...o,...n,ref:t})});t5.displayName=e5;var r5="DropdownMenuSubTrigger",XN=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ot(r);return s.jsx(UD,{...o,...n,ref:t})});XN.displayName=r5;var n5="DropdownMenuSubContent",ZN=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ot(r);return s.jsx(FD,{...o,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ZN.displayName=n5;var s5=FN,o5=HN,a5=BN,eS=VN,tS=KN,rS=qN,nS=GN,sS=YN,oS=QN,aS=JN,iS=XN,lS=ZN;const i5=s5,l5=o5,c5=f.forwardRef(({className:e,inset:t,children:r,...n},o)=>s.jsxs(iS,{ref:o,className:ie("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,s.jsx(gu,{className:"ml-auto h-4 w-4"})]}));c5.displayName=iS.displayName;const u5=f.forwardRef(({className:e,...t},r)=>s.jsx(lS,{ref:r,className:ie("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));u5.displayName=lS.displayName;const cS=f.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(a5,{children:s.jsx(eS,{ref:n,sideOffset:t,className:ie("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));cS.displayName=eS.displayName;const sc=f.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(rS,{ref:n,className:ie("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));sc.displayName=rS.displayName;const d5=f.forwardRef(({className:e,children:t,checked:r,...n},o)=>s.jsxs(nS,{ref:o,className:ie("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(oS,{children:s.jsx(Qt,{className:"h-4 w-4"})})}),t]}));d5.displayName=nS.displayName;const h5=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(sS,{ref:n,className:ie("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(oS,{children:s.jsx(yu,{className:"h-2 w-2 fill-current"})})}),t]}));h5.displayName=sS.displayName;const f5=f.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(tS,{ref:n,className:ie("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));f5.displayName=tS.displayName;const uS=f.forwardRef(({className:e,...t},r)=>s.jsx(aS,{ref:r,className:ie("-mx-1 my-1 h-px bg-muted",e),...t}));uS.displayName=aS.displayName;const Wa={flirty:{name:"Luna Love",personality:"flirty",greetings:["Hi {firstName}! Ready to turn heads today? ","Hey {firstName}, feeling that spark yet? Let's bring it out! ","Hi {firstName}! You've got main character energy and I'm here for it.","Hello {firstName}, let's add a little confidence magic to your day."],icon:he,color:"from-pink-400 to-rose-500"},therapist:{name:"Dr. Sage",personality:"therapist",greetings:["Hi {firstName}, I'm here to help you understand yourself better.","Hello {firstName}. Let's take a moment to pause and reflect together.","Hi {firstName}, what's been on your mind lately? I'm listening.","Hi {firstName}. You've taken the first step just by showing up and that matters."],icon:Wr,color:"from-purple-400 to-indigo-500"},"tough-love":{name:"Phoenix Fire",personality:"tough-love",greetings:["Hey {firstName}! I'm Phoenix, your no BS mentor for self transformation. Ready to light things up? ","Hi {firstName}, I'm here to help you set boundaries, own your power, and make real change.","Hello {firstName}! Time for some straight talk. Let's cut through the noise and get you feeling strong again.","Hey {firstName}, growth takes courage and you already have what it takes."],icon:Ti,color:"from-orange-400 to-red-500"},chill:{name:"River Calm",personality:"chill",greetings:["Hello {firstName}, I'm River. Take a deep breath and let's find your calm together.","Hi {firstName}. I'm here to offer you a peaceful space to reflect and release what's been heavy.","Hey {firstName}, take a moment to pause and reconnect. Let's find your balance again.","Hi {firstName}. You've arrived in a safe and gentle space. What's been flowing through your mind today?"],icon:b0,color:"from-emerald-400 to-teal-500"}},m5=()=>{var w,p,g,x,j;const[e,t]=f.useState("therapist"),[r,n]=f.useState(()=>new URLSearchParams(window.location.search).get("tab")||"home"),[o,a]=f.useState(!1),{isPremium:i,hasHealingKit:l,user:c,signOut:u}=Te(),h=nt(),d=rr();f.useEffect(()=>{const S=new URLSearchParams(d.search).get("tab")||"home";n(S)},[d.search]),f.useEffect(()=>{r!=="home"&&window.scrollTo({top:0,behavior:"smooth"})},[r]),f.useEffect(()=>{c&&r!=="home"&&(localStorage.getItem(`welcomeShown_${c.id}`)||a(!0))},[c,r]);const m=()=>{n("chat")},v=()=>{n("chat")},b=()=>{a(!1),c&&localStorage.setItem(`welcomeShown_${c.id}`,"true")},y=()=>{var S,_;if(!c)return"";if((S=c.user_metadata)!=null&&S.full_name){const P=c.user_metadata.full_name.split(" ")[0];return P.charAt(0).toUpperCase()+P.slice(1).toLowerCase()}const N=((_=c.email)==null?void 0:_.split("@")[0])||"";return N.charAt(0).toUpperCase()+N.slice(1).toLowerCase()};return r==="home"?s.jsxs("div",{className:"min-h-screen",children:[s.jsx(Y4,{onGetStarted:m}),s.jsx(px,{backTo:"home"})]}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-muted/30 to-secondary/30",children:[o&&s.jsx($M,{firstName:y(),onStartChat:v,onClose:b}),s.jsxs("div",{className:"container mx-auto px-3 sm:px-4 py-4 sm:py-8",style:{paddingTop:"calc(env(safe-area-inset-top, 20px) + 2rem)"},children:[s.jsx("div",{className:"mt-8",children:s.jsx(LM,{})}),c&&s.jsx("div",{className:"mb-8 mt-8 text-center",children:s.jsxs("p",{className:"text-lg sm:text-xl text-foreground",children:["Welcome back, ",s.jsx("span",{className:"font-semibold bg-gradient-to-r from-primary to-primary-glow bg-clip-text text-transparent",children:y()}),"!",s.jsx("span",{className:"block sm:inline sm:ml-1 text-muted-foreground",children:"Your coaches are here to support you today"})]})}),(i||l)&&s.jsxs("div",{className:"flex justify-center gap-2 mb-6",children:[i&&s.jsx(Lc,{to:"/advanced-tools",children:s.jsxs(H,{variant:"outline",className:"flex items-center gap-2",children:[s.jsx(Pe,{className:"w-4 h-4"}),"Advanced Tools"]})}),l&&s.jsx(Lc,{to:"/healing-kit",children:s.jsxs(H,{variant:"outline",className:"flex items-center gap-2 hover:shadow-md transition-all",children:[s.jsx(he,{className:"w-4 h-4 text-primary animate-heart-pulse"}),"Healing Kit"]})})]}),s.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[s.jsx("div",{className:"p-1.5 sm:p-2 rounded-full bg-gradient-to-r from-primary to-primary-glow",children:s.jsx(he,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary-foreground"})}),s.jsxs("h1",{className:"text-xl sm:text-2xl font-bold",children:["Heart",s.jsx("span",{className:"bg-gradient-to-r from-primary via-primary to-primary bg-clip-text text-transparent font-black",children:"Lift"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(H,{variant:"gentle",size:"sm",onClick:()=>n("home"),className:"text-xs sm:text-sm min-h-[44px] px-4",children:[s.jsx("span",{className:"hidden sm:inline",children:" Home"}),s.jsx("span",{className:"sm:hidden",children:"Home"})]}),c&&s.jsxs(i5,{children:[s.jsx(l5,{asChild:!0,children:s.jsxs(H,{variant:"outline",size:"sm",className:"flex items-center gap-2 min-h-[44px]",children:[s.jsx(Tc,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Account"})]})}),s.jsxs(cS,{align:"end",children:[s.jsx(sc,{disabled:!0,className:"opacity-60",children:c.email}),s.jsx(uS,{}),s.jsxs(sc,{onClick:()=>h("/subscription-management"),className:"cursor-pointer",children:[s.jsx(Tc,{className:"w-4 h-4 mr-2"}),"Manage Account"]}),s.jsxs(sc,{onClick:u,className:"text-red-600 cursor-pointer",children:[s.jsx(NE,{className:"w-4 h-4 mr-2"}),"Sign out"]})]})]})]})]}),s.jsxs(xp,{value:r,onValueChange:n,className:"space-y-4 sm:space-y-6",children:[s.jsxs(Hu,{className:"grid w-full max-w-xs sm:max-w-md mx-auto grid-cols-4 h-14 sm:h-10 sticky top-0 z-10 backdrop-blur-sm",children:[s.jsxs(hn,{value:"chat",className:"flex flex-col sm:flex-row items-center justify-center sm:space-x-1 p-2 min-h-[44px]",children:[s.jsx(xu,{className:"w-4 h-4 sm:w-4 sm:h-4"}),s.jsx("span",{className:"text-xs sm:text-sm mt-1 sm:mt-0 sm:hidden lg:inline",children:"Chat"})]}),s.jsxs(hn,{value:"mood",className:"flex flex-col sm:flex-row items-center justify-center sm:space-x-1 p-2 min-h-[44px]",children:[s.jsx(aa,{className:"w-4 h-4 sm:w-4 sm:h-4"}),s.jsx("span",{className:"text-xs sm:text-sm mt-1 sm:mt-0 sm:hidden lg:inline",children:"Mood"})]}),s.jsxs(hn,{value:"coaches",className:"flex flex-col sm:flex-row items-center justify-center sm:space-x-1 p-2 min-h-[44px]",children:[s.jsx(he,{className:"w-4 h-4 sm:w-4 sm:h-4"}),s.jsx("span",{className:"text-xs sm:text-sm mt-1 sm:mt-0 sm:hidden lg:inline",children:"Coaches"})]}),s.jsxs(hn,{value:"pricing",className:"flex flex-col sm:flex-row items-center justify-center sm:space-x-1 p-2 min-h-[44px]",children:[s.jsx(j0,{className:"w-4 h-4 sm:w-4 sm:h-4"}),s.jsx("span",{className:"text-xs sm:text-sm mt-1 sm:mt-0 sm:hidden lg:inline",children:"Plans"})]})]}),s.jsxs(fn,{value:"chat",className:"space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"text-center space-y-3 mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:" Chat with Your Coaches"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"Your coaches are here anytime to guide and support you"})]}),s.jsxs("div",{className:"max-w-4xl mx-auto space-y-4 lg:space-y-0 lg:grid lg:grid-cols-3 lg:gap-6",children:[s.jsx("div",{className:"lg:col-span-1 lg:order-1",children:s.jsx(Xy,{onSelectCoach:t,selectedCoach:e,compact:!0})}),s.jsx("div",{className:"lg:col-span-2 lg:order-2",children:s.jsx(OM,{coachName:((w=Wa[e])==null?void 0:w.name)||"Dr. Sage",coachPersonality:((p=Wa[e])==null?void 0:p.personality)||"therapist",coachGreetings:(g=Wa[e])==null?void 0:g.greetings,coachIcon:((x=Wa[e])==null?void 0:x.icon)||Wr,coachColor:((j=Wa[e])==null?void 0:j.color)||"from-purple-400 to-indigo-500"},e)})]})]}),s.jsx(fn,{value:"mood",className:"space-y-6",children:s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsx(MM,{})})}),s.jsxs(fn,{value:"coaches",className:"space-y-6",children:[s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsx(Xy,{onSelectCoach:t,selectedCoach:e})}),s.jsxs("div",{className:"flex flex-col items-center justify-center pt-12 pb-8 space-y-2",children:[s.jsx("p",{className:"text-muted-foreground text-center",children:"All coaches provide personalised emotional support"}),s.jsxs("p",{className:"text-muted-foreground text-sm",children:["Need help? Contact us at"," ",s.jsx("a",{href:"mailto:support@heart-lift.com",className:"text-primary hover:text-primary/80 underline transition-colors",children:"support@heart-lift.com"})]})]})]}),s.jsx(fn,{value:"pricing",className:"space-y-6",children:s.jsx(px,{backTo:"coaches"})})]})]})]})};var p5="Label",dS=f.forwardRef((e,t)=>s.jsx(ae.label,{...e,ref:t,onMouseDown:r=>{var o;r.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));dS.displayName=p5;var hS=dS;const g5=Ji("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Je=f.forwardRef(({className:e,...t},r)=>s.jsx(hS,{ref:r,className:ie(g5(),e),...t}));Je.displayName=hS.displayName;function Cp(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Ku="Checkbox",[y5]=It(Ku),[x5,kp]=y5(Ku);function v5(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:o,disabled:a,form:i,name:l,onCheckedChange:c,required:u,value:h="on",internal_do_not_use_render:d}=e,[m,v]=wn({prop:r,defaultProp:o??!1,onChange:c,caller:Ku}),[b,y]=f.useState(null),[w,p]=f.useState(null),g=f.useRef(!1),x=b?!!i||!!b.closest("form"):!0,j={checked:m,disabled:a,setChecked:v,control:b,setControl:y,name:l,form:i,value:h,hasConsumerStoppedPropagationRef:g,required:u,defaultChecked:os(o)?!1:o,isFormControl:x,bubbleInput:w,setBubbleInput:p};return s.jsx(x5,{scope:t,...j,children:w5(d)?d(j):n})}var fS="CheckboxTrigger",mS=f.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},o)=>{const{control:a,value:i,disabled:l,checked:c,required:u,setControl:h,setChecked:d,hasConsumerStoppedPropagationRef:m,isFormControl:v,bubbleInput:b}=kp(fS,e),y=ye(o,h),w=f.useRef(c);return f.useEffect(()=>{const p=a==null?void 0:a.form;if(p){const g=()=>d(w.current);return p.addEventListener("reset",g),()=>p.removeEventListener("reset",g)}},[a,d]),s.jsx(ae.button,{type:"button",role:"checkbox","aria-checked":os(c)?"mixed":c,"aria-required":u,"data-state":vS(c),"data-disabled":l?"":void 0,disabled:l,value:i,...n,ref:y,onKeyDown:J(t,p=>{p.key==="Enter"&&p.preventDefault()}),onClick:J(r,p=>{d(g=>os(g)?!0:!g),b&&v&&(m.current=p.isPropagationStopped(),m.current||p.stopPropagation())})})});mS.displayName=fS;var Ep=f.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:o,defaultChecked:a,required:i,disabled:l,value:c,onCheckedChange:u,form:h,...d}=e;return s.jsx(v5,{__scopeCheckbox:r,checked:o,defaultChecked:a,disabled:l,required:i,onCheckedChange:u,name:n,form:h,value:c,internal_do_not_use_render:({isFormControl:m})=>s.jsxs(s.Fragment,{children:[s.jsx(mS,{...d,ref:t,__scopeCheckbox:r}),m&&s.jsx(xS,{__scopeCheckbox:r})]})})});Ep.displayName=Ku;var pS="CheckboxIndicator",gS=f.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...o}=e,a=kp(pS,r);return s.jsx(gt,{present:n||os(a.checked)||a.checked===!0,children:s.jsx(ae.span,{"data-state":vS(a.checked),"data-disabled":a.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});gS.displayName=pS;var yS="CheckboxBubbleInput",xS=f.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:o,checked:a,defaultChecked:i,required:l,disabled:c,name:u,value:h,form:d,bubbleInput:m,setBubbleInput:v}=kp(yS,e),b=ye(r,v),y=Cp(a),w=Um(n);f.useEffect(()=>{const g=m;if(!g)return;const x=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(x,"checked").set,S=!o.current;if(y!==a&&N){const _=new Event("click",{bubbles:S});g.indeterminate=os(a),N.call(g,os(a)?!1:a),g.dispatchEvent(_)}},[m,y,a,o]);const p=f.useRef(os(a)?!1:a);return s.jsx(ae.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??p.current,required:l,disabled:c,name:u,value:h,form:d,...t,tabIndex:-1,ref:b,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});xS.displayName=yS;function w5(e){return typeof e=="function"}function os(e){return e==="indeterminate"}function vS(e){return os(e)?"indeterminate":e?"checked":"unchecked"}const wS=f.forwardRef(({className:e,...t},r)=>s.jsx(Ep,{ref:r,className:ie("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(gS,{className:ie("flex items-center justify-center text-current"),children:s.jsx(Qt,{className:"h-4 w-4"})})}));wS.displayName=Ep.displayName;const b5=()=>{const[e,t]=f.useState(!1),[r,n]=f.useState({fullName:"",email:"",password:""}),[o,a]=f.useState(!1),[i,l]=f.useState({email:"",password:""}),[c,u]=f.useState(""),[h,d]=f.useState(!1),{signIn:m,signUp:v}=Te(),{toast:b}=At(),y=nt(),w=async x=>{if(x.preventDefault(),!o){b({title:"Agreement required",description:"You must agree to the Terms of Service and Privacy Policy to continue.",variant:"destructive"});return}t(!0);const{error:j}=await v(r.email,r.password,r.fullName);j?b({title:"Sign up failed",description:j.message,variant:"destructive"}):(b({title:"Check your email!",description:"We've sent you a 6-digit verification code to complete your registration."}),y(`/verify-email?email=${encodeURIComponent(r.email)}`)),t(!1)},p=async x=>{x.preventDefault(),t(!0);try{const{error:j}=await m(i.email,i.password);j?(console.error("[Auth] Sign in error:",j),b({title:"Sign in failed",description:j.message||"Unable to sign in. Please check your email and password.",variant:"destructive"})):(b({title:"Welcome back!",description:"You're now signed in to HeartLift."}),y("/"))}catch(j){console.error("[Auth] Unexpected sign in error:",j),b({title:"Sign in error",description:"An unexpected error occurred. Please try again or contact support if the issue persists.",variant:"destructive"})}finally{t(!1)}},g=async x=>{x.preventDefault(),t(!0);try{const{error:j}=await G.auth.resetPasswordForEmail(c,{redirectTo:`${window.location.origin}/password-reset`});j?b({title:"Reset failed",description:j.message,variant:"destructive"}):(b({title:"Reset code sent!",description:"Check your email for a 6-digit verification code."}),d(!1),u(""),setTimeout(()=>y(`/password-reset?email=${encodeURIComponent(c)}`),1e3))}catch{b({title:"Something went wrong",description:"Please try again later.",variant:"destructive"})}t(!1)};return s.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-16 bg-gradient-to-br from-background via-muted to-secondary",children:s.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.jsxs(H,{variant:"gentle",onClick:()=>y("/"),className:"mb-4 min-h-[44px]",children:[s.jsx(mr,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"p-3 rounded-full bg-gradient-to-r from-primary to-primary-glow shadow-warm",children:s.jsx(he,{className:"w-6 h-6 text-primary-foreground"})})}),s.jsxs("h1",{className:"text-3xl font-bold text-foreground",children:["Join Heart",s.jsx("span",{className:"bg-gradient-to-r from-primary to-primary-glow bg-clip-text text-transparent",children:"Lift"})]}),s.jsx("p",{className:"text-muted-foreground",children:"Start your healing journey today"})]}),s.jsxs(xp,{defaultValue:"signup",className:"w-full",children:[s.jsxs(Hu,{className:"grid w-full grid-cols-2",children:[s.jsx(hn,{value:"signup",children:"Sign Up"}),s.jsx(hn,{value:"signin",children:"Sign In"})]}),s.jsx(fn,{value:"signup",className:"space-y-4",children:s.jsxs(W,{className:"shadow-gentle",children:[s.jsxs(Z,{children:[s.jsx(ee,{children:"Create your account"}),s.jsx(He,{children:"Start your journey to emotional wellness"})]}),s.jsx(Q,{children:s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"fullName",children:"Full Name"}),s.jsx(it,{id:"fullName",type:"text",placeholder:"Enter your full name",value:r.fullName,onChange:x=>n(j=>({...j,fullName:x.target.value})),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"email",children:"Email"}),s.jsx(it,{id:"email",type:"email",placeholder:"Enter your email",value:r.email,onChange:x=>n(j=>({...j,email:x.target.value})),required:!0,className:"text-base",autoComplete:"email",autoCapitalize:"none",autoCorrect:"off"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"password",children:"Password"}),s.jsx(it,{id:"password",type:"password",placeholder:"Create a password",value:r.password,onChange:x=>n(j=>({...j,password:x.target.value})),required:!0,minLength:6,className:"text-base",autoComplete:"new-password"})]}),s.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-muted/50 rounded-lg",children:[s.jsx(wS,{id:"terms-agreement",checked:o,onCheckedChange:x=>a(x),className:"mt-1"}),s.jsxs(Je,{htmlFor:"terms-agreement",className:"text-sm leading-relaxed cursor-pointer",children:["I agree to the"," ",s.jsx(Lc,{to:"/terms-of-service",className:"text-primary hover:underline font-medium",children:"Terms of Service"})," ","and"," ",s.jsx(Lc,{to:"/privacy-policy",className:"text-primary hover:underline font-medium",children:"Privacy Policy"})]})]}),s.jsx(H,{type:"submit",variant:"warm",className:"w-full min-h-[44px]",disabled:e||!o,children:e?"Creating Account...":"Start My Healing Journey"})]})})]})}),s.jsx(fn,{value:"signin",className:"space-y-4",children:s.jsxs(W,{className:"shadow-gentle",children:[s.jsxs(Z,{children:[s.jsx(ee,{children:"Welcome back"}),s.jsx(He,{children:"Continue your healing journey"})]}),s.jsx(Q,{children:s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"signin-email",children:"Email"}),s.jsx(it,{id:"signin-email",type:"email",placeholder:"Enter your email",value:i.email,onChange:x=>l(j=>({...j,email:x.target.value})),required:!0,className:"text-base",autoComplete:"email",autoCapitalize:"none",autoCorrect:"off"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"signin-password",children:"Password"}),s.jsx(it,{id:"signin-password",type:"password",placeholder:"Enter your password",value:i.password,onChange:x=>l(j=>({...j,password:x.target.value})),required:!0,className:"text-base",autoComplete:"current-password"})]}),s.jsx(H,{type:"submit",variant:"warm",className:"w-full min-h-[44px]",disabled:e,children:e?"Signing In...":"Continue Healing"}),s.jsx("div",{className:"text-center",children:s.jsx(H,{type:"button",variant:"ghost",size:"sm",onClick:()=>d(!0),className:"text-sm text-muted-foreground hover:text-primary",children:"Forgot your password?"})})]})})]})})]}),h&&s.jsxs(W,{className:"shadow-gentle",children:[s.jsxs(Z,{children:[s.jsx(ee,{children:"Reset Your Password"}),s.jsx(He,{children:"Enter your email and we'll send you a verification code"})]}),s.jsx(Q,{children:s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"forgot-email",children:"Email"}),s.jsx(it,{id:"forgot-email",type:"email",placeholder:"Enter your email",value:c,onChange:x=>u(x.target.value),required:!0})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(H,{type:"submit",variant:"warm",className:"flex-1",disabled:e,children:e?"Sending...":"Send Code"}),s.jsx(H,{type:"button",variant:"outline",onClick:()=>{d(!1),u("")},children:"Cancel"})]})]})})]}),s.jsx("div",{className:"text-center text-sm text-muted-foreground",children:s.jsx("p",{children:"Free to start  Premium features from 11.99/month"})})]})})},j5=()=>{const e=nt(),{user:t,checkSubscription:r}=Te(),{toast:n}=At();Pu();const[o,a]=f.useState(!0);f.useEffect(()=>{(async()=>{if(t)try{await r(),n({title:"Premium Activated! ",description:"Your subscription is now active. Enjoy unlimited conversations!"})}catch(c){console.error("Error checking subscription:",c)}finally{a(!1)}})()},[t,n,r]);const i=[" Unlimited AI conversations with all coaches"," Personalised coaching and text suggestions"," Advanced tools and healing plans"," Text helpers & conversation analyser"];return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-primary-glow/5 flex items-center justify-center p-4",children:s.jsxs(W,{className:"max-w-2xl w-full shadow-warm",children:[s.jsxs(Z,{className:"text-center space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Pe,{className:"w-8 h-8 text-yellow-500"}),s.jsx(ee,{className:"text-3xl font-bold",children:"Welcome to Premium!"})]}),s.jsx("p",{className:"text-muted-foreground text-lg",children:o?"Setting up your premium account...":"Your subscription is now active and ready to use!"})]}),s.jsxs(Q,{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-primary-glow/10 rounded-lg p-6",children:[s.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Qt,{className:"w-5 h-5 text-green-500"}),"You now have access to:"]}),s.jsx("div",{className:"grid gap-3",children:i.map((l,c)=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Qt,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:l})]},c))})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(H,{onClick:()=>e("/"),className:"flex-1",variant:"outline",children:[s.jsx(vE,{className:"w-4 h-4 mr-2"}),"Go Home"]}),s.jsxs(H,{onClick:()=>e("/"),className:"flex-1",variant:"warm",children:[s.jsx(Jr,{className:"w-4 h-4 mr-2"}),"Start Chatting"]})]}),s.jsx("div",{className:"text-center text-sm text-muted-foreground",children:s.jsx("p",{children:"You can manage your subscription anytime from your account settings."})})]})]})})},bS=({isOpen:e,onClose:t,type:r,wasAlreadyOwned:n=!1})=>{const i=r==="premium"?["Unlimited AI coach conversations","Guided Programmes","Personalised insights & reports","Daily attachment style quiz with AI analysis","Conversation analyser with AI insights","Text suggestion helper","Create AI-generated visuals","Priority support"]:["30-Day Healing Plan","Daily guided content & prompts","Visualisation Practices","Daily Affirmations","No-Contact Tracker","15 Journal Prompts for self-discovery"],l=r==="premium"?s.jsx(Pe,{className:"w-16 h-16 text-primary"}):s.jsx(he,{className:"w-16 h-16 text-primary"}),c=n?r==="premium"?"You Already Have Premium!":"You Already Have the Healing Kit!":r==="premium"?"Welcome to Premium!":"Healing Kit Unlocked!",u=n?"Your purchase was restored - all features are available":r==="premium"?"All premium features are now unlocked and ready to use":"Your 30-day healing journey starts now";return s.jsx(tl,{open:e,onOpenChange:t,children:s.jsxs(_a,{className:"max-w-md",children:[s.jsxs(Ca,{children:[s.jsx("div",{className:"mx-auto mb-4 p-4 rounded-full bg-gradient-to-r from-primary/10 to-primary-glow/10 w-fit",children:l}),s.jsx(ka,{className:"text-2xl text-center",children:c}),s.jsx(Bj,{className:"text-center text-base",children:u})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(rt,{className:"w-5 h-5 text-primary"}),s.jsx("h3",{className:"font-semibold text-foreground",children:"You now have access to:"})]}),s.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto pr-2",children:i.map((h,d)=>s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 mt-0.5",children:s.jsx("div",{className:"rounded-full bg-primary/10 p-1",children:s.jsx(Qt,{className:"w-4 h-4 text-primary"})})}),s.jsx("span",{className:"text-sm text-foreground leading-relaxed",children:h})]},d))})]}),s.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[s.jsx(H,{onClick:t,className:"w-full bg-gradient-to-r from-primary to-primary-glow",children:r==="premium"?"Start Using Premium":"Start Healing Journey"}),s.jsx("p",{className:"text-xs text-center text-muted-foreground",children:r==="premium"?"Manage your subscription anytime in Settings":"Access your Healing Kit anytime from the menu"})]})]})})},N5=()=>{var g;const e=nt(),r=(g=rr().state)==null?void 0:g.from,{user:n,isPremium:o,checkSubscription:a,unlockPremium:i}=Te(),[l,c]=f.useState(!1),[u,h]=f.useState(!1),[d,m]=f.useState(!0),[v,b]=f.useState(!1),[y,w]=f.useState(!1);f.useEffect(()=>{if(!n){e("/auth");return}(async()=>{try{const{data:j,error:N}=await G.from("subscribers").select("subscribed").eq("user_id",n.id).single();j!=null&&j.subscribed&&h(!0)}catch(j){console.error("Error checking ownership:",j)}finally{m(!1)}})()},[n,e]);const p=f.useMemo(()=>["Unlimited AI coach conversations","Guided Programmes","Personalised insights & reports","Daily attachment style quiz with AI analysis","Conversation analyser with AI insights","Text suggestion helper for all scenarios","Create personalised AI-generated visuals","Priority support"],[]);return s.jsxs(s.Fragment,{children:[s.jsx(bS,{isOpen:v,onClose:()=>{b(!1),e("/?tab=coaches",{replace:!0})},type:"premium",wasAlreadyOwned:y}),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-secondary/30 to-accent/30 p-4",children:s.jsxs("div",{className:"max-w-2xl mx-auto pt-8",children:[s.jsxs(H,{variant:"ghost",onClick:()=>{e(r==="home"?"/":"/?tab=coaches")},className:"mb-6 hover:bg-secondary/20",children:[s.jsx(mr,{className:"w-4 h-4 mr-2"}),r==="home"?"Back to Home":"Back to Coaches"]}),s.jsxs(W,{className:"relative overflow-hidden border-2 border-primary/20 bg-gradient-to-br from-background to-primary/5",children:[s.jsxs("div",{className:"absolute top-0 right-0 bg-gradient-to-r from-primary to-primary-glow text-primary-foreground px-4 py-2 text-sm font-medium rounded-bl-lg",children:[s.jsx(oa,{className:"w-4 h-4 inline mr-1"}),"Most Popular"]}),s.jsxs(Z,{className:"text-center pb-6 pt-8",children:[s.jsx("div",{className:"mx-auto p-4 rounded-full bg-gradient-to-r from-primary/10 to-primary-glow/10 w-fit mb-4",children:s.jsx(rt,{className:"w-8 h-8 text-primary"})}),s.jsx(ee,{className:"text-3xl font-bold",children:"Premium Subscription"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-baseline justify-center space-x-1",children:[s.jsx("span",{className:"text-4xl font-bold text-foreground",children:"11.99"}),s.jsx("span",{className:"text-lg text-muted-foreground",children:"/month"})]}),s.jsx(je,{variant:"secondary",className:"bg-primary/10 text-primary",children:"Cancel anytime"})]}),s.jsx(He,{className:"text-center text-lg",children:"Unlimited support for your relationship growth"})]}),s.jsxs(Q,{className:"space-y-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-xl font-semibold flex items-center gap-2",children:[s.jsx(Pe,{className:"w-5 h-5 text-primary"}),"What's Included"]}),s.jsx("ul",{className:"space-y-3",children:p.map((x,j)=>s.jsxs("li",{className:"flex items-start space-x-2 sm:space-x-3",children:[s.jsx(Qt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"text-sm sm:text-base text-foreground leading-relaxed",children:x})]},j))})]}),s.jsx("div",{className:"border-t pt-6 space-y-4",children:u?s.jsxs("div",{className:"bg-primary/10 border border-primary/20 rounded-lg p-4 text-center",children:[s.jsx(Pe,{className:"w-8 h-8 text-primary mx-auto mb-2"}),s.jsx("p",{className:"text-lg font-semibold text-foreground",children:"You already have Premium! "}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"All premium features are unlocked and ready to use."}),s.jsxs(H,{onClick:()=>{e(r==="home"?"/":"/?tab=coaches")},className:"mt-4",variant:"outline",children:[s.jsx(mr,{className:"w-4 h-4 mr-2"}),"Back to App"]})]}):s.jsxs(s.Fragment,{children:[s.jsxs(H,{onClick:async()=>{c(!0);const x=we.loading("Opening purchase..."),j=u;try{const N=await ua.buyPremium();we.dismiss(x),N.success?(console.log(" [PURCHASE] ========== PURCHASE SUCCESS =========="),console.log(" [PURCHASE] Purchase result:",N),console.log(" [PURCHASE] About to call unlockPremium()..."),i(),console.log(" [PURCHASE] unlockPremium() called"),console.log(" [PURCHASE] Checking isPremium from context..."),console.log(" [PURCHASE] isPremium:",o),console.log(" [PURCHASE] localStorage isPremium:",localStorage.getItem("isPremium")),h(!0),w(j),console.log(" [PURCHASE] Showing success modal..."),b(!0)):we.error(N.error||"Purchase failed. Please try again.")}catch(N){we.dismiss(x),console.error("Purchase error:",N),we.error((N==null?void 0:N.message)||"Unable to complete purchase")}finally{c(!1)}},disabled:l||d,className:"w-full h-14 text-lg bg-gradient-to-r from-primary to-primary-glow hover:opacity-90 transition-opacity",children:[s.jsx(Pe,{className:"w-5 h-5 mr-2"}),l?"Processing...":d?"Loading...":"Go Premium - 11.99/month"]}),s.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Cancel anytime in your Apple settings. Subscription auto-renews monthly."})]})})]})]})]})})]})},S5=()=>{var g;const e=nt(),r=(g=rr().state)==null?void 0:g.from,{user:n,hasHealingKit:o,checkSubscription:a,unlockHealingKit:i}=Te(),[l,c]=f.useState(!1),[u,h]=f.useState(!1),[d,m]=f.useState(!0),[v,b]=f.useState(!1),[y,w]=f.useState(!1);f.useEffect(()=>{if(!n){e("/auth");return}(async()=>{try{const{data:j,error:N}=await G.from("healing_kit_purchases").select("status").eq("user_id",n.id).single();(j==null?void 0:j.status)==="completed"&&h(!0)}catch(j){console.error("Error checking ownership:",j)}finally{m(!1)}})()},[n,e]);const p=f.useMemo(()=>[{icon:ft,title:"30-Day Healing Plan",description:"Daily content, prompts, and challenges to guide your recovery"},{icon:ir,title:"Visualisation Practices",description:"Step-by-step mental imagery exercises for healing and growth"},{icon:rt,title:"Daily Affirmations",description:"Powerful affirmations to rebuild your self-worth"},{icon:kt,title:"No-Contact Tracker",description:"Track your progress and maintain healthy boundaries"},{icon:aE,title:"Journal Prompts",description:"15 deep-dive prompts for self-discovery and healing"}],[]);return s.jsxs(s.Fragment,{children:[s.jsx(bS,{isOpen:v,onClose:()=>{b(!1),e("/healing-kit",{replace:!0})},type:"healingkit",wasAlreadyOwned:y}),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-secondary/30 to-accent/30 p-4",children:s.jsxs("div",{className:"max-w-2xl mx-auto pt-8",children:[s.jsxs(H,{variant:"ghost",onClick:()=>{e(r==="home"?"/":"/?tab=coaches")},className:"mb-6 hover:bg-secondary/20",children:[s.jsx(mr,{className:"w-4 h-4 mr-2"}),r==="home"?"Back to Home":"Back to Coaches"]}),s.jsxs(W,{className:"relative overflow-hidden border-2 border-primary/20 bg-gradient-to-br from-background to-primary/5",children:[s.jsx("div",{className:"absolute top-4 right-4",children:s.jsx(je,{variant:"secondary",className:"bg-primary/10 text-primary font-semibold",children:"One-time Purchase"})}),s.jsxs(Z,{className:"text-center pb-6",children:[s.jsx("div",{className:"mx-auto p-4 rounded-full bg-gradient-to-r from-primary/10 to-primary-glow/10 w-fit mb-4",children:s.jsx(he,{className:"w-8 h-8 text-primary"})}),s.jsx(ee,{className:"text-3xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"Healing Kit"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"flex items-baseline justify-center space-x-1",children:s.jsx("span",{className:"text-4xl font-bold text-foreground",children:"4.99"})}),s.jsx(je,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Lifetime Access"})]}),s.jsx(He,{className:"text-center text-lg",children:"Complete break-up recovery package"})]}),s.jsxs(Q,{className:"space-y-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold",children:"What's Included"}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:p.map((x,j)=>s.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-lg bg-secondary/20 border border-secondary/30",children:[s.jsx(x.icon,{className:"w-6 h-6 text-primary mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-base",children:x.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:x.description})]})]},j))})]}),s.jsx("div",{className:"border-t pt-6 space-y-4",children:u?s.jsxs("div",{className:"bg-primary/10 border border-primary/20 rounded-lg p-4 text-center",children:[s.jsx(he,{className:"w-8 h-8 text-primary mx-auto mb-2"}),s.jsx("p",{className:"text-lg font-semibold text-foreground",children:"You already own the Healing Kit! "}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Your 30-day healing journey is ready and waiting for you."}),s.jsx(H,{onClick:()=>e("/healing-kit"),className:"mt-4",children:"Start Healing Journey"})]}):s.jsxs(s.Fragment,{children:[s.jsxs(H,{onClick:async()=>{c(!0);const x=we.loading("Opening purchase..."),j=u;try{const N=await ua.buyHealingKit();we.dismiss(x),N.success?(console.log(" [PURCHASE] ========== PURCHASE SUCCESS =========="),console.log(" [PURCHASE] Purchase result:",N),console.log(" [PURCHASE] About to call unlockHealingKit()..."),i(),console.log(" [PURCHASE] unlockHealingKit() called"),console.log(" [PURCHASE] Checking hasHealingKit from context..."),console.log(" [PURCHASE] hasHealingKit:",o),console.log(" [PURCHASE] localStorage hasHealingKit:",localStorage.getItem("hasHealingKit")),h(!0),w(j),console.log(" [PURCHASE] Showing success modal..."),b(!0)):we.error(N.error||"Purchase failed. Please try again.")}catch(N){we.dismiss(x),console.error("Purchase error:",N),we.error((N==null?void 0:N.message)||"Unable to complete purchase")}finally{c(!1)}},disabled:l||d,className:"w-full h-14 text-lg bg-gradient-to-r from-primary to-primary-glow hover:opacity-90 transition-opacity",children:[s.jsx(he,{className:"w-5 h-5 mr-2"}),l?"Processing...":d?"Loading...":"Get Healing Kit - 4.99"]}),s.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"One-time purchase. Lifetime access included."})]})})]})]})]})})]})},_5=()=>{const[e,t]=f.useState(null),[r,n]=f.useState(!0),[o,a]=f.useState(!1),[i,l]=f.useState(""),[c,u]=f.useState(""),[h,d]=f.useState(""),[m,v]=f.useState(!1),[b,y]=f.useState(!1),[w,p]=f.useState(!1),{isPremium:g,subscriptionStatus:x,checkSubscription:j,user:N}=Te(),{toast:S}=At(),_=nt(),k=rr();f.useEffect(()=>{g?P():n(!1)},[g]);const P=async()=>{var B;try{const{data:L,error:D}=await G.from("subscribers").select("*").eq("user_id",(B=(await G.auth.getUser()).data.user)==null?void 0:B.id).single();if(D)throw D;t(L)}catch(L){console.error("Error fetching subscription data:",L)}finally{n(!1)}},C=async()=>{var B;a(!0);try{const L=/iPhone|iPad|iPod/.test(navigator.userAgent),D=window.location.protocol==="capacitor:"||window.location.protocol==="ionic:";if(L||D)window.open("https://apps.apple.com/account/subscriptions","_blank"),S({title:"Apple Subscription Management",description:"Opening Apple's subscription settings where you can manage or cancel your subscription."});else{const{data:E,error:A}=await G.functions.invoke("customer-portal",{headers:{Authorization:`Bearer ${(B=(await G.auth.getSession()).data.session)==null?void 0:B.access_token}`}});if(A)throw A;E!=null&&E.url&&window.open(E.url,"_blank")}}catch(L){console.error("Error opening subscription management:",L),S({title:"Subscription Management",description:"To manage your Apple subscription, go to: Settings > [Your Name] > Subscriptions on your iPhone/iPad."})}finally{a(!1)}},O=async()=>{p(!0);try{S({title:"Restoring Purchases",description:"Checking for previous purchases..."});const B=await ua.restorePurchases();B.hasPremium||B.hasHealingKit?(await j(),S({title:" Purchases Restored!",description:`Successfully restored: ${B.hasPremium?"Premium Subscription":""} ${B.hasHealingKit?"Healing Kit":""}`.trim()}),window.location.reload()):S({title:"No Purchases Found",description:"We couldn't find any previous purchases linked to your account.",variant:"default"})}catch(B){console.error("Restore error:",B),S({title:"Restore Failed",description:"Could not restore purchases. Please try again or contact support if the issue persists.",variant:"destructive"})}finally{p(!1)}},T=async()=>{if(!i){S({title:"Error",description:"Please enter your current password",variant:"destructive"});return}if(c!==h){S({title:"Error",description:"Passwords do not match",variant:"destructive"});return}if(c.length<6){S({title:"Error",description:"Password must be at least 6 characters long",variant:"destructive"});return}y(!0);try{const{error:B}=await G.auth.signInWithPassword({email:(N==null?void 0:N.email)||"",password:i});if(B){S({title:"Error",description:"Current password is incorrect",variant:"destructive"}),y(!1);return}const{error:L}=await G.auth.updateUser({password:c});if(L)throw L;S({title:"Password Updated",description:"Your password has been successfully changed."}),l(""),u(""),d("")}catch(B){S({title:"Error",description:B.message||"Failed to update password",variant:"destructive"})}finally{y(!1)}};if(r)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 p-4",children:s.jsx("div",{className:"container mx-auto max-w-4xl pt-8",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-6"}),s.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})})});const M=()=>g?e?s.jsxs(W,{className:"mb-6",children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Pe,{className:"w-6 h-6 text-yellow-600"}),"Subscription Management"]})}),s.jsxs(Q,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsx(Pe,{className:"w-6 h-6 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Premium Plan"}),s.jsx(je,{variant:"outline",className:"bg-green-100 text-green-800 border-green-200",children:"Active"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(ft,{className:"w-4 h-4 text-gray-500"}),s.jsxs("span",{children:["Started: ",R(e.premium_start_date||e.created_at)]})]}),e.subscription_end&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(ft,{className:"w-4 h-4 text-gray-500"}),s.jsxs("span",{children:["Next billing: ",R(e.subscription_end)]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(j0,{className:"w-4 h-4 text-gray-500"}),s.jsxs("span",{children:["Status: ",e.payment_status]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"Premium Benefits"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{children:" Unlimited conversations"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{children:" Personalised coaching"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{children:" Advanced tools"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{children:" Guided Programmes"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{children:" Text helpers & conversation analyser"})]})]})]})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-4",children:[s.jsx("h4",{className:"font-medium text-amber-800 mb-2",children:"Cancellation Policy"}),s.jsx("p",{className:"text-sm text-amber-700 mb-2",children:"You can cancel your subscription at any time. Your access will continue until the end of your current billing period. No refunds are provided for partial periods."}),s.jsx("p",{className:"text-sm text-amber-700 font-medium",children:"For iOS: Manage your subscription through Apple Settings  [Your Name]  Subscriptions"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs(H,{variant:"outline",onClick:C,disabled:o,className:"w-full sm:flex-1",children:[s.jsx(vu,{className:"w-4 h-4 mr-2"}),o?"Opening...":"Manage Subscription"]}),s.jsxs(H,{variant:"outline",onClick:O,disabled:w,className:"w-full sm:flex-1",children:[s.jsx(qs,{className:`w-4 h-4 mr-2 ${w?"animate-spin":""}`}),w?"Restoring...":"Restore Purchases"]})]})]})]})]}):s.jsx(W,{className:"mb-6",children:s.jsx(Q,{className:"p-8 text-center",children:s.jsx("p",{children:"Loading subscription data..."})})}):s.jsxs(W,{className:"mb-6",children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Pe,{className:"w-6 h-6 text-gray-500"}),"Account Management"]})}),s.jsxs(Q,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center",children:s.jsx(Pe,{className:"w-6 h-6 text-gray-500"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Free Plan"}),s.jsx(je,{variant:"outline",className:"bg-blue-100 text-blue-800 border-blue-200",children:"Active"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-medium",children:"Current Benefits"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),s.jsx("span",{children:"10 messages per day"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),s.jsx("span",{children:"Basic coaching support"})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-secondary/5 border border-primary/20 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-primary mb-2",children:"Upgrade to Premium"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Get unlimited conversations, advanced tools, and personalised coaching"}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs(H,{onClick:()=>_("/premium-purchase",{state:{from:k.pathname+k.search}}),className:"w-full",children:[s.jsx(Pe,{className:"w-4 h-4 mr-2"}),"Upgrade Now"]}),s.jsxs(H,{variant:"outline",onClick:O,disabled:w,className:"w-full",children:[s.jsx(qs,{className:`w-4 h-4 mr-2 ${w?"animate-spin":""}`}),w?"Restoring...":"Restore Purchases"]})]})]})]})]}),R=B=>new Date(B).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 p-4",children:s.jsxs("div",{className:"container mx-auto max-w-4xl pt-8",children:[s.jsxs(H,{variant:"ghost",onClick:()=>_("/?tab=coaches"),className:"mb-6",children:[s.jsx(mr,{className:"w-4 h-4 mr-2"}),"Back to Coaches"]}),M(),s.jsxs(W,{className:"mb-6",children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(wE,{className:"w-5 h-5 text-primary"}),"Account Security"]})}),s.jsxs(Q,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"Change Password"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"current-password",children:"Current Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(it,{id:"current-password",type:m?"text":"password",value:i,onChange:B=>l(B.target.value),placeholder:"Enter current password"}),s.jsx(H,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>v(!m),children:m?s.jsx(mE,{className:"h-4 w-4"}):s.jsx(Qa,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"new-password",children:"New Password"}),s.jsx(it,{id:"new-password",type:m?"text":"password",value:c,onChange:B=>u(B.target.value),placeholder:"Enter new password"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"confirm-password",children:"Confirm Password"}),s.jsx(it,{id:"confirm-password",type:m?"text":"password",value:h,onChange:B=>d(B.target.value),placeholder:"Confirm new password"})]})]})]}),s.jsx(H,{onClick:T,disabled:!i||!c||!h||b,className:"w-full md:w-auto",children:b?"Updating...":"Update Password"})]}),s.jsxs("div",{className:"border-t pt-6 space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"Change Email Address"}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(SE,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-blue-900",children:["If you would like to change your email address, please email"," ",s.jsx("a",{href:"mailto:support@heart-lift.com",className:"font-medium underline hover:text-blue-700",children:"support@heart-lift.com"})," ","and we will make the change for you."]})})]})})]})]})]})]})})},C5=({activeSection:e,onSectionChange:t})=>{const r=[{id:"plan",label:"Healing Plan",icon:kt},{id:"affirmations",label:"Daily Affirmations",icon:he},{id:"visualisations",label:"Visualisation Practices",icon:ir},{id:"tracker",label:"No Contact Tracker",icon:ft},{id:"journal",label:"Journal Prompts",icon:N0}];return s.jsx(W,{className:"p-4 mb-6",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(n=>s.jsxs(H,{variant:e===n.id?"default":"outline",onClick:()=>t(n.id),className:"flex items-center gap-2",children:[s.jsx(n.icon,{className:"w-4 h-4"}),n.label]},n.id))})})},yx=()=>{const[e,t]=f.useState([]),[r,n]=f.useState({current_day:1,completed_days:[]}),[o,a]=f.useState(!0),[i,l]=f.useState(null),{toast:c}=At(),{user:u}=Te();f.useEffect(()=>{u&&(h(),d())},[u]);const h=async()=>{try{const{data:y,error:w}=await G.from("healing_plan_days").select("*").order("day_number");if(w)throw w;t(y||[]),(!y||y.length===0)&&await v()}catch(y){c({title:"Error loading healing plan",description:y.message,variant:"destructive"})}},d=async()=>{try{const{data:y,error:w}=await G.from("user_healing_progress").select("current_day, completed_days").eq("user_id",u==null?void 0:u.id).single();if(w&&w.code!=="PGRST116")throw w;y&&n(y)}catch(y){console.error("Error fetching progress:",y)}finally{a(!1)}},m=async y=>{if(u)try{const w=[...r.completed_days,y],p=Math.min(y+1,30),{error:g}=await G.from("user_healing_progress").upsert({user_id:u.id,current_day:p,completed_days:w},{onConflict:"user_id"});if(g)throw g;n({current_day:p,completed_days:w}),c({title:"Day completed! ",description:`Great job completing Day ${y}. Keep up the amazing work!`})}catch(w){c({title:"Error updating progress",description:w.message,variant:"destructive"})}},v=async()=>{console.log("Creating default healing plan...")},b=r.completed_days.length/30*100;return o?s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-8 bg-secondary rounded w-1/3"}),s.jsx("div",{className:"h-4 bg-secondary rounded w-full"}),s.jsx("div",{className:"h-32 bg-secondary rounded"})]})}):i?s.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx(H,{variant:"outline",onClick:()=>l(null),className:"mr-4",children:" Back to Plan"}),s.jsxs(je,{variant:"secondary",children:["Day ",i.day_number]})]}),s.jsxs(W,{className:"border-2 border-primary/20",children:[s.jsx(Z,{children:s.jsx(ee,{className:"text-2xl bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:i.title})}),s.jsxs(Q,{className:"space-y-6",children:[s.jsx("div",{className:"prose prose-sm max-w-none",children:s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:i.content})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(W,{className:"bg-secondary/20 border-secondary/30",children:[s.jsx(Z,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jr,{className:"w-4 h-4 text-primary"}),s.jsx(ee,{className:"text-sm",children:"Today's Prompt"})]})}),s.jsx(Q,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:i.prompt})})]}),s.jsxs(W,{className:"bg-secondary/20 border-secondary/30",children:[s.jsx(Z,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kt,{className:"w-4 h-4 text-primary"}),s.jsx(ee,{className:"text-sm",children:"Daily Challenge"})]})}),s.jsx(Q,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:i.challenge})})]}),s.jsxs(W,{className:"bg-secondary/20 border-secondary/30",children:[s.jsx(Z,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_s,{className:"w-4 h-4 text-primary"}),s.jsx(ee,{className:"text-sm",children:"Mindset Reframe"})]})}),s.jsx(Q,{children:s.jsxs("p",{className:"text-sm text-muted-foreground italic",children:['"',i.mindset_reframe,'"']})})]}),s.jsxs(W,{className:"bg-secondary/20 border-secondary/30",children:[s.jsx(Z,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(he,{className:"w-4 h-4 text-primary"}),s.jsx(ee,{className:"text-sm",children:"Action Item"})]})}),s.jsx(Q,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:i.action_item})})]})]}),!r.completed_days.includes(i.day_number)&&s.jsx("div",{className:"flex justify-center pt-4",children:s.jsx(H,{onClick:()=>m(i.day_number),className:"bg-gradient-to-r from-primary to-secondary hover:from-primary/90 hover:to-secondary/90 text-white font-semibold px-8",children:"Mark Day Complete"})})]})]})]}):s.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent mb-2",children:"30-Day Healing Plan"}),s.jsx("p",{className:"text-muted-foreground",children:"Your personalised journey from heartbreak to healing"})]}),s.jsx(W,{className:"border-2 border-primary/20 bg-gradient-to-r from-primary/5 to-secondary/5",children:s.jsxs(Q,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Your Progress"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.completed_days.length," of 30 days completed"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-2xl font-bold text-primary",children:[Math.round(b),"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Complete"})]})]}),s.jsx(Ea,{value:b,className:"h-3"})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(y=>{const w=r.completed_days.includes(y.day_number),p=y.day_number===r.current_day,g=y.day_number<=r.current_day;return s.jsxs(W,{className:`cursor-pointer transition-all duration-200 ${w?"border-green-500/50 bg-green-50/50":p?"border-primary/50 bg-primary/5":g?"border-secondary/30 hover:border-primary/30 hover:bg-primary/5":"border-muted/50 bg-muted/20 opacity-60"}`,onClick:()=>g&&l(y),children:[s.jsxs(Z,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(je,{variant:w?"default":p?"secondary":"outline",children:["Day ",y.day_number]}),w?s.jsx(Ks,{className:"w-5 h-5 text-green-600"}):s.jsx(yu,{className:"w-5 h-5 text-muted-foreground"})]}),s.jsx(ee,{className:"text-lg",children:y.title})]}),s.jsx(Q,{children:s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-3",children:y.content})})]},y.id)})})]})},k5=()=>{const[e,t]=f.useState(""),[r,n]=f.useState(!0),o=async()=>{n(!0);try{const{data:a,error:i}=await G.from("daily_affirmations").select("text").order("created_at",{ascending:!1});if(i)throw i;if(a&&a.length>0){const l=Math.floor(Math.random()*a.length);t(a[l].text)}}catch{t("I am strong, worthy, and deserving of love.")}finally{n(!1)}};return f.useEffect(()=>{o()},[]),s.jsx(W,{className:"bg-gradient-to-br from-primary/10 to-secondary/10 border-primary/20",children:s.jsxs(Q,{className:"p-8 text-center",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx(rt,{className:"w-8 h-8 text-primary mx-auto mb-3"}),s.jsx("h2",{className:"text-xl font-semibold",children:"Daily Affirmation"})]}),r?s.jsx("div",{className:"animate-pulse h-16 bg-secondary/30 rounded"}):s.jsxs("blockquote",{className:"text-lg text-muted-foreground italic mb-6 leading-relaxed",children:['"',e,'"']}),s.jsxs(H,{variant:"outline",onClick:o,disabled:r,className:"gap-2",children:[s.jsx(qs,{className:"w-4 h-4"}),"New Affirmation"]})]})})},E5=()=>{const[e,t]=f.useState([]),[r,n]=f.useState([]),[o,a]=f.useState(null),[i,l]=f.useState(!1),[c,u]=f.useState(""),[h,d]=f.useState(!0),[m,v]=f.useState(!1),[b,y]=f.useState(!1),w=f.useRef(null),{toast:p}=At(),{user:g}=Te();f.useEffect(()=>{x(),g&&j()},[g]);const x=async()=>{try{const{data:T,error:M}=await G.from("visualisation_exercises").select("*").order("category",{ascending:!0}).order("variation_number",{ascending:!0});if(M)throw M;t(T||[])}catch(T){p({title:"Error loading exercises",description:T.message,variant:"destructive"})}finally{d(!1)}},j=async()=>{if(g)try{const{data:T,error:M}=await G.from("user_visualisation_progress").select("*").eq("user_id",g.id);if(M)throw M;n(T||[])}catch(T){console.error("Error fetching progress:",T)}},N=async(T,M)=>{if(g)try{const{error:R}=await G.from("user_visualisation_progress").insert({user_id:g.id,exercise_id:T,reflection_notes:M||null,completed_at:new Date().toISOString()});if(R)throw R;await j(),p({title:"Exercise completed!",description:"Great job on your visualization practice."})}catch(R){p({title:"Error saving progress",description:R.message,variant:"destructive"})}},S=T=>{const M={safe_space:{name:"Safe Space",color:"bg-blue-100 text-blue-800",icon:he,description:"Create your sanctuary of peace and safety"},future_self:{name:"Future Self",color:"bg-green-100 text-green-800",icon:rt,description:"Envision your best possible future"},releasing_emotions:{name:"Emotional Release",color:"bg-purple-100 text-purple-800",icon:Qa,description:"Gently release negative emotions"}};return M[T]||M.safe_space},_=T=>r.some(M=>M.exercise_id===T),k=T=>{a(T),l(!1),u("")},P=async()=>{o&&(await N(o.id,c),a(null),l(!1),u(""))},C=async()=>{if(!o)return;if(m){w.current&&(w.current.pause(),w.current=null),v(!1);return}const T=o.steps.join(". ");y(!0);try{const R=await fetch("https://heartlift-launch.emergent.host/api/ai/text-to-speech",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:T,voice:"shimmer"})});if(!R.ok)throw new Error(`Failed to generate audio: ${R.statusText}`);const B=await R.json();if(B.audio){const L=new Audio(`data:audio/mp3;base64,${B.audio}`);w.current=L,L.onplay=()=>{v(!0),y(!1)},L.onended=()=>{v(!1),w.current=null},L.onerror=()=>{v(!1),w.current=null,y(!1),p({title:"Audio Error",description:"Failed to play audio",variant:"destructive"})},await L.play()}}catch(M){console.error("Error playing audio:",M),y(!1),p({title:"Error",description:M instanceof Error?M.message:"Failed to generate audio guide",variant:"destructive"})}};if(h)return s.jsx("div",{className:"max-w-4xl mx-auto p-6",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-8 bg-secondary rounded w-1/3"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[1,2,3,4].map(T=>s.jsx("div",{className:"h-32 bg-secondary rounded"},T))})]})});const O=e.reduce((T,M)=>(T[M.category]||(T[M.category]=[]),T[M.category].push(M),T),{});return s.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent mb-2",children:"Visualisation Practices"}),s.jsx("p",{className:"text-muted-foreground",children:"Transform your mindset through the power of guided mental imagery"})]}),Object.entries(O).map(([T,M])=>{const R=S(T),B=R.icon;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(B,{className:"w-6 h-6 text-primary"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:R.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:R.description})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:M.map(L=>{const D=_(L.id);return s.jsxs(W,{className:`border-2 transition-all duration-200 cursor-pointer hover:shadow-md ${D?"border-green-200 bg-green-50/50":"border-secondary/30 hover:border-primary/30"}`,children:[s.jsx(Z,{className:"pb-3",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Qa,{className:"w-4 h-4 text-primary"}),s.jsx(ee,{className:"text-lg",children:L.title}),D&&s.jsx(Ks,{className:"w-4 h-4 text-green-600"})]}),s.jsxs(je,{variant:"secondary",className:`${R.color} text-xs`,children:[R.name," #",L.variation_number]})]})})}),s.jsxs(Q,{className:"space-y-4",children:[s.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:L.description}),s.jsx("div",{className:"flex items-center justify-between pt-2",children:s.jsxs(H,{onClick:()=>k(L),className:"flex items-center gap-2",variant:D?"outline":"default",children:[s.jsx(Qa,{className:"w-4 h-4"}),D?"Practice Again":"Begin Practice",s.jsx(oE,{className:"w-4 h-4"})]})})]})]},L.id)})})]},T)}),s.jsx(tl,{open:!!o,onOpenChange:()=>a(null),children:s.jsxs(_a,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsx(Ca,{children:s.jsxs(ka,{className:"flex items-center gap-2",children:[s.jsx(Qa,{className:"w-5 h-5 text-primary"}),o==null?void 0:o.title]})}),o&&!i&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Full Practice"}),s.jsx(je,{variant:"outline",children:S(o.category).name})]}),s.jsx("div",{className:"bg-primary/5 rounded-lg p-6 border border-primary/20",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"text-foreground leading-relaxed whitespace-pre-line",children:o.steps.join(`

`)})}),s.jsx(H,{variant:"outline",size:"sm",onClick:C,disabled:b,className:"shrink-0",children:b?s.jsx("div",{className:"w-4 h-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}):m?s.jsx(ME,{className:"w-4 h-4"}):s.jsx(OE,{className:"w-4 h-4"})})]})}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx(H,{variant:"outline",onClick:()=>a(null),children:"Close"}),s.jsxs(H,{onClick:()=>l(!0),className:"flex items-center gap-2",children:["Complete Practice",s.jsx(gu,{className:"w-4 h-4"})]})]})]}),o&&i&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Reflection Time"}),s.jsx("p",{className:"text-muted-foreground",children:"Take a moment to reflect on your visualization experience"})]}),s.jsx("div",{className:"space-y-4",children:o.reflection_prompts.map((T,M)=>s.jsx("div",{className:"bg-secondary/20 rounded-lg p-4",children:s.jsxs("p",{className:"font-medium mb-2",children:[" ",T]})},M))}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Your reflections (optional):"}),s.jsx(Nn,{value:c,onChange:T=>u(T.target.value),placeholder:"Write down any insights, feelings, or thoughts that came up during your practice...",rows:4})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx(H,{variant:"outline",onClick:()=>l(!1),children:"Back to Exercise"}),s.jsxs(H,{onClick:P,className:"flex items-center gap-2",children:[s.jsx(N0,{className:"w-4 h-4"}),"Complete Practice"]})]})]})]})}),s.jsx(W,{className:"bg-gradient-to-r from-primary/5 to-secondary/5 border-primary/20",children:s.jsxs(Q,{className:"p-6 text-center",children:[s.jsx(rt,{className:"w-8 h-8 text-primary mx-auto mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Visualization Best Practices"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Find a comfortable, quiet space. Close your eyes and allow your imagination to flow naturally. There's no right or wrong way to visualize - trust your mind's unique way of creating imagery."})]})})]})},P5=()=>{const[e,t]=f.useState(0),[r,n]=f.useState(""),{user:o}=Te(),{toast:a}=At();f.useEffect(()=>{o&&(i(),l())},[o]);const i=async()=>{try{const{data:h,error:d}=await G.from("user_healing_progress").select("no_contact_start_date, no_contact_streak_days, last_contact_date").eq("user_id",o==null?void 0:o.id).single();if(d&&d.code!=="PGRST116")throw d;h&&(t(h.no_contact_streak_days||0),n(h.no_contact_start_date||""))}catch(h){console.error("Error fetching progress:",h)}},l=async()=>{if(o)try{const{data:h,error:d}=await G.from("user_healing_progress").select("no_contact_start_date, last_contact_date").eq("user_id",o.id).single();if(d&&d.code!=="PGRST116")return;if(h!=null&&h.no_contact_start_date&&!h.last_contact_date){const m=new Date(h.no_contact_start_date),b=Math.floor((new Date().getTime()-m.getTime())/(1e3*60*60*24));b!==e&&(await G.from("user_healing_progress").update({no_contact_streak_days:b}).eq("user_id",o.id),t(b))}}catch(h){console.error("Error calculating streak:",h)}},c=async()=>{if(o)try{const h=new Date().toISOString().split("T")[0],{error:d}=await G.from("user_healing_progress").upsert({user_id:o.id,no_contact_start_date:h,no_contact_streak_days:1,last_contact_date:null},{onConflict:"user_id"});if(d)throw d;n(h),t(1),a({title:"No Contact Started! ",description:"You've taken the first brave step. We're here to support you!"})}catch(h){a({title:"Error",description:h.message,variant:"destructive"})}},u=async()=>{try{const{error:h}=await G.from("user_healing_progress").upsert({user_id:o==null?void 0:o.id,no_contact_streak_days:0,last_contact_date:new Date().toISOString().split("T")[0]},{onConflict:"user_id"});if(h)throw h;t(0),a({title:"Streak reset",description:"It's okay - healing isn't linear. Start again when you're ready."})}catch(h){a({title:"Error",description:h.message,variant:"destructive"})}};return s.jsxs(W,{className:"border-2 border-primary/20",children:[s.jsx(Z,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(sa,{className:"w-5 h-5 text-primary"}),s.jsx(ee,{children:"No Contact Tracker"})]})}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl font-bold text-primary mb-2",children:e}),s.jsx("p",{className:"text-muted-foreground",children:"Days of no contact"}),e>0&&s.jsx(je,{variant:"secondary",className:"mt-2",children:e>=30?"Month Champion!":e>=7?"Week Strong!":"Building Strength"})]}),r&&s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[s.jsx(ft,{className:"w-4 h-4"}),s.jsxs("span",{children:["Started: ",new Date(r).toLocaleDateString()]})]}),s.jsx("div",{className:"flex justify-center gap-2",children:e===0?s.jsxs(H,{variant:"default",size:"sm",onClick:c,className:"bg-primary text-primary-foreground",children:[s.jsx(kt,{className:"w-4 h-4 mr-2"}),"Start No Contact"]}):s.jsx(H,{variant:"outline",size:"sm",onClick:u,className:"text-destructive hover:text-destructive",children:"Reset Streak"})})]})]})},T5=()=>{const{user:e}=Te(),[t,r]=f.useState([]),[n,o]=f.useState(0),[a,i]=f.useState(""),[l,c]=f.useState([]),[u,h]=f.useState(!1);f.useEffect(()=>{e&&(d(),v())},[e]);const d=async()=>{try{const{data:N,error:S}=await G.from("journal_prompts").select("*").order("created_at",{ascending:!0});if(S)throw S;N&&N.length>0?r(N):await m()}catch(N){console.error("Error loading prompts:",N)}},m=async()=>{const N=[{prompt:"Write about the relationship patterns you've noticed in your life. What themes keep appearing, and what might they be trying to teach you?",category:"Self-Reflection",emotional_theme:"Pattern Recognition"},{prompt:"Describe a moment when you felt truly loved and accepted. What did that experience teach you about your own worth?",category:"Self-Love",emotional_theme:"Self-Worth"},{prompt:"What are three things you're grateful for about yourself today? Focus on your inner qualities rather than achievements.",category:"Gratitude",emotional_theme:"Self-Appreciation"},{prompt:"Write a letter to your past self who was going through heartbreak. What wisdom would you share?",category:"Healing",emotional_theme:"Growth"},{prompt:"What does your ideal relationship look like? Describe how you want to feel and be treated.",category:"Future Visioning",emotional_theme:"Hope"},{prompt:"Reflect on a recent conflict or difficult conversation. What were the underlying emotions and needs that weren't expressed?",category:"Communication",emotional_theme:"Understanding"},{prompt:"What fears do you have about relationships? Where do you think these fears originated, and how do they serve or limit you?",category:"Fears",emotional_theme:"Courage"},{prompt:"Write about a boundary you need to set or maintain. What makes this boundary important for your wellbeing?",category:"Boundaries",emotional_theme:"Self-Protection"},{prompt:"Describe how you've grown as a person through your relationship experiences. What strengths have you developed?",category:"Growth",emotional_theme:"Empowerment"},{prompt:"What would you tell someone else who is going through a similar situation to yours? Write this advice with compassion.",category:"Wisdom",emotional_theme:"Compassion"},{prompt:"Reflect on your attachment style. How does it show up in your relationships, and what would healing look like?",category:"Attachment",emotional_theme:"Awareness"},{prompt:"Write about a moment when you chose yourself over staying in an unhealthy situation. How did that feel?",category:"Self-Advocacy",emotional_theme:"Pride"},{prompt:"What are your core values in relationships? How can you honor these values in future connections?",category:"Values",emotional_theme:"Alignment"},{prompt:"Describe what peace feels like to you. How can you create more of this feeling in your daily life?",category:"Peace",emotional_theme:"Serenity"},{prompt:"Write about forgiveness - either forgiving someone else or forgiving yourself. What would that process look like?",category:"Forgiveness",emotional_theme:"Release"},{prompt:"What does self-compassion mean to you? How can you practice being kinder to yourself during difficult times?",category:"Self-Love",emotional_theme:"Kindness"},{prompt:"Write about a time when you felt truly confident and secure. What internal and external factors contributed to that feeling?",category:"Confidence",emotional_theme:"Security"},{prompt:"What toxic patterns are you ready to release? Write about why you're committed to breaking these cycles.",category:"Transformation",emotional_theme:"Liberation"},{prompt:"Describe your emotional support system. Who are the people that truly see and understand you?",category:"Support",emotional_theme:"Connection"},{prompt:"What would you want to tell your future self about the journey you're on now? What hopes do you have?",category:"Future Visioning",emotional_theme:"Optimism"},{prompt:"Write about a moment when you stood up for yourself. How did it feel, and what did you learn about your own strength?",category:"Self-Advocacy",emotional_theme:"Empowerment"},{prompt:"What does vulnerability look like in healthy relationships? How comfortable are you with being truly seen?",category:"Intimacy",emotional_theme:"Authenticity"},{prompt:"Reflect on your relationship with solitude. How do you feel when you're alone with your thoughts?",category:"Self-Reflection",emotional_theme:"Independence"},{prompt:"What childhood experiences shaped your understanding of love? How do these influences show up in your adult relationships?",category:"Origins",emotional_theme:"Understanding"},{prompt:"Write about a time when you felt deeply grateful for a difficult experience. What did it teach you?",category:"Gratitude",emotional_theme:"Wisdom"},{prompt:"What does emotional safety feel like to you? How can you create this for yourself and others?",category:"Safety",emotional_theme:"Security"},{prompt:"Describe your relationship with trust. What helps you feel safe to be vulnerable with someone?",category:"Trust",emotional_theme:"Safety"},{prompt:"What would unconditional self-acceptance look like in your life? What would change if you fully embraced who you are?",category:"Self-Love",emotional_theme:"Acceptance"},{prompt:"Write about the difference between being alone and being lonely. How has your relationship with solitude evolved?",category:"Independence",emotional_theme:"Self-Sufficiency"},{prompt:"What legacy do you want to leave in terms of how you love and how you allow yourself to be loved?",category:"Legacy",emotional_theme:"Purpose"}];try{const{data:S,error:_}=await G.from("journal_prompts").insert(N).select();if(_)throw _;S&&r(S)}catch(S){console.error("Error creating default prompts:",S)}},v=async()=>{if(e)try{const{data:N}=await G.from("user_healing_progress").select("journal_entries").eq("user_id",e.id).single();if(N!=null&&N.journal_entries){const S=N.journal_entries;Array.isArray(S)&&c(S)}}catch(N){console.error("Error loading saved entries:",N)}},b=async()=>{if(!e||!a.trim()){we.error("Please write your response before saving");return}h(!0);try{const N={promptId:t[n].id,response:a,date:new Date().toISOString()},S=[...l.filter(k=>k.promptId!==N.promptId),N],{error:_}=await G.from("user_healing_progress").upsert({user_id:e.id,journal_entries:S,updated_at:new Date().toISOString()},{onConflict:"user_id"});if(_)throw _;c(S),we.success("Journal entry saved!"),i(""),n<t.length-1&&o(n+1)}catch(N){console.error("Error saving entry:",N),we.error("Failed to save entry")}finally{h(!1)}},y=()=>{if(n>0){const N=n-1;o(N);const S=l.find(_=>{var k;return _.promptId===((k=t[N])==null?void 0:k.id)});i((S==null?void 0:S.response)||"")}},w=()=>{if(n<t.length-1){const N=n+1;o(N);const S=l.find(_=>{var k;return _.promptId===((k=t[N])==null?void 0:k.id)});i((S==null?void 0:S.response)||"")}};if(f.useEffect(()=>{if(t.length>0){const N=t[n],S=l.find(_=>_.promptId===(N==null?void 0:N.id));i((S==null?void 0:S.response)||"")}},[n,t,l]),t.length===0)return s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(ir,{className:"w-5 h-5"}),"Journal Prompts"]})}),s.jsx(Q,{children:s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ir,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading your journal prompts..."})]})})})]});const p=t[n],g=l.find(N=>N.promptId===(p==null?void 0:p.id)),j={"Self-Reflection":kt,"Self-Love":he,Gratitude:he,Healing:he,"Future Visioning":_s,Communication:ir,Fears:kt,Boundaries:kt,Growth:_s,Wisdom:_s,Attachment:he,"Self-Advocacy":kt,Values:kt,Peace:he,Forgiveness:he,Confidence:kt,Transformation:_s,Support:he,Intimacy:he,Origins:ir,Safety:kt,Trust:he,Independence:kt,Legacy:_s}[p==null?void 0:p.category]||ir;return s.jsxs("div",{className:"space-y-6",children:[s.jsx(W,{children:s.jsxs(Z,{children:[s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(ir,{className:"w-5 h-5 text-primary"}),"Journal Prompts"]}),s.jsxs(He,{children:["Deep-dive prompts for self-discovery and healing (",l.length,"/",t.length," completed)"]})]})}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(j,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsxs(ee,{className:"text-lg",children:["Prompt ",n+1," of ",t.length]}),s.jsxs(He,{className:"flex items-center gap-2",children:[s.jsx("span",{className:"px-2 py-1 bg-primary/10 text-primary text-xs rounded-full",children:p==null?void 0:p.category}),s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx("span",{children:p==null?void 0:p.emotional_theme}),g&&s.jsx("span",{className:"text-green-600",children:" Completed"})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(H,{variant:"outline",size:"sm",onClick:y,disabled:n===0,children:s.jsx(v0,{className:"w-4 h-4"})}),s.jsx(H,{variant:"outline",size:"sm",onClick:w,disabled:n===t.length-1,children:s.jsx(gu,{className:"w-4 h-4"})})]})]})}),s.jsxs(Q,{className:"space-y-4",children:[s.jsx("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-4",children:s.jsx("p",{className:"text-foreground leading-relaxed",children:p==null?void 0:p.prompt})}),s.jsx(Nn,{placeholder:"Write your thoughts here... Take your time and be honest with yourself.",value:a,onChange:N=>i(N.target.value),className:"min-h-[200px] resize-none"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.length," characters"]}),s.jsxs(H,{onClick:b,disabled:!a.trim()||u,className:"flex items-center gap-2",children:[s.jsx(kE,{className:"w-4 h-4"}),u?"Saving...":g?"Update Entry":"Save Entry"]})]})]})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsx(ee,{className:"text-lg",children:"Your Journaling Progress"})}),s.jsxs(Q,{children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex-1 bg-secondary rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-primary to-primary-glow h-2 rounded-full transition-all duration-500",style:{width:`${l.length/t.length*100}%`}})}),s.jsxs("span",{className:"font-medium text-primary",children:[Math.round(l.length/t.length*100),"%"]})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["You've completed ",l.length," out of ",t.length," journal prompts. Keep going!"]})]})]})]})};function R5(){const{user:e,hasHealingKit:t,unlockHealingKit:r}=Te(),n=nt(),[o,a]=f.useState("plan"),[i,l]=f.useState(!0);if(f.useEffect(()=>{const u=localStorage.getItem("hasHealingKit");console.log("[HealingKit]  Syncing with localStorage on mount..."),console.log("[HealingKit] localStorage hasHealingKit:",u),console.log("[HealingKit] Context hasHealingKit:",t),u==="true"&&!t&&(console.log("[HealingKit]  MISMATCH DETECTED - localStorage is true but context is false"),console.log("[HealingKit]  FIXING: Calling unlockHealingKit() to sync context..."),r()),l(!1)},[t,r]),console.log("[HealingKit] ========== PAGE LOAD =========="),console.log("[HealingKit] Checking access..."),console.log("[HealingKit] user:",e==null?void 0:e.id),console.log("[HealingKit] hasHealingKit from context:",t),console.log("[HealingKit] hasHealingKit from localStorage:",localStorage.getItem("hasHealingKit")),console.log("[HealingKit] Will show content?",t?"YES":"NO - PAYWALL"),!e)return console.log("[HealingKit]  No user - redirecting to auth"),s.jsx(Cb,{to:"/auth",replace:!0});if(!t)return console.log("[HealingKit]  hasHealingKit is FALSE - showing paywall"),s.jsx("div",{className:"min-h-screen bg-gradient-subtle flex items-center justify-center p-4",children:s.jsxs(W,{className:"p-8 text-center max-w-md mx-auto",children:[s.jsx(he,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Healing Kit Required"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"You need to purchase the Healing Kit to access these features."}),s.jsx("button",{onClick:()=>n("/",{replace:!0}),className:"bg-primary text-primary-foreground px-4 py-2 rounded-md hover:bg-primary/90",children:"Return to Home"})]})});const c=()=>{switch(o){case"plan":return s.jsx(yx,{});case"affirmations":return s.jsx(k5,{});case"visualisations":return s.jsx(E5,{});case"tracker":return s.jsx(P5,{});case"journal":return s.jsx(T5,{});default:return s.jsx(yx,{})}};return s.jsx("div",{className:"min-h-screen bg-gradient-subtle",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("div",{className:"mt-4 mb-8",children:s.jsxs(H,{variant:"outline",onClick:()=>n("/?tab=coaches",{replace:!0}),className:"flex items-center gap-2",children:[s.jsx(mr,{className:"w-4 h-4"}),"Coaches"]})}),s.jsx(W,{className:"mb-8 overflow-hidden border-2 shadow-xl",children:s.jsxs("div",{className:"bg-gradient-to-br from-healing/10 via-healing/5 to-background p-8 text-center space-y-6",children:[s.jsx("div",{className:"flex items-center justify-center gap-2",children:s.jsx("div",{className:"p-4 rounded-2xl bg-gradient-to-r from-healing to-healing-glow shadow-2xl animate-pulse",children:s.jsx(he,{className:"w-12 h-12 text-healing-foreground"})})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h1",{className:"text-4xl sm:text-5xl font-bold bg-gradient-to-r from-healing to-healing-glow bg-clip-text text-transparent",children:"Your Healing Kit"}),s.jsx("p",{className:"text-xl font-semibold text-foreground",children:"Your personalised toolkit for emotional recovery and growth "})]}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"Navigate through heartbreak and emotional challenges with proven techniques. Track your progress, practice daily affirmations, and build the foundation for healthier relationships ahead."}),s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 sm:gap-6 pt-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx("div",{className:"w-2 h-2 bg-healing rounded-full"}),s.jsx("span",{children:"30-Day Structured Plan"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx("div",{className:"w-2 h-2 bg-healing rounded-full"}),s.jsx("span",{children:"Daily Practices"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx("div",{className:"w-2 h-2 bg-healing rounded-full"}),s.jsx("span",{children:"Progress Tracking"})]})]})]})}),s.jsx(C5,{activeSection:o,onSectionChange:a}),c()]})})}var Pp="Radio",[A5,jS]=It(Pp),[I5,O5]=A5(Pp),NS=f.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:o=!1,required:a,disabled:i,value:l="on",onCheck:c,form:u,...h}=e,[d,m]=f.useState(null),v=ye(t,w=>m(w)),b=f.useRef(!1),y=d?u||!!d.closest("form"):!0;return s.jsxs(I5,{scope:r,checked:o,disabled:i,children:[s.jsx(ae.button,{type:"button",role:"radio","aria-checked":o,"data-state":kS(o),"data-disabled":i?"":void 0,disabled:i,value:l,...h,ref:v,onClick:J(e.onClick,w=>{o||c==null||c(),y&&(b.current=w.isPropagationStopped(),b.current||w.stopPropagation())})}),y&&s.jsx(CS,{control:d,bubbles:!b.current,name:n,value:l,checked:o,required:a,disabled:i,form:u,style:{transform:"translateX(-100%)"}})]})});NS.displayName=Pp;var SS="RadioIndicator",_S=f.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...o}=e,a=O5(SS,r);return s.jsx(gt,{present:n||a.checked,children:s.jsx(ae.span,{"data-state":kS(a.checked),"data-disabled":a.disabled?"":void 0,...o,ref:t})})});_S.displayName=SS;var M5="RadioBubbleInput",CS=f.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...o},a)=>{const i=f.useRef(null),l=ye(i,a),c=Cp(r),u=Um(t);return f.useEffect(()=>{const h=i.current;if(!h)return;const d=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(d,"checked").set;if(c!==r&&v){const b=new Event("click",{bubbles:n});v.call(h,r),h.dispatchEvent(b)}},[c,r,n]),s.jsx(ae.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...o,tabIndex:-1,ref:l,style:{...o.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});CS.displayName=M5;function kS(e){return e?"checked":"unchecked"}var D5=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],qu="RadioGroup",[L5]=It(qu,[Pa,jS]),ES=Pa(),PS=jS(),[$5,U5]=L5(qu),TS=f.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:o,value:a,required:i=!1,disabled:l=!1,orientation:c,dir:u,loop:h=!0,onValueChange:d,...m}=e,v=ES(r),b=Sa(u),[y,w]=wn({prop:a,defaultProp:o??null,onChange:d,caller:qu});return s.jsx($5,{scope:r,name:n,required:i,disabled:l,value:y,onValueChange:w,children:s.jsx(pp,{asChild:!0,...v,orientation:c,dir:b,loop:h,children:s.jsx(ae.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":l?"":void 0,dir:b,...m,ref:t})})})});TS.displayName=qu;var RS="RadioGroupItem",AS=f.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...o}=e,a=U5(RS,r),i=a.disabled||n,l=ES(r),c=PS(r),u=f.useRef(null),h=ye(t,u),d=a.value===o.value,m=f.useRef(!1);return f.useEffect(()=>{const v=y=>{D5.includes(y.key)&&(m.current=!0)},b=()=>m.current=!1;return document.addEventListener("keydown",v),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",v),document.removeEventListener("keyup",b)}},[]),s.jsx(gp,{asChild:!0,...l,focusable:!i,active:d,children:s.jsx(NS,{disabled:i,required:a.required,checked:d,...c,...o,name:a.name,ref:h,onCheck:()=>a.onValueChange(o.value),onKeyDown:J(v=>{v.key==="Enter"&&v.preventDefault()}),onFocus:J(o.onFocus,()=>{var v;m.current&&((v=u.current)==null||v.click())})})})});AS.displayName=RS;var F5="RadioGroupIndicator",IS=f.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,o=PS(r);return s.jsx(_S,{...o,...n,ref:t})});IS.displayName=F5;var OS=TS,MS=AS,z5=IS;const DS=f.forwardRef(({className:e,...t},r)=>s.jsx(OS,{className:ie("grid gap-2",e),...t,ref:r}));DS.displayName=OS.displayName;const LS=f.forwardRef(({className:e,...t},r)=>s.jsx(MS,{ref:r,className:ie("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(z5,{className:"flex items-center justify-center",children:s.jsx(yu,{className:"h-2.5 w-2.5 fill-current text-current"})})}));LS.displayName=MS.displayName;const H5={secure:{name:"Secure Attached",description:"You have a positive view of yourself and others. You're comfortable with intimacy while maintaining healthy independence.",characteristics:["Comfortable with emotional intimacy","Excellent communication skills","Able to express needs clearly","Trusting and reliable in relationships"],icon:he,color:"bg-green-500"},anxious:{name:"Anxious-Preoccupied",description:"You deeply value connection and may worry about relationship security. You're emotionally expressive and seek reassurance.",characteristics:["Highly attuned to partner's emotions","Seeks frequent reassurance","Fear of abandonment present","Deeply committed when in love"],icon:qh,color:"bg-yellow-500"},avoidant:{name:"Dismissive-Avoidant",description:"You highly value independence and self-reliance. You prefer emotional distance and may find intimacy uncomfortable.",characteristics:["Values independence highly","Uncomfortable with vulnerability","Self-sufficient approach to life","Prefers to handle emotions alone"],icon:sa,color:"bg-blue-500"},"compassionate-connector":{name:"Compassionate Connector",description:"You're securely attached with exceptional empathy. You naturally create safe spaces for emotional intimacy while respecting boundaries.",characteristics:["Highly empathetic and intuitive","Creates emotional safety for others","Balances giving and receiving support","Strong emotional intelligence"],icon:he,color:"bg-pink-500"},"independent-secure":{name:"Independent Secure",description:"You're secure but particularly value autonomy. You enjoy relationships while maintaining strong sense of self and personal space.",characteristics:["Comfortable in relationships and alone","Strong sense of personal identity","Respects partner's independence","Confident in relationship security"],icon:kt,color:"bg-teal-500"},"recovering-anxious":{name:"Evolving Secure",description:"You're actively healing anxious attachment patterns. You're developing confidence while maintaining your caring, attentive nature.",characteristics:["Self-awareness of attachment patterns","Working on self-soothing skills","Building internal security","Balancing needs with independence"],icon:_s,color:"bg-orange-500"},"guarded-growing":{name:"Cautiously Opening",description:"You're moving from avoidant patterns toward security. You're learning to embrace vulnerability while honoring your need for space.",characteristics:["Gradually opening to intimacy","Recognizing value of connection","Learning to trust others","Balancing independence with closeness"],icon:sa,color:"bg-indigo-500"},"relationship-focused":{name:"Partnership-Oriented",description:"You thrive in committed relationships and prioritize partnership. You're deeply invested in creating strong, lasting bonds.",characteristics:["Highly committed to relationships","Naturally collaborative","Values quality time together","Strong relationship investment"],icon:qh,color:"bg-rose-500"},"self-sufficient-secure":{name:"Contentedly Independent",description:"You're secure with a strong preference for solitude. You enjoy relationships but are equally fulfilled by your own company.",characteristics:["Comfortable with long-term singlehood","Rich internal life","Selective about relationships","Self-contained happiness"],icon:kt,color:"bg-cyan-500"},"emotionally-aware":{name:"Emotionally Attuned",description:"You have exceptional emotional intelligence and self-awareness. You navigate relationships with insight and intentionality.",characteristics:["Deep self-understanding","Skilled at emotional regulation","Insightful about relationship dynamics","Intentional in communication"],icon:Wr,color:"bg-purple-500"}},B5=()=>{const{user:e}=Te(),{toast:t}=At(),[r,n]=f.useState(0),[o,a]=f.useState([]),[i,l]=f.useState(!1),[c,u]=f.useState(""),[h,d]=f.useState(""),[m,v]=f.useState(null),[b,y]=f.useState(!1),[w,p]=f.useState([]),[g,x]=f.useState(!1),[j,N]=f.useState(null),[S,_]=f.useState(!1),[k,P]=f.useState([]),[C,O]=f.useState(!0),[T,M]=f.useState(null),R=()=>{const U=new Date,V=new Date(U);V.setDate(V.getDate()+1),V.setHours(0,0,0,0);const $=V.getTime()-U.getTime(),X=Math.floor($/(1e3*60*60)),oe=Math.floor($%(1e3*60*60)/(1e3*60));return`${X}h ${oe}m`};f.useEffect(()=>{e&&(B(),D(),L())},[e]);const B=async()=>{O(!0),M(null);try{console.log("Loading daily AI-generated questions...");const V=await fetch("https://heartlift-launch.emergent.host/api/ai/quiz/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:"attachment_style",num_questions:10})});if(!V.ok)throw new Error(`Failed to generate quiz: ${V.statusText}`);const $=await V.json();if(console.log("Backend response:",$),$&&$.questions&&Array.isArray($.questions)){P($.questions),console.log("Successfully loaded",$.questions.length,"fresh AI-generated questions");return}throw new Error("No questions available")}catch(U){console.error("Failed to load quiz questions:",U),P([{id:1,question:"How do you typically approach new relationships?",options:["With excitement and openness to connection","With hope but worry about being hurt","With caution and preference for independence","With confusion about what I want"]},{id:2,question:"When conflict arises, you tend to:",options:["Address issues directly and work toward resolution","Become anxious and seek immediate reassurance","Withdraw and avoid confrontation","Feel overwhelmed and react unpredictably"]},{id:3,question:"Your emotional regulation involves:",options:["Processing feelings and seeking appropriate support","Becoming overwhelmed and needing constant comfort","Shutting down emotions and handling things alone","Experiencing intense, conflicting emotions"]},{id:4,question:"When someone gets close emotionally, you tend to:",options:["Welcome the closeness and feel secure","Feel both excited and terrified","Create distance to maintain independence","Feel unpredictable emotions"]},{id:5,question:"Your view of yourself in relationships is:",options:["Confident and worthy of love","Dependent on others' validation","Self-reliant but emotionally distant","Inconsistent and self-doubting"]},{id:6,question:"When your partner needs space, you:",options:["Respect their need while maintaining connection","Feel rejected and seek reassurance","Feel relieved and prefer the distance","Feel confused about how to respond"]},{id:7,question:"Trust in relationships comes:",options:["Naturally with the right person","Hard - you want to trust but fear disappointment","Very slowly - you need consistent proof","In waves - sometimes you trust, sometimes you don't"]},{id:8,question:"When you're upset, you prefer to:",options:["Talk it through with your partner openly","Seek immediate comfort and reassurance","Process your feelings alone first","Sometimes seek comfort, sometimes withdraw"]},{id:9,question:"Your biggest fear in relationships is:",options:["Growing apart due to lack of communication","Being abandoned or rejected","Losing your sense of self","Not knowing if the relationship is stable"]},{id:10,question:"Physical affection in relationships feels:",options:["Natural and comforting","Amazing but sometimes you crave more","Nice but you need personal space too","Complicated - sometimes you want it, sometimes you don't"]}]),console.log("Using hardcoded fallback questions")}finally{O(!1)}},L=async()=>{if(!e)return;const U=new Date().toISOString().slice(0,10);try{const{data:V,error:$}=await G.from("quiz_results").select("id, completed_at").eq("user_id",e.id).gte("completed_at",`${U}T00:00:00`).lte("completed_at",`${U}T23:59:59`).limit(1);if($)throw $;_(V&&V.length>0)}catch(V){console.error("Error checking today completion:",V),_(!1)}},D=async()=>{if(e)try{const{data:U,error:V}=await G.from("quiz_results").select("*").eq("user_id",e.id).order("completed_at",{ascending:!1}).limit(10);if(V)throw V;p(U||[])}catch(U){console.error("Error fetching past results:",U)}},E=U=>{N(U),d(U.attachment_style),v(U.analysis),l(!0),x(!1)},A=()=>{if(c){const U=[...o,parseInt(c)];a(U),u(""),r<k.length-1?n(r+1):F(U)}},F=async U=>{y(!0);try{const V=U.map((ue,I)=>({question:k[I].question,answer:k[I].options[ue]})),X=await fetch("https://heartlift-launch.emergent.host/api/ai/quiz/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({questions_and_answers:V,user_id:e==null?void 0:e.id})});if(!X.ok)throw new Error(`Failed to analyze quiz: ${X.statusText}`);const oe=await X.json();if(d(oe.attachmentStyle),v(oe.analysis),l(!0),_(!0),e!=null&&e.id)try{const{error:ue}=await G.from("quiz_results").insert({user_id:e.id,attachment_style:oe.attachmentStyle,analysis:oe.analysis,questions_and_answers:V,completed_at:new Date().toISOString()});ue?console.error("Error saving quiz result:",ue):D()}catch(ue){console.error("Error saving to database:",ue)}t({title:"Analysis Complete!",description:"Your personalised attachment style report is ready."})}catch(V){console.error("Analysis error:",V);const $={secure:0,anxious:0,avoidant:0,"compassionate-connector":0,"independent-secure":0,"recovering-anxious":0,"guarded-growing":0,"relationship-focused":0,"self-sufficient-secure":0,"emotionally-aware":0};U.forEach((oe,ue)=>{const I=k[ue].options[oe].toLowerCase();I.includes("comfortable")&&I.includes("express")&&($.secure+=2),I.includes("trust")&&I.includes("open")&&$.secure++,(I.includes("worry")||I.includes("anxious"))&&($.anxious+=2),(I.includes("reassurance")||I.includes("fear")&&I.includes("abandon"))&&$.anxious++,(I.includes("independent")||I.includes("self-reliant"))&&($.avoidant+=2),(I.includes("distance")||I.includes("space"))&&$.avoidant++,I.includes("support")&&I.includes("understand")&&$["compassionate-connector"]++,(I.includes("empathy")||I.includes("listen"))&&$["compassionate-connector"]++,(I.includes("balance")||I.includes("independent")&&I.includes("comfortable"))&&$["independent-secure"]++,(I.includes("working on")||I.includes("trying to"))&&$["recovering-anxious"]++,(I.includes("gradually")||I.includes("learning to"))&&$["guarded-growing"]++,I.includes("partner")&&I.includes("together")&&$["relationship-focused"]++,(I.includes("committed")||I.includes("quality time"))&&$["relationship-focused"]++,I.includes("alone")&&I.includes("content")&&$["self-sufficient-secure"]++,(I.includes("aware")||I.includes("reflect"))&&$["emotionally-aware"]++});const X=Object.entries($).reduce((oe,ue)=>$[oe[0]]>$[ue[0]]?oe:ue)[0];if(d(X),l(!0),_(!0),e!=null&&e.id)try{await G.from("user_attachment_results").insert({user_id:e.id,attachment_style:X,quiz_date:new Date().toISOString().slice(0,10)}),await D()}catch(oe){console.error("Failed to save fallback result:",oe)}t({title:"Here are your results!",description:"Your attachment style analysis is complete."})}finally{y(!1)}};if(C)return s.jsx("div",{className:"space-y-6 max-w-4xl mx-auto",children:s.jsxs(W,{children:[s.jsxs(Z,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(pn,{className:"w-8 h-8 animate-spin text-primary"})}),s.jsx(ee,{className:"text-2xl",children:"Loading Today's Questions..."})]}),s.jsx(Q,{className:"text-center",children:s.jsx("p",{className:"text-muted-foreground",children:"AI is generating fresh attachment style questions for you."})})]})});if(S&&!i)return s.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[s.jsxs(W,{children:[s.jsxs(Z,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-4 rounded-full bg-green-100",children:s.jsx(Ks,{className:"w-8 h-8 text-green-600"})})}),s.jsx(ee,{className:"text-2xl",children:"Daily Quiz Completed!"}),s.jsxs("div",{className:"flex items-center justify-center gap-4 mt-4",children:[s.jsxs(je,{variant:"outline",className:"flex items-center gap-2",children:[s.jsx(ft,{className:"w-4 h-4"}),"AI-Generated Questions"]}),s.jsxs(je,{variant:"secondary",className:"flex items-center gap-2",children:[s.jsx($o,{className:"w-4 h-4"}),"Next: ",R()]})]})]}),s.jsxs(Q,{className:"space-y-4 text-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"You've completed today's attachment style quiz. Check back tomorrow for new questions!"}),s.jsx("div",{className:"flex gap-3 justify-center",children:s.jsx(H,{onClick:()=>x(!0),variant:"outline",children:"View Past Results"})})]})]}),g&&s.jsxs(W,{children:[s.jsx(Z,{children:s.jsx(ee,{children:"Your Quiz History"})}),s.jsxs(Q,{children:[w.length>0?s.jsx("div",{className:"space-y-4",children:w.map((U,V)=>{var $,X;return s.jsxs("button",{onClick:()=>E(U),className:"w-full flex justify-between items-center p-3 border rounded-lg hover:bg-accent transition-colors cursor-pointer text-left",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium capitalize",children:($=U.attachment_style)==null?void 0:$.replace(/-/g," ")}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(U.completed_at).toLocaleDateString()," at ",new Date(U.completed_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),s.jsx(je,{variant:"outline",className:"capitalize",children:(X=U.attachment_style)==null?void 0:X.replace(/-/g," ")})]},U.id)})}):s.jsx("p",{className:"text-muted-foreground",children:"No past results available."}),s.jsx(H,{onClick:()=>x(!1),variant:"outline",className:"mt-4 w-full",children:"Close"})]})]})]});if(b)return s.jsx(W,{className:"max-w-2xl mx-auto",children:s.jsxs(Q,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(pn,{className:"w-8 h-8 animate-spin mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Analyzing Your Responses"}),s.jsx("p",{className:"text-muted-foreground text-center",children:"Our AI is creating your personalised attachment style report..."})]})});if(i&&h){const U=H5[h];if(!U)return console.error("Unknown attachment style:",h),s.jsx(W,{className:"max-w-2xl mx-auto",children:s.jsxs(Q,{className:"text-center py-8",children:[s.jsx("p",{className:"text-destructive",children:"Unable to display results. Please try again."}),s.jsx(H,{onClick:()=>window.location.reload(),className:"mt-4",children:"Reload Page"})]})});const V=U.icon;return s.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[s.jsxs(W,{children:[s.jsxs(Z,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:`p-4 rounded-full ${U.color}`,children:s.jsx(V,{className:"w-8 h-8 text-white"})})}),s.jsx(ee,{className:"text-2xl",children:j?"Past Quiz Result":"Your Attachment Style"}),s.jsx(je,{variant:"secondary",className:"text-lg px-4 py-2",children:U.name}),s.jsx("div",{className:"flex items-center justify-center gap-4 mt-4",children:j?s.jsxs(je,{variant:"outline",className:"flex items-center gap-2",children:[s.jsx(ft,{className:"w-4 h-4"}),new Date(j.completed_at).toLocaleDateString()," at ",new Date(j.completed_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}):s.jsxs(s.Fragment,{children:[s.jsxs(je,{variant:"outline",className:"flex items-center gap-2",children:[s.jsx(ft,{className:"w-4 h-4"}),"AI-Generated Quiz"]}),s.jsxs(je,{variant:"secondary",className:"flex items-center gap-2",children:[s.jsx($o,{className:"w-4 h-4"}),"Next: ",R()]})]})})]}),s.jsxs(Q,{className:"space-y-6",children:[s.jsx("p",{className:"text-muted-foreground text-center",children:U.description}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-3",children:"Key Characteristics"}),s.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:U.characteristics.map(($,X)=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full flex-shrink-0"}),$]},X))})]}),s.jsx("div",{className:"flex gap-3 justify-center",children:s.jsx(H,{onClick:()=>x(!0),variant:"outline",children:"View History"})})]})]}),m&&s.jsxs(s.Fragment,{children:[s.jsxs(W,{children:[s.jsx(Z,{children:s.jsx(ee,{className:"flex items-center gap-2",children:" Full Breakdown of Your Style"})}),s.jsx(Q,{className:"space-y-4",children:s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2 text-green-700",children:"Strengths"}),s.jsx("ul",{className:"space-y-1",children:m.detailedBreakdown.strengths.map(($,X)=>s.jsxs("li",{className:"text-sm text-muted-foreground",children:[" ",$]},X))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2 text-orange-700",children:"Challenges"}),s.jsx("ul",{className:"space-y-1",children:m.detailedBreakdown.challenges.map(($,X)=>s.jsxs("li",{className:"text-sm text-muted-foreground",children:[" ",$]},X))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2 text-blue-700",children:"Relationship Patterns"}),s.jsx("ul",{className:"space-y-1",children:m.detailedBreakdown.relationshipPatterns.map(($,X)=>s.jsxs("li",{className:"text-sm text-muted-foreground",children:[" ",$]},X))})]})]})})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs(W,{children:[s.jsx(Z,{children:s.jsx(ee,{className:"flex items-center gap-2",children:" Common Triggers"})}),s.jsx(Q,{children:s.jsx("ul",{className:"space-y-2",children:m.triggers.map(($,X)=>s.jsxs("li",{className:"text-sm",children:[" ",$]},X))})})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsx(ee,{className:"flex items-center gap-2",children:" Coping Techniques"})}),s.jsx(Q,{children:s.jsx("div",{className:"space-y-3",children:m.copingTechniques.map(($,X)=>s.jsxs("div",{className:"border-l-2 border-primary pl-3",children:[s.jsx("h5",{className:"font-medium text-sm",children:$.technique}),s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:$.description}),s.jsxs("p",{className:"text-xs italic",children:["Example: ",$.example]})]},X))})})]})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsx(ee,{className:"flex items-center gap-2",children:" Your Personalised Healing Path"})}),s.jsx(Q,{children:s.jsx("p",{className:"text-sm leading-relaxed",children:m.healingPath})})]})]}),i&&s.jsx("div",{className:"flex gap-3 justify-center mt-6",children:j?s.jsx(H,{onClick:()=>{x(!0),l(!1),N(null)},variant:"outline",children:"Back to History"}):s.jsx(H,{onClick:()=>x(!0),variant:"outline",children:"View Past Results"})}),g&&s.jsxs(W,{children:[s.jsx(Z,{children:s.jsx(ee,{children:"Your Quiz History"})}),s.jsxs(Q,{children:[w.length>0?s.jsx("div",{className:"space-y-4",children:w.map(($,X)=>{var oe,ue;return s.jsxs("button",{onClick:()=>E($),className:"w-full flex justify-between items-center p-3 border rounded-lg hover:bg-accent transition-colors cursor-pointer text-left",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium capitalize",children:(oe=$.attachment_style)==null?void 0:oe.replace(/-/g," ")}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date($.completed_at).toLocaleDateString()," at ",new Date($.completed_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),s.jsx(je,{variant:"outline",className:"capitalize",children:(ue=$.attachment_style)==null?void 0:ue.replace(/-/g," ")})]},$.id)})}):s.jsx("p",{className:"text-muted-foreground",children:"No past results available."}),s.jsx(H,{onClick:()=>x(!1),variant:"outline",className:"mt-4 w-full",children:"Close"})]})]})]})}return!k||k.length===0?s.jsx("div",{className:"space-y-6 max-w-4xl mx-auto",children:s.jsxs(W,{children:[s.jsx(Z,{className:"text-center",children:s.jsx(ee,{className:"text-2xl",children:"No Questions Available"})}),s.jsxs(Q,{className:"text-center space-y-4",children:[s.jsx("p",{className:"text-muted-foreground",children:"Unable to load quiz questions. Please try refreshing the page."}),s.jsx(H,{onClick:B,variant:"outline",children:"Reload Questions"})]})]})}):s.jsxs("div",{className:"space-y-4 sm:space-y-6 max-w-2xl mx-auto px-4 sm:px-0",children:[s.jsx(W,{children:s.jsxs(Z,{className:"text-center p-4 sm:p-6",children:[s.jsxs(ee,{className:"flex items-center justify-center gap-2 text-lg sm:text-xl",children:[s.jsx(he,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"}),"Daily Attachment Style Quiz"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-2 sm:gap-4 mt-3 sm:mt-4",children:[s.jsxs(je,{variant:"outline",className:"flex items-center gap-2 text-xs sm:text-sm",children:[s.jsx(ft,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"AI-Generated Questions"]}),s.jsxs(je,{variant:"secondary",className:"flex items-center gap-2 text-xs sm:text-sm",children:[s.jsx($o,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"New questions in ",R()]})]}),s.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:"AI generates fresh questions daily to provide deeper insights into your attachment patterns"}),s.jsx("div",{className:"mt-3 flex justify-center",children:s.jsx(H,{variant:"ghost",onClick:()=>x(!0),size:"sm",children:"View Past Results"})})]})}),s.jsxs(W,{children:[s.jsxs(Z,{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"text-xs sm:text-sm text-muted-foreground",children:["Question ",r+1," of ",k.length]}),s.jsxs(je,{variant:"outline",className:"text-xs sm:text-sm",children:[Math.round((r+1)/k.length*100),"%"]})]}),s.jsx(Ea,{value:(r+1)/k.length*100,className:"mt-2"})]}),s.jsxs(Q,{className:"space-y-4 sm:space-y-6 p-4 sm:p-6 pt-0",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-4 leading-tight",children:k[r].question}),s.jsx(DS,{value:c,onValueChange:u,className:"space-y-3 sm:space-y-2",children:k[r].options.map((U,V)=>s.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border hover:bg-muted/30 transition-colors",children:[s.jsx(LS,{value:V.toString(),id:`option-${V}`,className:"mt-0.5 flex-shrink-0"}),s.jsx(Je,{htmlFor:`option-${V}`,className:"flex-1 cursor-pointer text-sm sm:text-base leading-relaxed",children:U})]},V))})]}),s.jsx(H,{onClick:A,disabled:!c,className:"w-full py-3 text-base font-medium",size:"lg",children:r<k.length-1?"Next Question":"Complete Quiz"})]})]})]})},W5=()=>{const{user:e,isPremium:t}=Te(),{toast:r}=At(),[n,o]=f.useState([]),[a,i]=f.useState({}),[l,c]=f.useState(null),[u,h]=f.useState([]),[d,m]=f.useState(null),[v,b]=f.useState(""),[y,w]=f.useState(!1),[p,g]=f.useState(null),[x,j]=f.useState(!0),[N,S]=f.useState(null);f.useEffect(()=>(e&&t&&(_(),k()),()=>{N&&clearTimeout(N)}),[e,t,N]);const _=async()=>{try{const{data:D,error:E}=await G.from("guided_programs").select("*").order("program_key");if(E)throw E;o(D||[])}catch(D){console.error("Error fetching programs:",D),r({title:"Error",description:"Failed to load guided programs",variant:"destructive"})}finally{j(!1)}},k=async()=>{if(e)try{const{data:D,error:E}=await G.from("user_guided_program_progress").select("*").eq("user_id",e.id);if(E)throw E;const A={};D==null||D.forEach(F=>{A[F.program_id]={...F,reflection_answers:F.reflection_answers||{}}}),i(A)}catch(D){console.error("Error fetching user progress:",D)}},P=async D=>{try{const{data:E,error:A}=await G.from("guided_program_modules").select("*").eq("program_id",D).order("module_number");if(A)throw A;h(E||[]);const F=a[D],U=(F==null?void 0:F.current_module)||1,V=E==null?void 0:E.find($=>$.module_number===U);if(m(V||(E==null?void 0:E[0])||null),F&&V){const $=F.reflection_answers[V.id]||"";b($)}}catch(E){console.error("Error fetching program modules:",E)}},C=async D=>{if(c(D),await P(D.id),!a[D.id])try{const{error:E}=await G.from("user_guided_program_progress").insert({user_id:e.id,program_id:D.id,current_module:1,completed_modules:[],reflection_answers:{}});if(E)throw E;await k()}catch(E){console.error("Error initializing progress:",E)}},O=async(D=!0)=>{if(!d||!l||!e)return;const E=a[l.id];if(!E)return;const A={...E.reflection_answers,[d.id]:v};try{const{error:F}=await G.from("user_guided_program_progress").update({reflection_answers:A}).eq("id",E.id);if(F)throw F;D&&r({title:"Reflection Saved",description:"Your reflection has been saved successfully"}),await k()}catch(F){console.error("Error saving reflection:",F),D&&r({title:"Error",description:"Failed to save reflection",variant:"destructive"})}},T=D=>{b(D),N&&clearTimeout(N);const E=setTimeout(()=>{D.trim()&&O(!1)},2e3);S(E)},M=async()=>{if(!d||!l||!e)return;await O();const D=a[l.id];if(!D)return;const E=[...D.completed_modules];E.includes(d.module_number)||E.push(d.module_number);const A=d.module_number+1,F=A>u.length,U=F;try{const V={completed_modules:E,current_module:F?d.module_number:A,program_completed:U};U&&(V.completed_at=new Date().toISOString());const{error:$}=await G.from("user_guided_program_progress").update(V).eq("id",D.id);if($)throw $;if(await k(),U)g(l),w(!0);else{const X=u.find(oe=>oe.module_number===A);X&&(m(X),b(""))}r({title:"Module Completed!",description:U?"Congratulations! You've completed the entire program!":"Moving to the next module..."})}catch(V){console.error("Error completing module:",V),r({title:"Error",description:"Failed to complete module",variant:"destructive"})}},R=()=>{if(!l||!a[l.id])return;const E=a[l.id].reflection_answers;let A=`${l.title} - Reflection Summary

`;u.forEach($=>{const X=E[$.id];X&&(A+=`${$.title}
`,A+=`${$.reflection_prompt}
`,A+=`Your reflection: ${X}

`)});const F=new Blob([A],{type:"text/plain"}),U=URL.createObjectURL(F),V=document.createElement("a");V.href=U,V.download=`${l.title.replace(/\s+/g,"_")}_reflections.txt`,V.click(),URL.revokeObjectURL(U)},B=D=>{switch(D){case"finding_inner_security":return he;case"rebuilding_trust":return sa;case"letting_go_moving_forward":return gE;default:return ir}},L=D=>{const E=a[D];return E?E.completed_modules.length/3*100:0};return t?x?s.jsx(W,{className:"p-8 text-center",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mx-auto mb-4"}),s.jsx("div",{className:"h-4 bg-muted rounded w-1/2 mx-auto"})]})}):l?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs(H,{variant:"outline",onClick:async()=>{v.trim()&&d&&await O(!1),c(null),m(null),b("")},className:"mb-4",children:[s.jsx(mr,{className:"w-4 h-4 mr-2"}),"Back to Programs"]}),s.jsx("div",{className:"text-center sm:text-left",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center sm:justify-start gap-3 sm:gap-4",children:[s.jsx("span",{className:"text-4xl sm:text-3xl",children:l.emoji}),s.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-center sm:text-left leading-tight",children:l.title})]})})]}),d&&s.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[s.jsxs(W,{children:[s.jsx(Z,{children:s.jsx(ee,{className:"text-lg",children:"Modules"})}),s.jsx(Q,{className:"space-y-2",children:(u||[]).map(D=>{var F;const E=(F=a[l.id])==null?void 0:F.completed_modules.includes(D.module_number),A=d.id===D.id;return s.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer transition-colors ${A?"bg-primary/10 border border-primary/20":"hover:bg-muted/50"}`,onClick:async()=>{v.trim()&&d&&await O(!1),m(D);const U=a[l.id],V=(U==null?void 0:U.reflection_answers[D.id])||"";b(V)},children:[E?s.jsx(Ks,{className:"w-5 h-5 text-green-500"}):s.jsx(yu,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:D.title}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Module ",D.module_number]})]})]},D.id)})})]}),s.jsx("div",{className:"lg:col-span-2 space-y-6",children:s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(ir,{className:"w-5 h-5"}),d.title]})}),s.jsxs(Q,{className:"space-y-6",children:[s.jsx("div",{className:"prose prose-sm max-w-none",children:d.teaching_content.split(`

`).map((D,E)=>s.jsx("p",{className:"text-sm leading-relaxed mb-4",children:D},E))}),s.jsx(mp,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-sm",children:"Reflection"}),s.jsx("p",{className:"text-sm text-muted-foreground italic",children:d.reflection_prompt}),s.jsx(Nn,{placeholder:"Share your thoughts and reflections here...",value:v,onChange:D=>T(D.target.value),className:"min-h-[120px]"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(H,{onClick:()=>O(!0),variant:"outline",size:"sm",children:"Save Reflection"}),s.jsx(H,{onClick:M,disabled:!v.trim(),size:"sm",children:"Complete Module"})]})]})]})]})})]}),s.jsx(tl,{open:y,onOpenChange:w,children:s.jsxs(_a,{className:"max-w-md",children:[s.jsx(Ca,{children:s.jsx(ka,{className:"text-center",children:" Program Complete!"})}),s.jsxs("div",{className:"text-center space-y-4",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["You've completed the ",s.jsx("strong",{children:p==null?void 0:p.title})," journey  take a moment to celebrate your growth. Every step you've taken brings you closer to secure and meaningful connections."]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs(H,{onClick:R,variant:"outline",children:[s.jsx(Pc,{className:"w-4 h-4 mr-2"}),"Download Reflection Summary"]}),s.jsx(H,{onClick:()=>{w(!1),c(null),m(null)},children:"Start Another Program"})]})]})]})})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Guided Programs"}),s.jsx("p",{className:"text-muted-foreground",children:"Structured journeys to help you grow, heal, and strengthen your relationships."})]}),s.jsx("div",{className:"grid gap-6 md:grid-cols-1 lg:grid-cols-3",children:(n||[]).map(D=>{var F;B(D.program_key);const E=L(D.id),A=(F=a[D.id])==null?void 0:F.program_completed;return s.jsxs(W,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:[s.jsxs(Z,{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("span",{className:"text-2xl",children:D.emoji}),s.jsx("div",{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[D.title,A&&s.jsx(Ks,{className:"w-5 h-5 text-green-500"})]})})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:D.description})]}),s.jsx(Q,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{children:"Progress"}),s.jsxs("span",{children:[Math.round(E),"%"]})]}),s.jsx(Ea,{value:E,className:"h-2"})]}),s.jsxs(H,{className:"w-full",onClick:()=>C(D),variant:A?"outline":"default",children:[A?"Review Program":E>0?"Continue":"Start Program",s.jsx(gu,{className:"w-4 h-4 ml-2"})]})]})})]},D.id)})})]}):s.jsxs(W,{className:"p-8 text-center",children:[s.jsx(ir,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Premium Required"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Upgrade to premium to access guided programs for growth and healing."}),s.jsx(H,{variant:"warm",onClick:()=>{const D=window.location.pathname+window.location.search;window.location.href=`/premium-purchase?from=${encodeURIComponent(D)}`},children:"Upgrade to Premium"})]})},V5=()=>{const{user:e}=Te(),{toast:t}=At(),[r,n]=f.useState(""),[o,a]=f.useState(null),[i,l]=f.useState(!1),c=async()=>{if(!r.trim()){t({title:"Please enter a conversation",description:"Paste or type the conversation you'd like to analyse.",variant:"destructive"});return}l(!0);try{const h=await fetch("https://heartlift-launch.emergent.host/api/ai/analyze-conversation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({conversation_text:r.trim(),analysis_type:"general"})});if(!h.ok)throw new Error(`Failed to analyze conversation: ${h.statusText}`);const d=await h.json();a(d),t({title:"Analysis Complete",description:"Your conversation has been analysed successfully."})}catch(u){console.error("Analysis error:",u),t({title:"Analysis Failed",description:u instanceof Error?u.message:"There was an error analysing your conversation. Please try again.",variant:"destructive"})}finally{l(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Jr,{className:"w-5 h-5"}),"Conversation Analyser"]})}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Paste your conversation below:"}),s.jsx(Nn,{placeholder:`You: Hey, how was your day?
Them: Fine.
You: Just fine? You seem upset about something...

(Paste your full conversation here)`,value:r,onChange:u=>n(u.target.value),rows:8,className:"resize-none"})]}),s.jsx(H,{onClick:c,disabled:i||!r.trim(),className:"w-full",children:i?s.jsxs(s.Fragment,{children:[s.jsx(pn,{className:"w-4 h-4 mr-2 animate-spin"}),"Analysing Conversation..."]}):s.jsxs(s.Fragment,{children:[s.jsx(IE,{className:"w-4 h-4 mr-2"}),"Analyse Conversation"]})})]})]}),o&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs(W,{children:[s.jsx(Z,{children:s.jsx(ee,{className:"flex items-center gap-2",children:" Emotional Tone Analysis"})}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Your Tone"}),s.jsx("p",{className:"text-muted-foreground",children:o.emotionalTone.user})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Their Tone"}),s.jsx("p",{className:"text-muted-foreground",children:o.emotionalTone.partner})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Overall Dynamic"}),s.jsx("p",{className:"text-muted-foreground",children:o.emotionalTone.overall})]})]})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsx(ee,{className:"flex items-center gap-2",children:" Miscommunication Patterns"})}),s.jsx(Q,{className:"space-y-4",children:o.miscommunicationPatterns.map((u,h)=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsx("div",{className:"flex items-center gap-2 mb-2",children:s.jsx(je,{variant:"outline",children:u.pattern})}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:u.description}),u.examples.length>0&&s.jsxs("div",{children:[s.jsx("h5",{className:"text-xs font-medium mb-1",children:"Examples:"}),s.jsx("ul",{className:"text-xs text-muted-foreground space-y-1",children:u.examples.map((d,m)=>s.jsxs("li",{className:"italic",children:['"',d,'"']},m))})]})]},h))})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsx(ee,{className:"flex items-center gap-2",children:" What You Could Have Said Differently"})}),s.jsx(Q,{className:"space-y-4",children:o.suggestions.map((u,h)=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium mb-2 text-destructive",children:u.issue}),s.jsxs("div",{className:"bg-primary/5 rounded p-3 mb-2",children:[s.jsx("h5",{className:"text-sm font-medium mb-1",children:"Better Response:"}),s.jsxs("p",{className:"text-sm italic",children:['"',u.betterResponse,'"']})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:u.explanation})]},h))})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(aa,{className:"w-5 h-5"}),"Overall Assessment"]})}),s.jsx(Q,{children:s.jsx("p",{className:"text-muted-foreground",children:o.overallAssessment})})]})]})]})};var K5=[" ","Enter","ArrowUp","ArrowDown"],q5=[" ","Enter"],Js="Select",[Gu,Yu,G5]=fu(Js),[Ta]=It(Js,[G5,va]),Qu=va(),[Y5,gs]=Ta(Js),[Q5,J5]=Ta(Js),$S=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:o,onOpenChange:a,value:i,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:d,disabled:m,required:v,form:b}=e,y=Qu(t),[w,p]=f.useState(null),[g,x]=f.useState(null),[j,N]=f.useState(!1),S=Sa(u),[_,k]=wn({prop:n,defaultProp:o??!1,onChange:a,caller:Js}),[P,C]=wn({prop:i,defaultProp:l,onChange:c,caller:Js}),O=f.useRef(null),T=w?b||!!w.closest("form"):!0,[M,R]=f.useState(new Set),B=Array.from(M).map(L=>L.props.value).join(";");return s.jsx(tb,{...y,children:s.jsxs(Y5,{required:v,scope:t,trigger:w,onTriggerChange:p,valueNode:g,onValueNodeChange:x,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:Yr(),value:P,onValueChange:C,open:_,onOpenChange:k,dir:S,triggerPointerDownPosRef:O,disabled:m,children:[s.jsx(Gu.Provider,{scope:t,children:s.jsx(Q5,{scope:e.__scopeSelect,onNativeOptionAdd:f.useCallback(L=>{R(D=>new Set(D).add(L))},[]),onNativeOptionRemove:f.useCallback(L=>{R(D=>{const E=new Set(D);return E.delete(L),E})},[]),children:r})}),T?s.jsxs(l1,{"aria-hidden":!0,required:v,tabIndex:-1,name:h,autoComplete:d,value:P,onChange:L=>C(L.target.value),disabled:m,form:b,children:[P===void 0?s.jsx("option",{value:""}):null,Array.from(M)]},B):null]})})};$S.displayName=Js;var US="SelectTrigger",FS=f.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...o}=e,a=Qu(r),i=gs(US,r),l=i.disabled||n,c=ye(t,i.onTriggerChange),u=Yu(r),h=f.useRef("touch"),[d,m,v]=u1(y=>{const w=u().filter(x=>!x.disabled),p=w.find(x=>x.value===i.value),g=d1(w,y,p);g!==void 0&&i.onValueChange(g.value)}),b=y=>{l||(i.onOpenChange(!0),v()),y&&(i.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return s.jsx(Hm,{asChild:!0,...a,children:s.jsx(ae.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":c1(i.value)?"":void 0,...o,ref:c,onClick:J(o.onClick,y=>{y.currentTarget.focus(),h.current!=="mouse"&&b(y)}),onPointerDown:J(o.onPointerDown,y=>{h.current=y.pointerType;const w=y.target;w.hasPointerCapture(y.pointerId)&&w.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(b(y),y.preventDefault())}),onKeyDown:J(o.onKeyDown,y=>{const w=d.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&m(y.key),!(w&&y.key===" ")&&K5.includes(y.key)&&(b(),y.preventDefault())})})})});FS.displayName=US;var zS="SelectValue",HS=f.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,children:a,placeholder:i="",...l}=e,c=gs(zS,r),{onValueNodeHasChildrenChange:u}=c,h=a!==void 0,d=ye(t,c.onValueNodeChange);return ct(()=>{u(h)},[u,h]),s.jsx(ae.span,{...l,ref:d,style:{pointerEvents:"none"},children:c1(c.value)?s.jsx(s.Fragment,{children:i}):a})});HS.displayName=zS;var X5="SelectIcon",BS=f.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...o}=e;return s.jsx(ae.span,{"aria-hidden":!0,...o,ref:t,children:n||""})});BS.displayName=X5;var Z5="SelectPortal",WS=e=>s.jsx(Yi,{asChild:!0,...e});WS.displayName=Z5;var Xs="SelectContent",VS=f.forwardRef((e,t)=>{const r=gs(Xs,e.__scopeSelect),[n,o]=f.useState();if(ct(()=>{o(new DocumentFragment)},[]),!r.open){const a=n;return a?to.createPortal(s.jsx(KS,{scope:e.__scopeSelect,children:s.jsx(Gu.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),a):null}return s.jsx(qS,{...e,ref:t})});VS.displayName=Xs;var br=10,[KS,ys]=Ta(Xs),eL="SelectContentImpl",tL=Vs("SelectContent.RemoveScroll"),qS=f.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:d,collisionBoundary:m,collisionPadding:v,sticky:b,hideWhenDetached:y,avoidCollisions:w,...p}=e,g=gs(Xs,r),[x,j]=f.useState(null),[N,S]=f.useState(null),_=ye(t,I=>j(I)),[k,P]=f.useState(null),[C,O]=f.useState(null),T=Yu(r),[M,R]=f.useState(!1),B=f.useRef(!1);f.useEffect(()=>{if(x)return lp(x)},[x]),ip();const L=f.useCallback(I=>{const[q,...te]=T().map(fe=>fe.ref.current),[le]=te.slice(-1),me=document.activeElement;for(const fe of I)if(fe===me||(fe==null||fe.scrollIntoView({block:"nearest"}),fe===q&&N&&(N.scrollTop=0),fe===le&&N&&(N.scrollTop=N.scrollHeight),fe==null||fe.focus(),document.activeElement!==me))return},[T,N]),D=f.useCallback(()=>L([k,x]),[L,k,x]);f.useEffect(()=>{M&&D()},[M,D]);const{onOpenChange:E,triggerPointerDownPosRef:A}=g;f.useEffect(()=>{if(x){let I={x:0,y:0};const q=le=>{var me,fe;I={x:Math.abs(Math.round(le.pageX)-(((me=A.current)==null?void 0:me.x)??0)),y:Math.abs(Math.round(le.pageY)-(((fe=A.current)==null?void 0:fe.y)??0))}},te=le=>{I.x<=10&&I.y<=10?le.preventDefault():x.contains(le.target)||E(!1),document.removeEventListener("pointermove",q),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",q),document.addEventListener("pointerup",te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",q),document.removeEventListener("pointerup",te,{capture:!0})}}},[x,E,A]),f.useEffect(()=>{const I=()=>E(!1);return window.addEventListener("blur",I),window.addEventListener("resize",I),()=>{window.removeEventListener("blur",I),window.removeEventListener("resize",I)}},[E]);const[F,U]=u1(I=>{const q=T().filter(me=>!me.disabled),te=q.find(me=>me.ref.current===document.activeElement),le=d1(q,I,te);le&&setTimeout(()=>le.ref.current.focus())}),V=f.useCallback((I,q,te)=>{const le=!B.current&&!te;(g.value!==void 0&&g.value===q||le)&&(P(I),le&&(B.current=!0))},[g.value]),$=f.useCallback(()=>x==null?void 0:x.focus(),[x]),X=f.useCallback((I,q,te)=>{const le=!B.current&&!te;(g.value!==void 0&&g.value===q||le)&&O(I)},[g.value]),oe=n==="popper"?Sf:GS,ue=oe===Sf?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:d,collisionBoundary:m,collisionPadding:v,sticky:b,hideWhenDetached:y,avoidCollisions:w}:{};return s.jsx(KS,{scope:r,content:x,viewport:N,onViewportChange:S,itemRefCallback:V,selectedItem:k,onItemLeave:$,itemTextRefCallback:X,focusSelectedItem:D,selectedItemText:C,position:n,isPositioned:M,searchRef:F,children:s.jsx(Uu,{as:tL,allowPinchZoom:!0,children:s.jsx(Lu,{asChild:!0,trapped:g.open,onMountAutoFocus:I=>{I.preventDefault()},onUnmountAutoFocus:J(o,I=>{var q;(q=g.trigger)==null||q.focus({preventScroll:!0}),I.preventDefault()}),children:s.jsx(pa,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:I=>I.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:s.jsx(oe,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:I=>I.preventDefault(),...p,...ue,onPlaced:()=>R(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...p.style},onKeyDown:J(p.onKeyDown,I=>{const q=I.ctrlKey||I.altKey||I.metaKey;if(I.key==="Tab"&&I.preventDefault(),!q&&I.key.length===1&&U(I.key),["ArrowUp","ArrowDown","Home","End"].includes(I.key)){let le=T().filter(me=>!me.disabled).map(me=>me.ref.current);if(["ArrowUp","End"].includes(I.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(I.key)){const me=I.target,fe=le.indexOf(me);le=le.slice(fe+1)}setTimeout(()=>L(le)),I.preventDefault()}})})})})})})});qS.displayName=eL;var rL="SelectItemAlignedPosition",GS=f.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...o}=e,a=gs(Xs,r),i=ys(Xs,r),[l,c]=f.useState(null),[u,h]=f.useState(null),d=ye(t,_=>h(_)),m=Yu(r),v=f.useRef(!1),b=f.useRef(!0),{viewport:y,selectedItem:w,selectedItemText:p,focusSelectedItem:g}=i,x=f.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&y&&w&&p){const _=a.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),P=a.valueNode.getBoundingClientRect(),C=p.getBoundingClientRect();if(a.dir!=="rtl"){const me=C.left-k.left,fe=P.left-me,Ie=_.left-fe,ne=_.width+Ie,ce=Math.max(ne,k.width),Ce=window.innerWidth-br,$e=wf(fe,[br,Math.max(br,Ce-ce)]);l.style.minWidth=ne+"px",l.style.left=$e+"px"}else{const me=k.right-C.right,fe=window.innerWidth-P.right-me,Ie=window.innerWidth-_.right-fe,ne=_.width+Ie,ce=Math.max(ne,k.width),Ce=window.innerWidth-br,$e=wf(fe,[br,Math.max(br,Ce-ce)]);l.style.minWidth=ne+"px",l.style.right=$e+"px"}const O=m(),T=window.innerHeight-br*2,M=y.scrollHeight,R=window.getComputedStyle(u),B=parseInt(R.borderTopWidth,10),L=parseInt(R.paddingTop,10),D=parseInt(R.borderBottomWidth,10),E=parseInt(R.paddingBottom,10),A=B+L+M+E+D,F=Math.min(w.offsetHeight*5,A),U=window.getComputedStyle(y),V=parseInt(U.paddingTop,10),$=parseInt(U.paddingBottom,10),X=_.top+_.height/2-br,oe=T-X,ue=w.offsetHeight/2,I=w.offsetTop+ue,q=B+L+I,te=A-q;if(q<=X){const me=O.length>0&&w===O[O.length-1].ref.current;l.style.bottom="0px";const fe=u.clientHeight-y.offsetTop-y.offsetHeight,Ie=Math.max(oe,ue+(me?$:0)+fe+D),ne=q+Ie;l.style.height=ne+"px"}else{const me=O.length>0&&w===O[0].ref.current;l.style.top="0px";const Ie=Math.max(X,B+y.offsetTop+(me?V:0)+ue)+te;l.style.height=Ie+"px",y.scrollTop=q-X+y.offsetTop}l.style.margin=`${br}px 0`,l.style.minHeight=F+"px",l.style.maxHeight=T+"px",n==null||n(),requestAnimationFrame(()=>v.current=!0)}},[m,a.trigger,a.valueNode,l,u,y,w,p,a.dir,n]);ct(()=>x(),[x]);const[j,N]=f.useState();ct(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const S=f.useCallback(_=>{_&&b.current===!0&&(x(),g==null||g(),b.current=!1)},[x,g]);return s.jsx(sL,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:S,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:s.jsx(ae.div,{...o,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});GS.displayName=rL;var nL="SelectPopperPosition",Sf=f.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:o=br,...a}=e,i=Qu(r);return s.jsx(Bm,{...i,...a,ref:t,align:n,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Sf.displayName=nL;var[sL,Tp]=Ta(Xs,{}),_f="SelectViewport",YS=f.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...o}=e,a=ys(_f,r),i=Tp(_f,r),l=ye(t,a.onViewportChange),c=f.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Gu.Slot,{scope:r,children:s.jsx(ae.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:J(o.onScroll,u=>{const h=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&d){const v=Math.abs(c.current-h.scrollTop);if(v>0){const b=window.innerHeight-br*2,y=parseFloat(d.style.minHeight),w=parseFloat(d.style.height),p=Math.max(y,w);if(p<b){const g=p+v,x=Math.min(b,g),j=g-x;d.style.height=x+"px",d.style.bottom==="0px"&&(h.scrollTop=j>0?j:0,d.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});YS.displayName=_f;var QS="SelectGroup",[oL,aL]=Ta(QS),iL=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=Yr();return s.jsx(oL,{scope:r,id:o,children:s.jsx(ae.div,{role:"group","aria-labelledby":o,...n,ref:t})})});iL.displayName=QS;var JS="SelectLabel",XS=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=aL(JS,r);return s.jsx(ae.div,{id:o.id,...n,ref:t})});XS.displayName=JS;var Gc="SelectItem",[lL,ZS]=Ta(Gc),e1=f.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:o=!1,textValue:a,...i}=e,l=gs(Gc,r),c=ys(Gc,r),u=l.value===n,[h,d]=f.useState(a??""),[m,v]=f.useState(!1),b=ye(t,g=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,g,n,o)}),y=Yr(),w=f.useRef("touch"),p=()=>{o||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(lL,{scope:r,value:n,disabled:o,textId:y,isSelected:u,onItemTextChange:f.useCallback(g=>{d(x=>x||((g==null?void 0:g.textContent)??"").trim())},[]),children:s.jsx(Gu.ItemSlot,{scope:r,value:n,disabled:o,textValue:h,children:s.jsx(ae.div,{role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...i,ref:b,onFocus:J(i.onFocus,()=>v(!0)),onBlur:J(i.onBlur,()=>v(!1)),onClick:J(i.onClick,()=>{w.current!=="mouse"&&p()}),onPointerUp:J(i.onPointerUp,()=>{w.current==="mouse"&&p()}),onPointerDown:J(i.onPointerDown,g=>{w.current=g.pointerType}),onPointerMove:J(i.onPointerMove,g=>{var x;w.current=g.pointerType,o?(x=c.onItemLeave)==null||x.call(c):w.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:J(i.onPointerLeave,g=>{var x;g.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:J(i.onKeyDown,g=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&g.key===" "||(q5.includes(g.key)&&p(),g.key===" "&&g.preventDefault())})})})})});e1.displayName=Gc;var Za="SelectItemText",t1=f.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,...a}=e,i=gs(Za,r),l=ys(Za,r),c=ZS(Za,r),u=J5(Za,r),[h,d]=f.useState(null),m=ye(t,p=>d(p),c.onItemTextChange,p=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,p,c.value,c.disabled)}),v=h==null?void 0:h.textContent,b=f.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:y,onNativeOptionRemove:w}=u;return ct(()=>(y(b),()=>w(b)),[y,w,b]),s.jsxs(s.Fragment,{children:[s.jsx(ae.span,{id:c.textId,...a,ref:m}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?to.createPortal(a.children,i.valueNode):null]})});t1.displayName=Za;var r1="SelectItemIndicator",n1=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return ZS(r1,r).isSelected?s.jsx(ae.span,{"aria-hidden":!0,...n,ref:t}):null});n1.displayName=r1;var Cf="SelectScrollUpButton",s1=f.forwardRef((e,t)=>{const r=ys(Cf,e.__scopeSelect),n=Tp(Cf,e.__scopeSelect),[o,a]=f.useState(!1),i=ye(t,n.onScrollButtonChange);return ct(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),o?s.jsx(a1,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});s1.displayName=Cf;var kf="SelectScrollDownButton",o1=f.forwardRef((e,t)=>{const r=ys(kf,e.__scopeSelect),n=Tp(kf,e.__scopeSelect),[o,a]=f.useState(!1),i=ye(t,n.onScrollButtonChange);return ct(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;a(h)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),o?s.jsx(a1,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});o1.displayName=kf;var a1=f.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...o}=e,a=ys("SelectScrollButton",r),i=f.useRef(null),l=Yu(r),c=f.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return f.useEffect(()=>()=>c(),[c]),ct(()=>{var h;const u=l().find(d=>d.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),s.jsx(ae.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:J(o.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:J(o.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:J(o.onPointerLeave,()=>{c()})})}),cL="SelectSeparator",i1=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(ae.div,{"aria-hidden":!0,...n,ref:t})});i1.displayName=cL;var Ef="SelectArrow",uL=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=Qu(r),a=gs(Ef,r),i=ys(Ef,r);return a.open&&i.position==="popper"?s.jsx(Wm,{...o,...n,ref:t}):null});uL.displayName=Ef;var dL="SelectBubbleInput",l1=f.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const o=f.useRef(null),a=ye(n,o),i=Cp(t);return f.useEffect(()=>{const l=o.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&h){const d=new Event("change",{bubbles:!0});h.call(l,t),l.dispatchEvent(d)}},[i,t]),s.jsx(ae.select,{...r,style:{...Yw,...r.style},ref:a,defaultValue:t})});l1.displayName=dL;function c1(e){return e===""||e===void 0}function u1(e){const t=qe(e),r=f.useRef(""),n=f.useRef(0),o=f.useCallback(i=>{const l=r.current+i;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=f.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,o,a]}function d1(e,t,r){const o=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=hL(e,Math.max(a,0));o.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(o.toLowerCase()));return c!==r?c:void 0}function hL(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var fL=$S,h1=FS,mL=HS,pL=BS,gL=WS,f1=VS,yL=YS,m1=XS,p1=e1,xL=t1,vL=n1,g1=s1,y1=o1,x1=i1;const xx=fL,vx=mL,Pf=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(h1,{ref:n,className:ie("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(pL,{asChild:!0,children:s.jsx(x0,{className:"h-4 w-4 opacity-50"})})]}));Pf.displayName=h1.displayName;const v1=f.forwardRef(({className:e,...t},r)=>s.jsx(g1,{ref:r,className:ie("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(lE,{className:"h-4 w-4"})}));v1.displayName=g1.displayName;const w1=f.forwardRef(({className:e,...t},r)=>s.jsx(y1,{ref:r,className:ie("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(x0,{className:"h-4 w-4"})}));w1.displayName=y1.displayName;const Tf=f.forwardRef(({className:e,children:t,position:r="popper",...n},o)=>s.jsx(gL,{children:s.jsxs(f1,{ref:o,className:ie("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(v1,{}),s.jsx(yL,{className:ie("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(w1,{})]})}));Tf.displayName=f1.displayName;const wL=f.forwardRef(({className:e,...t},r)=>s.jsx(m1,{ref:r,className:ie("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));wL.displayName=m1.displayName;const Rf=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(p1,{ref:n,className:ie("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(vL,{children:s.jsx(Qt,{className:"h-4 w-4"})})}),s.jsx(xL,{children:t})]}));Rf.displayName=p1.displayName;const bL=f.forwardRef(({className:e,...t},r)=>s.jsx(x1,{ref:r,className:ie("-mx-1 my-1 h-px bg-muted",e),...t}));bL.displayName=x1.displayName;const jL=()=>{const{toast:e}=At(),[t,r]=f.useState("closure"),[n,o]=f.useState("romantic"),[a,i]=f.useState(""),[l,c]=f.useState([]),[u,h]=f.useState(!1),d=[{value:"closure",label:"Closure Messages"},{value:"no_contact",label:"No-Contact Replies"},{value:"boundary",label:"Boundary-Setting Texts"},{value:"miss_you_response",label:'"I Miss You" Responses'},{value:"apologetic",label:"Apologetic Messages"},{value:"rejection",label:"Rejection Messages"},{value:"reconciliation",label:"Reconciliation Attempts"},{value:"angry_response",label:"Angry/Upset Responses"},{value:"moving_on",label:"Moving On Messages"},{value:"check_in",label:"Check-In Messages"},{value:"birthday_holiday",label:"Birthday/Holiday Messages"},{value:"neutral_reply",label:"Neutral Responses"},{value:"custom",label:"Improve My Message"}],m=[{value:"romantic",label:"Ex-Partner"},{value:"boyfriend",label:"Boyfriend"},{value:"girlfriend",label:"Girlfriend"},{value:"dating",label:"Someone You Dated"},{value:"talking_stage",label:"Talking Stage"},{value:"friend",label:"Ex-Friend"},{value:"situationship",label:"Situationship"},{value:"fwb",label:"Friends with Benefits"},{value:"hookup",label:"Hookup/Casual"}],v=async()=>{if(t==="custom"&&!a.trim()){e({title:"Please enter your message",description:"Type the message you'd like help improving.",variant:"destructive"});return}h(!0);try{const{data:w,error:p}=await G.functions.invoke("suggest-text",{body:{messageType:t,relationship:n,userMessage:a.trim()}});if(p)throw p;c(w.suggestions),e({title:"Suggestions Generated",description:"Here are some thoughtful message options for you."})}catch(w){console.error("Generation error:",w),e({title:"Generation Failed",description:"There was an error generating suggestions. Please try again.",variant:"destructive"})}finally{h(!1)}},b=async w=>{try{await navigator.clipboard.writeText(w),e({title:"Copied to clipboard",description:"Message copied successfully!"})}catch{e({title:"Copy failed",description:"Unable to copy to clipboard.",variant:"destructive"})}},y=w=>{switch(w){case"gentle":return"bg-green-100 text-green-800 border-green-200";case"firm":return"bg-red-100 text-red-800 border-red-200";case"neutral":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(xu,{className:"w-5 h-5"}),"Text Suggestion Helper"]})}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Message Type"}),s.jsxs(xx,{value:t,onValueChange:r,children:[s.jsx(Pf,{children:s.jsx(vx,{})}),s.jsx(Tf,{children:d.map(w=>s.jsx(Rf,{value:w.value,children:w.label},w.value))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Relationship Type"}),s.jsxs(xx,{value:n,onValueChange:o,children:[s.jsx(Pf,{children:s.jsx(vx,{})}),s.jsx(Tf,{children:m.map(w=>s.jsx(Rf,{value:w.value,children:w.label},w.value))})]})]})]}),t==="custom"&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Your Message (to improve)"}),s.jsx(Nn,{placeholder:"Type the message you want help improving...",value:a,onChange:w=>i(w.target.value),rows:3})]}),s.jsx(H,{onClick:v,disabled:u,className:"w-full",children:u?s.jsxs(s.Fragment,{children:[s.jsx(pn,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating Suggestions..."]}):"Generate Message Suggestions"})]})]}),l.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Suggested Messages"}),l.map((w,p)=>s.jsxs(W,{children:[s.jsx(Z,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(je,{className:y(w.tone),children:[w.tone.charAt(0).toUpperCase()+w.tone.slice(1)," Tone"]}),s.jsxs(H,{variant:"outline",size:"sm",onClick:()=>b(w.message),children:[s.jsx(dE,{className:"w-4 h-4 mr-2"}),"Copy"]})]})}),s.jsx(Q,{children:s.jsxs("p",{className:"text-muted-foreground italic",children:['"',w.message,'"']})})]},p))]})]})},NL=()=>{var y,w;const{user:e,isPremium:t}=Te(),[r,n]=f.useState(null),[o,a]=f.useState([]),[i,l]=f.useState(!1),[c,u]=f.useState(!1),[h,d]=f.useState("current");f.useEffect(()=>{e&&t&&m()},[e,t]);const m=async()=>{if(e){l(!0);try{const g=await fetch(`https://heartlift-launch.emergent.host/api/insights/reports/${e.id}`);if(g.ok){const x=await g.json();x&&x.length>0&&(n(x[0]),a(x))}}catch(p){console.error("Error loading reports:",p)}finally{l(!1)}}},v=async()=>{if(e){u(!0);try{we.info("Analyzing your conversations and generating personalised insights...");const p="https://heartlift-launch.emergent.host",g=await fetch(`${p}/api/ai/insights`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e.id})});if(!g.ok){const N=await g.text();throw console.error("Backend error response:",N),new Error(`Failed to generate insights: ${g.statusText}`)}const x=await g.json();console.log("Received insights from backend:",x);const j=await fetch(`${p}/api/insights/save`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e.id,insights:x,conversation_count:x.conversationCount||0,mood_entries_analyzed:x.moodEntriesAnalyzed||0,attachment_style:x.attachmentStyle||"exploring",healing_progress_score:x.healingProgressScore||65,analysis_period_start:new Date(Date.now()-30*24*60*60*1e3).toISOString(),analysis_period_end:new Date().toISOString()})});if(j.ok){const N=await j.json();console.log("Report saved successfully:",N),n(N),await m(),we.success("Your personalised insights are ready and saved!")}else{console.error("Failed to save report");const N={id:`temp-${Date.now()}`,report_type:"comprehensive",insights:x,conversation_count:x.conversationCount||0,mood_entries_analyzed:x.moodEntriesAnalyzed||0,attachment_style:x.attachmentStyle||"exploring",healing_progress_score:x.healingProgressScore||65,analysis_period_start:new Date(Date.now()-30*24*60*60*1e3).toISOString(),analysis_period_end:new Date().toISOString(),created_at:new Date().toISOString()};n(N),we.success("Your personalised insights are ready!")}}catch(p){console.error("Error generating insights:",p),we.error(`Failed to generate insights: ${p instanceof Error?p.message:"Unknown error"}`)}finally{u(!1)}}},b=p=>{var S,_,k,P,C,O;const g=`
Personal Relationship Insights Report
Generated: ${new Date(p.created_at).toLocaleDateString()}
Analysis Period: ${new Date(p.analysis_period_start).toLocaleDateString()} - ${new Date(p.analysis_period_end).toLocaleDateString()}

ATTACHMENT STYLE: ${p.attachment_style}
HEALING PROGRESS: ${p.healing_progress_score}%

DATA ANALYSED:
 ${p.conversation_count} conversations
 ${p.mood_entries_analysed} mood tracking entries

INSIGHTS SUMMARY:

COMMUNICATION STYLE: ${p.insights.communicationStyle||"Not analysed"}

KEY INSIGHTS:
Strengths:
${(((S=p.insights.keyInsights)==null?void 0:S.strengths)||[]).map(T=>` ${T}`).join(`
`)}

Areas for Growth:
${(((_=p.insights.keyInsights)==null?void 0:_.areasForGrowth)||[]).map(T=>` ${T}`).join(`
`)}

Progress Signs:
${(((k=p.insights.keyInsights)==null?void 0:k.progressSigns)||[]).map(T=>` ${T}`).join(`
`)}

MOOD TRENDS:
Pattern: ${((P=p.insights.moodTrends)==null?void 0:P.pattern)||"Not analysed"}
Triggers: ${(((C=p.insights.moodTrends)==null?void 0:C.triggers)||[]).join(", ")}
Improvements: ${(((O=p.insights.moodTrends)==null?void 0:O.improvements)||[]).join(", ")}

PERSONALISED RECOMMENDATIONS:
${(p.insights.personalisedRecommendations||[]).map(T=>`${T.category}: ${T.recommendation}
Why: ${T.why}
`).join(`
`)}

NEXT STEPS:
${(p.insights.nextSteps||[]).map(T=>` ${T}`).join(`
`)}

This report was generated by AI analysis of your conversations with HeartLift coaches and mood tracking data.
    `,x=new Blob([g],{type:"text/plain"}),j=URL.createObjectURL(x),N=document.createElement("a");N.href=j,N.download=`heartlift-insights-${new Date(p.created_at).toISOString().split("T")[0]}.txt`,document.body.appendChild(N),N.click(),document.body.removeChild(N),URL.revokeObjectURL(j),we.success("Report downloaded!")};return t?s.jsx("div",{className:"space-y-4 sm:space-y-6 px-4 sm:px-0",children:s.jsxs(W,{children:[s.jsxs(Z,{className:"p-4 sm:p-6",children:[s.jsxs(ee,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[s.jsx(Wr,{className:"w-5 h-5 text-primary"}),"Personalised Insights & Reports"]}),s.jsx(He,{className:"text-sm sm:text-base",children:"AI-powered analysis of your relationship patterns and emotional growth"})]}),s.jsxs(Q,{className:"p-4 sm:p-6 pt-0",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 mb-4 sm:mb-6",children:[s.jsxs(H,{onClick:v,disabled:c,className:"flex items-center justify-center gap-2 w-full sm:w-auto",size:"lg",children:[s.jsx(qs,{className:`w-4 h-4 ${c?"animate-spin":""}`}),c?"Generating...":"Generate New Insights"]}),r&&s.jsxs(H,{variant:"outline",onClick:()=>b(r),className:"flex items-center justify-center gap-2 w-full sm:w-auto",size:"lg",children:[s.jsx(Pc,{className:"w-4 h-4"}),"Download Report"]})]}),i&&s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(qs,{className:"w-6 h-6 animate-spin text-primary"})}),s.jsxs(xp,{value:h,onValueChange:d,className:"w-full",children:[s.jsxs(Hu,{className:"grid w-full grid-cols-2",children:[s.jsx(hn,{value:"current",children:"Current Report"}),s.jsx(hn,{value:"history",children:"Report History"})]}),s.jsx(fn,{value:"current",className:"space-y-4",children:r&&!i?s.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[s.jsxs(W,{children:[s.jsx(Z,{className:"pb-3 p-4 sm:p-6",children:s.jsxs(ee,{className:"text-base sm:text-lg flex items-center gap-2",children:[s.jsx(he,{className:"w-4 h-4 text-pink-500"}),"Attachment Style"]})}),s.jsx(Q,{className:"p-4 sm:p-6 pt-0",children:s.jsx("p",{className:"font-medium text-primary text-sm sm:text-base",children:r.attachment_style})})]}),s.jsxs(W,{children:[s.jsx(Z,{className:"pb-3 p-4 sm:p-6",children:s.jsxs(ee,{className:"text-base sm:text-lg flex items-center gap-2",children:[s.jsx(aa,{className:"w-4 h-4 text-green-500"}),"Healing Progress"]})}),s.jsx(Q,{className:"p-4 sm:p-6 pt-0",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex-1 bg-secondary rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-primary to-primary-glow h-2 rounded-full transition-all duration-500",style:{width:`${r.healing_progress_score}%`}})}),s.jsxs("span",{className:"font-medium text-sm sm:text-base",children:[r.healing_progress_score,"%"]})]})})]}),s.jsxs(W,{className:"lg:col-span-2 bg-gradient-to-br from-primary/5 via-primary/3 to-background border-primary/20",children:[s.jsx(Z,{className:"pb-3 p-4 sm:p-6",children:s.jsxs(ee,{className:"text-base sm:text-lg flex items-center gap-2",children:[s.jsx(Wr,{className:"w-4 h-4 text-purple-500"}),"Analysis Details"]})}),s.jsx(Q,{className:"p-4 sm:p-6 pt-0",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex flex-col items-center p-4 rounded-xl bg-background/50 backdrop-blur-sm border",children:[s.jsx(ft,{className:"w-6 h-6 text-primary mb-2"}),s.jsx("span",{className:"text-2xl font-bold text-primary",children:r.conversation_count}),s.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:"Conversations Analysed"})]}),s.jsxs("div",{className:"flex flex-col items-center p-4 rounded-xl bg-background/50 backdrop-blur-sm border",children:[s.jsx(he,{className:"w-6 h-6 text-pink-500 mb-2"}),s.jsx("span",{className:"text-2xl font-bold text-pink-500",children:r.mood_entries_analyzed}),s.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:"Mood Entries"})]})]})})]}),s.jsxs(W,{className:"lg:col-span-2",children:[s.jsx(Z,{className:"pb-3 p-4 sm:p-6",children:s.jsx(ee,{className:"text-base sm:text-lg",children:"Emotional Patterns"})}),s.jsx(Q,{className:"p-4 sm:p-6 pt-0",children:s.jsx("ul",{className:"space-y-2 sm:space-y-3",children:(r.insights.emotionalPatterns||[]).map((p,g)=>s.jsxs("li",{className:"flex items-start gap-3 p-2 rounded-lg bg-muted/30",children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-primary rounded-full mt-2 flex-shrink-0"}),s.jsx("span",{className:"text-sm sm:text-base leading-relaxed",children:p})]},g))})})]}),s.jsxs(W,{className:"lg:col-span-2",children:[s.jsx(Z,{className:"pb-3 p-4 sm:p-6",children:s.jsx(ee,{className:"text-base sm:text-lg",children:"Key Insights"})}),s.jsxs(Q,{className:"space-y-4 p-4 sm:p-6 pt-0",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2 text-green-600 text-sm sm:text-base",children:"Strengths"}),s.jsx("ul",{className:"space-y-2",children:(((y=r.insights.keyInsights)==null?void 0:y.strengths)||[]).map((p,g)=>s.jsxs("li",{className:"text-sm sm:text-base p-2 rounded-lg bg-green-50 flex items-start gap-2",children:[s.jsx(oa,{className:"w-3 h-3 sm:w-4 sm:h-4 mt-0.5 text-green-500 flex-shrink-0"}),s.jsx("span",{className:"leading-relaxed",children:p})]},g))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2 text-orange-600 text-sm sm:text-base",children:"Areas for Growth"}),s.jsx("ul",{className:"space-y-2",children:(((w=r.insights.keyInsights)==null?void 0:w.areasForGrowth)||[]).map((p,g)=>s.jsxs("li",{className:"text-sm sm:text-base p-2 rounded-lg bg-orange-50 flex items-start gap-2",children:[s.jsx(kt,{className:"w-3 h-3 sm:w-4 sm:h-4 mt-0.5 text-orange-500 flex-shrink-0"}),s.jsx("span",{className:"leading-relaxed",children:p})]},g))})]})]})]}),s.jsxs(W,{className:"lg:col-span-2",children:[s.jsx(Z,{className:"pb-3 p-4 sm:p-6",children:s.jsx(ee,{className:"text-base sm:text-lg",children:"Personalised Recommendations"})}),s.jsx(Q,{className:"p-4 sm:p-6 pt-0",children:s.jsx("div",{className:"space-y-3 sm:space-y-4",children:(r.insights.personalizedRecommendations||r.insights.personalisedRecommendations||[]).map((p,g)=>s.jsxs("div",{className:"border rounded-lg p-3 sm:p-4 bg-muted/20",children:[s.jsx("div",{className:"flex items-center gap-2 mb-2",children:s.jsx(je,{variant:"outline",className:"text-xs sm:text-sm",children:p.category})}),s.jsx("p",{className:"font-medium mb-2 text-sm sm:text-base leading-relaxed",children:p.recommendation}),s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground leading-relaxed",children:p.why})]},g))})})]}),s.jsxs(W,{className:"lg:col-span-2",children:[s.jsx(Z,{className:"pb-3 p-4 sm:p-6",children:s.jsxs(ee,{className:"text-base sm:text-lg flex items-center gap-2",children:[s.jsx(ft,{className:"w-4 h-4 text-blue-500"}),"Analysis Details"]})}),s.jsx(Q,{className:"p-4 sm:p-6 pt-0",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm sm:text-base",children:[s.jsxs("div",{className:"p-3 rounded-lg bg-muted/30 text-center sm:text-left",children:[s.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"Conversations Analysed"}),s.jsx("p",{className:"font-medium text-lg sm:text-xl",children:r.conversation_count})]}),s.jsxs("div",{className:"p-3 rounded-lg bg-muted/30 text-center sm:text-left",children:[s.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"Mood Entries"}),s.jsx("p",{className:"font-medium text-lg sm:text-xl",children:r.mood_entries_analysed})]}),s.jsxs("div",{className:"p-3 rounded-lg bg-muted/30 text-center sm:text-left",children:[s.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"Generated"}),s.jsx("p",{className:"font-medium text-lg sm:text-xl",children:new Date(r.created_at).toLocaleDateString()})]})]})})]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Wr,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:'No insights generated yet. Click "Generate New Insights" to create your personalised report based on your conversations with coaches.'})]})}),s.jsx(fn,{value:"history",className:"space-y-4",children:o&&o.length>0?s.jsx("div",{className:"space-y-4",children:o.map(p=>s.jsx(W,{className:"bg-gradient-to-br from-primary/5 to-background hover:shadow-lg transition-shadow border-primary/10",children:s.jsx(Z,{className:"pb-3",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-start justify-between gap-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs(ee,{className:"text-lg flex items-center gap-2",children:[s.jsx(Wr,{className:"w-5 h-5 text-primary"}),"Report from ",new Date(p.created_at).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]}),s.jsxs(He,{className:"flex flex-wrap items-center gap-3 mt-3",children:[s.jsxs("span",{className:"flex items-center gap-1.5 px-2 py-1 bg-background/50 rounded-lg",children:[s.jsx($o,{className:"w-3 h-3 text-blue-500"}),s.jsxs("span",{className:"text-xs",children:[p.conversation_count," chats"]})]}),s.jsxs("span",{className:"flex items-center gap-1.5 px-2 py-1 bg-background/50 rounded-lg",children:[s.jsx(he,{className:"w-3 h-3 text-pink-500"}),s.jsxs("span",{className:"text-xs",children:[p.mood_entries_analyzed," moods"]})]}),s.jsx(je,{variant:"outline",className:"capitalize",children:p.attachment_style})]})]})}),s.jsxs("div",{className:"space-y-3 p-3 bg-background/30 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(aa,{className:"w-4 h-4 text-green-500"}),s.jsxs("span",{className:"text-sm font-medium",children:["Progress: ",p.healing_progress_score,"%"]})]}),s.jsxs("div",{className:"flex gap-2 w-full",children:[s.jsxs(H,{variant:"outline",size:"sm",onClick:()=>b(p),className:"h-9 flex-1",children:[s.jsx(Pc,{className:"w-3 h-3 mr-1.5"}),"Download"]}),s.jsx(H,{variant:"default",size:"sm",onClick:()=>{n(p),d("current")},className:"h-9 flex-1",children:"View Details"})]})]})]})})},p.id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ft,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No report history available."})]})})]})]})]})}):s.jsxs(W,{children:[s.jsxs(Z,{children:[s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Wr,{className:"w-5 h-5"}),"Personalised Insights & Reports"]}),s.jsx(He,{children:"Unlock deep analysis of your relationship patterns and emotional growth"})]}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"Premium feature - Get personalised insights based on your conversations and mood data."}),s.jsx(H,{variant:"warm",onClick:()=>{const p=window.location.pathname+window.location.search;window.location.href=`/premium-purchase?from=${encodeURIComponent(p)}`},children:"Upgrade to Premium"})]})]})};function SL(){const{user:e}=Te(),[t,r]=f.useState(""),[n,o]=f.useState(!1),[a,i]=f.useState(null),[l,c]=f.useState([]),[u,h]=f.useState(!1),[d,m]=f.useState(0),[v,b]=f.useState(!1),[y,w]=f.useState(!0);f.useEffect(()=>{e!=null&&e.id&&p()},[e==null?void 0:e.id]);const p=async()=>{if(e!=null&&e.id)try{const C=new Date;C.setHours(0,0,0,0);const{count:O}=await G.from("heart_visions").select("*",{count:"exact",head:!0}).eq("user_id",e.id).gte("created_at",C.toISOString());m(O||0)}catch(C){console.error("Error loading daily count:",C)}},g=async(C=!1)=>{if(e!=null&&e.id)try{b(!0);const O=C?l.length:0,T=6,{data:M,error:R}=await G.from("heart_visions").select("id, image_url, caption, prompt, created_at").eq("user_id",e.id).order("created_at",{ascending:!1}).range(O,O+T-1);if(R){console.error("Error loading gallery:",R);return}if(M){const B=M.map(L=>({id:L.id,url:L.image_url,caption:L.caption||"",prompt:L.prompt,timestamp:new Date(L.created_at).getTime()}));c(C?L=>[...L,...B]:B),w(M.length===T)}}catch(O){console.error("Error loading gallery:",O)}finally{b(!1)}},x=()=>{var C;return(C=e==null?void 0:e.user_metadata)!=null&&C.full_name?e.user_metadata.full_name.split(" ")[0]:"friend"},j=async()=>{if(!t.trim()){we.error("Please enter what you'd like to visualise");return}if(d>=2){we.error("You've reached your daily limit of 2 images. Come back tomorrow to create more!");return}o(!0),i(null);try{const O=await fetch("https://heartlift-launch.emergent.host/api/ai/heart-vision",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:t.trim(),user_name:x()})});if(!O.ok){const R=await O.json().catch(()=>({}));throw new Error(R.detail||`Failed to generate image: ${O.statusText}`)}const T=await O.json();if(!(T!=null&&T.image_base64))throw new Error("No image data in response");const M=`data:image/png;base64,${T.image_base64}`;i({url:M,caption:T.caption}),m(R=>R+1),we.success("Your vision has been created!")}catch(C){console.error("Error generating image:",C),we.error(C instanceof Error?C.message:"Unable to generate your vision. Please try again.")}finally{o(!1)}},N=[`Here's what that feeling might look like, ${x()}.`,"This image reflects your intention beautifully.","Take a moment with this  does it capture your emotion?",`Beautiful, ${x()}. Let this vision guide your heart.`,"Your feelings, visualised. What do you notice?"],S=()=>N[Math.floor(Math.random()*N.length)],_=async()=>{if(!a||!t||!(e!=null&&e.id))return;const{data:C,error:O}=await G.from("heart_visions").insert({user_id:e.id,image_url:a.url,prompt:t,caption:a.caption}).select().single();if(O){console.error("Error saving vision:",O),we.error("Failed to save vision");return}if(C){const T={id:C.id,url:C.image_url,caption:C.caption,prompt:C.prompt,timestamp:new Date(C.created_at).getTime()};c([T,...l]),we.success("Vision saved to gallery!")}},k=async C=>{const{error:O}=await G.from("heart_visions").delete().eq("id",C);if(O){console.error("Error deleting vision:",O),we.error("Failed to remove vision");return}c(l.filter(T=>T.id!==C)),we.success("Vision removed from gallery")},P=()=>{r(""),i(null)};return s.jsxs(W,{children:[s.jsx(Z,{className:"space-y-4 pb-4",children:s.jsxs("div",{className:"flex items-start gap-3 sm:items-center",children:[s.jsx("div",{className:"p-2 rounded-full bg-gradient-to-r from-primary to-primary-glow shrink-0",children:s.jsx(ec,{className:"w-5 h-5 text-primary-foreground"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ee,{className:"text-xl sm:text-2xl",children:"HeartVisions"}),s.jsxs(He,{className:"text-sm sm:text-base leading-relaxed",children:["Create your own emotional visuals. Type what you'd like to see, and HeartVisions will generate a personalised image that captures your feelings or intentions.",s.jsxs("span",{className:"block mt-2 text-xs font-medium",children:["You get 2 images per day  ",d,"/2 used today"]})]})]})]})}),s.jsxs(Q,{className:"space-y-6",children:[s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsxs(H,{onClick:()=>h(!1),variant:u?"outline":"default",size:"sm",children:[s.jsx(ec,{className:"w-4 h-4 mr-2"}),"Create"]}),s.jsxs(H,{onClick:()=>{h(!0),g()},variant:u?"default":"outline",size:"sm",children:[s.jsx(Zg,{className:"w-4 h-4 mr-2"}),"Gallery"]})]}),u?s.jsxs("div",{className:"space-y-4",children:[l.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(Zg,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:"No saved visions yet"}),s.jsx("p",{className:"text-sm",children:"Create and save your first vision to see it here"})]}):s.jsx("div",{className:"grid gap-4",children:l.map(C=>s.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-start gap-2",children:[s.jsxs("p",{className:"text-sm text-muted-foreground italic flex-1",children:['"',C.prompt,'"']}),s.jsx(H,{onClick:()=>k(C.id),variant:"ghost",size:"sm",className:"shrink-0",children:"Remove"})]}),s.jsx("div",{className:"rounded-lg overflow-hidden border shadow-lg",children:s.jsx("img",{src:C.url,alt:C.prompt,className:"w-full h-auto"})}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("p",{className:"text-xs text-muted-foreground",children:[new Date(C.timestamp).toLocaleDateString()," at"," ",new Date(C.timestamp).toLocaleTimeString()]}),s.jsxs(H,{onClick:async()=>{try{if("Capacitor"in window){const{Filesystem:O,Directory:T}=await Ys(async()=>{const{Filesystem:A,Directory:F}=await import("./index-CQIkPrxK.js");return{Filesystem:A,Directory:F}},__vite__mapDeps([0,1])),{Share:M}=await Ys(async()=>{const{Share:A}=await import("./index-CGPcwO2R.js");return{Share:A}},__vite__mapDeps([2,1])),B=await(await fetch(C.url)).blob(),L=await new Promise(A=>{const F=new FileReader;F.onloadend=()=>A(F.result),F.readAsDataURL(B)}),D=`heartvision-${new Date(C.timestamp).getTime()}.png`,E=await O.writeFile({path:D,data:L,directory:T.Cache});await M.share({title:"Save HeartVision",text:"Save this image to your photos",url:E.uri,dialogTitle:"Save to Photos"}),we({title:"Image ready!",description:"Tap 'Save Image' to add to your photos"})}else{const T=await(await fetch(C.url)).blob(),M=window.URL.createObjectURL(T),R=document.createElement("a");R.href=M,R.download=`heartvision-${new Date(C.timestamp).getTime()}.png`,document.body.appendChild(R),R.click(),document.body.removeChild(R),window.URL.revokeObjectURL(M),we({title:"Downloaded!",description:"Image saved to downloads"})}}catch(O){console.error("Download error:",O),we({title:"Download failed",description:"Please try again",variant:"destructive"})}},variant:"outline",size:"sm",className:"gap-2",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),s.jsx("polyline",{points:"7 10 12 15 17 10"}),s.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Download"]})]})]},C.id))}),l.length>0&&y&&s.jsx("div",{className:"flex justify-center mt-6",children:s.jsx(H,{onClick:()=>g(!0),disabled:v,variant:"outline",className:"w-full max-w-xs",children:v?"Loading...":"Load More Images"})})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{htmlFor:"vision-prompt",className:"text-sm font-medium block",children:"What would you like to visualise today?"}),s.jsx(Nn,{id:"vision-prompt",placeholder:"a peaceful sunrise over calm water",value:t,onChange:C=>r(C.target.value),className:"min-h-[100px] resize-none",disabled:n})]}),s.jsx(H,{onClick:j,disabled:n||!t.trim(),className:"w-full",size:"lg",children:n?s.jsxs(s.Fragment,{children:[s.jsx(pn,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating your vision..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ec,{className:"w-4 h-4 mr-2"}),"Generate Vision"]})})]}),n&&s.jsx("div",{className:"space-y-4 animate-in fade-in duration-500",children:s.jsxs("div",{className:"p-8 rounded-lg bg-muted/50 border text-center",children:[s.jsx(pn,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-primary"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:"Generating your image"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Creating a visual that captures your feelings..."})]})}),a&&!n&&s.jsxs("div",{className:"space-y-4 animate-in fade-in duration-500",children:[s.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border",children:[s.jsx("p",{className:"text-sm text-muted-foreground italic mb-3",children:a.caption||S()}),s.jsx("div",{className:"rounded-lg overflow-hidden border shadow-lg",children:s.jsx("img",{src:a.url,alt:"Your emotional vision",className:"w-full h-auto"})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs(H,{onClick:_,variant:"outline",className:"flex-1",size:"lg",children:[s.jsx(he,{className:"w-4 h-4 mr-2"}),"Save to Gallery"]}),s.jsxs(H,{onClick:P,variant:"default",className:"flex-1",size:"lg",children:[s.jsx(qs,{className:"w-4 h-4 mr-2"}),"Generate Another"]})]})]})]})]})]})}function _L(){const{user:e,isPremium:t,unlockPremium:r}=Te(),n=nt(),[o,a]=f.useState("quiz");return f.useEffect(()=>{const i=localStorage.getItem("isPremium");console.log("[AdvancedTools]  Syncing with localStorage on mount..."),console.log("[AdvancedTools] localStorage isPremium:",i),console.log("[AdvancedTools] Context isPremium:",t),i==="true"&&!t&&(console.log("[AdvancedTools]  MISMATCH DETECTED - localStorage is true but context is false"),console.log("[AdvancedTools]  FIXING: Calling unlockPremium() to sync context..."),r())},[t,r]),e?t?s.jsx("div",{className:"min-h-screen bg-gradient-subtle",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("div",{className:"mt-4 mb-8",children:s.jsxs(H,{variant:"outline",onClick:()=>n("/?tab=coaches",{replace:!0}),className:"flex items-center gap-2",children:[s.jsx(mr,{className:"w-4 h-4"}),"Coaches"]})}),s.jsx(W,{className:"mb-8 overflow-hidden border-2 shadow-xl",children:s.jsxs("div",{className:"bg-gradient-to-br from-primary/10 via-primary/5 to-background p-8 text-center space-y-6",children:[s.jsx("div",{className:"flex items-center justify-center gap-2",children:s.jsx("div",{className:"p-4 rounded-2xl bg-gradient-to-r from-primary to-primary-glow shadow-2xl animate-pulse",children:s.jsx(Pe,{className:"w-12 h-12 text-primary-foreground"})})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx("h1",{className:"text-4xl sm:text-5xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"Advanced Tools"}),s.jsx(je,{variant:"default",className:"bg-gradient-to-r from-primary to-primary-glow text-primary-foreground px-4 py-1 text-sm",children:"Premium"})]}),s.jsx("p",{className:"text-xl font-semibold text-foreground",children:"Unlock deeper insights into your relationship patterns"})]}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"Discover your attachment style, analyse conversations, get personalised text suggestions, and access guided programs designed to help you build healthier, more fulfilling relationships."})]})}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 mb-8",children:[s.jsxs(H,{variant:o==="quiz"?"default":"outline",onClick:()=>a("quiz"),className:"h-auto py-4 flex flex-col items-center gap-2 hover:scale-105 transition-transform",children:[s.jsx(he,{className:"w-6 h-6"}),s.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Attachment Quiz"})]}),s.jsxs(H,{variant:o==="analyser"?"default":"outline",onClick:()=>a("analyser"),className:"h-auto py-4 flex flex-col items-center gap-2 hover:scale-105 transition-transform",children:[s.jsx(Jr,{className:"w-6 h-6"}),s.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Conversation Analyser"})]}),s.jsxs(H,{variant:o==="suggestions"?"default":"outline",onClick:()=>a("suggestions"),className:"h-auto py-4 flex flex-col items-center gap-2 hover:scale-105 transition-transform",children:[s.jsx(Zl,{className:"w-6 h-6"}),s.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Text Helper"})]}),s.jsxs(H,{variant:o==="insights"?"default":"outline",onClick:()=>a("insights"),className:"h-auto py-4 flex flex-col items-center gap-2 hover:scale-105 transition-transform",children:[s.jsx(Wr,{className:"w-6 h-6"}),s.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Insights & Reports"})]}),s.jsxs(H,{variant:o==="programs"?"default":"outline",onClick:()=>a("programs"),className:"h-auto py-4 flex flex-col items-center gap-2 hover:scale-105 transition-transform",children:[s.jsx(ir,{className:"w-6 h-6"}),s.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Guided Programs"})]}),s.jsxs(H,{variant:o==="heartvisions"?"default":"outline",onClick:()=>a("heartvisions"),className:"h-auto py-4 flex flex-col items-center gap-2 hover:scale-105 transition-transform",children:[s.jsx(ec,{className:"w-6 h-6"}),s.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"HeartVisions"})]})]}),s.jsxs("div",{className:"max-w-4xl mx-auto",children:[o==="quiz"&&s.jsx(B5,{}),o==="analyser"&&s.jsx(V5,{}),o==="suggestions"&&s.jsx(jL,{}),o==="insights"&&s.jsx(NL,{}),o==="programs"&&s.jsx(W5,{}),o==="heartvisions"&&s.jsx(SL,{})]})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-subtle flex items-center justify-center p-4",children:s.jsxs(W,{className:"p-8 text-center max-w-md mx-auto",children:[s.jsx(Pe,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Premium Required"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Upgrade to premium to access advanced psychological tools and insights."}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(H,{variant:"outline",onClick:()=>window.location.href="/",children:"Return to Home"}),s.jsx(H,{variant:"warm",onClick:()=>{const i=window.location.pathname+window.location.search;window.location.href=`/premium-purchase?from=${encodeURIComponent(i)}`},children:"Upgrade to Premium"})]})]})}):s.jsx(Cb,{to:"/auth",replace:!0})}const CL=Ji("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ju=f.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:ie(CL({variant:t}),e),...r}));Ju.displayName="Alert";const kL=f.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:ie("mb-1 font-medium leading-none tracking-tight",e),...t}));kL.displayName="AlertTitle";const Xu=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ie("text-sm [&_p]:leading-relaxed",e),...t}));Xu.displayName="AlertDescription";var EL=Object.defineProperty,PL=Object.defineProperties,TL=Object.getOwnPropertyDescriptors,Yc=Object.getOwnPropertySymbols,b1=Object.prototype.hasOwnProperty,j1=Object.prototype.propertyIsEnumerable,wx=(e,t,r)=>t in e?EL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,RL=(e,t)=>{for(var r in t||(t={}))b1.call(t,r)&&wx(e,r,t[r]);if(Yc)for(var r of Yc(t))j1.call(t,r)&&wx(e,r,t[r]);return e},AL=(e,t)=>PL(e,TL(t)),IL=(e,t)=>{var r={};for(var n in e)b1.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Yc)for(var n of Yc(e))t.indexOf(n)<0&&j1.call(e,n)&&(r[n]=e[n]);return r};function OL(e){let t=setTimeout(e,0),r=setTimeout(e,10),n=setTimeout(e,50);return[t,r,n]}function ML(e){let t=f.useRef();return f.useEffect(()=>{t.current=e}),t.current}var DL=18,N1=40,LL=`${N1}px`,$L=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function UL({containerRef:e,inputRef:t,pushPasswordManagerStrategy:r,isFocused:n}){let[o,a]=f.useState(!1),[i,l]=f.useState(!1),[c,u]=f.useState(!1),h=f.useMemo(()=>r==="none"?!1:(r==="increase-width"||r==="experimental-no-flickering")&&o&&i,[o,i,r]),d=f.useCallback(()=>{let m=e.current,v=t.current;if(!m||!v||c||r==="none")return;let b=m,y=b.getBoundingClientRect().left+b.offsetWidth,w=b.getBoundingClientRect().top+b.offsetHeight/2,p=y-DL,g=w;document.querySelectorAll($L).length===0&&document.elementFromPoint(p,g)===m||(a(!0),u(!0))},[e,t,c,r]);return f.useEffect(()=>{let m=e.current;if(!m||r==="none")return;function v(){let y=window.innerWidth-m.getBoundingClientRect().right;l(y>=N1)}v();let b=setInterval(v,1e3);return()=>{clearInterval(b)}},[e,r]),f.useEffect(()=>{let m=n||document.activeElement===t.current;if(r==="none"||!m)return;let v=setTimeout(d,0),b=setTimeout(d,2e3),y=setTimeout(d,5e3),w=setTimeout(()=>{u(!0)},6e3);return()=>{clearTimeout(v),clearTimeout(b),clearTimeout(y),clearTimeout(w)}},[t,n,r,d]),{hasPWMBadge:o,willPushPWMBadge:h,PWM_BADGE_SPACE_WIDTH:LL}}var S1=f.createContext({}),_1=f.forwardRef((e,t)=>{var r=e,{value:n,onChange:o,maxLength:a,textAlign:i="left",pattern:l,placeholder:c,inputMode:u="numeric",onComplete:h,pushPasswordManagerStrategy:d="increase-width",pasteTransformer:m,containerClassName:v,noScriptCSSFallback:b=FL,render:y,children:w}=r,p=IL(r,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),g,x,j,N,S;let[_,k]=f.useState(typeof p.defaultValue=="string"?p.defaultValue:""),P=n??_,C=ML(P),O=f.useCallback(ne=>{o==null||o(ne),k(ne)},[o]),T=f.useMemo(()=>l?typeof l=="string"?new RegExp(l):l:null,[l]),M=f.useRef(null),R=f.useRef(null),B=f.useRef({value:P,onChange:O,isIOS:typeof window<"u"&&((x=(g=window==null?void 0:window.CSS)==null?void 0:g.supports)==null?void 0:x.call(g,"-webkit-touch-callout","none"))}),L=f.useRef({prev:[(j=M.current)==null?void 0:j.selectionStart,(N=M.current)==null?void 0:N.selectionEnd,(S=M.current)==null?void 0:S.selectionDirection]});f.useImperativeHandle(t,()=>M.current,[]),f.useEffect(()=>{let ne=M.current,ce=R.current;if(!ne||!ce)return;B.current.value!==ne.value&&B.current.onChange(ne.value),L.current.prev=[ne.selectionStart,ne.selectionEnd,ne.selectionDirection];function Ce(){if(document.activeElement!==ne){V(null),X(null);return}let be=ne.selectionStart,Nt=ne.selectionEnd,oo=ne.selectionDirection,Oe=ne.maxLength,Mt=ne.value,gr=L.current.prev,Mr=-1,Wt=-1,tn;if(Mt.length!==0&&be!==null&&Nt!==null){let ol=be===Nt,Cn=be===Mt.length&&Mt.length<Oe;if(ol&&!Cn){let rn=be;if(rn===0)Mr=0,Wt=1,tn="forward";else if(rn===Oe)Mr=rn-1,Wt=rn,tn="backward";else if(Oe>1&&Mt.length>1){let Aa=0;if(gr[0]!==null&&gr[1]!==null){tn=rn<gr[1]?"backward":"forward";let al=gr[0]===gr[1]&&gr[0]<Oe;tn==="backward"&&!al&&(Aa=-1)}Mr=Aa+rn,Wt=Aa+rn+1}}Mr!==-1&&Wt!==-1&&Mr!==Wt&&M.current.setSelectionRange(Mr,Wt,tn)}let Ra=Mr!==-1?Mr:be,ao=Wt!==-1?Wt:Nt,_n=tn??oo;V(Ra),X(ao),L.current.prev=[Ra,ao,_n]}if(document.addEventListener("selectionchange",Ce,{capture:!0}),Ce(),document.activeElement===ne&&F(!0),!document.getElementById("input-otp-style")){let be=document.createElement("style");if(be.id="input-otp-style",document.head.appendChild(be),be.sheet){let Nt="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";Va(be.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),Va(be.sheet,`[data-input-otp]:autofill { ${Nt} }`),Va(be.sheet,`[data-input-otp]:-webkit-autofill { ${Nt} }`),Va(be.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),Va(be.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let $e=()=>{ce&&ce.style.setProperty("--root-height",`${ne.clientHeight}px`)};$e();let ut=new ResizeObserver($e);return ut.observe(ne),()=>{document.removeEventListener("selectionchange",Ce,{capture:!0}),ut.disconnect()}},[]);let[D,E]=f.useState(!1),[A,F]=f.useState(!1),[U,V]=f.useState(null),[$,X]=f.useState(null);f.useEffect(()=>{OL(()=>{var ne,ce,Ce,$e;(ne=M.current)==null||ne.dispatchEvent(new Event("input"));let ut=(ce=M.current)==null?void 0:ce.selectionStart,be=(Ce=M.current)==null?void 0:Ce.selectionEnd,Nt=($e=M.current)==null?void 0:$e.selectionDirection;ut!==null&&be!==null&&(V(ut),X(be),L.current.prev=[ut,be,Nt])})},[P,A]),f.useEffect(()=>{C!==void 0&&P!==C&&C.length<a&&P.length===a&&(h==null||h(P))},[a,h,C,P]);let oe=UL({containerRef:R,inputRef:M,pushPasswordManagerStrategy:d,isFocused:A}),ue=f.useCallback(ne=>{let ce=ne.currentTarget.value.slice(0,a);if(ce.length>0&&T&&!T.test(ce)){ne.preventDefault();return}typeof C=="string"&&ce.length<C.length&&document.dispatchEvent(new Event("selectionchange")),O(ce)},[a,O,C,T]),I=f.useCallback(()=>{var ne;if(M.current){let ce=Math.min(M.current.value.length,a-1),Ce=M.current.value.length;(ne=M.current)==null||ne.setSelectionRange(ce,Ce),V(ce),X(Ce)}F(!0)},[a]),q=f.useCallback(ne=>{var ce,Ce;let $e=M.current;if(!m&&(!B.current.isIOS||!ne.clipboardData||!$e))return;let ut=ne.clipboardData.getData("text/plain"),be=m?m(ut):ut;ne.preventDefault();let Nt=(ce=M.current)==null?void 0:ce.selectionStart,oo=(Ce=M.current)==null?void 0:Ce.selectionEnd,Oe=(Nt!==oo?P.slice(0,Nt)+be+P.slice(oo):P.slice(0,Nt)+be+P.slice(Nt)).slice(0,a);if(Oe.length>0&&T&&!T.test(Oe))return;$e.value=Oe,O(Oe);let Mt=Math.min(Oe.length,a-1),gr=Oe.length;$e.setSelectionRange(Mt,gr),V(Mt),X(gr)},[a,O,T,P]),te=f.useMemo(()=>({position:"relative",cursor:p.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[p.disabled]),le=f.useMemo(()=>({position:"absolute",inset:0,width:oe.willPushPWMBadge?`calc(100% + ${oe.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:oe.willPushPWMBadge?`inset(0 ${oe.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:i,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[oe.PWM_BADGE_SPACE_WIDTH,oe.willPushPWMBadge,i]),me=f.useMemo(()=>f.createElement("input",AL(RL({autoComplete:p.autoComplete||"one-time-code"},p),{"data-input-otp":!0,"data-input-otp-placeholder-shown":P.length===0||void 0,"data-input-otp-mss":U,"data-input-otp-mse":$,inputMode:u,pattern:T==null?void 0:T.source,"aria-placeholder":c,style:le,maxLength:a,value:P,ref:M,onPaste:ne=>{var ce;q(ne),(ce=p.onPaste)==null||ce.call(p,ne)},onChange:ue,onMouseOver:ne=>{var ce;E(!0),(ce=p.onMouseOver)==null||ce.call(p,ne)},onMouseLeave:ne=>{var ce;E(!1),(ce=p.onMouseLeave)==null||ce.call(p,ne)},onFocus:ne=>{var ce;I(),(ce=p.onFocus)==null||ce.call(p,ne)},onBlur:ne=>{var ce;F(!1),(ce=p.onBlur)==null||ce.call(p,ne)}})),[ue,I,q,u,le,a,$,U,p,T==null?void 0:T.source,P]),fe=f.useMemo(()=>({slots:Array.from({length:a}).map((ne,ce)=>{var Ce;let $e=A&&U!==null&&$!==null&&(U===$&&ce===U||ce>=U&&ce<$),ut=P[ce]!==void 0?P[ce]:null,be=P[0]!==void 0?null:(Ce=c==null?void 0:c[ce])!=null?Ce:null;return{char:ut,placeholderChar:be,isActive:$e,hasFakeCaret:$e&&ut===null}}),isFocused:A,isHovering:!p.disabled&&D}),[A,D,a,$,U,p.disabled,P]),Ie=f.useMemo(()=>y?y(fe):f.createElement(S1.Provider,{value:fe},w),[w,fe,y]);return f.createElement(f.Fragment,null,b!==null&&f.createElement("noscript",null,f.createElement("style",null,b)),f.createElement("div",{ref:R,"data-input-otp-container":!0,style:te,className:v},Ie,f.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},me)))});_1.displayName="Input";function Va(e,t){try{e.insertRule(t)}catch{console.error("input-otp could not insert CSS rule:",t)}}var FL=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const C1=f.forwardRef(({className:e,containerClassName:t,...r},n)=>s.jsx(_1,{ref:n,containerClassName:ie("flex items-center gap-2 has-[:disabled]:opacity-50",t),className:ie("disabled:cursor-not-allowed",e),...r}));C1.displayName="InputOTP";const k1=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ie("flex items-center",e),...t}));k1.displayName="InputOTPGroup";const Ss=f.forwardRef(({index:e,className:t,...r},n)=>{const o=f.useContext(S1),{char:a,hasFakeCaret:i,isActive:l}=o.slots[e];return s.jsxs("div",{ref:n,className:ie("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",l&&"z-10 ring-2 ring-ring ring-offset-background",t),...r,children:[a,i&&s.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})})]})});Ss.displayName="InputOTPSlot";const zL=f.forwardRef(({...e},t)=>s.jsx("div",{ref:t,role:"separator",...e,children:s.jsx(fE,{})}));zL.displayName="InputOTPSeparator";const HL=()=>{const e=nt(),[t]=Pu(),[r,n]=f.useState("request"),[o,a]=f.useState(""),[i,l]=f.useState(""),[c,u]=f.useState(""),[h,d]=f.useState(""),[m,v]=f.useState(!1),[b,y]=f.useState(""),[w,p]=f.useState(!1);f.useEffect(()=>{const N=t.get("email");N&&(a(decodeURIComponent(N)),n("verify"))},[t]);const g=async N=>{N.preventDefault(),y(""),v(!0);try{const S=`${window.location.origin}/password-reset`,{error:_}=await G.auth.resetPasswordForEmail(o,{redirectTo:S});if(_)throw _;we.success("Verification code sent to your email"),n("verify")}catch(S){console.error("Send code error:",S),y(S.message||"Failed to send code. Please try again.")}finally{v(!1)}},x=async N=>{N.preventDefault(),y(""),v(!0);try{const{error:S}=await G.auth.verifyOtp({email:o,token:i,type:"recovery"});if(S)throw S;we.success("Code verified. Set your new password."),n("reset")}catch(S){console.error("Verify code error:",S),y(S.message||"Invalid or expired code. Please try again.")}finally{v(!1)}},j=async N=>{if(N.preventDefault(),y(""),c!==h){y("Passwords do not match");return}if(c.length<6){y("Password must be at least 6 characters long");return}v(!0);try{const{error:S}=await G.auth.updateUser({password:c});if(S)throw S;p(!0),we.success("Password updated successfully!"),setTimeout(()=>{e("/")},2e3)}catch(S){console.error("Password reset error:",S),y(S.message||"Failed to update password. Please try again.")}finally{v(!1)}};return w?s.jsx("div",{className:"min-h-screen bg-gradient-subtle flex items-center justify-center p-4",children:s.jsx(W,{className:"w-full max-w-md",children:s.jsxs(Q,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(Ks,{className:"w-16 h-16 text-green-500 mb-4"}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Password Updated!"}),s.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Your password has been successfully updated. You will be redirected to the homepage shortly."})]})})}):s.jsx("div",{className:"min-h-screen bg-gradient-subtle flex items-center justify-center p-4",children:s.jsxs(W,{className:"w-full max-w-md",children:[s.jsxs(Z,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-3 rounded-full bg-primary/10",children:s.jsx(he,{className:"w-8 h-8 text-primary"})})}),s.jsx(ee,{className:"text-2xl",children:"Reset Your Password"}),s.jsxs(He,{children:[r==="request"&&"Enter your email to get a verification code",r==="verify"&&"Enter the 6-digit code we sent to your email",r==="reset"&&"Set a new password for your account"]})]}),s.jsxs(Q,{children:[b&&s.jsxs(Ju,{variant:"destructive",className:"mb-4",children:[s.jsx(w0,{className:"h-4 w-4"}),s.jsx(Xu,{children:b})]}),r==="request"&&s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"email",children:"Email"}),s.jsx(it,{id:"email",type:"email",placeholder:"you@example.com",value:o,onChange:N=>a(N.target.value),required:!0,disabled:m})]}),s.jsxs(H,{type:"submit",className:"w-full",disabled:m||!o,children:[m&&s.jsx(pn,{className:"mr-2 h-4 w-4 animate-spin"}),"Send Code"]}),s.jsx("div",{className:"text-center",children:s.jsx(H,{type:"button",variant:"link",onClick:()=>e("/"),className:"text-sm",children:"Back to Home"})})]}),r==="verify"&&s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"email",children:"Email"}),s.jsx(it,{id:"email",type:"email",placeholder:"you@example.com",value:o,onChange:N=>a(N.target.value),required:!0,disabled:m})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{children:"Verification Code"}),s.jsx(C1,{maxLength:6,value:i,onChange:l,children:s.jsxs(k1,{children:[s.jsx(Ss,{index:0}),s.jsx(Ss,{index:1}),s.jsx(Ss,{index:2}),s.jsx(Ss,{index:3}),s.jsx(Ss,{index:4}),s.jsx(Ss,{index:5})]})})]}),s.jsxs(H,{type:"submit",className:"w-full",disabled:m||!o||i.length!==6,children:[m&&s.jsx(pn,{className:"mr-2 h-4 w-4 animate-spin"}),"Verify Code"]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(H,{type:"button",variant:"ghost",onClick:()=>n("request"),children:"Back"}),s.jsx(H,{type:"button",variant:"link",onClick:async()=>{v(!0),y("");try{const N=`${window.location.origin}/password-reset`,{error:S}=await G.auth.resetPasswordForEmail(o,{redirectTo:N});if(S)throw S;we.success("Code resent")}catch(N){y(N.message||"Failed to resend code")}finally{v(!1)}},children:"Resend Code"})]})]}),r==="reset"&&s.jsxs("form",{onSubmit:j,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"password",children:"New Password"}),s.jsx(it,{id:"password",type:"password",placeholder:"Enter your new password",value:c,onChange:N=>u(N.target.value),required:!0,minLength:6,disabled:m})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"confirmPassword",children:"Confirm Password"}),s.jsx(it,{id:"confirmPassword",type:"password",placeholder:"Confirm your new password",value:h,onChange:N=>d(N.target.value),required:!0,minLength:6,disabled:m})]}),s.jsxs(H,{type:"submit",className:"w-full",disabled:m||!c||!h,children:[m&&s.jsx(pn,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Password"]}),s.jsx("div",{className:"text-center",children:s.jsx(H,{type:"button",variant:"link",onClick:()=>e("/"),className:"text-sm",children:"Back to Home"})})]})]})]})})};function BL(){const[e,t]=f.useState(""),[r,n]=f.useState(""),[o,a]=f.useState(!1),[i,l]=f.useState(""),[c,u]=f.useState(!1),h=nt(),[d]=Pu();f.useEffect(()=>{const v=d.get("access_token"),b=d.get("refresh_token");(!v||!b)&&l("Invalid or expired reset link. Please request a new password reset.")},[d]);const m=async v=>{if(v.preventDefault(),l(""),e!==r){l("Passwords do not match");return}if(e.length<6){l("Password must be at least 6 characters long");return}a(!0);try{const b=d.get("access_token"),y=d.get("refresh_token");if(!b||!y)throw new Error("Invalid reset link");const{error:w}=await G.auth.setSession({access_token:b,refresh_token:y});if(w)throw w;const{error:p}=await G.auth.updateUser({password:e});if(p)throw p;await G.auth.signOut(),u(!0),we.success("Password updated successfully!"),setTimeout(()=>{h("/auth")},2e3)}catch(b){console.error("Password reset error:",b),l(b.message||"Failed to reset password. Please try again."),we.error("Failed to reset password")}finally{a(!1)}};return c?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-accent/5 flex items-center justify-center p-4",children:s.jsx(W,{className:"w-full max-w-md",children:s.jsxs(Z,{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(he,{className:"w-8 h-8 text-primary"})}),s.jsx(ee,{className:"text-2xl font-bold",children:"Password Updated!"}),s.jsx(He,{children:"Your password has been successfully updated. You'll be redirected to sign in shortly."})]})})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-accent/5 flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.jsxs(H,{variant:"ghost",onClick:()=>h("/"),className:"mb-4",children:[s.jsx(mr,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),s.jsxs(W,{children:[s.jsxs(Z,{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(he,{className:"w-8 h-8 text-primary"})}),s.jsx(ee,{className:"text-2xl font-bold",children:"HeartLift"}),s.jsx(He,{children:"Create your new password"})]}),s.jsx(Q,{children:s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[i&&s.jsx(Ju,{variant:"destructive",children:s.jsx(Xu,{children:i})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"password",children:"New Password"}),s.jsx(it,{id:"password",type:"password",value:e,onChange:v=>t(v.target.value),required:!0,minLength:6,disabled:o,placeholder:"Enter your new password"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"confirmPassword",children:"Confirm New Password"}),s.jsx(it,{id:"confirmPassword",type:"password",value:r,onChange:v=>n(v.target.value),required:!0,minLength:6,disabled:o,placeholder:"Confirm your new password"})]}),s.jsx(H,{type:"submit",className:"w-full",disabled:o||!e||!r,children:o?"Updating Password...":"Update Password"})]})})]})]})})}function WL(){const[e,t]=f.useState(""),[r,n]=f.useState(!1),[o,a]=f.useState(""),[i,l]=f.useState(!1),[c,u]=f.useState(!1),h=nt(),[d]=Pu(),m=d.get("email");f.useEffect(()=>{m||h("/auth")},[m,h]);const v=async y=>{if(y.preventDefault(),a(""),e.length!==6){a("Please enter a 6-digit verification code");return}n(!0);try{const{error:w}=await G.auth.verifyOtp({email:m,token:e,type:"signup"});if(w)throw w;l(!0),we.success("Email verified successfully! You're now signed in."),setTimeout(()=>{h("/")},2e3)}catch(w){console.error("Verification error:",w),a(w.message||"Failed to verify email. Please try again."),we.error("Failed to verify email")}finally{n(!1)}},b=async()=>{if(m){u(!0),a("");try{const{error:y}=await G.auth.resend({type:"signup",email:m});if(y)throw y;we.success("Verification code resent!")}catch(y){console.error("Resend error:",y),a(y.message||"Failed to resend code. Please try again."),we.error("Failed to resend code")}finally{u(!1)}}};return i?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-accent/5 flex items-center justify-center p-4",children:s.jsx(W,{className:"w-full max-w-md",children:s.jsxs(Z,{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(he,{className:"w-8 h-8 text-primary"})}),s.jsx(ee,{className:"text-2xl font-bold",children:"Email Verified!"}),s.jsx(He,{children:"Your email has been successfully verified and you're now signed in!"})]})})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-accent/5 flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.jsxs(H,{variant:"ghost",onClick:()=>h("/auth"),className:"mb-4",children:[s.jsx(mr,{className:"w-4 h-4 mr-2"}),"Back to Sign In"]}),s.jsxs(W,{children:[s.jsxs(Z,{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(he,{className:"w-8 h-8 text-primary"})}),s.jsx(ee,{className:"text-2xl font-bold",children:"Verify Your Email"}),s.jsxs(He,{children:["We've sent a 6-digit verification code to ",m]})]}),s.jsx(Q,{children:s.jsxs("form",{onSubmit:v,className:"space-y-4",children:[o&&s.jsx(Ju,{variant:"destructive",children:s.jsx(Xu,{children:o})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"code",children:"Verification Code"}),s.jsx(it,{id:"code",type:"text",value:e,onChange:y=>t(y.target.value.replace(/\D/g,"").slice(0,6)),required:!0,maxLength:6,disabled:r,placeholder:"Enter 6-digit code",className:"text-center text-lg tracking-widest"})]}),s.jsx(H,{type:"submit",className:"w-full",disabled:r||e.length!==6,children:r?"Verifying...":"Verify Email"}),s.jsx("div",{className:"text-center",children:s.jsx(H,{type:"button",variant:"ghost",size:"sm",onClick:b,disabled:c,className:"text-sm text-muted-foreground hover:text-primary",children:c?"Sending...":"Didn't receive the code? Resend"})})]})})]})]})})}const VL=()=>{const e=nt();return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-muted to-secondary",children:s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[s.jsx("div",{className:"flex items-center gap-4 mb-8",children:s.jsxs(H,{variant:"ghost",size:"sm",onClick:()=>e("/"),className:"flex items-center gap-2",children:[s.jsx(mr,{className:"w-4 h-4"}),"Back to Home"]})}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"p-4 rounded-full bg-gradient-to-r from-primary to-primary-glow shadow-lg",children:s.jsx(sa,{className:"w-8 h-8 text-primary-foreground"})})}),s.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"HeartLift Privacy Policy"}),s.jsx("p",{className:"text-lg text-muted-foreground",children:"Your privacy and emotional wellbeing are our top priorities"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Effective Date: 29/10/2025 | Last Updated: 29/10/2025"})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Tc,{className:"w-5 h-5 text-primary"}),"Data We Collect"]})}),s.jsx(Q,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Account Information"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[s.jsx("li",{children:"Name, email, and password (stored via Supabase authentication)"}),s.jsx("li",{children:"User preferences and selected AI coach"}),s.jsx("li",{children:"Premium subscription status"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Chat & Conversation Data"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[s.jsx("li",{children:"Your messages and AI coach responses (stored in Supabase)"}),s.jsx("li",{children:"Conversation timestamps and session IDs"}),s.jsx("li",{children:"Selected coach preferences and conversation history"}),s.jsx("li",{children:"Messages persist across sessions until you refresh or start a new day"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Daily Reflections & Personal Data"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[s.jsx("li",{children:"Daily reflection entries (stored in Supabase)"}),s.jsx("li",{children:"Coaches chatted with, conversation ratings, helpful moments, areas for improvement"}),s.jsx("li",{children:"Used by AI coaches to personalize future conversations"}),s.jsx("li",{children:"You can view and access all past reflections anytime"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Quiz & Assessment Data"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[s.jsx("li",{children:"Attachment style quiz responses and results (stored in Supabase)"}),s.jsx("li",{children:"Quiz analysis, attachment style classifications, and personalized recommendations"}),s.jsx("li",{children:"Quiz completion dates and historical results"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Insights & Reports"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[s.jsx("li",{children:"Generated personalized insights reports (stored in Supabase)"}),s.jsx("li",{children:"Analysis of emotional patterns, communication styles, and relationship goals"}),s.jsx("li",{children:"Healing progress scores and personalized recommendations"}),s.jsx("li",{children:"All past reports accessible anytime through your account"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Usage Tracking Data (Free Users)"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[s.jsx("li",{children:"Daily message count to enforce 10 message limit (stored in Supabase)"}),s.jsx("li",{children:"Automatically resets at midnight UTC"}),s.jsx("li",{children:"Retained for 7 days, then automatically deleted"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Technical Data"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[s.jsx("li",{children:"Device information, operating system, app version"}),s.jsx("li",{children:"IP address and usage analytics (for improving service)"}),s.jsx("li",{children:"Error logs and performance metrics"})]})]})]})})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Jr,{className:"w-5 h-5 text-primary"}),"How We Use Your Data"]})}),s.jsxs(Q,{className:"space-y-4",children:[s.jsx("p",{children:"We use your information to:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Provide personalised AI coaching:"})," Your daily reflections are accessed by AI coaches to tailor conversations to what you want to explore and work on"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Track attachment styles:"})," Quiz results help provide personalized insights and recommendations"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Generate insights reports:"})," Analyze your conversations, mood entries, and reflections to create comprehensive personalized reports"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Enforce usage limits:"})," Track message counts for free users (10 messages/day, resets at midnight UTC)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Improve our app and AI systems:"})," Only anonymized data is used for service improvements"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Communicate important updates:"})," Security alerts, policy changes, and feature announcements"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Provide crisis support:"})," AI coaches detect sensitive topics and redirect to appropriate helplines (UK Samaritans, National Domestic Abuse Helpline, etc.)"]})]}),s.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mt-4",children:[s.jsx("p",{className:"font-semibold text-amber-800",children:"Important Note on Personalization:"}),s.jsx("p",{className:"text-sm text-amber-700 mt-2",children:"When you fill out daily reflections, your AI coaches can access your last 3 reflections to personalize conversations based on what you want to explore. This helps coaches naturally weave in topics you're working on without you having to repeat yourself."})]}),s.jsx("p",{className:"font-semibold text-primary mt-4",children:"Your chat data and reflections will NEVER be shared with third parties, sold, or used for advertising."})]})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(hE,{className:"w-5 h-5 text-primary"}),"Data Storage & Security"]})}),s.jsx(Q,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Storage Infrastructure:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Supabase (PostgreSQL):"})," User authentication, chat conversations, quiz results"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Supabase (PostgreSQL):"})," All application data including authentication, conversations, daily reflections, insights reports, usage tracking, HeartVisions gallery, and quiz results"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"OpenAI API:"})," AI coach responses processed via OpenAI GPT-4o-mini (conversation data is NOT stored by OpenAI)"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Security Measures:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Encryption:"})," Data is encrypted both in transit (SSL/TLS) and at rest"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Access Control:"})," Only you can access your account via secure authentication"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Row Level Security (RLS):"})," Supabase enforces strict data isolation between users"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Password Protection:"})," Leaked password protection prevents use of compromised passwords"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"API Security:"})," Backend APIs use secure authentication and rate limiting"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Data Processing:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[s.jsx("li",{children:"AI processing happens server-side through our FastAPI backend"}),s.jsx("li",{children:"Conversation context (last 5 messages) sent to AI for continuity"}),s.jsx("li",{children:"Your recent reflections (last 3) shared with AI coaches for personalization"}),s.jsx("li",{children:"No data is stored on your device except session tokens"})]})]})]})})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(ft,{className:"w-5 h-5 text-primary"}),"Data Retention"]})}),s.jsxs(Q,{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Chat Conversations:"}),s.jsx("p",{className:"text-sm",children:"Retained until you refresh the page or start a new day. Stored persistently in database to maintain conversation context across sessions."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Daily Reflections:"}),s.jsx("p",{className:"text-sm",children:"Retained indefinitely to allow you to track your personal journey. You can view all past reflections anytime."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Quiz Results:"}),s.jsx("p",{className:"text-sm",children:"Retained indefinitely so you can review your attachment style history and track changes over time."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Insights Reports:"}),s.jsx("p",{className:"text-sm",children:"Retained indefinitely so you can track your personal growth journey. You can view all past insights reports anytime."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Usage Tracking Data:"}),s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"Automatically deleted after 7 days."})," Only used to enforce daily message limits for free users."]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Account Information:"}),s.jsx("p",{className:"text-sm",children:"Retained until you delete your account. After deletion, all personal data is permanently removed within 30 days."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Technical & Analytics Data:"}),s.jsx("p",{className:"text-sm",children:"Retained 612 months, anonymized where possible."})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4",children:[s.jsx("p",{className:"font-semibold text-blue-800",children:"Your Data Control:"}),s.jsx("p",{className:"text-sm text-blue-700 mt-2",children:"Users can request deletion of any data at any time by contacting support@heart-lift.com. Account deletion removes all associated data permanently within 30 days."})]})]})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(xE,{className:"w-5 h-5 text-primary"}),"International Data Transfers"]})}),s.jsx(Q,{children:s.jsx("p",{children:"By using HeartLift, you consent to your data being stored and processed in the United Kingdom, which may have different data protection laws than your location."})})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(sa,{className:"w-5 h-5 text-primary"}),"Age Restrictions"]})}),s.jsx(Q,{children:s.jsxs("p",{children:["HeartLift is intended for users ",s.jsx("strong",{children:"13 years and older"}),". We do not knowingly collect personal data from children under 13."]})})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(jE,{className:"w-5 h-5 text-primary"}),"Your Rights"]})}),s.jsxs(Q,{className:"space-y-4",children:[s.jsx("p",{children:"You have full control over your personal data:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Access:"})," Request a copy of your stored data"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Deletion:"})," Request deletion of your account and all data"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Portability:"})," Export your data in a readable format"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Correction:"})," Update or correct inaccurate information"]})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-4",children:["To exercise these rights, contact us at"," ",s.jsx("a",{href:"mailto:support@heart-lift.com",className:"text-primary hover:text-primary/80 underline",children:"support@heart-lift.com"})]})]})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(AE,{className:"w-5 h-5 text-amber-500"}),"Sensitive Data & Safety"]})}),s.jsxs(Q,{className:"space-y-4",children:[s.jsx("p",{className:"font-semibold",children:"Our AI coaches provide guidance but cannot replace professional help. They do NOT provide support for:"}),s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:s.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm text-amber-700",children:[s.jsx("li",{children:"Suicide or self-harm"}),s.jsx("li",{children:"Drug or substance abuse"}),s.jsx("li",{children:"Domestic abuse or violence"}),s.jsx("li",{children:"Child abuse"}),s.jsx("li",{children:"Sexual assault or trauma"}),s.jsx("li",{children:"Eating disorders"}),s.jsx("li",{children:"Severe mental health crises"})]})}),s.jsxs("p",{className:"text-sm mt-2",children:[s.jsx("strong",{children:"When these topics are detected,"})," our AI coaches immediately stop and provide crisis helpline resources instead of attempting to provide support."]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-3",children:[s.jsx("h4",{className:"font-semibold mb-2 text-blue-800",children:"Emergency Resources (UK):"}),s.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Samaritans:"})," 116 123 (24/7, free to call)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Crisis Text Line UK:"})," Text SHOUT to 85258"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"National Domestic Abuse Helpline:"})," 0808 2000 247"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Rape Crisis England & Wales:"})," 0808 500 2222"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"FRANK (Drug Support):"})," 0300 123 6600"]})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-3",children:[s.jsx("h4",{className:"font-semibold mb-2 text-blue-800",children:"Emergency Resources (US):"}),s.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"National Suicide Prevention Lifeline:"})," 988 or 1-800-273-8255"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Crisis Text Line:"})," Text HOME to 741741"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"National Domestic Violence Hotline:"})," 1-800-799-7233"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"RAINN Sexual Assault Hotline:"})," 1-800-656-4673"]})]})]})]})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(uE,{className:"w-5 h-5 text-primary"}),"Cookies & Analytics"]})}),s.jsx(Q,{children:s.jsx("p",{children:"We may use cookies and analytics to improve your experience. This data is anonymized and cannot identify you personally."})})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(pE,{className:"w-5 h-5 text-primary"}),"Policy Updates"]})}),s.jsx(Q,{children:s.jsx("p",{children:"We may update this Privacy Policy occasionally. Significant changes will be communicated via in-app notifications or email. We encourage you to review this page periodically."})})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsx(ee,{children:"Contact Us"})}),s.jsxs(Q,{children:[s.jsx("p",{children:"For questions about this Privacy Policy or your data:"}),s.jsxs("p",{className:"mt-2",children:[s.jsx("strong",{children:"Email:"})," ",s.jsx("a",{href:"mailto:support@heart-lift.com",className:"text-primary hover:text-primary/80 underline",children:"support@heart-lift.com"})]})]})]})]})]})})};function KL(){const e=nt();return s.jsx("div",{className:"min-h-screen py-16 px-4 bg-gradient-to-br from-background via-muted to-secondary",children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs(H,{variant:"gentle",onClick:()=>e(-1),className:"mb-4",children:[s.jsx(mr,{className:"w-4 h-4 mr-2"}),"Back"]}),s.jsxs(W,{className:"shadow-gentle",children:[s.jsxs(Z,{children:[s.jsx(ee,{className:"text-3xl font-bold bg-gradient-to-r from-primary to-primary-glow bg-clip-text text-transparent",children:"Terms of Service"}),s.jsx("p",{className:"text-muted-foreground",children:"Last updated: 29/10/2025"})]}),s.jsxs(Q,{className:"prose prose-slate dark:prose-invert max-w-none space-y-8",children:[s.jsxs("section",{className:"pb-4 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"1. Acceptance of Terms"}),s.jsxs("p",{className:"text-base leading-relaxed",children:["By accessing or using ",s.jsx("strong",{children:"HeartLift"}),' ("the Service"), you ',s.jsx("strong",{children:"agree to be bound"}),' by these Terms of Service ("Terms"). If you do not agree, ',s.jsx("strong",{children:"please do not use the Service"}),"."]})]}),s.jsxs("section",{className:"pb-4 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"2. Service Description"}),s.jsxs("p",{className:"text-base leading-relaxed mb-4",children:["HeartLift provides ",s.jsx("strong",{children:"relationship wellbeing tools"})," and ",s.jsx("strong",{children:"AI-powered coaching experiences"})," to support users with relationships, breakups, and emotional growth. Features may include:"]}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-4",children:[s.jsx("li",{className:"text-base",children:"AI-powered relationship and emotional wellbeing coaching with 4 distinct coach personalities"}),s.jsx("li",{className:"text-base",children:"Daily attachment style quizzes with AI-generated questions"}),s.jsx("li",{className:"text-base",children:"Personalised insights reports analyzing your emotional patterns and growth"}),s.jsx("li",{className:"text-base",children:"Daily reflection tracking to help coaches personalize conversations"}),s.jsx("li",{className:"text-base",children:"Conversation history that persists across sessions"}),s.jsx("li",{className:"text-base",children:"Emotional wellness resources and crisis support redirection"}),s.jsx("li",{className:"text-base",children:"Free tier: 10 messages per day (resets at midnight UTC)"}),s.jsx("li",{className:"text-base",children:"Premium features for unlimited messaging and additional tools"})]}),s.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/30 p-5 rounded-lg mt-4",children:[s.jsx("p",{className:"font-bold text-lg mb-2 text-amber-900 dark:text-amber-200",children:" Important Disclaimer"}),s.jsxs("p",{className:"text-base leading-relaxed text-foreground",children:["HeartLift's AI coaches are ",s.jsx("strong",{children:"virtual wellbeing companions"}),". They are ",s.jsx("strong",{children:"NOT licensed therapists or medical professionals"}),". All guidance is for ",s.jsx("strong",{children:"informational and self-development purposes only"})," and should ",s.jsx("strong",{children:"NOT be considered therapy, counselling, or medical advice"}),"."]})]})]}),s.jsxs("section",{className:"pb-4 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"3. Service Limitations and Crisis Support"}),s.jsxs("p",{className:"font-bold text-lg text-foreground mb-3",children:[" HeartLift ",s.jsx("strong",{children:"does NOT provide"})," professional mental health or crisis support. Our AI coaches ",s.jsx("strong",{children:"cannot and do not assist"})," with:"]}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-destructive font-semibold text-base mb-4",children:[s.jsx("li",{children:"Suicide ideation or self-harm"}),s.jsx("li",{children:"Child abuse or child safety concerns"}),s.jsx("li",{children:"Domestic violence or abuse situations"}),s.jsx("li",{children:"Drug or substance misuse"}),s.jsx("li",{children:"Sexual assault or trauma"}),s.jsx("li",{children:"Eating disorders"}),s.jsx("li",{children:"Clinical mental health conditions requiring professional treatment"})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[s.jsx("p",{className:"font-semibold text-blue-800 mb-2",children:"Automatic Crisis Detection:"}),s.jsx("p",{className:"text-sm text-blue-700",children:"Our AI coaches are programmed to detect crisis situations and immediately redirect users to appropriate professional helplines rather than attempting to provide support. This is a safety feature to ensure you get proper care when needed."})]}),s.jsxs("div",{className:"bg-destructive/15 p-6 rounded-lg border-2 border-destructive/40 mt-4",children:[s.jsx("p",{className:"font-bold text-xl mb-4 text-destructive",children:" Crisis Resources"}),s.jsxs("p",{className:"font-bold text-base mb-3 text-foreground",children:["If you are in crisis or feel unsafe, ",s.jsx("strong",{className:"underline",children:"DO NOT use HeartLift"}),". Instead, contact your local emergency services or a trusted helpline:"]}),s.jsxs("ul",{className:"list-none space-y-3 text-base",children:[s.jsxs("li",{className:"bg-background/50 p-3 rounded-md",children:[s.jsx("strong",{className:"text-foreground",children:"UK:"})," ",s.jsx("span",{className:"font-bold text-destructive",children:"999"})," (Emergency Services) / Samaritans at ",s.jsx("span",{className:"font-bold text-destructive",children:"116 123"})]}),s.jsxs("li",{className:"bg-background/50 p-3 rounded-md",children:[s.jsx("strong",{className:"text-foreground",children:"US:"})," ",s.jsx("span",{className:"font-bold text-destructive",children:"911"})," (Emergency Services) / ",s.jsx("span",{className:"font-bold text-destructive",children:"988"})," Suicide & Crisis Lifeline"]}),s.jsxs("li",{className:"bg-background/50 p-3 rounded-md",children:[s.jsx("strong",{className:"text-foreground",children:"Child Protection (UK):"})," NSPCC  ",s.jsx("span",{className:"font-bold text-destructive",children:"0808 800 5000"})]})]})]})]}),s.jsxs("section",{className:"pb-4 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"4. User Conduct and Prohibited Content"}),s.jsx("p",{className:"text-base leading-relaxed mb-3 font-medium",children:"You agree to:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-base mb-4",children:[s.jsxs("li",{children:["Provide ",s.jsx("strong",{children:"accurate, truthful information"})," when using the Service"]}),s.jsxs("li",{children:["Use HeartLift only for ",s.jsx("strong",{children:"lawful, personal, and non-commercial purposes"})]}),s.jsxs("li",{children:["Avoid ",s.jsx("strong",{children:"harmful, abusive, or inappropriate behavior"})]}),s.jsx("li",{children:"Respect the limits of our AI wellbeing tools"}),s.jsxs("li",{children:[s.jsx("strong",{children:"Seek professional help when needed"})," for serious mental health or crisis situations"]}),s.jsxs("li",{children:["Understand that ",s.jsx("strong",{children:"daily reflections are accessed by AI coaches"})," to personalize your experience"]}),s.jsxs("li",{children:["Accept that ",s.jsx("strong",{children:"conversation history persists across sessions"})," until refresh or new day"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Free tier users:"})," Respect the 10 messages per day limit (resets at midnight UTC)"]})]}),s.jsxs("div",{className:"bg-red-50 border border-red-300 rounded-lg p-5 mt-4",children:[s.jsx("p",{className:"font-bold text-lg mb-3 text-red-800",children:" Prohibited Content (Age 13+)"}),s.jsxs("p",{className:"text-base leading-relaxed text-red-900 mb-3",children:["HeartLift is designed for ages ",s.jsx("strong",{children:"13 and older"})," and focuses on ",s.jsx("strong",{children:"emotional wellbeing and relationship support"}),". The following content is ",s.jsx("strong",{children:"strictly prohibited"}),":"]}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-base text-red-900",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Sexually explicit messages"}),", sexual acts, fantasies, or explicit descriptions"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Inappropriate romantic or sexual advances"})," toward AI coaches"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Sexual health questions"})," (STIs, contraception, etc.) - Please consult NHS Sexual Health Services or your healthcare provider"]}),s.jsxs("li",{children:["Any content that would be ",s.jsx("strong",{children:"inappropriate for ages 13+"})]}),s.jsx("li",{children:"Harassment, threats, or abusive language"}),s.jsx("li",{children:"Illegal activities or content"})]}),s.jsxs("p",{className:"text-base leading-relaxed text-red-900 mt-3 font-semibold",children:["AI coaches will ",s.jsx("strong",{children:"immediately stop and redirect"})," if you attempt to engage in prohibited content. Repeated violations may result in ",s.jsx("strong",{children:"account suspension or termination"}),"."]})]})]}),s.jsxs("section",{className:"pb-4 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"5. Eligibility"}),s.jsxs("p",{className:"text-base leading-relaxed mb-3",children:["You must be ",s.jsx("strong",{children:"at least 13 years old"})," to use HeartLift. By using the Service, you ",s.jsx("strong",{children:"confirm that you meet this age requirement"}),"."]}),s.jsxs("p",{className:"text-base leading-relaxed",children:["HeartLift is ",s.jsx("strong",{children:"not directed at children under 13"}),", and we do ",s.jsx("strong",{children:"not knowingly collect personal data"})," from anyone under this age. If we become aware that a user under 13 has registered, we will take steps to delete their information promptly."]})]}),s.jsxs("section",{className:"pb-4 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"6. Payment and Subscriptions"}),s.jsxs("p",{className:"text-base leading-relaxed mb-4",children:["Certain features of HeartLift require a ",s.jsx("strong",{children:"paid subscription"}),". Payments are securely processed through ",s.jsx("strong",{children:"Apple's In-App Purchase (IAP) system"}),"."]}),s.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-5 mb-4",children:[s.jsx("h3",{className:"text-xl font-bold mb-3 text-foreground",children:"HeartLift Premium Subscription"}),s.jsxs("ul",{className:"space-y-2 text-base",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Subscription Name:"})," HeartLift Premium"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Price:"})," 11.99 per month (GBP)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Length:"})," 1 month (auto-renewable)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Benefits:"}),s.jsxs("ul",{className:"list-disc pl-6 mt-2 space-y-1",children:[s.jsx("li",{children:"Unlimited messages with all AI coaches"}),s.jsx("li",{children:"Access to Personalized Insights & Reports"}),s.jsx("li",{children:"HeartVisions AI image generation"}),s.jsx("li",{children:"Advanced attachment style analysis"}),s.jsx("li",{children:"Priority support"})]})]})]})]}),s.jsx("h3",{className:"text-lg font-bold mb-3 text-foreground",children:"Subscription Terms:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-base",children:[s.jsx("li",{children:"Payment will be charged to your Apple ID account at confirmation of purchase"}),s.jsxs("li",{children:["Subscriptions ",s.jsx("strong",{children:"automatically renew"})," unless cancelled at least ",s.jsx("strong",{children:"24 hours before the end of the current period"})]}),s.jsxs("li",{children:["Your account will be charged for renewal ",s.jsx("strong",{children:"within 24 hours prior to the end"})," of the current billing period"]}),s.jsxs("li",{children:["You may ",s.jsx("strong",{children:"manage or cancel your subscription"})," at any time by going to your device's Account Settings  Subscriptions after purchase"]}),s.jsx("li",{children:"Any unused portion of a free trial period, if offered, will be forfeited when you purchase a subscription"}),s.jsxs("li",{children:[s.jsx("strong",{children:"No refunds:"})," Refunds are not provided for any unused portion of the subscription term, except where required by law"]})]}),s.jsxs("p",{className:"text-base leading-relaxed mt-4",children:["For more information on managing subscriptions, visit: ",s.jsx("a",{href:"https://support.apple.com/en-us/HT202039",target:"_blank",rel:"noopener noreferrer",className:"text-primary underline hover:text-primary-glow",children:"Apple Support - Manage Subscriptions"})]})]}),s.jsxs("section",{className:"pb-4 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"7. Intellectual Property"}),s.jsxs("p",{className:"text-base leading-relaxed",children:["All content, features, designs, and functionality of HeartLift are ",s.jsx("strong",{children:"owned by us or our licensors"})," and are ",s.jsx("strong",{children:"protected by copyright, trademark, and other intellectual property laws"}),". You may ",s.jsx("strong",{children:"not reproduce, distribute, or modify"})," any part of the Service without written permission."]}),s.jsxs("p",{className:"text-base leading-relaxed mt-2",children:[s.jsx("strong",{children:" 2025 HeartLift."})," All rights reserved."]})]}),s.jsxs("section",{className:"pb-4 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"8. Limitation of Liability"}),s.jsxs("p",{className:"text-base leading-relaxed mb-3",children:["HeartLift provides wellbeing guidance and digital support tools. We ",s.jsx("strong",{children:"make no guarantees regarding accuracy or outcomes"}),"and are ",s.jsx("strong",{children:"not liable for any loss, harm, or decision"})," made based on the information provided."]}),s.jsxs("p",{className:"text-base leading-relaxed font-medium",children:["The Service is provided ",s.jsx("strong",{children:'"as is"'})," and ",s.jsx("strong",{children:'"as available"'}),", without warranties of any kind."]})]}),s.jsxs("section",{className:"pb-4 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"9. Data Collection and Usage"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-base leading-relaxed",children:"By using HeartLift, you acknowledge and agree that:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-base",children:[s.jsxs("li",{children:["Your ",s.jsx("strong",{children:"daily reflections are stored"})," and accessed by AI coaches to personalize future conversations"]}),s.jsxs("li",{children:["Your ",s.jsx("strong",{children:"conversation history is retained"})," until you refresh the page or start a new day"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Quiz results and analyses"})," are stored indefinitely for you to review your personal growth"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Insights reports"})," are generated from your conversations and reflections, stored indefinitely for you to track your journey"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Free users:"})," Message counts are tracked daily (automatically deleted after 7 days)"]}),s.jsxs("li",{children:["Your data is stored securely in ",s.jsx("strong",{children:"Supabase"}),", which includes authentication, conversations, quizzes, reflections, insights reports, usage tracking, and all user-generated content"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"AI processing:"})," Your messages and recent reflections are sent to OpenAI GPT-4o-mini for generating coach responses (not stored by OpenAI)"]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4",children:[s.jsx("p",{className:"font-semibold text-blue-800 mb-2",children:"Personalization Feature:"}),s.jsx("p",{className:"text-sm text-blue-700",children:"To provide personalized coaching, your AI coaches can access your last 3 daily reflections. This helps them understand what you're working on and naturally weave those topics into conversations. This feature enhances your experience but requires sharing your reflection data with the AI system."})]}),s.jsxs("p",{className:"text-base leading-relaxed font-medium mt-4",children:["For complete details on how we collect, use, store, and protect your data, please review our",s.jsx("strong",{children:" Privacy Policy"}),"."]})]})]}),s.jsxs("section",{className:"pb-4 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"10. Privacy"}),s.jsxs("p",{className:"text-base leading-relaxed",children:[s.jsx("strong",{children:"Your privacy is important to us."})," Please review our Privacy Policy to understand how we collect, use, and protect your personal information."]})]}),s.jsxs("section",{className:"pb-4 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"11. Termination"}),s.jsxs("p",{className:"text-base leading-relaxed",children:["We reserve the right to ",s.jsx("strong",{children:"suspend or terminate your account"}),", at our discretion and without notice, if you ",s.jsx("strong",{children:"violate these Terms or misuse the Service"}),"."]})]}),s.jsxs("section",{className:"pb-4 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"12. Changes to Terms"}),s.jsxs("p",{className:"text-base leading-relaxed",children:["We may ",s.jsx("strong",{children:"update these Terms from time to time"}),'. The latest version will always be posted on this page with a revised "last updated" date. ',s.jsx("strong",{children:"Continued use of the Service after changes are posted constitutes acceptance of those changes."})]})]}),s.jsxs("section",{className:"pb-4 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"13. Governing Law"}),s.jsxs("p",{className:"text-base leading-relaxed",children:["These Terms are governed by and construed in accordance with the ",s.jsx("strong",{children:"laws of the United Kingdom"}),", without regard to its conflict of law principles."]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"14. Contact Information"}),s.jsxs("p",{className:"text-base leading-relaxed",children:["For questions, feedback, or support, please contact us at:"," ",s.jsx("a",{href:"mailto:support@heart-lift.com",className:"text-primary hover:underline font-semibold",children:"support@heart-lift.com"})]})]})]})]})]})})}const qL=()=>{const e=rr();return f.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),s.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},GL=new aR,YL=()=>{const{checkSupabaseSubscriptionStatus:e}=Te();return f.useEffect(()=>{(async()=>{console.log("[App]  App launched - checking Supabase subscription status"),console.log("[App]  Testing Supabase connection...");try{const{data:r,error:n}=await G.from("subscribers").select("id").limit(1);n?console.error("[App]  Supabase connection test FAILED:",n):console.log("[App]  Supabase connection test PASSED")}catch(r){console.error("[App]  Supabase connection test exception:",r)}try{await e()}catch(r){console.error("[App]  Error checking subscription on launch:",r)}})()},[e]),f.useEffect(()=>{const t=async()=>{if(document.visibilityState==="visible"){console.log("[App]  App resumed - checking Supabase for subscription changes");try{await e(),await ua.checkSubscriptionStatus()}catch(r){console.error("[App]  Error checking subscription on resume:",r)}}};return document.addEventListener("visibilitychange",t),()=>{document.removeEventListener("visibilitychange",t)}},[e]),s.jsx(iA,{children:s.jsxs(ZR,{children:[s.jsx(St,{path:"/",element:s.jsx(m5,{})}),s.jsx(St,{path:"/auth",element:s.jsx(b5,{})}),s.jsx(St,{path:"/premium-success",element:s.jsx(j5,{})}),s.jsx(St,{path:"/premium-purchase",element:s.jsx(N5,{})}),s.jsx(St,{path:"/healing-kit-purchase",element:s.jsx(S5,{})}),s.jsx(St,{path:"/subscription-management",element:s.jsx(_5,{})}),s.jsx(St,{path:"/healing-kit",element:s.jsx(R5,{})}),s.jsx(St,{path:"/advanced-tools",element:s.jsx(_L,{})}),s.jsx(St,{path:"/password-reset",element:s.jsx(HL,{})}),s.jsx(St,{path:"/reset-password",element:s.jsx(BL,{})}),s.jsx(St,{path:"/verify-email",element:s.jsx(WL,{})}),s.jsx(St,{path:"/privacy-policy",element:s.jsx(VL,{})}),s.jsx(St,{path:"/terms-of-service",element:s.jsx(KL,{})}),s.jsx(St,{path:"*",element:s.jsx(qL,{})})]})})},QL=()=>s.jsx(lR,{client:GL,children:s.jsx(IT,{children:s.jsxs(q4,{children:[s.jsx(yP,{}),s.jsx(YP,{}),s.jsx(YL,{})]})})});Ww(document.getElementById("root")).render(s.jsx(QL,{}));export{Ys as _};
