const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DLdEx3Wb.js","assets/index-D5mZt9S9.js","assets/index-DEJtgVhO.js"])))=>i.map(i=>d[i]);
var A1=Object.defineProperty;var Dp=e=>{throw TypeError(e)};var I1=(e,t,r)=>t in e?A1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var En=(e,t,r)=>I1(e,typeof t!="symbol"?t+"":t,r),ed=(e,t,r)=>t.has(e)||Dp("Cannot "+r);var B=(e,t,r)=>(ed(e,t,"read from private field"),r?r.call(e):t.get(e)),Ne=(e,t,r)=>t.has(e)?Dp("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),pe=(e,t,r,n)=>(ed(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),xt=(e,t,r)=>(ed(e,t,"access private method"),r);var ul=(e,t,r,n)=>({set _(o){pe(e,t,o,r)},get _(){return B(e,t,n)}});function O1(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(n,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();var dr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function M1(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),r}var Ax={exports:{}},Jc={},Ix={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vi=Symbol.for("react.element"),D1=Symbol.for("react.portal"),L1=Symbol.for("react.fragment"),$1=Symbol.for("react.strict_mode"),U1=Symbol.for("react.profiler"),F1=Symbol.for("react.provider"),z1=Symbol.for("react.context"),H1=Symbol.for("react.forward_ref"),B1=Symbol.for("react.suspense"),W1=Symbol.for("react.memo"),V1=Symbol.for("react.lazy"),Lp=Symbol.iterator;function K1(e){return e===null||typeof e!="object"?null:(e=Lp&&e[Lp]||e["@@iterator"],typeof e=="function"?e:null)}var Ox={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mx=Object.assign,Dx={};function fa(e,t,r){this.props=e,this.context=t,this.refs=Dx,this.updater=r||Ox}fa.prototype.isReactComponent={};fa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Lx(){}Lx.prototype=fa.prototype;function Of(e,t,r){this.props=e,this.context=t,this.refs=Dx,this.updater=r||Ox}var Mf=Of.prototype=new Lx;Mf.constructor=Of;Mx(Mf,fa.prototype);Mf.isPureReactComponent=!0;var $p=Array.isArray,$x=Object.prototype.hasOwnProperty,Df={current:null},Ux={key:!0,ref:!0,__self:!0,__source:!0};function Fx(e,t,r){var n,o={},a=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)$x.call(t,n)&&!Ux.hasOwnProperty(n)&&(o[n]=t[n]);var l=arguments.length-2;if(l===1)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)o[n]===void 0&&(o[n]=l[n]);return{$$typeof:Vi,type:e,key:a,ref:i,props:o,_owner:Df.current}}function q1(e,t){return{$$typeof:Vi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Lf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Vi}function G1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Up=/\/+/g;function td(e,t){return typeof e=="object"&&e!==null&&e.key!=null?G1(""+e.key):t.toString(36)}function Fl(e,t,r,n,o){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Vi:case D1:i=!0}}if(i)return i=e,o=o(i),e=n===""?"."+td(i,0):n,$p(o)?(r="",e!=null&&(r=e.replace(Up,"$&/")+"/"),Fl(o,t,r,"",function(u){return u})):o!=null&&(Lf(o)&&(o=q1(o,r+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(Up,"$&/")+"/")+e)),t.push(o)),1;if(i=0,n=n===""?".":n+":",$p(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+td(a,l);i+=Fl(a,t,r,c,o)}else if(c=K1(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+td(a,l++),i+=Fl(a,t,r,c,o);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function dl(e,t,r){if(e==null)return e;var n=[],o=0;return Fl(e,n,"","",function(a){return t.call(r,a,o++)}),n}function Y1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Tt={current:null},zl={transition:null},Q1={ReactCurrentDispatcher:Tt,ReactCurrentBatchConfig:zl,ReactCurrentOwner:Df};function zx(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:dl,forEach:function(e,t,r){dl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return dl(e,function(){t++}),t},toArray:function(e){return dl(e,function(t){return t})||[]},only:function(e){if(!Lf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Se.Component=fa;Se.Fragment=L1;Se.Profiler=U1;Se.PureComponent=Of;Se.StrictMode=$1;Se.Suspense=B1;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q1;Se.act=zx;Se.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Mx({},e.props),o=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=Df.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)$x.call(t,c)&&!Ux.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Vi,type:e.type,key:o,ref:a,props:n,_owner:i}};Se.createContext=function(e){return e={$$typeof:z1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:F1,_context:e},e.Consumer=e};Se.createElement=Fx;Se.createFactory=function(e){var t=Fx.bind(null,e);return t.type=e,t};Se.createRef=function(){return{current:null}};Se.forwardRef=function(e){return{$$typeof:H1,render:e}};Se.isValidElement=Lf;Se.lazy=function(e){return{$$typeof:V1,_payload:{_status:-1,_result:e},_init:Y1}};Se.memo=function(e,t){return{$$typeof:W1,type:e,compare:t===void 0?null:t}};Se.startTransition=function(e){var t=zl.transition;zl.transition={};try{e()}finally{zl.transition=t}};Se.unstable_act=zx;Se.useCallback=function(e,t){return Tt.current.useCallback(e,t)};Se.useContext=function(e){return Tt.current.useContext(e)};Se.useDebugValue=function(){};Se.useDeferredValue=function(e){return Tt.current.useDeferredValue(e)};Se.useEffect=function(e,t){return Tt.current.useEffect(e,t)};Se.useId=function(){return Tt.current.useId()};Se.useImperativeHandle=function(e,t,r){return Tt.current.useImperativeHandle(e,t,r)};Se.useInsertionEffect=function(e,t){return Tt.current.useInsertionEffect(e,t)};Se.useLayoutEffect=function(e,t){return Tt.current.useLayoutEffect(e,t)};Se.useMemo=function(e,t){return Tt.current.useMemo(e,t)};Se.useReducer=function(e,t,r){return Tt.current.useReducer(e,t,r)};Se.useRef=function(e){return Tt.current.useRef(e)};Se.useState=function(e){return Tt.current.useState(e)};Se.useSyncExternalStore=function(e,t,r){return Tt.current.useSyncExternalStore(e,t,r)};Se.useTransition=function(){return Tt.current.useTransition()};Se.version="18.3.1";Ix.exports=Se;var f=Ix.exports;const Y=Rx(f),$f=O1({__proto__:null,default:Y},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J1=f,X1=Symbol.for("react.element"),Z1=Symbol.for("react.fragment"),e_=Object.prototype.hasOwnProperty,t_=J1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r_={key:!0,ref:!0,__self:!0,__source:!0};function Hx(e,t,r){var n,o={},a=null,i=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)e_.call(t,n)&&!r_.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)o[n]===void 0&&(o[n]=t[n]);return{$$typeof:X1,type:e,key:a,ref:i,props:o,_owner:t_.current}}Jc.Fragment=Z1;Jc.jsx=Hx;Jc.jsxs=Hx;Ax.exports=Jc;var s=Ax.exports,Bx={exports:{}},er={},Wx={exports:{}},Vx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,k){var $=C.length;C.push(k);e:for(;0<$;){var U=$-1>>>1,V=C[U];if(0<o(V,k))C[U]=k,C[$]=V,$=U;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var k=C[0],$=C.pop();if($!==k){C[0]=$;e:for(var U=0,V=C.length,L=V>>>1;U<L;){var J=2*(U+1)-1,ne=C[J],ie=J+1,I=C[ie];if(0>o(ne,$))ie<V&&0>o(I,ne)?(C[U]=I,C[ie]=$,U=ie):(C[U]=ne,C[J]=$,U=J);else if(ie<V&&0>o(I,$))C[U]=I,C[ie]=$,U=ie;else break e}}return k}function o(C,k){var $=C.sortIndex-k.sortIndex;return $!==0?$:C.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],h=1,d=null,m=3,v=!1,b=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(C){for(var k=r(u);k!==null;){if(k.callback===null)n(u);else if(k.startTime<=C)n(u),k.sortIndex=k.expirationTime,t(c,k);else break;k=r(u)}}function j(C){if(g=!1,x(C),!b)if(r(c)!==null)b=!0,P(S);else{var k=r(u);k!==null&&T(j,k.startTime-C)}}function S(C,k){b=!1,g&&(g=!1,p(E),E=-1),v=!0;var $=m;try{for(x(k),d=r(c);d!==null&&(!(d.expirationTime>k)||C&&!z());){var U=d.callback;if(typeof U=="function"){d.callback=null,m=d.priorityLevel;var V=U(d.expirationTime<=k);k=e.unstable_now(),typeof V=="function"?d.callback=V:d===r(c)&&n(c),x(k)}else n(c);d=r(c)}if(d!==null)var L=!0;else{var J=r(u);J!==null&&T(j,J.startTime-k),L=!1}return L}finally{d=null,m=$,v=!1}}var N=!1,_=null,E=-1,M=5,R=-1;function z(){return!(e.unstable_now()-R<M)}function O(){if(_!==null){var C=e.unstable_now();R=C;var k=!0;try{k=_(!0,C)}finally{k?F():(N=!1,_=null)}}else N=!1}var F;if(typeof y=="function")F=function(){y(O)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,D=A.port2;A.port1.onmessage=O,F=function(){D.postMessage(null)}}else F=function(){w(O,0)};function P(C){_=C,N||(N=!0,F())}function T(C,k){E=w(function(){C(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){b||v||(b=!0,P(S))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(C){switch(m){case 1:case 2:case 3:var k=3;break;default:k=m}var $=m;m=k;try{return C()}finally{m=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,k){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var $=m;m=C;try{return k()}finally{m=$}},e.unstable_scheduleCallback=function(C,k,$){var U=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?U+$:U):$=U,C){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=$+V,C={id:h++,callback:k,priorityLevel:C,startTime:$,expirationTime:V,sortIndex:-1},$>U?(C.sortIndex=$,t(u,C),r(c)===null&&C===r(u)&&(g?(p(E),E=-1):g=!0,T(j,$-U))):(C.sortIndex=V,t(c,C),b||v||(b=!0,P(S))),C},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(C){var k=m;return function(){var $=m;m=k;try{return C.apply(this,arguments)}finally{m=$}}}})(Vx);Wx.exports=Vx;var n_=Wx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_=f,Zt=n_;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Kx=new Set,mi={};function Zs(e,t){Zo(e,t),Zo(e+"Capture",t)}function Zo(e,t){for(mi[e]=t,e=0;e<t.length;e++)Kx.add(t[e])}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xd=Object.prototype.hasOwnProperty,o_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fp={},zp={};function a_(e){return Xd.call(zp,e)?!0:Xd.call(Fp,e)?!1:o_.test(e)?zp[e]=!0:(Fp[e]=!0,!1)}function i_(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function l_(e,t,r,n){if(t===null||typeof t>"u"||i_(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Rt(e,t,r,n,o,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pt[e]=new Rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pt[t]=new Rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pt[e]=new Rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pt[e]=new Rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pt[e]=new Rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pt[e]=new Rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pt[e]=new Rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pt[e]=new Rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pt[e]=new Rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Uf=/[\-:]([a-z])/g;function Ff(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Uf,Ff);pt[t]=new Rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Uf,Ff);pt[t]=new Rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Uf,Ff);pt[t]=new Rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pt[e]=new Rt(e,1,!1,e.toLowerCase(),null,!1,!1)});pt.xlinkHref=new Rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pt[e]=new Rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function zf(e,t,r,n){var o=pt.hasOwnProperty(t)?pt[t]:null;(o!==null?o.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(l_(t,r,o,n)&&(r=null),n||o===null?a_(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=r===null?o.type===3?!1:"":r:(t=o.attributeName,n=o.attributeNamespace,r===null?e.removeAttribute(t):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Nn=s_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hl=Symbol.for("react.element"),wo=Symbol.for("react.portal"),bo=Symbol.for("react.fragment"),Hf=Symbol.for("react.strict_mode"),Zd=Symbol.for("react.profiler"),qx=Symbol.for("react.provider"),Gx=Symbol.for("react.context"),Bf=Symbol.for("react.forward_ref"),eh=Symbol.for("react.suspense"),th=Symbol.for("react.suspense_list"),Wf=Symbol.for("react.memo"),Dn=Symbol.for("react.lazy"),Yx=Symbol.for("react.offscreen"),Hp=Symbol.iterator;function Oa(e){return e===null||typeof e!="object"?null:(e=Hp&&e[Hp]||e["@@iterator"],typeof e=="function"?e:null)}var Be=Object.assign,rd;function qa(e){if(rd===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);rd=t&&t[1]||""}return`
`+rd+e}var nd=!1;function sd(e,t){if(!e||nd)return"";nd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),a=n.stack.split(`
`),i=o.length-1,l=a.length-1;1<=i&&0<=l&&o[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(o[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||o[i]!==a[l]){var c=`
`+o[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{nd=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?qa(e):""}function c_(e){switch(e.tag){case 5:return qa(e.type);case 16:return qa("Lazy");case 13:return qa("Suspense");case 19:return qa("SuspenseList");case 0:case 2:case 15:return e=sd(e.type,!1),e;case 11:return e=sd(e.type.render,!1),e;case 1:return e=sd(e.type,!0),e;default:return""}}function rh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case bo:return"Fragment";case wo:return"Portal";case Zd:return"Profiler";case Hf:return"StrictMode";case eh:return"Suspense";case th:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Gx:return(e.displayName||"Context")+".Consumer";case qx:return(e._context.displayName||"Context")+".Provider";case Bf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Wf:return t=e.displayName||null,t!==null?t:rh(e.type)||"Memo";case Dn:t=e._payload,e=e._init;try{return rh(e(t))}catch{}}return null}function u_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rh(t);case 8:return t===Hf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function as(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Qx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function d_(e){var t=Qx(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){n=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fl(e){e._valueTracker||(e._valueTracker=d_(e))}function Jx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Qx(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ac(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function nh(e,t){var r=t.checked;return Be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Bp(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=as(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Xx(e,t){t=t.checked,t!=null&&zf(e,"checked",t,!1)}function sh(e,t){Xx(e,t);var r=as(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?oh(e,t.type,r):t.hasOwnProperty("defaultValue")&&oh(e,t.type,as(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Wp(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function oh(e,t,r){(t!=="number"||ac(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ga=Array.isArray;function Ao(e,t,r,n){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&n&&(e[r].defaultSelected=!0)}else{for(r=""+as(r),t=null,o=0;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,n&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function ah(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return Be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Vp(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(G(92));if(Ga(r)){if(1<r.length)throw Error(G(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:as(r)}}function Zx(e,t){var r=as(t.value),n=as(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Kp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ev(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ih(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ev(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ml,tv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,o){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ml=ml||document.createElement("div"),ml.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ml.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function pi(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ti={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},h_=["Webkit","ms","Moz","O"];Object.keys(ti).forEach(function(e){h_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ti[t]=ti[e]})});function rv(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ti.hasOwnProperty(e)&&ti[e]?(""+t).trim():t+"px"}function nv(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,o=rv(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,o):e[r]=o}}var f_=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lh(e,t){if(t){if(f_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function ch(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uh=null;function Vf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var dh=null,Io=null,Oo=null;function qp(e){if(e=Gi(e)){if(typeof dh!="function")throw Error(G(280));var t=e.stateNode;t&&(t=ru(t),dh(e.stateNode,e.type,t))}}function sv(e){Io?Oo?Oo.push(e):Oo=[e]:Io=e}function ov(){if(Io){var e=Io,t=Oo;if(Oo=Io=null,qp(e),t)for(e=0;e<t.length;e++)qp(t[e])}}function av(e,t){return e(t)}function iv(){}var od=!1;function lv(e,t,r){if(od)return e(t,r);od=!0;try{return av(e,t,r)}finally{od=!1,(Io!==null||Oo!==null)&&(iv(),ov())}}function gi(e,t){var r=e.stateNode;if(r===null)return null;var n=ru(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(G(231,t,typeof r));return r}var hh=!1;if(gn)try{var Ma={};Object.defineProperty(Ma,"passive",{get:function(){hh=!0}}),window.addEventListener("test",Ma,Ma),window.removeEventListener("test",Ma,Ma)}catch{hh=!1}function m_(e,t,r,n,o,a,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(h){this.onError(h)}}var ri=!1,ic=null,lc=!1,fh=null,p_={onError:function(e){ri=!0,ic=e}};function g_(e,t,r,n,o,a,i,l,c){ri=!1,ic=null,m_.apply(p_,arguments)}function y_(e,t,r,n,o,a,i,l,c){if(g_.apply(this,arguments),ri){if(ri){var u=ic;ri=!1,ic=null}else throw Error(G(198));lc||(lc=!0,fh=u)}}function eo(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function cv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Gp(e){if(eo(e)!==e)throw Error(G(188))}function x_(e){var t=e.alternate;if(!t){if(t=eo(e),t===null)throw Error(G(188));return t!==e?null:e}for(var r=e,n=t;;){var o=r.return;if(o===null)break;var a=o.alternate;if(a===null){if(n=o.return,n!==null){r=n;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===r)return Gp(o),e;if(a===n)return Gp(o),t;a=a.sibling}throw Error(G(188))}if(r.return!==n.return)r=o,n=a;else{for(var i=!1,l=o.child;l;){if(l===r){i=!0,r=o,n=a;break}if(l===n){i=!0,n=o,r=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===r){i=!0,r=a,n=o;break}if(l===n){i=!0,n=a,r=o;break}l=l.sibling}if(!i)throw Error(G(189))}}if(r.alternate!==n)throw Error(G(190))}if(r.tag!==3)throw Error(G(188));return r.stateNode.current===r?e:t}function uv(e){return e=x_(e),e!==null?dv(e):null}function dv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=dv(e);if(t!==null)return t;e=e.sibling}return null}var hv=Zt.unstable_scheduleCallback,Yp=Zt.unstable_cancelCallback,v_=Zt.unstable_shouldYield,w_=Zt.unstable_requestPaint,Ke=Zt.unstable_now,b_=Zt.unstable_getCurrentPriorityLevel,Kf=Zt.unstable_ImmediatePriority,fv=Zt.unstable_UserBlockingPriority,cc=Zt.unstable_NormalPriority,j_=Zt.unstable_LowPriority,mv=Zt.unstable_IdlePriority,Xc=null,qr=null;function S_(e){if(qr&&typeof qr.onCommitFiberRoot=="function")try{qr.onCommitFiberRoot(Xc,e,void 0,(e.current.flags&128)===128)}catch{}}var Pr=Math.clz32?Math.clz32:C_,N_=Math.log,__=Math.LN2;function C_(e){return e>>>=0,e===0?32:31-(N_(e)/__|0)|0}var pl=64,gl=4194304;function Ya(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,o=e.suspendedLanes,a=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~o;l!==0?n=Ya(l):(a&=i,a!==0&&(n=Ya(a)))}else i=r&~o,i!==0?n=Ya(i):a!==0&&(n=Ya(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&o)&&(o=n&-n,a=t&-t,o>=a||o===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Pr(t),o=1<<r,n|=e[r],t&=~o;return n}function k_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E_(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-Pr(a),l=1<<i,c=o[i];c===-1?(!(l&r)||l&n)&&(o[i]=k_(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function mh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function pv(){var e=pl;return pl<<=1,!(pl&4194240)&&(pl=64),e}function ad(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ki(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pr(t),e[t]=r}function P_(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-Pr(r),a=1<<o;t[o]=0,n[o]=-1,e[o]=-1,r&=~a}}function qf(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Pr(r),o=1<<n;o&t|e[n]&t&&(e[n]|=t),r&=~o}}var Ee=0;function gv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var yv,Gf,xv,vv,wv,ph=!1,yl=[],Qn=null,Jn=null,Xn=null,yi=new Map,xi=new Map,$n=[],T_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qp(e,t){switch(e){case"focusin":case"focusout":Qn=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Xn=null;break;case"pointerover":case"pointerout":yi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xi.delete(t.pointerId)}}function Da(e,t,r,n,o,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[o]},t!==null&&(t=Gi(t),t!==null&&Gf(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function R_(e,t,r,n,o){switch(t){case"focusin":return Qn=Da(Qn,e,t,r,n,o),!0;case"dragenter":return Jn=Da(Jn,e,t,r,n,o),!0;case"mouseover":return Xn=Da(Xn,e,t,r,n,o),!0;case"pointerover":var a=o.pointerId;return yi.set(a,Da(yi.get(a)||null,e,t,r,n,o)),!0;case"gotpointercapture":return a=o.pointerId,xi.set(a,Da(xi.get(a)||null,e,t,r,n,o)),!0}return!1}function bv(e){var t=Es(e.target);if(t!==null){var r=eo(t);if(r!==null){if(t=r.tag,t===13){if(t=cv(r),t!==null){e.blockedOn=t,wv(e.priority,function(){xv(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=gh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);uh=n,r.target.dispatchEvent(n),uh=null}else return t=Gi(r),t!==null&&Gf(t),e.blockedOn=r,!1;t.shift()}return!0}function Jp(e,t,r){Hl(e)&&r.delete(t)}function A_(){ph=!1,Qn!==null&&Hl(Qn)&&(Qn=null),Jn!==null&&Hl(Jn)&&(Jn=null),Xn!==null&&Hl(Xn)&&(Xn=null),yi.forEach(Jp),xi.forEach(Jp)}function La(e,t){e.blockedOn===t&&(e.blockedOn=null,ph||(ph=!0,Zt.unstable_scheduleCallback(Zt.unstable_NormalPriority,A_)))}function vi(e){function t(o){return La(o,e)}if(0<yl.length){La(yl[0],e);for(var r=1;r<yl.length;r++){var n=yl[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Qn!==null&&La(Qn,e),Jn!==null&&La(Jn,e),Xn!==null&&La(Xn,e),yi.forEach(t),xi.forEach(t),r=0;r<$n.length;r++)n=$n[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<$n.length&&(r=$n[0],r.blockedOn===null);)bv(r),r.blockedOn===null&&$n.shift()}var Mo=Nn.ReactCurrentBatchConfig,dc=!0;function I_(e,t,r,n){var o=Ee,a=Mo.transition;Mo.transition=null;try{Ee=1,Yf(e,t,r,n)}finally{Ee=o,Mo.transition=a}}function O_(e,t,r,n){var o=Ee,a=Mo.transition;Mo.transition=null;try{Ee=4,Yf(e,t,r,n)}finally{Ee=o,Mo.transition=a}}function Yf(e,t,r,n){if(dc){var o=gh(e,t,r,n);if(o===null)gd(e,t,n,hc,r),Qp(e,n);else if(R_(o,e,t,r,n))n.stopPropagation();else if(Qp(e,n),t&4&&-1<T_.indexOf(e)){for(;o!==null;){var a=Gi(o);if(a!==null&&yv(a),a=gh(e,t,r,n),a===null&&gd(e,t,n,hc,r),a===o)break;o=a}o!==null&&n.stopPropagation()}else gd(e,t,n,null,r)}}var hc=null;function gh(e,t,r,n){if(hc=null,e=Vf(n),e=Es(e),e!==null)if(t=eo(e),t===null)e=null;else if(r=t.tag,r===13){if(e=cv(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hc=e,null}function jv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(b_()){case Kf:return 1;case fv:return 4;case cc:case j_:return 16;case mv:return 536870912;default:return 16}default:return 16}}var qn=null,Qf=null,Bl=null;function Sv(){if(Bl)return Bl;var e,t=Qf,r=t.length,n,o="value"in qn?qn.value:qn.textContent,a=o.length;for(e=0;e<r&&t[e]===o[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===o[a-n];n++);return Bl=o.slice(e,1<n?1-n:void 0)}function Wl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xl(){return!0}function Xp(){return!1}function tr(e){function t(r,n,o,a,i){this._reactName=r,this._targetInst=o,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?xl:Xp,this.isPropagationStopped=Xp,this}return Be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=xl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=xl)},persist:function(){},isPersistent:xl}),t}var ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jf=tr(ma),qi=Be({},ma,{view:0,detail:0}),M_=tr(qi),id,ld,$a,Zc=Be({},qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$a&&($a&&e.type==="mousemove"?(id=e.screenX-$a.screenX,ld=e.screenY-$a.screenY):ld=id=0,$a=e),id)},movementY:function(e){return"movementY"in e?e.movementY:ld}}),Zp=tr(Zc),D_=Be({},Zc,{dataTransfer:0}),L_=tr(D_),$_=Be({},qi,{relatedTarget:0}),cd=tr($_),U_=Be({},ma,{animationName:0,elapsedTime:0,pseudoElement:0}),F_=tr(U_),z_=Be({},ma,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),H_=tr(z_),B_=Be({},ma,{data:0}),eg=tr(B_),W_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},V_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},K_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function q_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=K_[e])?!!t[e]:!1}function Xf(){return q_}var G_=Be({},qi,{key:function(e){if(e.key){var t=W_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Wl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?V_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xf,charCode:function(e){return e.type==="keypress"?Wl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Y_=tr(G_),Q_=Be({},Zc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tg=tr(Q_),J_=Be({},qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xf}),X_=tr(J_),Z_=Be({},ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),eC=tr(Z_),tC=Be({},Zc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rC=tr(tC),nC=[9,13,27,32],Zf=gn&&"CompositionEvent"in window,ni=null;gn&&"documentMode"in document&&(ni=document.documentMode);var sC=gn&&"TextEvent"in window&&!ni,Nv=gn&&(!Zf||ni&&8<ni&&11>=ni),rg=" ",ng=!1;function _v(e,t){switch(e){case"keyup":return nC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jo=!1;function oC(e,t){switch(e){case"compositionend":return Cv(t);case"keypress":return t.which!==32?null:(ng=!0,rg);case"textInput":return e=t.data,e===rg&&ng?null:e;default:return null}}function aC(e,t){if(jo)return e==="compositionend"||!Zf&&_v(e,t)?(e=Sv(),Bl=Qf=qn=null,jo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nv&&t.locale!=="ko"?null:t.data;default:return null}}var iC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!iC[e.type]:t==="textarea"}function kv(e,t,r,n){sv(n),t=fc(t,"onChange"),0<t.length&&(r=new Jf("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var si=null,wi=null;function lC(e){$v(e,0)}function eu(e){var t=_o(e);if(Jx(t))return e}function cC(e,t){if(e==="change")return t}var Ev=!1;if(gn){var ud;if(gn){var dd="oninput"in document;if(!dd){var og=document.createElement("div");og.setAttribute("oninput","return;"),dd=typeof og.oninput=="function"}ud=dd}else ud=!1;Ev=ud&&(!document.documentMode||9<document.documentMode)}function ag(){si&&(si.detachEvent("onpropertychange",Pv),wi=si=null)}function Pv(e){if(e.propertyName==="value"&&eu(wi)){var t=[];kv(t,wi,e,Vf(e)),lv(lC,t)}}function uC(e,t,r){e==="focusin"?(ag(),si=t,wi=r,si.attachEvent("onpropertychange",Pv)):e==="focusout"&&ag()}function dC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return eu(wi)}function hC(e,t){if(e==="click")return eu(t)}function fC(e,t){if(e==="input"||e==="change")return eu(t)}function mC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rr=typeof Object.is=="function"?Object.is:mC;function bi(e,t){if(Rr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var o=r[n];if(!Xd.call(t,o)||!Rr(e[o],t[o]))return!1}return!0}function ig(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lg(e,t){var r=ig(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ig(r)}}function Tv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Tv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rv(){for(var e=window,t=ac();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ac(e.document)}return t}function em(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function pC(e){var t=Rv(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Tv(r.ownerDocument.documentElement,r)){if(n!==null&&em(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=r.textContent.length,a=Math.min(n.start,o);n=n.end===void 0?a:Math.min(n.end,o),!e.extend&&a>n&&(o=n,n=a,a=o),o=lg(r,a);var i=lg(r,n);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gC=gn&&"documentMode"in document&&11>=document.documentMode,So=null,yh=null,oi=null,xh=!1;function cg(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;xh||So==null||So!==ac(n)||(n=So,"selectionStart"in n&&em(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),oi&&bi(oi,n)||(oi=n,n=fc(yh,"onSelect"),0<n.length&&(t=new Jf("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=So)))}function vl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var No={animationend:vl("Animation","AnimationEnd"),animationiteration:vl("Animation","AnimationIteration"),animationstart:vl("Animation","AnimationStart"),transitionend:vl("Transition","TransitionEnd")},hd={},Av={};gn&&(Av=document.createElement("div").style,"AnimationEvent"in window||(delete No.animationend.animation,delete No.animationiteration.animation,delete No.animationstart.animation),"TransitionEvent"in window||delete No.transitionend.transition);function tu(e){if(hd[e])return hd[e];if(!No[e])return e;var t=No[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Av)return hd[e]=t[r];return e}var Iv=tu("animationend"),Ov=tu("animationiteration"),Mv=tu("animationstart"),Dv=tu("transitionend"),Lv=new Map,ug="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function us(e,t){Lv.set(e,t),Zs(t,[e])}for(var fd=0;fd<ug.length;fd++){var md=ug[fd],yC=md.toLowerCase(),xC=md[0].toUpperCase()+md.slice(1);us(yC,"on"+xC)}us(Iv,"onAnimationEnd");us(Ov,"onAnimationIteration");us(Mv,"onAnimationStart");us("dblclick","onDoubleClick");us("focusin","onFocus");us("focusout","onBlur");us(Dv,"onTransitionEnd");Zo("onMouseEnter",["mouseout","mouseover"]);Zo("onMouseLeave",["mouseout","mouseover"]);Zo("onPointerEnter",["pointerout","pointerover"]);Zo("onPointerLeave",["pointerout","pointerover"]);Zs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qa));function dg(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,y_(n,t,void 0,e),e.currentTarget=null}function $v(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],o=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&o.isPropagationStopped())break e;dg(o,l,u),a=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&o.isPropagationStopped())break e;dg(o,l,u),a=c}}}if(lc)throw e=fh,lc=!1,fh=null,e}function De(e,t){var r=t[Sh];r===void 0&&(r=t[Sh]=new Set);var n=e+"__bubble";r.has(n)||(Uv(t,e,2,!1),r.add(n))}function pd(e,t,r){var n=0;t&&(n|=4),Uv(r,e,n,t)}var wl="_reactListening"+Math.random().toString(36).slice(2);function ji(e){if(!e[wl]){e[wl]=!0,Kx.forEach(function(r){r!=="selectionchange"&&(vC.has(r)||pd(r,!1,e),pd(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wl]||(t[wl]=!0,pd("selectionchange",!1,t))}}function Uv(e,t,r,n){switch(jv(t)){case 1:var o=I_;break;case 4:o=O_;break;default:o=Yf}r=o.bind(null,t,r,e),o=void 0,!hh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),n?o!==void 0?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):o!==void 0?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function gd(e,t,r,n,o){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;i=i.return}for(;l!==null;){if(i=Es(l),i===null)return;if(c=i.tag,c===5||c===6){n=a=i;continue e}l=l.parentNode}}n=n.return}lv(function(){var u=a,h=Vf(r),d=[];e:{var m=Lv.get(e);if(m!==void 0){var v=Jf,b=e;switch(e){case"keypress":if(Wl(r)===0)break e;case"keydown":case"keyup":v=Y_;break;case"focusin":b="focus",v=cd;break;case"focusout":b="blur",v=cd;break;case"beforeblur":case"afterblur":v=cd;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Zp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=L_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=X_;break;case Iv:case Ov:case Mv:v=F_;break;case Dv:v=eC;break;case"scroll":v=M_;break;case"wheel":v=rC;break;case"copy":case"cut":case"paste":v=H_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=tg}var g=(t&4)!==0,w=!g&&e==="scroll",p=g?m!==null?m+"Capture":null:m;g=[];for(var y=u,x;y!==null;){x=y;var j=x.stateNode;if(x.tag===5&&j!==null&&(x=j,p!==null&&(j=gi(y,p),j!=null&&g.push(Si(y,j,x)))),w)break;y=y.return}0<g.length&&(m=new v(m,b,null,r,h),d.push({event:m,listeners:g}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",m&&r!==uh&&(b=r.relatedTarget||r.fromElement)&&(Es(b)||b[yn]))break e;if((v||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,v?(b=r.relatedTarget||r.toElement,v=u,b=b?Es(b):null,b!==null&&(w=eo(b),b!==w||b.tag!==5&&b.tag!==6)&&(b=null)):(v=null,b=u),v!==b)){if(g=Zp,j="onMouseLeave",p="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=tg,j="onPointerLeave",p="onPointerEnter",y="pointer"),w=v==null?m:_o(v),x=b==null?m:_o(b),m=new g(j,y+"leave",v,r,h),m.target=w,m.relatedTarget=x,j=null,Es(h)===u&&(g=new g(p,y+"enter",b,r,h),g.target=x,g.relatedTarget=w,j=g),w=j,v&&b)t:{for(g=v,p=b,y=0,x=g;x;x=io(x))y++;for(x=0,j=p;j;j=io(j))x++;for(;0<y-x;)g=io(g),y--;for(;0<x-y;)p=io(p),x--;for(;y--;){if(g===p||p!==null&&g===p.alternate)break t;g=io(g),p=io(p)}g=null}else g=null;v!==null&&hg(d,m,v,g,!1),b!==null&&w!==null&&hg(d,w,b,g,!0)}}e:{if(m=u?_o(u):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var S=cC;else if(sg(m))if(Ev)S=fC;else{S=dC;var N=uC}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=hC);if(S&&(S=S(e,u))){kv(d,S,r,h);break e}N&&N(e,m,u),e==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&oh(m,"number",m.value)}switch(N=u?_o(u):window,e){case"focusin":(sg(N)||N.contentEditable==="true")&&(So=N,yh=u,oi=null);break;case"focusout":oi=yh=So=null;break;case"mousedown":xh=!0;break;case"contextmenu":case"mouseup":case"dragend":xh=!1,cg(d,r,h);break;case"selectionchange":if(gC)break;case"keydown":case"keyup":cg(d,r,h)}var _;if(Zf)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else jo?_v(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(Nv&&r.locale!=="ko"&&(jo||E!=="onCompositionStart"?E==="onCompositionEnd"&&jo&&(_=Sv()):(qn=h,Qf="value"in qn?qn.value:qn.textContent,jo=!0)),N=fc(u,E),0<N.length&&(E=new eg(E,e,null,r,h),d.push({event:E,listeners:N}),_?E.data=_:(_=Cv(r),_!==null&&(E.data=_)))),(_=sC?oC(e,r):aC(e,r))&&(u=fc(u,"onBeforeInput"),0<u.length&&(h=new eg("onBeforeInput","beforeinput",null,r,h),d.push({event:h,listeners:u}),h.data=_))}$v(d,t)})}function Si(e,t,r){return{instance:e,listener:t,currentTarget:r}}function fc(e,t){for(var r=t+"Capture",n=[];e!==null;){var o=e,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=gi(e,r),a!=null&&n.unshift(Si(e,a,o)),a=gi(e,t),a!=null&&n.push(Si(e,a,o))),e=e.return}return n}function io(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hg(e,t,r,n,o){for(var a=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,o?(c=gi(r,a),c!=null&&i.unshift(Si(r,c,l))):o||(c=gi(r,a),c!=null&&i.push(Si(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var wC=/\r\n?/g,bC=/\u0000|\uFFFD/g;function fg(e){return(typeof e=="string"?e:""+e).replace(wC,`
`).replace(bC,"")}function bl(e,t,r){if(t=fg(t),fg(e)!==t&&r)throw Error(G(425))}function mc(){}var vh=null,wh=null;function bh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var jh=typeof setTimeout=="function"?setTimeout:void 0,jC=typeof clearTimeout=="function"?clearTimeout:void 0,mg=typeof Promise=="function"?Promise:void 0,SC=typeof queueMicrotask=="function"?queueMicrotask:typeof mg<"u"?function(e){return mg.resolve(null).then(e).catch(NC)}:jh;function NC(e){setTimeout(function(){throw e})}function yd(e,t){var r=t,n=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(n===0){e.removeChild(o),vi(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=o}while(r);vi(t)}function Zn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function pg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var pa=Math.random().toString(36).slice(2),Br="__reactFiber$"+pa,Ni="__reactProps$"+pa,yn="__reactContainer$"+pa,Sh="__reactEvents$"+pa,_C="__reactListeners$"+pa,CC="__reactHandles$"+pa;function Es(e){var t=e[Br];if(t)return t;for(var r=e.parentNode;r;){if(t=r[yn]||r[Br]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=pg(e);e!==null;){if(r=e[Br])return r;e=pg(e)}return t}e=r,r=e.parentNode}return null}function Gi(e){return e=e[Br]||e[yn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _o(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function ru(e){return e[Ni]||null}var Nh=[],Co=-1;function ds(e){return{current:e}}function Le(e){0>Co||(e.current=Nh[Co],Nh[Co]=null,Co--)}function Ae(e,t){Co++,Nh[Co]=e.current,e.current=t}var is={},jt=ds(is),zt=ds(!1),Fs=is;function ea(e,t){var r=e.type.contextTypes;if(!r)return is;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in r)o[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ht(e){return e=e.childContextTypes,e!=null}function pc(){Le(zt),Le(jt)}function gg(e,t,r){if(jt.current!==is)throw Error(G(168));Ae(jt,t),Ae(zt,r)}function Fv(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var o in n)if(!(o in t))throw Error(G(108,u_(e)||"Unknown",o));return Be({},r,n)}function gc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||is,Fs=jt.current,Ae(jt,e),Ae(zt,zt.current),!0}function yg(e,t,r){var n=e.stateNode;if(!n)throw Error(G(169));r?(e=Fv(e,t,Fs),n.__reactInternalMemoizedMergedChildContext=e,Le(zt),Le(jt),Ae(jt,e)):Le(zt),Ae(zt,r)}var ln=null,nu=!1,xd=!1;function zv(e){ln===null?ln=[e]:ln.push(e)}function kC(e){nu=!0,zv(e)}function hs(){if(!xd&&ln!==null){xd=!0;var e=0,t=Ee;try{var r=ln;for(Ee=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ln=null,nu=!1}catch(o){throw ln!==null&&(ln=ln.slice(e+1)),hv(Kf,hs),o}finally{Ee=t,xd=!1}}return null}var ko=[],Eo=0,yc=null,xc=0,or=[],ar=0,zs=null,un=1,dn="";function bs(e,t){ko[Eo++]=xc,ko[Eo++]=yc,yc=e,xc=t}function Hv(e,t,r){or[ar++]=un,or[ar++]=dn,or[ar++]=zs,zs=e;var n=un;e=dn;var o=32-Pr(n)-1;n&=~(1<<o),r+=1;var a=32-Pr(t)+o;if(30<a){var i=o-o%5;a=(n&(1<<i)-1).toString(32),n>>=i,o-=i,un=1<<32-Pr(t)+o|r<<o|n,dn=a+e}else un=1<<a|r<<o|n,dn=e}function tm(e){e.return!==null&&(bs(e,1),Hv(e,1,0))}function rm(e){for(;e===yc;)yc=ko[--Eo],ko[Eo]=null,xc=ko[--Eo],ko[Eo]=null;for(;e===zs;)zs=or[--ar],or[ar]=null,dn=or[--ar],or[ar]=null,un=or[--ar],or[ar]=null}var Jt=null,Yt=null,Ue=!1,Er=null;function Bv(e,t){var r=lr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function xg(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Jt=e,Yt=Zn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Jt=e,Yt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=zs!==null?{id:un,overflow:dn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=lr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Jt=e,Yt=null,!0):!1;default:return!1}}function _h(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ch(e){if(Ue){var t=Yt;if(t){var r=t;if(!xg(e,t)){if(_h(e))throw Error(G(418));t=Zn(r.nextSibling);var n=Jt;t&&xg(e,t)?Bv(n,r):(e.flags=e.flags&-4097|2,Ue=!1,Jt=e)}}else{if(_h(e))throw Error(G(418));e.flags=e.flags&-4097|2,Ue=!1,Jt=e}}}function vg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Jt=e}function jl(e){if(e!==Jt)return!1;if(!Ue)return vg(e),Ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bh(e.type,e.memoizedProps)),t&&(t=Yt)){if(_h(e))throw Wv(),Error(G(418));for(;t;)Bv(e,t),t=Zn(t.nextSibling)}if(vg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Yt=Zn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Yt=null}}else Yt=Jt?Zn(e.stateNode.nextSibling):null;return!0}function Wv(){for(var e=Yt;e;)e=Zn(e.nextSibling)}function ta(){Yt=Jt=null,Ue=!1}function nm(e){Er===null?Er=[e]:Er.push(e)}var EC=Nn.ReactCurrentBatchConfig;function Ua(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(G(309));var n=r.stateNode}if(!n)throw Error(G(147,e));var o=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=o.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(G(284));if(!r._owner)throw Error(G(290,e))}return e}function Sl(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wg(e){var t=e._init;return t(e._payload)}function Vv(e){function t(p,y){if(e){var x=p.deletions;x===null?(p.deletions=[y],p.flags|=16):x.push(y)}}function r(p,y){if(!e)return null;for(;y!==null;)t(p,y),y=y.sibling;return null}function n(p,y){for(p=new Map;y!==null;)y.key!==null?p.set(y.key,y):p.set(y.index,y),y=y.sibling;return p}function o(p,y){return p=ns(p,y),p.index=0,p.sibling=null,p}function a(p,y,x){return p.index=x,e?(x=p.alternate,x!==null?(x=x.index,x<y?(p.flags|=2,y):x):(p.flags|=2,y)):(p.flags|=1048576,y)}function i(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,y,x,j){return y===null||y.tag!==6?(y=_d(x,p.mode,j),y.return=p,y):(y=o(y,x),y.return=p,y)}function c(p,y,x,j){var S=x.type;return S===bo?h(p,y,x.props.children,j,x.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Dn&&wg(S)===y.type)?(j=o(y,x.props),j.ref=Ua(p,y,x),j.return=p,j):(j=Jl(x.type,x.key,x.props,null,p.mode,j),j.ref=Ua(p,y,x),j.return=p,j)}function u(p,y,x,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=Cd(x,p.mode,j),y.return=p,y):(y=o(y,x.children||[]),y.return=p,y)}function h(p,y,x,j,S){return y===null||y.tag!==7?(y=Us(x,p.mode,j,S),y.return=p,y):(y=o(y,x),y.return=p,y)}function d(p,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=_d(""+y,p.mode,x),y.return=p,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case hl:return x=Jl(y.type,y.key,y.props,null,p.mode,x),x.ref=Ua(p,null,y),x.return=p,x;case wo:return y=Cd(y,p.mode,x),y.return=p,y;case Dn:var j=y._init;return d(p,j(y._payload),x)}if(Ga(y)||Oa(y))return y=Us(y,p.mode,x,null),y.return=p,y;Sl(p,y)}return null}function m(p,y,x,j){var S=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:l(p,y,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case hl:return x.key===S?c(p,y,x,j):null;case wo:return x.key===S?u(p,y,x,j):null;case Dn:return S=x._init,m(p,y,S(x._payload),j)}if(Ga(x)||Oa(x))return S!==null?null:h(p,y,x,j,null);Sl(p,x)}return null}function v(p,y,x,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return p=p.get(x)||null,l(y,p,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case hl:return p=p.get(j.key===null?x:j.key)||null,c(y,p,j,S);case wo:return p=p.get(j.key===null?x:j.key)||null,u(y,p,j,S);case Dn:var N=j._init;return v(p,y,x,N(j._payload),S)}if(Ga(j)||Oa(j))return p=p.get(x)||null,h(y,p,j,S,null);Sl(y,j)}return null}function b(p,y,x,j){for(var S=null,N=null,_=y,E=y=0,M=null;_!==null&&E<x.length;E++){_.index>E?(M=_,_=null):M=_.sibling;var R=m(p,_,x[E],j);if(R===null){_===null&&(_=M);break}e&&_&&R.alternate===null&&t(p,_),y=a(R,y,E),N===null?S=R:N.sibling=R,N=R,_=M}if(E===x.length)return r(p,_),Ue&&bs(p,E),S;if(_===null){for(;E<x.length;E++)_=d(p,x[E],j),_!==null&&(y=a(_,y,E),N===null?S=_:N.sibling=_,N=_);return Ue&&bs(p,E),S}for(_=n(p,_);E<x.length;E++)M=v(_,p,E,x[E],j),M!==null&&(e&&M.alternate!==null&&_.delete(M.key===null?E:M.key),y=a(M,y,E),N===null?S=M:N.sibling=M,N=M);return e&&_.forEach(function(z){return t(p,z)}),Ue&&bs(p,E),S}function g(p,y,x,j){var S=Oa(x);if(typeof S!="function")throw Error(G(150));if(x=S.call(x),x==null)throw Error(G(151));for(var N=S=null,_=y,E=y=0,M=null,R=x.next();_!==null&&!R.done;E++,R=x.next()){_.index>E?(M=_,_=null):M=_.sibling;var z=m(p,_,R.value,j);if(z===null){_===null&&(_=M);break}e&&_&&z.alternate===null&&t(p,_),y=a(z,y,E),N===null?S=z:N.sibling=z,N=z,_=M}if(R.done)return r(p,_),Ue&&bs(p,E),S;if(_===null){for(;!R.done;E++,R=x.next())R=d(p,R.value,j),R!==null&&(y=a(R,y,E),N===null?S=R:N.sibling=R,N=R);return Ue&&bs(p,E),S}for(_=n(p,_);!R.done;E++,R=x.next())R=v(_,p,E,R.value,j),R!==null&&(e&&R.alternate!==null&&_.delete(R.key===null?E:R.key),y=a(R,y,E),N===null?S=R:N.sibling=R,N=R);return e&&_.forEach(function(O){return t(p,O)}),Ue&&bs(p,E),S}function w(p,y,x,j){if(typeof x=="object"&&x!==null&&x.type===bo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case hl:e:{for(var S=x.key,N=y;N!==null;){if(N.key===S){if(S=x.type,S===bo){if(N.tag===7){r(p,N.sibling),y=o(N,x.props.children),y.return=p,p=y;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Dn&&wg(S)===N.type){r(p,N.sibling),y=o(N,x.props),y.ref=Ua(p,N,x),y.return=p,p=y;break e}r(p,N);break}else t(p,N);N=N.sibling}x.type===bo?(y=Us(x.props.children,p.mode,j,x.key),y.return=p,p=y):(j=Jl(x.type,x.key,x.props,null,p.mode,j),j.ref=Ua(p,y,x),j.return=p,p=j)}return i(p);case wo:e:{for(N=x.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){r(p,y.sibling),y=o(y,x.children||[]),y.return=p,p=y;break e}else{r(p,y);break}else t(p,y);y=y.sibling}y=Cd(x,p.mode,j),y.return=p,p=y}return i(p);case Dn:return N=x._init,w(p,y,N(x._payload),j)}if(Ga(x))return b(p,y,x,j);if(Oa(x))return g(p,y,x,j);Sl(p,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(r(p,y.sibling),y=o(y,x),y.return=p,p=y):(r(p,y),y=_d(x,p.mode,j),y.return=p,p=y),i(p)):r(p,y)}return w}var ra=Vv(!0),Kv=Vv(!1),vc=ds(null),wc=null,Po=null,sm=null;function om(){sm=Po=wc=null}function am(e){var t=vc.current;Le(vc),e._currentValue=t}function kh(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Do(e,t){wc=e,sm=Po=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ft=!0),e.firstContext=null)}function hr(e){var t=e._currentValue;if(sm!==e)if(e={context:e,memoizedValue:t,next:null},Po===null){if(wc===null)throw Error(G(308));Po=e,wc.dependencies={lanes:0,firstContext:e}}else Po=Po.next=e;return t}var Ps=null;function im(e){Ps===null?Ps=[e]:Ps.push(e)}function qv(e,t,r,n){var o=t.interleaved;return o===null?(r.next=r,im(t)):(r.next=o.next,o.next=r),t.interleaved=r,xn(e,n)}function xn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ln=!1;function lm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function es(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,_e&2){var o=n.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),n.pending=t,xn(e,r)}return o=n.interleaved,o===null?(t.next=t,im(n)):(t.next=o.next,o.next=t),n.interleaved=t,xn(e,r)}function Vl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,qf(e,r)}}function bg(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var o=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?o=a=i:a=a.next=i,r=r.next}while(r!==null);a===null?o=a=t:a=a.next=t}else o=a=t;r={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function bc(e,t,r,n){var o=e.updateQueue;Ln=!1;var a=o.firstBaseUpdate,i=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==i&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(a!==null){var d=o.baseState;i=0,h=u=c=null,l=a;do{var m=l.lane,v=l.eventTime;if((n&m)===m){h!==null&&(h=h.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,g=l;switch(m=t,v=r,g.tag){case 1:if(b=g.payload,typeof b=="function"){d=b.call(v,d,m);break e}d=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=g.payload,m=typeof b=="function"?b.call(v,d,m):b,m==null)break e;d=Be({},d,m);break e;case 2:Ln=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=o.effects,m===null?o.effects=[l]:m.push(l))}else v={eventTime:v,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=v,c=d):h=h.next=v,i|=m;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;m=l,l=m.next,m.next=null,o.lastBaseUpdate=m,o.shared.pending=null}}while(!0);if(h===null&&(c=d),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=h,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else a===null&&(o.shared.lanes=0);Bs|=i,e.lanes=i,e.memoizedState=d}}function jg(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(o!==null){if(n.callback=null,n=r,typeof o!="function")throw Error(G(191,o));o.call(n)}}}var Yi={},Gr=ds(Yi),_i=ds(Yi),Ci=ds(Yi);function Ts(e){if(e===Yi)throw Error(G(174));return e}function cm(e,t){switch(Ae(Ci,t),Ae(_i,e),Ae(Gr,Yi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ih(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ih(t,e)}Le(Gr),Ae(Gr,t)}function na(){Le(Gr),Le(_i),Le(Ci)}function Yv(e){Ts(Ci.current);var t=Ts(Gr.current),r=ih(t,e.type);t!==r&&(Ae(_i,e),Ae(Gr,r))}function um(e){_i.current===e&&(Le(Gr),Le(_i))}var Fe=ds(0);function jc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vd=[];function dm(){for(var e=0;e<vd.length;e++)vd[e]._workInProgressVersionPrimary=null;vd.length=0}var Kl=Nn.ReactCurrentDispatcher,wd=Nn.ReactCurrentBatchConfig,Hs=0,ze=null,et=null,at=null,Sc=!1,ai=!1,ki=0,PC=0;function vt(){throw Error(G(321))}function hm(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Rr(e[r],t[r]))return!1;return!0}function fm(e,t,r,n,o,a){if(Hs=a,ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Kl.current=e===null||e.memoizedState===null?IC:OC,e=r(n,o),ai){a=0;do{if(ai=!1,ki=0,25<=a)throw Error(G(301));a+=1,at=et=null,t.updateQueue=null,Kl.current=MC,e=r(n,o)}while(ai)}if(Kl.current=Nc,t=et!==null&&et.next!==null,Hs=0,at=et=ze=null,Sc=!1,t)throw Error(G(300));return e}function mm(){var e=ki!==0;return ki=0,e}function $r(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?ze.memoizedState=at=e:at=at.next=e,at}function fr(){if(et===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=et.next;var t=at===null?ze.memoizedState:at.next;if(t!==null)at=t,et=e;else{if(e===null)throw Error(G(310));et=e,e={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},at===null?ze.memoizedState=at=e:at=at.next=e}return at}function Ei(e,t){return typeof t=="function"?t(e):t}function bd(e){var t=fr(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=et,o=n.baseQueue,a=r.pending;if(a!==null){if(o!==null){var i=o.next;o.next=a.next,a.next=i}n.baseQueue=o=a,r.pending=null}if(o!==null){a=o.next,n=n.baseState;var l=i=null,c=null,u=a;do{var h=u.lane;if((Hs&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,i=n):c=c.next=d,ze.lanes|=h,Bs|=h}u=u.next}while(u!==null&&u!==a);c===null?i=n:c.next=l,Rr(n,t.memoizedState)||(Ft=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){o=e;do a=o.lane,ze.lanes|=a,Bs|=a,o=o.next;while(o!==e)}else o===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function jd(e){var t=fr(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=r.dispatch,o=r.pending,a=t.memoizedState;if(o!==null){r.pending=null;var i=o=o.next;do a=e(a,i.action),i=i.next;while(i!==o);Rr(a,t.memoizedState)||(Ft=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Qv(){}function Jv(e,t){var r=ze,n=fr(),o=t(),a=!Rr(n.memoizedState,o);if(a&&(n.memoizedState=o,Ft=!0),n=n.queue,pm(ew.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||at!==null&&at.memoizedState.tag&1){if(r.flags|=2048,Pi(9,Zv.bind(null,r,n,o,t),void 0,null),lt===null)throw Error(G(349));Hs&30||Xv(r,t,o)}return o}function Xv(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Zv(e,t,r,n){t.value=r,t.getSnapshot=n,tw(t)&&rw(e)}function ew(e,t,r){return r(function(){tw(t)&&rw(e)})}function tw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Rr(e,r)}catch{return!0}}function rw(e){var t=xn(e,1);t!==null&&Tr(t,e,1,-1)}function Sg(e){var t=$r();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:e},t.queue=e,e=e.dispatch=AC.bind(null,ze,e),[t.memoizedState,e]}function Pi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function nw(){return fr().memoizedState}function ql(e,t,r,n){var o=$r();ze.flags|=e,o.memoizedState=Pi(1|t,r,void 0,n===void 0?null:n)}function su(e,t,r,n){var o=fr();n=n===void 0?null:n;var a=void 0;if(et!==null){var i=et.memoizedState;if(a=i.destroy,n!==null&&hm(n,i.deps)){o.memoizedState=Pi(t,r,a,n);return}}ze.flags|=e,o.memoizedState=Pi(1|t,r,a,n)}function Ng(e,t){return ql(8390656,8,e,t)}function pm(e,t){return su(2048,8,e,t)}function sw(e,t){return su(4,2,e,t)}function ow(e,t){return su(4,4,e,t)}function aw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function iw(e,t,r){return r=r!=null?r.concat([e]):null,su(4,4,aw.bind(null,t,e),r)}function gm(){}function lw(e,t){var r=fr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&hm(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function cw(e,t){var r=fr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&hm(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function uw(e,t,r){return Hs&21?(Rr(r,t)||(r=pv(),ze.lanes|=r,Bs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ft=!0),e.memoizedState=r)}function TC(e,t){var r=Ee;Ee=r!==0&&4>r?r:4,e(!0);var n=wd.transition;wd.transition={};try{e(!1),t()}finally{Ee=r,wd.transition=n}}function dw(){return fr().memoizedState}function RC(e,t,r){var n=rs(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},hw(e))fw(t,r);else if(r=qv(e,t,r,n),r!==null){var o=Pt();Tr(r,e,n,o),mw(r,t,n)}}function AC(e,t,r){var n=rs(e),o={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(hw(e))fw(t,o);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,r);if(o.hasEagerState=!0,o.eagerState=l,Rr(l,i)){var c=t.interleaved;c===null?(o.next=o,im(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}r=qv(e,t,o,n),r!==null&&(o=Pt(),Tr(r,e,n,o),mw(r,t,n))}}function hw(e){var t=e.alternate;return e===ze||t!==null&&t===ze}function fw(e,t){ai=Sc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function mw(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,qf(e,r)}}var Nc={readContext:hr,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},IC={readContext:hr,useCallback:function(e,t){return $r().memoizedState=[e,t===void 0?null:t],e},useContext:hr,useEffect:Ng,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ql(4194308,4,aw.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ql(4194308,4,e,t)},useInsertionEffect:function(e,t){return ql(4,2,e,t)},useMemo:function(e,t){var r=$r();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=$r();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=RC.bind(null,ze,e),[n.memoizedState,e]},useRef:function(e){var t=$r();return e={current:e},t.memoizedState=e},useState:Sg,useDebugValue:gm,useDeferredValue:function(e){return $r().memoizedState=e},useTransition:function(){var e=Sg(!1),t=e[0];return e=TC.bind(null,e[1]),$r().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ze,o=$r();if(Ue){if(r===void 0)throw Error(G(407));r=r()}else{if(r=t(),lt===null)throw Error(G(349));Hs&30||Xv(n,t,r)}o.memoizedState=r;var a={value:r,getSnapshot:t};return o.queue=a,Ng(ew.bind(null,n,a,e),[e]),n.flags|=2048,Pi(9,Zv.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=$r(),t=lt.identifierPrefix;if(Ue){var r=dn,n=un;r=(n&~(1<<32-Pr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ki++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=PC++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},OC={readContext:hr,useCallback:lw,useContext:hr,useEffect:pm,useImperativeHandle:iw,useInsertionEffect:sw,useLayoutEffect:ow,useMemo:cw,useReducer:bd,useRef:nw,useState:function(){return bd(Ei)},useDebugValue:gm,useDeferredValue:function(e){var t=fr();return uw(t,et.memoizedState,e)},useTransition:function(){var e=bd(Ei)[0],t=fr().memoizedState;return[e,t]},useMutableSource:Qv,useSyncExternalStore:Jv,useId:dw,unstable_isNewReconciler:!1},MC={readContext:hr,useCallback:lw,useContext:hr,useEffect:pm,useImperativeHandle:iw,useInsertionEffect:sw,useLayoutEffect:ow,useMemo:cw,useReducer:jd,useRef:nw,useState:function(){return jd(Ei)},useDebugValue:gm,useDeferredValue:function(e){var t=fr();return et===null?t.memoizedState=e:uw(t,et.memoizedState,e)},useTransition:function(){var e=jd(Ei)[0],t=fr().memoizedState;return[e,t]},useMutableSource:Qv,useSyncExternalStore:Jv,useId:dw,unstable_isNewReconciler:!1};function jr(e,t){if(e&&e.defaultProps){t=Be({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Eh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Be({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ou={isMounted:function(e){return(e=e._reactInternals)?eo(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Pt(),o=rs(e),a=mn(n,o);a.payload=t,r!=null&&(a.callback=r),t=es(e,a,o),t!==null&&(Tr(t,e,o,n),Vl(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Pt(),o=rs(e),a=mn(n,o);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=es(e,a,o),t!==null&&(Tr(t,e,o,n),Vl(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Pt(),n=rs(e),o=mn(r,n);o.tag=2,t!=null&&(o.callback=t),t=es(e,o,n),t!==null&&(Tr(t,e,n,r),Vl(t,e,n))}};function _g(e,t,r,n,o,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,i):t.prototype&&t.prototype.isPureReactComponent?!bi(r,n)||!bi(o,a):!0}function pw(e,t,r){var n=!1,o=is,a=t.contextType;return typeof a=="object"&&a!==null?a=hr(a):(o=Ht(t)?Fs:jt.current,n=t.contextTypes,a=(n=n!=null)?ea(e,o):is),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ou,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function Cg(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ou.enqueueReplaceState(t,t.state,null)}function Ph(e,t,r,n){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs={},lm(e);var a=t.contextType;typeof a=="object"&&a!==null?o.context=hr(a):(a=Ht(t)?Fs:jt.current,o.context=ea(e,a)),o.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Eh(e,t,a,r),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&ou.enqueueReplaceState(o,o.state,null),bc(e,r,o,n),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function sa(e,t){try{var r="",n=t;do r+=c_(n),n=n.return;while(n);var o=r}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:o,digest:null}}function Sd(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Th(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var DC=typeof WeakMap=="function"?WeakMap:Map;function gw(e,t,r){r=mn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Cc||(Cc=!0,Fh=n),Th(e,t)},r}function yw(e,t,r){r=mn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var o=t.value;r.payload=function(){return n(o)},r.callback=function(){Th(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Th(e,t),typeof n!="function"&&(ts===null?ts=new Set([this]):ts.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function kg(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new DC;var o=new Set;n.set(t,o)}else o=n.get(t),o===void 0&&(o=new Set,n.set(t,o));o.has(r)||(o.add(r),e=QC.bind(null,e,t,r),t.then(e,e))}function Eg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Pg(e,t,r,n,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=mn(-1,1),t.tag=2,es(r,t,1))),r.lanes|=1),e)}var LC=Nn.ReactCurrentOwner,Ft=!1;function Ct(e,t,r,n){t.child=e===null?Kv(t,null,r,n):ra(t,e.child,r,n)}function Tg(e,t,r,n,o){r=r.render;var a=t.ref;return Do(t,o),n=fm(e,t,r,n,a,o),r=mm(),e!==null&&!Ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,vn(e,t,o)):(Ue&&r&&tm(t),t.flags|=1,Ct(e,t,n,o),t.child)}function Rg(e,t,r,n,o){if(e===null){var a=r.type;return typeof a=="function"&&!Nm(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,xw(e,t,a,n,o)):(e=Jl(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&o)){var i=a.memoizedProps;if(r=r.compare,r=r!==null?r:bi,r(i,n)&&e.ref===t.ref)return vn(e,t,o)}return t.flags|=1,e=ns(a,n),e.ref=t.ref,e.return=t,t.child=e}function xw(e,t,r,n,o){if(e!==null){var a=e.memoizedProps;if(bi(a,n)&&e.ref===t.ref)if(Ft=!1,t.pendingProps=n=a,(e.lanes&o)!==0)e.flags&131072&&(Ft=!0);else return t.lanes=e.lanes,vn(e,t,o)}return Rh(e,t,r,n,o)}function vw(e,t,r){var n=t.pendingProps,o=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(Ro,qt),qt|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ae(Ro,qt),qt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Ae(Ro,qt),qt|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Ae(Ro,qt),qt|=n;return Ct(e,t,o,r),t.child}function ww(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Rh(e,t,r,n,o){var a=Ht(r)?Fs:jt.current;return a=ea(t,a),Do(t,o),r=fm(e,t,r,n,a,o),n=mm(),e!==null&&!Ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,vn(e,t,o)):(Ue&&n&&tm(t),t.flags|=1,Ct(e,t,r,o),t.child)}function Ag(e,t,r,n,o){if(Ht(r)){var a=!0;gc(t)}else a=!1;if(Do(t,o),t.stateNode===null)Gl(e,t),pw(t,r,n),Ph(t,r,n,o),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=hr(u):(u=Ht(r)?Fs:jt.current,u=ea(t,u));var h=r.getDerivedStateFromProps,d=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Cg(t,i,n,u),Ln=!1;var m=t.memoizedState;i.state=m,bc(t,n,i,o),c=t.memoizedState,l!==n||m!==c||zt.current||Ln?(typeof h=="function"&&(Eh(t,r,h,n),c=t.memoizedState),(l=Ln||_g(t,r,l,n,m,c,u))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Gv(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:jr(t.type,l),i.props=u,d=t.pendingProps,m=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=hr(c):(c=Ht(r)?Fs:jt.current,c=ea(t,c));var v=r.getDerivedStateFromProps;(h=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==d||m!==c)&&Cg(t,i,n,c),Ln=!1,m=t.memoizedState,i.state=m,bc(t,n,i,o);var b=t.memoizedState;l!==d||m!==b||zt.current||Ln?(typeof v=="function"&&(Eh(t,r,v,n),b=t.memoizedState),(u=Ln||_g(t,r,u,n,m,b,c)||!1)?(h||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,b,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,b,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),i.props=n,i.state=b,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Ah(e,t,r,n,a,o)}function Ah(e,t,r,n,o,a){ww(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return o&&yg(t,r,!1),vn(e,t,a);n=t.stateNode,LC.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=ra(t,e.child,null,a),t.child=ra(t,null,l,a)):Ct(e,t,l,a),t.memoizedState=n.state,o&&yg(t,r,!0),t.child}function bw(e){var t=e.stateNode;t.pendingContext?gg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&gg(e,t.context,!1),cm(e,t.containerInfo)}function Ig(e,t,r,n,o){return ta(),nm(o),t.flags|=256,Ct(e,t,r,n),t.child}var Ih={dehydrated:null,treeContext:null,retryLane:0};function Oh(e){return{baseLanes:e,cachePool:null,transitions:null}}function jw(e,t,r){var n=t.pendingProps,o=Fe.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Ae(Fe,o&1),e===null)return Ch(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,a?(n=t.mode,a=t.child,i={mode:"hidden",children:i},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=lu(i,n,0,null),e=Us(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Oh(r),t.memoizedState=Ih,e):ym(t,i));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return $C(e,t,i,n,l,o,r);if(a){a=n.fallback,i=t.mode,o=e.child,l=o.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==o?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ns(o,c),n.subtreeFlags=o.subtreeFlags&14680064),l!==null?a=ns(l,a):(a=Us(a,i,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,i=e.child.memoizedState,i=i===null?Oh(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~r,t.memoizedState=Ih,n}return a=e.child,e=a.sibling,n=ns(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ym(e,t){return t=lu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Nl(e,t,r,n){return n!==null&&nm(n),ra(t,e.child,null,r),e=ym(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $C(e,t,r,n,o,a,i){if(r)return t.flags&256?(t.flags&=-257,n=Sd(Error(G(422))),Nl(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,o=t.mode,n=lu({mode:"visible",children:n.children},o,0,null),a=Us(a,o,i,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&ra(t,e.child,null,i),t.child.memoizedState=Oh(i),t.memoizedState=Ih,a);if(!(t.mode&1))return Nl(e,t,i,null);if(o.data==="$!"){if(n=o.nextSibling&&o.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(G(419)),n=Sd(a,n,void 0),Nl(e,t,i,n)}if(l=(i&e.childLanes)!==0,Ft||l){if(n=lt,n!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(n.suspendedLanes|i)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,xn(e,o),Tr(n,e,o,-1))}return Sm(),n=Sd(Error(G(421))),Nl(e,t,i,n)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=JC.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,Yt=Zn(o.nextSibling),Jt=t,Ue=!0,Er=null,e!==null&&(or[ar++]=un,or[ar++]=dn,or[ar++]=zs,un=e.id,dn=e.overflow,zs=t),t=ym(t,n.children),t.flags|=4096,t)}function Og(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),kh(e.return,t,r)}function Nd(e,t,r,n,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=o)}function Sw(e,t,r){var n=t.pendingProps,o=n.revealOrder,a=n.tail;if(Ct(e,t,n.children,r),n=Fe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Og(e,r,t);else if(e.tag===19)Og(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ae(Fe,n),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(r=t.child,o=null;r!==null;)e=r.alternate,e!==null&&jc(e)===null&&(o=r),r=r.sibling;r=o,r===null?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),Nd(t,!1,o,r,a);break;case"backwards":for(r=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&jc(e)===null){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}Nd(t,!0,r,null,a);break;case"together":Nd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Bs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,r=ns(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ns(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function UC(e,t,r){switch(t.tag){case 3:bw(t),ta();break;case 5:Yv(t);break;case 1:Ht(t.type)&&gc(t);break;case 4:cm(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,o=t.memoizedProps.value;Ae(vc,n._currentValue),n._currentValue=o;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ae(Fe,Fe.current&1),t.flags|=128,null):r&t.child.childLanes?jw(e,t,r):(Ae(Fe,Fe.current&1),e=vn(e,t,r),e!==null?e.sibling:null);Ae(Fe,Fe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Sw(e,t,r);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ae(Fe,Fe.current),n)break;return null;case 22:case 23:return t.lanes=0,vw(e,t,r)}return vn(e,t,r)}var Nw,Mh,_w,Cw;Nw=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Mh=function(){};_w=function(e,t,r,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,Ts(Gr.current);var a=null;switch(r){case"input":o=nh(e,o),n=nh(e,n),a=[];break;case"select":o=Be({},o,{value:void 0}),n=Be({},n,{value:void 0}),a=[];break;case"textarea":o=ah(e,o),n=ah(e,n),a=[];break;default:typeof o.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=mc)}lh(r,n);var i;r=null;for(u in o)if(!n.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var l=o[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(mi.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=o!=null?o[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(mi.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&De("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Cw=function(e,t,r,n){r!==n&&(t.flags|=4)};function Fa(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function wt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags&14680064,n|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function FC(e,t,r){var n=t.pendingProps;switch(rm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(t),null;case 1:return Ht(t.type)&&pc(),wt(t),null;case 3:return n=t.stateNode,na(),Le(zt),Le(jt),dm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(jl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Er!==null&&(Bh(Er),Er=null))),Mh(e,t),wt(t),null;case 5:um(t);var o=Ts(Ci.current);if(r=t.type,e!==null&&t.stateNode!=null)_w(e,t,r,n,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(G(166));return wt(t),null}if(e=Ts(Gr.current),jl(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Br]=t,n[Ni]=a,e=(t.mode&1)!==0,r){case"dialog":De("cancel",n),De("close",n);break;case"iframe":case"object":case"embed":De("load",n);break;case"video":case"audio":for(o=0;o<Qa.length;o++)De(Qa[o],n);break;case"source":De("error",n);break;case"img":case"image":case"link":De("error",n),De("load",n);break;case"details":De("toggle",n);break;case"input":Bp(n,a),De("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},De("invalid",n);break;case"textarea":Vp(n,a),De("invalid",n)}lh(r,a),o=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&bl(n.textContent,l,e),o=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&bl(n.textContent,l,e),o=["children",""+l]):mi.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&De("scroll",n)}switch(r){case"input":fl(n),Wp(n,a,!0);break;case"textarea":fl(n),Kp(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=mc)}n=o,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ev(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Br]=t,e[Ni]=n,Nw(e,t,!1,!1),t.stateNode=e;e:{switch(i=ch(r,n),r){case"dialog":De("cancel",e),De("close",e),o=n;break;case"iframe":case"object":case"embed":De("load",e),o=n;break;case"video":case"audio":for(o=0;o<Qa.length;o++)De(Qa[o],e);o=n;break;case"source":De("error",e),o=n;break;case"img":case"image":case"link":De("error",e),De("load",e),o=n;break;case"details":De("toggle",e),o=n;break;case"input":Bp(e,n),o=nh(e,n),De("invalid",e);break;case"option":o=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=Be({},n,{value:void 0}),De("invalid",e);break;case"textarea":Vp(e,n),o=ah(e,n),De("invalid",e);break;default:o=n}lh(r,o),l=o;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?nv(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&tv(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&pi(e,c):typeof c=="number"&&pi(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(mi.hasOwnProperty(a)?c!=null&&a==="onScroll"&&De("scroll",e):c!=null&&zf(e,a,c,i))}switch(r){case"input":fl(e),Wp(e,n,!1);break;case"textarea":fl(e),Kp(e);break;case"option":n.value!=null&&e.setAttribute("value",""+as(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Ao(e,!!n.multiple,a,!1):n.defaultValue!=null&&Ao(e,!!n.multiple,n.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=mc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return wt(t),null;case 6:if(e&&t.stateNode!=null)Cw(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(G(166));if(r=Ts(Ci.current),Ts(Gr.current),jl(t)){if(n=t.stateNode,r=t.memoizedProps,n[Br]=t,(a=n.nodeValue!==r)&&(e=Jt,e!==null))switch(e.tag){case 3:bl(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&bl(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Br]=t,t.stateNode=n}return wt(t),null;case 13:if(Le(Fe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ue&&Yt!==null&&t.mode&1&&!(t.flags&128))Wv(),ta(),t.flags|=98560,a=!1;else if(a=jl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(G(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(G(317));a[Br]=t}else ta(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;wt(t),a=!1}else Er!==null&&(Bh(Er),Er=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Fe.current&1?tt===0&&(tt=3):Sm())),t.updateQueue!==null&&(t.flags|=4),wt(t),null);case 4:return na(),Mh(e,t),e===null&&ji(t.stateNode.containerInfo),wt(t),null;case 10:return am(t.type._context),wt(t),null;case 17:return Ht(t.type)&&pc(),wt(t),null;case 19:if(Le(Fe),a=t.memoizedState,a===null)return wt(t),null;if(n=(t.flags&128)!==0,i=a.rendering,i===null)if(n)Fa(a,!1);else{if(tt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=jc(e),i!==null){for(t.flags|=128,Fa(a,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ae(Fe,Fe.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ke()>oa&&(t.flags|=128,n=!0,Fa(a,!1),t.lanes=4194304)}else{if(!n)if(e=jc(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Fa(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!Ue)return wt(t),null}else 2*Ke()-a.renderingStartTime>oa&&r!==1073741824&&(t.flags|=128,n=!0,Fa(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(r=a.last,r!==null?r.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ke(),t.sibling=null,r=Fe.current,Ae(Fe,n?r&1|2:r&1),t):(wt(t),null);case 22:case 23:return jm(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?qt&1073741824&&(wt(t),t.subtreeFlags&6&&(t.flags|=8192)):wt(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function zC(e,t){switch(rm(t),t.tag){case 1:return Ht(t.type)&&pc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return na(),Le(zt),Le(jt),dm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return um(t),null;case 13:if(Le(Fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));ta()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Le(Fe),null;case 4:return na(),null;case 10:return am(t.type._context),null;case 22:case 23:return jm(),null;case 24:return null;default:return null}}var _l=!1,bt=!1,HC=typeof WeakSet=="function"?WeakSet:Set,oe=null;function To(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ve(e,t,n)}else r.current=null}function Dh(e,t,r){try{r()}catch(n){Ve(e,t,n)}}var Mg=!1;function BC(e,t){if(vh=dc,e=Rv(),em(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var o=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,h=0,d=e,m=null;t:for(;;){for(var v;d!==r||o!==0&&d.nodeType!==3||(l=i+o),d!==a||n!==0&&d.nodeType!==3||(c=i+n),d.nodeType===3&&(i+=d.nodeValue.length),(v=d.firstChild)!==null;)m=d,d=v;for(;;){if(d===e)break t;if(m===r&&++u===o&&(l=i),m===a&&++h===n&&(c=i),(v=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=v}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(wh={focusedElem:e,selectionRange:r},dc=!1,oe=t;oe!==null;)if(t=oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,oe=e;else for(;oe!==null;){t=oe;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var g=b.memoizedProps,w=b.memoizedState,p=t.stateNode,y=p.getSnapshotBeforeUpdate(t.elementType===t.type?g:jr(t.type,g),w);p.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(j){Ve(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,oe=e;break}oe=t.return}return b=Mg,Mg=!1,b}function ii(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,a!==void 0&&Dh(t,r,a)}o=o.next}while(o!==n)}}function au(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Lh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function kw(e){var t=e.alternate;t!==null&&(e.alternate=null,kw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Br],delete t[Ni],delete t[Sh],delete t[_C],delete t[CC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ew(e){return e.tag===5||e.tag===3||e.tag===4}function Dg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ew(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $h(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=mc));else if(n!==4&&(e=e.child,e!==null))for($h(e,t,r),e=e.sibling;e!==null;)$h(e,t,r),e=e.sibling}function Uh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Uh(e,t,r),e=e.sibling;e!==null;)Uh(e,t,r),e=e.sibling}var ht=null,Cr=!1;function Pn(e,t,r){for(r=r.child;r!==null;)Pw(e,t,r),r=r.sibling}function Pw(e,t,r){if(qr&&typeof qr.onCommitFiberUnmount=="function")try{qr.onCommitFiberUnmount(Xc,r)}catch{}switch(r.tag){case 5:bt||To(r,t);case 6:var n=ht,o=Cr;ht=null,Pn(e,t,r),ht=n,Cr=o,ht!==null&&(Cr?(e=ht,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ht.removeChild(r.stateNode));break;case 18:ht!==null&&(Cr?(e=ht,r=r.stateNode,e.nodeType===8?yd(e.parentNode,r):e.nodeType===1&&yd(e,r),vi(e)):yd(ht,r.stateNode));break;case 4:n=ht,o=Cr,ht=r.stateNode.containerInfo,Cr=!0,Pn(e,t,r),ht=n,Cr=o;break;case 0:case 11:case 14:case 15:if(!bt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){o=n=n.next;do{var a=o,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Dh(r,t,i),o=o.next}while(o!==n)}Pn(e,t,r);break;case 1:if(!bt&&(To(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ve(r,t,l)}Pn(e,t,r);break;case 21:Pn(e,t,r);break;case 22:r.mode&1?(bt=(n=bt)||r.memoizedState!==null,Pn(e,t,r),bt=n):Pn(e,t,r);break;default:Pn(e,t,r)}}function Lg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new HC),t.forEach(function(n){var o=XC.bind(null,e,n);r.has(n)||(r.add(n),n.then(o,o))})}}function vr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var o=r[n];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:ht=l.stateNode,Cr=!1;break e;case 3:ht=l.stateNode.containerInfo,Cr=!0;break e;case 4:ht=l.stateNode.containerInfo,Cr=!0;break e}l=l.return}if(ht===null)throw Error(G(160));Pw(a,i,o),ht=null,Cr=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(u){Ve(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Tw(t,e),t=t.sibling}function Tw(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vr(t,e),Dr(e),n&4){try{ii(3,e,e.return),au(3,e)}catch(g){Ve(e,e.return,g)}try{ii(5,e,e.return)}catch(g){Ve(e,e.return,g)}}break;case 1:vr(t,e),Dr(e),n&512&&r!==null&&To(r,r.return);break;case 5:if(vr(t,e),Dr(e),n&512&&r!==null&&To(r,r.return),e.flags&32){var o=e.stateNode;try{pi(o,"")}catch(g){Ve(e,e.return,g)}}if(n&4&&(o=e.stateNode,o!=null)){var a=e.memoizedProps,i=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Xx(o,a),ch(l,i);var u=ch(l,a);for(i=0;i<c.length;i+=2){var h=c[i],d=c[i+1];h==="style"?nv(o,d):h==="dangerouslySetInnerHTML"?tv(o,d):h==="children"?pi(o,d):zf(o,h,d,u)}switch(l){case"input":sh(o,a);break;case"textarea":Zx(o,a);break;case"select":var m=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?Ao(o,!!a.multiple,v,!1):m!==!!a.multiple&&(a.defaultValue!=null?Ao(o,!!a.multiple,a.defaultValue,!0):Ao(o,!!a.multiple,a.multiple?[]:"",!1))}o[Ni]=a}catch(g){Ve(e,e.return,g)}}break;case 6:if(vr(t,e),Dr(e),n&4){if(e.stateNode===null)throw Error(G(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(g){Ve(e,e.return,g)}}break;case 3:if(vr(t,e),Dr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{vi(t.containerInfo)}catch(g){Ve(e,e.return,g)}break;case 4:vr(t,e),Dr(e);break;case 13:vr(t,e),Dr(e),o=e.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(wm=Ke())),n&4&&Lg(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(bt=(u=bt)||h,vr(t,e),bt=u):vr(t,e),Dr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(oe=e,h=e.child;h!==null;){for(d=oe=h;oe!==null;){switch(m=oe,v=m.child,m.tag){case 0:case 11:case 14:case 15:ii(4,m,m.return);break;case 1:To(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(g){Ve(n,r,g)}}break;case 5:To(m,m.return);break;case 22:if(m.memoizedState!==null){Ug(d);continue}}v!==null?(v.return=m,oe=v):Ug(d)}h=h.sibling}e:for(h=null,d=e;;){if(d.tag===5){if(h===null){h=d;try{o=d.stateNode,u?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=d.stateNode,c=d.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=rv("display",i))}catch(g){Ve(e,e.return,g)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Ve(e,e.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vr(t,e),Dr(e),n&4&&Lg(e);break;case 21:break;default:vr(t,e),Dr(e)}}function Dr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Ew(r)){var n=r;break e}r=r.return}throw Error(G(160))}switch(n.tag){case 5:var o=n.stateNode;n.flags&32&&(pi(o,""),n.flags&=-33);var a=Dg(e);Uh(e,a,o);break;case 3:case 4:var i=n.stateNode.containerInfo,l=Dg(e);$h(e,l,i);break;default:throw Error(G(161))}}catch(c){Ve(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function WC(e,t,r){oe=e,Rw(e)}function Rw(e,t,r){for(var n=(e.mode&1)!==0;oe!==null;){var o=oe,a=o.child;if(o.tag===22&&n){var i=o.memoizedState!==null||_l;if(!i){var l=o.alternate,c=l!==null&&l.memoizedState!==null||bt;l=_l;var u=bt;if(_l=i,(bt=c)&&!u)for(oe=o;oe!==null;)i=oe,c=i.child,i.tag===22&&i.memoizedState!==null?Fg(o):c!==null?(c.return=i,oe=c):Fg(o);for(;a!==null;)oe=a,Rw(a),a=a.sibling;oe=o,_l=l,bt=u}$g(e)}else o.subtreeFlags&8772&&a!==null?(a.return=o,oe=a):$g(e)}}function $g(e){for(;oe!==null;){var t=oe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:bt||au(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!bt)if(r===null)n.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:jr(t.type,r.memoizedProps);n.componentDidUpdate(o,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&jg(t,a,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}jg(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&vi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}bt||t.flags&512&&Lh(t)}catch(m){Ve(t,t.return,m)}}if(t===e){oe=null;break}if(r=t.sibling,r!==null){r.return=t.return,oe=r;break}oe=t.return}}function Ug(e){for(;oe!==null;){var t=oe;if(t===e){oe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,oe=r;break}oe=t.return}}function Fg(e){for(;oe!==null;){var t=oe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{au(4,t)}catch(c){Ve(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var o=t.return;try{n.componentDidMount()}catch(c){Ve(t,o,c)}}var a=t.return;try{Lh(t)}catch(c){Ve(t,a,c)}break;case 5:var i=t.return;try{Lh(t)}catch(c){Ve(t,i,c)}}}catch(c){Ve(t,t.return,c)}if(t===e){oe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,oe=l;break}oe=t.return}}var VC=Math.ceil,_c=Nn.ReactCurrentDispatcher,xm=Nn.ReactCurrentOwner,cr=Nn.ReactCurrentBatchConfig,_e=0,lt=null,Xe=null,mt=0,qt=0,Ro=ds(0),tt=0,Ti=null,Bs=0,iu=0,vm=0,li=null,$t=null,wm=0,oa=1/0,on=null,Cc=!1,Fh=null,ts=null,Cl=!1,Gn=null,kc=0,ci=0,zh=null,Yl=-1,Ql=0;function Pt(){return _e&6?Ke():Yl!==-1?Yl:Yl=Ke()}function rs(e){return e.mode&1?_e&2&&mt!==0?mt&-mt:EC.transition!==null?(Ql===0&&(Ql=pv()),Ql):(e=Ee,e!==0||(e=window.event,e=e===void 0?16:jv(e.type)),e):1}function Tr(e,t,r,n){if(50<ci)throw ci=0,zh=null,Error(G(185));Ki(e,r,n),(!(_e&2)||e!==lt)&&(e===lt&&(!(_e&2)&&(iu|=r),tt===4&&Un(e,mt)),Bt(e,n),r===1&&_e===0&&!(t.mode&1)&&(oa=Ke()+500,nu&&hs()))}function Bt(e,t){var r=e.callbackNode;E_(e,t);var n=uc(e,e===lt?mt:0);if(n===0)r!==null&&Yp(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Yp(r),t===1)e.tag===0?kC(zg.bind(null,e)):zv(zg.bind(null,e)),SC(function(){!(_e&6)&&hs()}),r=null;else{switch(gv(n)){case 1:r=Kf;break;case 4:r=fv;break;case 16:r=cc;break;case 536870912:r=mv;break;default:r=cc}r=Uw(r,Aw.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Aw(e,t){if(Yl=-1,Ql=0,_e&6)throw Error(G(327));var r=e.callbackNode;if(Lo()&&e.callbackNode!==r)return null;var n=uc(e,e===lt?mt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ec(e,n);else{t=n;var o=_e;_e|=2;var a=Ow();(lt!==e||mt!==t)&&(on=null,oa=Ke()+500,$s(e,t));do try{GC();break}catch(l){Iw(e,l)}while(!0);om(),_c.current=a,_e=o,Xe!==null?t=0:(lt=null,mt=0,t=tt)}if(t!==0){if(t===2&&(o=mh(e),o!==0&&(n=o,t=Hh(e,o))),t===1)throw r=Ti,$s(e,0),Un(e,n),Bt(e,Ke()),r;if(t===6)Un(e,n);else{if(o=e.current.alternate,!(n&30)&&!KC(o)&&(t=Ec(e,n),t===2&&(a=mh(e),a!==0&&(n=a,t=Hh(e,a))),t===1))throw r=Ti,$s(e,0),Un(e,n),Bt(e,Ke()),r;switch(e.finishedWork=o,e.finishedLanes=n,t){case 0:case 1:throw Error(G(345));case 2:js(e,$t,on);break;case 3:if(Un(e,n),(n&130023424)===n&&(t=wm+500-Ke(),10<t)){if(uc(e,0)!==0)break;if(o=e.suspendedLanes,(o&n)!==n){Pt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=jh(js.bind(null,e,$t,on),t);break}js(e,$t,on);break;case 4:if(Un(e,n),(n&4194240)===n)break;for(t=e.eventTimes,o=-1;0<n;){var i=31-Pr(n);a=1<<i,i=t[i],i>o&&(o=i),n&=~a}if(n=o,n=Ke()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*VC(n/1960))-n,10<n){e.timeoutHandle=jh(js.bind(null,e,$t,on),n);break}js(e,$t,on);break;case 5:js(e,$t,on);break;default:throw Error(G(329))}}}return Bt(e,Ke()),e.callbackNode===r?Aw.bind(null,e):null}function Hh(e,t){var r=li;return e.current.memoizedState.isDehydrated&&($s(e,t).flags|=256),e=Ec(e,t),e!==2&&(t=$t,$t=r,t!==null&&Bh(t)),e}function Bh(e){$t===null?$t=e:$t.push.apply($t,e)}function KC(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var o=r[n],a=o.getSnapshot;o=o.value;try{if(!Rr(a(),o))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Un(e,t){for(t&=~vm,t&=~iu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Pr(t),n=1<<r;e[r]=-1,t&=~n}}function zg(e){if(_e&6)throw Error(G(327));Lo();var t=uc(e,0);if(!(t&1))return Bt(e,Ke()),null;var r=Ec(e,t);if(e.tag!==0&&r===2){var n=mh(e);n!==0&&(t=n,r=Hh(e,n))}if(r===1)throw r=Ti,$s(e,0),Un(e,t),Bt(e,Ke()),r;if(r===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,js(e,$t,on),Bt(e,Ke()),null}function bm(e,t){var r=_e;_e|=1;try{return e(t)}finally{_e=r,_e===0&&(oa=Ke()+500,nu&&hs())}}function Ws(e){Gn!==null&&Gn.tag===0&&!(_e&6)&&Lo();var t=_e;_e|=1;var r=cr.transition,n=Ee;try{if(cr.transition=null,Ee=1,e)return e()}finally{Ee=n,cr.transition=r,_e=t,!(_e&6)&&hs()}}function jm(){qt=Ro.current,Le(Ro)}function $s(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,jC(r)),Xe!==null)for(r=Xe.return;r!==null;){var n=r;switch(rm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&pc();break;case 3:na(),Le(zt),Le(jt),dm();break;case 5:um(n);break;case 4:na();break;case 13:Le(Fe);break;case 19:Le(Fe);break;case 10:am(n.type._context);break;case 22:case 23:jm()}r=r.return}if(lt=e,Xe=e=ns(e.current,null),mt=qt=t,tt=0,Ti=null,vm=iu=Bs=0,$t=li=null,Ps!==null){for(t=0;t<Ps.length;t++)if(r=Ps[t],n=r.interleaved,n!==null){r.interleaved=null;var o=n.next,a=r.pending;if(a!==null){var i=a.next;a.next=o,n.next=i}r.pending=n}Ps=null}return e}function Iw(e,t){do{var r=Xe;try{if(om(),Kl.current=Nc,Sc){for(var n=ze.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}Sc=!1}if(Hs=0,at=et=ze=null,ai=!1,ki=0,xm.current=null,r===null||r.return===null){tt=1,Ti=t,Xe=null;break}e:{var a=e,i=r.return,l=r,c=t;if(t=mt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=Eg(i);if(v!==null){v.flags&=-257,Pg(v,i,l,a,t),v.mode&1&&kg(a,u,t),t=v,c=u;var b=t.updateQueue;if(b===null){var g=new Set;g.add(c),t.updateQueue=g}else b.add(c);break e}else{if(!(t&1)){kg(a,u,t),Sm();break e}c=Error(G(426))}}else if(Ue&&l.mode&1){var w=Eg(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Pg(w,i,l,a,t),nm(sa(c,l));break e}}a=c=sa(c,l),tt!==4&&(tt=2),li===null?li=[a]:li.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var p=gw(a,c,t);bg(a,p);break e;case 1:l=c;var y=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ts===null||!ts.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=yw(a,l,t);bg(a,j);break e}}a=a.return}while(a!==null)}Dw(r)}catch(S){t=S,Xe===r&&r!==null&&(Xe=r=r.return);continue}break}while(!0)}function Ow(){var e=_c.current;return _c.current=Nc,e===null?Nc:e}function Sm(){(tt===0||tt===3||tt===2)&&(tt=4),lt===null||!(Bs&268435455)&&!(iu&268435455)||Un(lt,mt)}function Ec(e,t){var r=_e;_e|=2;var n=Ow();(lt!==e||mt!==t)&&(on=null,$s(e,t));do try{qC();break}catch(o){Iw(e,o)}while(!0);if(om(),_e=r,_c.current=n,Xe!==null)throw Error(G(261));return lt=null,mt=0,tt}function qC(){for(;Xe!==null;)Mw(Xe)}function GC(){for(;Xe!==null&&!v_();)Mw(Xe)}function Mw(e){var t=$w(e.alternate,e,qt);e.memoizedProps=e.pendingProps,t===null?Dw(e):Xe=t,xm.current=null}function Dw(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=zC(r,t),r!==null){r.flags&=32767,Xe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{tt=6,Xe=null;return}}else if(r=FC(r,t,qt),r!==null){Xe=r;return}if(t=t.sibling,t!==null){Xe=t;return}Xe=t=e}while(t!==null);tt===0&&(tt=5)}function js(e,t,r){var n=Ee,o=cr.transition;try{cr.transition=null,Ee=1,YC(e,t,r,n)}finally{cr.transition=o,Ee=n}return null}function YC(e,t,r,n){do Lo();while(Gn!==null);if(_e&6)throw Error(G(327));r=e.finishedWork;var o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(P_(e,a),e===lt&&(Xe=lt=null,mt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Cl||(Cl=!0,Uw(cc,function(){return Lo(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=cr.transition,cr.transition=null;var i=Ee;Ee=1;var l=_e;_e|=4,xm.current=null,BC(e,r),Tw(r,e),pC(wh),dc=!!vh,wh=vh=null,e.current=r,WC(r),w_(),_e=l,Ee=i,cr.transition=a}else e.current=r;if(Cl&&(Cl=!1,Gn=e,kc=o),a=e.pendingLanes,a===0&&(ts=null),S_(r.stateNode),Bt(e,Ke()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)o=t[r],n(o.value,{componentStack:o.stack,digest:o.digest});if(Cc)throw Cc=!1,e=Fh,Fh=null,e;return kc&1&&e.tag!==0&&Lo(),a=e.pendingLanes,a&1?e===zh?ci++:(ci=0,zh=e):ci=0,hs(),null}function Lo(){if(Gn!==null){var e=gv(kc),t=cr.transition,r=Ee;try{if(cr.transition=null,Ee=16>e?16:e,Gn===null)var n=!1;else{if(e=Gn,Gn=null,kc=0,_e&6)throw Error(G(331));var o=_e;for(_e|=4,oe=e.current;oe!==null;){var a=oe,i=a.child;if(oe.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(oe=u;oe!==null;){var h=oe;switch(h.tag){case 0:case 11:case 15:ii(8,h,a)}var d=h.child;if(d!==null)d.return=h,oe=d;else for(;oe!==null;){h=oe;var m=h.sibling,v=h.return;if(kw(h),h===u){oe=null;break}if(m!==null){m.return=v,oe=m;break}oe=v}}}var b=a.alternate;if(b!==null){var g=b.child;if(g!==null){b.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}oe=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,oe=i;else e:for(;oe!==null;){if(a=oe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ii(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,oe=p;break e}oe=a.return}}var y=e.current;for(oe=y;oe!==null;){i=oe;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,oe=x;else e:for(i=y;oe!==null;){if(l=oe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:au(9,l)}}catch(S){Ve(l,l.return,S)}if(l===i){oe=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,oe=j;break e}oe=l.return}}if(_e=o,hs(),qr&&typeof qr.onPostCommitFiberRoot=="function")try{qr.onPostCommitFiberRoot(Xc,e)}catch{}n=!0}return n}finally{Ee=r,cr.transition=t}}return!1}function Hg(e,t,r){t=sa(r,t),t=gw(e,t,1),e=es(e,t,1),t=Pt(),e!==null&&(Ki(e,1,t),Bt(e,t))}function Ve(e,t,r){if(e.tag===3)Hg(e,e,r);else for(;t!==null;){if(t.tag===3){Hg(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ts===null||!ts.has(n))){e=sa(r,e),e=yw(t,e,1),t=es(t,e,1),e=Pt(),t!==null&&(Ki(t,1,e),Bt(t,e));break}}t=t.return}}function QC(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Pt(),e.pingedLanes|=e.suspendedLanes&r,lt===e&&(mt&r)===r&&(tt===4||tt===3&&(mt&130023424)===mt&&500>Ke()-wm?$s(e,0):vm|=r),Bt(e,t)}function Lw(e,t){t===0&&(e.mode&1?(t=gl,gl<<=1,!(gl&130023424)&&(gl=4194304)):t=1);var r=Pt();e=xn(e,t),e!==null&&(Ki(e,t,r),Bt(e,r))}function JC(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Lw(e,r)}function XC(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;o!==null&&(r=o.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(G(314))}n!==null&&n.delete(t),Lw(e,r)}var $w;$w=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||zt.current)Ft=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ft=!1,UC(e,t,r);Ft=!!(e.flags&131072)}else Ft=!1,Ue&&t.flags&1048576&&Hv(t,xc,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Gl(e,t),e=t.pendingProps;var o=ea(t,jt.current);Do(t,r),o=fm(null,t,n,e,o,r);var a=mm();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ht(n)?(a=!0,gc(t)):a=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,lm(t),o.updater=ou,t.stateNode=o,o._reactInternals=t,Ph(t,n,e,r),t=Ah(null,t,n,!0,a,r)):(t.tag=0,Ue&&a&&tm(t),Ct(null,t,o,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Gl(e,t),e=t.pendingProps,o=n._init,n=o(n._payload),t.type=n,o=t.tag=ek(n),e=jr(n,e),o){case 0:t=Rh(null,t,n,e,r);break e;case 1:t=Ag(null,t,n,e,r);break e;case 11:t=Tg(null,t,n,e,r);break e;case 14:t=Rg(null,t,n,jr(n.type,e),r);break e}throw Error(G(306,n,""))}return t;case 0:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:jr(n,o),Rh(e,t,n,o,r);case 1:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:jr(n,o),Ag(e,t,n,o,r);case 3:e:{if(bw(t),e===null)throw Error(G(387));n=t.pendingProps,a=t.memoizedState,o=a.element,Gv(e,t),bc(t,n,null,r);var i=t.memoizedState;if(n=i.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){o=sa(Error(G(423)),t),t=Ig(e,t,n,r,o);break e}else if(n!==o){o=sa(Error(G(424)),t),t=Ig(e,t,n,r,o);break e}else for(Yt=Zn(t.stateNode.containerInfo.firstChild),Jt=t,Ue=!0,Er=null,r=Kv(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ta(),n===o){t=vn(e,t,r);break e}Ct(e,t,n,r)}t=t.child}return t;case 5:return Yv(t),e===null&&Ch(t),n=t.type,o=t.pendingProps,a=e!==null?e.memoizedProps:null,i=o.children,bh(n,o)?i=null:a!==null&&bh(n,a)&&(t.flags|=32),ww(e,t),Ct(e,t,i,r),t.child;case 6:return e===null&&Ch(t),null;case 13:return jw(e,t,r);case 4:return cm(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ra(t,null,n,r):Ct(e,t,n,r),t.child;case 11:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:jr(n,o),Tg(e,t,n,o,r);case 7:return Ct(e,t,t.pendingProps,r),t.child;case 8:return Ct(e,t,t.pendingProps.children,r),t.child;case 12:return Ct(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,o=t.pendingProps,a=t.memoizedProps,i=o.value,Ae(vc,n._currentValue),n._currentValue=i,a!==null)if(Rr(a.value,i)){if(a.children===o.children&&!zt.current){t=vn(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=mn(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),kh(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(G(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),kh(i,r,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}Ct(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,n=t.pendingProps.children,Do(t,r),o=hr(o),n=n(o),t.flags|=1,Ct(e,t,n,r),t.child;case 14:return n=t.type,o=jr(n,t.pendingProps),o=jr(n.type,o),Rg(e,t,n,o,r);case 15:return xw(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:jr(n,o),Gl(e,t),t.tag=1,Ht(n)?(e=!0,gc(t)):e=!1,Do(t,r),pw(t,n,o),Ph(t,n,o,r),Ah(null,t,n,!0,e,r);case 19:return Sw(e,t,r);case 22:return vw(e,t,r)}throw Error(G(156,t.tag))};function Uw(e,t){return hv(e,t)}function ZC(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(e,t,r,n){return new ZC(e,t,r,n)}function Nm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ek(e){if(typeof e=="function")return Nm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Bf)return 11;if(e===Wf)return 14}return 2}function ns(e,t){var r=e.alternate;return r===null?(r=lr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Jl(e,t,r,n,o,a){var i=2;if(n=e,typeof e=="function")Nm(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case bo:return Us(r.children,o,a,t);case Hf:i=8,o|=8;break;case Zd:return e=lr(12,r,t,o|2),e.elementType=Zd,e.lanes=a,e;case eh:return e=lr(13,r,t,o),e.elementType=eh,e.lanes=a,e;case th:return e=lr(19,r,t,o),e.elementType=th,e.lanes=a,e;case Yx:return lu(r,o,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qx:i=10;break e;case Gx:i=9;break e;case Bf:i=11;break e;case Wf:i=14;break e;case Dn:i=16,n=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=lr(i,r,t,o),t.elementType=e,t.type=n,t.lanes=a,t}function Us(e,t,r,n){return e=lr(7,e,n,t),e.lanes=r,e}function lu(e,t,r,n){return e=lr(22,e,n,t),e.elementType=Yx,e.lanes=r,e.stateNode={isHidden:!1},e}function _d(e,t,r){return e=lr(6,e,null,t),e.lanes=r,e}function Cd(e,t,r){return t=lr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function tk(e,t,r,n,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ad(0),this.expirationTimes=ad(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ad(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function _m(e,t,r,n,o,a,i,l,c){return e=new tk(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=lr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},lm(a),e}function rk(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Fw(e){if(!e)return is;e=e._reactInternals;e:{if(eo(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var r=e.type;if(Ht(r))return Fv(e,r,t)}return t}function zw(e,t,r,n,o,a,i,l,c){return e=_m(r,n,!0,e,o,a,i,l,c),e.context=Fw(null),r=e.current,n=Pt(),o=rs(r),a=mn(n,o),a.callback=t??null,es(r,a,o),e.current.lanes=o,Ki(e,o,n),Bt(e,n),e}function cu(e,t,r,n){var o=t.current,a=Pt(),i=rs(o);return r=Fw(r),t.context===null?t.context=r:t.pendingContext=r,t=mn(a,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=es(o,t,i),e!==null&&(Tr(e,o,i,a),Vl(e,o,i)),i}function Pc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Bg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Cm(e,t){Bg(e,t),(e=e.alternate)&&Bg(e,t)}function nk(){return null}var Hw=typeof reportError=="function"?reportError:function(e){console.error(e)};function km(e){this._internalRoot=e}uu.prototype.render=km.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));cu(e,t,null,null)};uu.prototype.unmount=km.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ws(function(){cu(null,e,null,null)}),t[yn]=null}};function uu(e){this._internalRoot=e}uu.prototype.unstable_scheduleHydration=function(e){if(e){var t=vv();e={blockedOn:null,target:e,priority:t};for(var r=0;r<$n.length&&t!==0&&t<$n[r].priority;r++);$n.splice(r,0,e),r===0&&bv(e)}};function Em(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function du(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Wg(){}function sk(e,t,r,n,o){if(o){if(typeof n=="function"){var a=n;n=function(){var u=Pc(i);a.call(u)}}var i=zw(t,n,e,0,null,!1,!1,"",Wg);return e._reactRootContainer=i,e[yn]=i.current,ji(e.nodeType===8?e.parentNode:e),Ws(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof n=="function"){var l=n;n=function(){var u=Pc(c);l.call(u)}}var c=_m(e,0,!1,null,null,!1,!1,"",Wg);return e._reactRootContainer=c,e[yn]=c.current,ji(e.nodeType===8?e.parentNode:e),Ws(function(){cu(t,c,r,n)}),c}function hu(e,t,r,n,o){var a=r._reactRootContainer;if(a){var i=a;if(typeof o=="function"){var l=o;o=function(){var c=Pc(i);l.call(c)}}cu(t,i,e,o)}else i=sk(r,t,e,o,n);return Pc(i)}yv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ya(t.pendingLanes);r!==0&&(qf(t,r|1),Bt(t,Ke()),!(_e&6)&&(oa=Ke()+500,hs()))}break;case 13:Ws(function(){var n=xn(e,1);if(n!==null){var o=Pt();Tr(n,e,1,o)}}),Cm(e,1)}};Gf=function(e){if(e.tag===13){var t=xn(e,134217728);if(t!==null){var r=Pt();Tr(t,e,134217728,r)}Cm(e,134217728)}};xv=function(e){if(e.tag===13){var t=rs(e),r=xn(e,t);if(r!==null){var n=Pt();Tr(r,e,t,n)}Cm(e,t)}};vv=function(){return Ee};wv=function(e,t){var r=Ee;try{return Ee=e,t()}finally{Ee=r}};dh=function(e,t,r){switch(t){case"input":if(sh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var o=ru(n);if(!o)throw Error(G(90));Jx(n),sh(n,o)}}}break;case"textarea":Zx(e,r);break;case"select":t=r.value,t!=null&&Ao(e,!!r.multiple,t,!1)}};av=bm;iv=Ws;var ok={usingClientEntryPoint:!1,Events:[Gi,_o,ru,sv,ov,bm]},za={findFiberByHostInstance:Es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ak={bundleType:za.bundleType,version:za.version,rendererPackageName:za.rendererPackageName,rendererConfig:za.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=uv(e),e===null?null:e.stateNode},findFiberByHostInstance:za.findFiberByHostInstance||nk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kl.isDisabled&&kl.supportsFiber)try{Xc=kl.inject(ak),qr=kl}catch{}}er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ok;er.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Em(t))throw Error(G(200));return rk(e,t,null,r)};er.createRoot=function(e,t){if(!Em(e))throw Error(G(299));var r=!1,n="",o=Hw;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=_m(e,1,!1,null,null,r,!1,n,o),e[yn]=t.current,ji(e.nodeType===8?e.parentNode:e),new km(t)};er.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=uv(t),e=e===null?null:e.stateNode,e};er.flushSync=function(e){return Ws(e)};er.hydrate=function(e,t,r){if(!du(t))throw Error(G(200));return hu(null,e,t,!0,r)};er.hydrateRoot=function(e,t,r){if(!Em(e))throw Error(G(405));var n=r!=null&&r.hydratedSources||null,o=!1,a="",i=Hw;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=zw(t,null,e,1,r??null,o,!1,a,i),e[yn]=t.current,ji(e),n)for(e=0;e<n.length;e++)r=n[e],o=r._getVersion,o=o(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new uu(t)};er.render=function(e,t,r){if(!du(t))throw Error(G(200));return hu(null,e,t,!1,r)};er.unmountComponentAtNode=function(e){if(!du(e))throw Error(G(40));return e._reactRootContainer?(Ws(function(){hu(null,null,e,!1,function(){e._reactRootContainer=null,e[yn]=null})}),!0):!1};er.unstable_batchedUpdates=bm;er.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!du(r))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return hu(e,t,r,!1,n)};er.version="18.3.1-next-f1338f8080-20240426";function Bw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bw)}catch(e){console.error(e)}}Bw(),Bx.exports=er;var to=Bx.exports;const Ww=Rx(to);var Vw,Vg=to;Vw=Vg.createRoot,Vg.hydrateRoot;const ik=1,lk=1e6;let kd=0;function ck(){return kd=(kd+1)%Number.MAX_SAFE_INTEGER,kd.toString()}const Ed=new Map,Kg=e=>{if(Ed.has(e))return;const t=setTimeout(()=>{Ed.delete(e),ui({type:"REMOVE_TOAST",toastId:e})},lk);Ed.set(e,t)},uk=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,ik)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Kg(r):e.toasts.forEach(n=>{Kg(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Xl=[];let Zl={toasts:[]};function ui(e){Zl=uk(Zl,e),Xl.forEach(t=>{t(Zl)})}function dk({...e}){const t=ck(),r=o=>ui({type:"UPDATE_TOAST",toast:{...o,id:t}}),n=()=>ui({type:"DISMISS_TOAST",toastId:t});return ui({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||n()}}}),{id:t,dismiss:n,update:r}}function At(){const[e,t]=f.useState(Zl);return f.useEffect(()=>(Xl.push(t),()=>{const r=Xl.indexOf(t);r>-1&&Xl.splice(r,1)}),[e]),{...e,toast:dk,dismiss:r=>ui({type:"DISMISS_TOAST",toastId:r})}}function X(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e==null||e(o),r===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function qg(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function fu(...e){return t=>{let r=!1;const n=e.map(o=>{const a=qg(o,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let o=0;o<n.length;o++){const a=n[o];typeof a=="function"?a():qg(e[o],null)}}}}function ye(...e){return f.useCallback(fu(...e),e)}function hk(e,t){const r=f.createContext(t),n=a=>{const{children:i,...l}=a,c=f.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function o(a){const i=f.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,o]}function It(e,t=[]){let r=[];function n(a,i){const l=f.createContext(i),c=r.length;r=[...r,i];const u=d=>{var p;const{scope:m,children:v,...b}=d,g=((p=m==null?void 0:m[e])==null?void 0:p[c])||l,w=f.useMemo(()=>b,Object.values(b));return s.jsx(g.Provider,{value:w,children:v})};u.displayName=a+"Provider";function h(d,m){var g;const v=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,b=f.useContext(v);if(b)return b;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${a}\``)}return[u,h]}const o=()=>{const a=r.map(i=>f.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return f.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return o.scopeName=e,[n,fk(o,...t)]}function fk(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(a)[`__scope${u}`];return{...l,...d}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Vs(e){const t=pk(e),r=f.forwardRef((n,o)=>{const{children:a,...i}=n,l=f.Children.toArray(a),c=l.find(yk);if(c){const u=c.props.children,h=l.map(d=>d===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:d);return s.jsx(t,{...i,ref:o,children:f.isValidElement(u)?f.cloneElement(u,void 0,h):null})}return s.jsx(t,{...i,ref:o,children:a})});return r.displayName=`${e}.Slot`,r}var mk=Vs("Slot");function pk(e){const t=f.forwardRef((r,n)=>{const{children:o,...a}=r;if(f.isValidElement(o)){const i=vk(o),l=xk(a,o.props);return o.type!==f.Fragment&&(l.ref=n?fu(n,i):i),f.cloneElement(o,l)}return f.Children.count(o)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Kw=Symbol("radix.slottable");function gk(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=Kw,t}function yk(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Kw}function xk(e,t){const r={...t};for(const n in t){const o=e[n],a=t[n];/^on[A-Z]/.test(n)?o&&a?r[n]=(...l)=>{const c=a(...l);return o(...l),c}:o&&(r[n]=o):n==="style"?r[n]={...o,...a}:n==="className"&&(r[n]=[o,a].filter(Boolean).join(" "))}return{...e,...r}}function vk(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function mu(e){const t=e+"CollectionProvider",[r,n]=It(t),[o,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:w,children:p}=g,y=Y.useRef(null),x=Y.useRef(new Map).current;return s.jsx(o,{scope:w,itemMap:x,collectionRef:y,children:p})};i.displayName=t;const l=e+"CollectionSlot",c=Vs(l),u=Y.forwardRef((g,w)=>{const{scope:p,children:y}=g,x=a(l,p),j=ye(w,x.collectionRef);return s.jsx(c,{ref:j,children:y})});u.displayName=l;const h=e+"CollectionItemSlot",d="data-radix-collection-item",m=Vs(h),v=Y.forwardRef((g,w)=>{const{scope:p,children:y,...x}=g,j=Y.useRef(null),S=ye(w,j),N=a(h,p);return Y.useEffect(()=>(N.itemMap.set(j,{ref:j,...x}),()=>void N.itemMap.delete(j))),s.jsx(m,{[d]:"",ref:S,children:y})});v.displayName=h;function b(g){const w=a(e+"CollectionConsumer",g);return Y.useCallback(()=>{const y=w.collectionRef.current;if(!y)return[];const x=Array.from(y.querySelectorAll(`[${d}]`));return Array.from(w.itemMap.values()).sort((N,_)=>x.indexOf(N.ref.current)-x.indexOf(_.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:i,Slot:u,ItemSlot:v},b,n]}var wk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ae=wk.reduce((e,t)=>{const r=Vs(`Primitive.${t}`),n=f.forwardRef((o,a)=>{const{asChild:i,...l}=o,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Pm(e,t){e&&to.flushSync(()=>e.dispatchEvent(t))}function qe(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function bk(e,t=globalThis==null?void 0:globalThis.document){const r=qe(e);f.useEffect(()=>{const n=o=>{o.key==="Escape"&&r(o)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var jk="DismissableLayer",Wh="dismissableLayer.update",Sk="dismissableLayer.pointerDownOutside",Nk="dismissableLayer.focusOutside",Gg,qw=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ga=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=f.useContext(qw),[h,d]=f.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=f.useState({}),b=ye(t,_=>d(_)),g=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),p=g.indexOf(w),y=h?g.indexOf(h):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,j=y>=p,S=Ck(_=>{const E=_.target,M=[...u.branches].some(R=>R.contains(E));!j||M||(o==null||o(_),i==null||i(_),_.defaultPrevented||l==null||l())},m),N=kk(_=>{const E=_.target;[...u.branches].some(R=>R.contains(E))||(a==null||a(_),i==null||i(_),_.defaultPrevented||l==null||l())},m);return bk(_=>{y===u.layers.size-1&&(n==null||n(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},m),f.useEffect(()=>{if(h)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Gg=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),Yg(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Gg)}},[h,m,r,u]),f.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),Yg())},[h,u]),f.useEffect(()=>{const _=()=>v({});return document.addEventListener(Wh,_),()=>document.removeEventListener(Wh,_)},[]),s.jsx(ae.div,{...c,ref:b,style:{pointerEvents:x?j?"auto":"none":void 0,...e.style},onFocusCapture:X(e.onFocusCapture,N.onFocusCapture),onBlurCapture:X(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:X(e.onPointerDownCapture,S.onPointerDownCapture)})});ga.displayName=jk;var _k="DismissableLayerBranch",Gw=f.forwardRef((e,t)=>{const r=f.useContext(qw),n=f.useRef(null),o=ye(t,n);return f.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),s.jsx(ae.div,{...e,ref:o})});Gw.displayName=_k;function Ck(e,t=globalThis==null?void 0:globalThis.document){const r=qe(e),n=f.useRef(!1),o=f.useRef(()=>{});return f.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){Yw(Sk,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=c,t.addEventListener("click",o.current,{once:!0})):c()}else t.removeEventListener("click",o.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function kk(e,t=globalThis==null?void 0:globalThis.document){const r=qe(e),n=f.useRef(!1);return f.useEffect(()=>{const o=a=>{a.target&&!n.current&&Yw(Nk,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Yg(){const e=new CustomEvent(Wh);document.dispatchEvent(e)}function Yw(e,t,r,{discrete:n}){const o=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?Pm(o,a):o.dispatchEvent(a)}var Ek=ga,Pk=Gw,ct=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},Tk="Portal",Qi=f.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[o,a]=f.useState(!1);ct(()=>a(!0),[]);const i=r||o&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?Ww.createPortal(s.jsx(ae.div,{...n,ref:t}),i):null});Qi.displayName=Tk;function Rk(e,t){return f.useReducer((r,n)=>t[r][n]??r,e)}var gt=e=>{const{present:t,children:r}=e,n=Ak(t),o=typeof r=="function"?r({present:n.isPresent}):f.Children.only(r),a=ye(n.ref,Ik(o));return typeof r=="function"||n.isPresent?f.cloneElement(o,{ref:a}):null};gt.displayName="Presence";function Ak(e){const[t,r]=f.useState(),n=f.useRef(null),o=f.useRef(e),a=f.useRef("none"),i=e?"mounted":"unmounted",[l,c]=Rk(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const u=El(n.current);a.current=l==="mounted"?u:"none"},[l]),ct(()=>{const u=n.current,h=o.current;if(h!==e){const m=a.current,v=El(u);e?c("MOUNT"):v==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&m!==v?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,c]),ct(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,d=v=>{const g=El(n.current).includes(CSS.escape(v.animationName));if(v.target===t&&g&&(c("ANIMATION_END"),!o.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},m=v=>{v.target===t&&(a.current=El(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:f.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function El(e){return(e==null?void 0:e.animationName)||"none"}function Ik(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Ok=$f[" useInsertionEffect ".trim().toString()]||ct;function wn({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[o,a,i]=Mk({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:o;{const h=f.useRef(e!==void 0);f.useEffect(()=>{const d=h.current;d!==l&&console.warn(`${n} is changing from ${d?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,n])}const u=f.useCallback(h=>{var d;if(l){const m=Dk(h)?h(e):h;m!==e&&((d=i.current)==null||d.call(i,m))}else a(h)},[l,e,a,i]);return[c,u]}function Mk({defaultProp:e,onChange:t}){const[r,n]=f.useState(e),o=f.useRef(r),a=f.useRef(t);return Ok(()=>{a.current=t},[t]),f.useEffect(()=>{var i;o.current!==r&&((i=a.current)==null||i.call(a,r),o.current=r)},[r,o]),[r,n,a]}function Dk(e){return typeof e=="function"}var Qw=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Lk="VisuallyHidden",pu=f.forwardRef((e,t)=>s.jsx(ae.span,{...e,ref:t,style:{...Qw,...e.style}}));pu.displayName=Lk;var $k=pu,Tm="ToastProvider",[Rm,Uk,Fk]=mu("Toast"),[Jw]=It("Toast",[Fk]),[zk,gu]=Jw(Tm),Xw=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:o="right",swipeThreshold:a=50,children:i}=e,[l,c]=f.useState(null),[u,h]=f.useState(0),d=f.useRef(!1),m=f.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Tm}\`. Expected non-empty \`string\`.`),s.jsx(Rm.Provider,{scope:t,children:s.jsx(zk,{scope:t,label:r,duration:n,swipeDirection:o,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:f.useCallback(()=>h(v=>v+1),[]),onToastRemove:f.useCallback(()=>h(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:m,children:i})})};Xw.displayName=Tm;var Zw="ToastViewport",Hk=["F8"],Vh="toast.viewportPause",Kh="toast.viewportResume",e0=f.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=Hk,label:o="Notifications ({hotkey})",...a}=e,i=gu(Zw,r),l=Uk(r),c=f.useRef(null),u=f.useRef(null),h=f.useRef(null),d=f.useRef(null),m=ye(t,d,i.onViewportChange),v=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=i.toastCount>0;f.useEffect(()=>{const w=p=>{var x;n.length!==0&&n.every(j=>p[j]||p.code===j)&&((x=d.current)==null||x.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),f.useEffect(()=>{const w=c.current,p=d.current;if(b&&w&&p){const y=()=>{if(!i.isClosePausedRef.current){const N=new CustomEvent(Vh);p.dispatchEvent(N),i.isClosePausedRef.current=!0}},x=()=>{if(i.isClosePausedRef.current){const N=new CustomEvent(Kh);p.dispatchEvent(N),i.isClosePausedRef.current=!1}},j=N=>{!w.contains(N.relatedTarget)&&x()},S=()=>{w.contains(document.activeElement)||x()};return w.addEventListener("focusin",y),w.addEventListener("focusout",j),w.addEventListener("pointermove",y),w.addEventListener("pointerleave",S),window.addEventListener("blur",y),window.addEventListener("focus",x),()=>{w.removeEventListener("focusin",y),w.removeEventListener("focusout",j),w.removeEventListener("pointermove",y),w.removeEventListener("pointerleave",S),window.removeEventListener("blur",y),window.removeEventListener("focus",x)}}},[b,i.isClosePausedRef]);const g=f.useCallback(({tabbingDirection:w})=>{const y=l().map(x=>{const j=x.ref.current,S=[j,...tE(j)];return w==="forwards"?S:S.reverse()});return(w==="forwards"?y.reverse():y).flat()},[l]);return f.useEffect(()=>{const w=d.current;if(w){const p=y=>{var S,N,_;const x=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!x){const E=document.activeElement,M=y.shiftKey;if(y.target===w&&M){(S=u.current)==null||S.focus();return}const O=g({tabbingDirection:M?"backwards":"forwards"}),F=O.findIndex(A=>A===E);Pd(O.slice(F+1))?y.preventDefault():M?(N=u.current)==null||N.focus():(_=h.current)==null||_.focus()}};return w.addEventListener("keydown",p),()=>w.removeEventListener("keydown",p)}},[l,g]),s.jsxs(Pk,{ref:c,role:"region","aria-label":o.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&s.jsx(qh,{ref:u,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"forwards"});Pd(w)}}),s.jsx(Rm.Slot,{scope:r,children:s.jsx(ae.ol,{tabIndex:-1,...a,ref:m})}),b&&s.jsx(qh,{ref:h,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"backwards"});Pd(w)}})]})});e0.displayName=Zw;var t0="ToastFocusProxy",qh=f.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...o}=e,a=gu(t0,r);return s.jsx(pu,{tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&n()}})});qh.displayName=t0;var Ji="Toast",Bk="toast.swipeStart",Wk="toast.swipeMove",Vk="toast.swipeCancel",Kk="toast.swipeEnd",r0=f.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:o,onOpenChange:a,...i}=e,[l,c]=wn({prop:n,defaultProp:o??!0,onChange:a,caller:Ji});return s.jsx(gt,{present:r||l,children:s.jsx(Yk,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:qe(e.onPause),onResume:qe(e.onResume),onSwipeStart:X(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:X(e.onSwipeMove,u=>{const{x:h,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:X(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:X(e.onSwipeEnd,u=>{const{x:h,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),c(!1)})})})});r0.displayName=Ji;var[qk,Gk]=Jw(Ji,{onClose(){}}),Yk=f.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:o,open:a,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:h,onSwipeMove:d,onSwipeCancel:m,onSwipeEnd:v,...b}=e,g=gu(Ji,r),[w,p]=f.useState(null),y=ye(t,A=>p(A)),x=f.useRef(null),j=f.useRef(null),S=o||g.duration,N=f.useRef(0),_=f.useRef(S),E=f.useRef(0),{onToastAdd:M,onToastRemove:R}=g,z=qe(()=>{var D;(w==null?void 0:w.contains(document.activeElement))&&((D=g.viewport)==null||D.focus()),i()}),O=f.useCallback(A=>{!A||A===1/0||(window.clearTimeout(E.current),N.current=new Date().getTime(),E.current=window.setTimeout(z,A))},[z]);f.useEffect(()=>{const A=g.viewport;if(A){const D=()=>{O(_.current),u==null||u()},P=()=>{const T=new Date().getTime()-N.current;_.current=_.current-T,window.clearTimeout(E.current),c==null||c()};return A.addEventListener(Vh,P),A.addEventListener(Kh,D),()=>{A.removeEventListener(Vh,P),A.removeEventListener(Kh,D)}}},[g.viewport,S,c,u,O]),f.useEffect(()=>{a&&!g.isClosePausedRef.current&&O(S)},[a,S,g.isClosePausedRef,O]),f.useEffect(()=>(M(),()=>R()),[M,R]);const F=f.useMemo(()=>w?c0(w):null,[w]);return g.viewport?s.jsxs(s.Fragment,{children:[F&&s.jsx(Qk,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:F}),s.jsx(qk,{scope:r,onClose:z,children:to.createPortal(s.jsx(Rm.ItemSlot,{scope:r,children:s.jsx(Ek,{asChild:!0,onEscapeKeyDown:X(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||z(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(ae.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...b,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:X(e.onKeyDown,A=>{A.key==="Escape"&&(l==null||l(A.nativeEvent),A.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,z()))}),onPointerDown:X(e.onPointerDown,A=>{A.button===0&&(x.current={x:A.clientX,y:A.clientY})}),onPointerMove:X(e.onPointerMove,A=>{if(!x.current)return;const D=A.clientX-x.current.x,P=A.clientY-x.current.y,T=!!j.current,C=["left","right"].includes(g.swipeDirection),k=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,$=C?k(0,D):0,U=C?0:k(0,P),V=A.pointerType==="touch"?10:2,L={x:$,y:U},J={originalEvent:A,delta:L};T?(j.current=L,Pl(Wk,d,J,{discrete:!1})):Qg(L,g.swipeDirection,V)?(j.current=L,Pl(Bk,h,J,{discrete:!1}),A.target.setPointerCapture(A.pointerId)):(Math.abs(D)>V||Math.abs(P)>V)&&(x.current=null)}),onPointerUp:X(e.onPointerUp,A=>{const D=j.current,P=A.target;if(P.hasPointerCapture(A.pointerId)&&P.releasePointerCapture(A.pointerId),j.current=null,x.current=null,D){const T=A.currentTarget,C={originalEvent:A,delta:D};Qg(D,g.swipeDirection,g.swipeThreshold)?Pl(Kk,v,C,{discrete:!0}):Pl(Vk,m,C,{discrete:!0}),T.addEventListener("click",k=>k.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),Qk=e=>{const{__scopeToast:t,children:r,...n}=e,o=gu(Ji,t),[a,i]=f.useState(!1),[l,c]=f.useState(!1);return Zk(()=>i(!0)),f.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(Qi,{asChild:!0,children:s.jsx(pu,{...n,children:a&&s.jsxs(s.Fragment,{children:[o.label," ",r]})})})},Jk="ToastTitle",n0=f.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(ae.div,{...n,ref:t})});n0.displayName=Jk;var Xk="ToastDescription",s0=f.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(ae.div,{...n,ref:t})});s0.displayName=Xk;var o0="ToastAction",a0=f.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(l0,{altText:r,asChild:!0,children:s.jsx(Am,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${o0}\`. Expected non-empty \`string\`.`),null)});a0.displayName=o0;var i0="ToastClose",Am=f.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,o=Gk(i0,r);return s.jsx(l0,{asChild:!0,children:s.jsx(ae.button,{type:"button",...n,ref:t,onClick:X(e.onClick,o.onClose)})})});Am.displayName=i0;var l0=f.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...o}=e;return s.jsx(ae.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...o,ref:t})});function c0(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),eE(n)){const o=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!o)if(a){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...c0(n))}}),t}function Pl(e,t,r,{discrete:n}){const o=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?Pm(o,a):o.dispatchEvent(a)}var Qg=(e,t,r=0)=>{const n=Math.abs(e.x),o=Math.abs(e.y),a=n>o;return t==="left"||t==="right"?a&&n>r:!a&&o>r};function Zk(e=()=>{}){const t=qe(e);ct(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function eE(e){return e.nodeType===e.ELEMENT_NODE}function tE(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Pd(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var rE=Xw,u0=e0,d0=r0,h0=n0,f0=s0,m0=a0,p0=Am;function g0(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=g0(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function y0(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=g0(e))&&(n&&(n+=" "),n+=t);return n}const Jg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Xg=y0,Xi=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Xg(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:o,defaultVariants:a}=t,i=Object.keys(o).map(u=>{const h=r==null?void 0:r[u],d=a==null?void 0:a[u];if(h===null)return null;const m=Jg(h)||Jg(d);return o[u][m]}),l=r&&Object.entries(r).reduce((u,h)=>{let[d,m]=h;return m===void 0||(u[d]=m),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,h)=>{let{class:d,className:m,...v}=h;return Object.entries(v).every(b=>{let[g,w]=b;return Array.isArray(w)?w.includes({...a,...l}[g]):{...a,...l}[g]===w})?[...u,d,m]:u},[]);return Xg(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),x0=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:a,iconNode:i,...l},c)=>f.createElement("svg",{ref:c,...sE,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:x0("lucide",o),...l},[...i.map(([u,h])=>f.createElement(u,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=(e,t)=>{const r=f.forwardRef(({className:n,...o},a)=>f.createElement(oE,{ref:a,iconNode:t,className:x0(`lucide-${nE(e)}`,n),...o}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=re("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=re("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=re("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=re("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=re("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=re("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=re("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=re("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=re("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=re("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=re("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=re("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=re("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=re("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=re("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=re("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=re("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=re("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=re("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=re("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=re("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=re("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=re("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=re("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=re("Flower2",[["path",{d:"M12 5a3 3 0 1 1 3 3m-3-3a3 3 0 1 0-3 3m3-3v1M9 8a3 3 0 1 0 3 3M9 8h1m5 0a3 3 0 1 1-3 3m3-3h-1m-2 3v-1",key:"3pnvol"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M12 10v12",key:"6ubwww"}],["path",{d:"M12 22c4.2 0 7-1.667 7-5-4.2 0-7 1.667-7 5Z",key:"9hd38g"}],["path",{d:"M12 22c-4.2 0-7-1.667-7-5 4.2 0 7 1.667 7 5Z",key:"ufn41s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=re("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=re("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=re("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=re("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=re("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=re("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=re("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=re("Laugh",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M18 13a6 6 0 0 1-6 5 6 6 0 0 1-6-5h12Z",key:"b2q4dd"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=re("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=re("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=re("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=re("Meh",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15",key:"1xb1d9"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=re("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=re("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=re("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=re("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=re("Rainbow",[["path",{d:"M22 17a10 10 0 0 0-20 0",key:"ozegv"}],["path",{d:"M6 17a6 6 0 0 1 12 0",key:"5giftw"}],["path",{d:"M10 17a2 2 0 0 1 4 0",key:"gnsikk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=re("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=re("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=re("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=re("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=re("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=re("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=re("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=re("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=re("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=re("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=re("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=re("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=re("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=re("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=re("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Im="-",LE=e=>{const t=UE(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(Im);return l[0]===""&&l.length!==1&&l.shift(),_0(l,t)||$E(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},_0=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),o=n?_0(e.slice(1),n):void 0;if(o)return o;if(t.validators.length===0)return;const a=e.join(Im);return(i=t.validators.find(({validator:l})=>l(a)))==null?void 0:i.classGroupId},ty=/^\[(.+)\]$/,$E=e=>{if(ty.test(e)){const t=ty.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},UE=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return zE(Object.entries(e.classGroups),r).forEach(([a,i])=>{Yh(i,n,a,t)}),n},Yh=(e,t,r,n)=>{e.forEach(o=>{if(typeof o=="string"){const a=o===""?t:ry(t,o);a.classGroupId=r;return}if(typeof o=="function"){if(FE(o)){Yh(o(n),t,r,n);return}t.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([a,i])=>{Yh(i,ry(t,a),r,n)})})},ry=(e,t)=>{let r=e;return t.split(Im).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},FE=e=>e.isThemeGetter,zE=(e,t)=>t?e.map(([r,n])=>{const o=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([i,l])=>[t+i,l])):a);return[r,o]}):e,HE=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const o=(a,i)=>{r.set(a,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let i=r.get(a);if(i!==void 0)return i;if((i=n.get(a))!==void 0)return o(a,i),i},set(a,i){r.has(a)?r.set(a,i):o(a,i)}}},C0="!",BE=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,o=t[0],a=t.length,i=l=>{const c=[];let u=0,h=0,d;for(let w=0;w<l.length;w++){let p=l[w];if(u===0){if(p===o&&(n||l.slice(w,w+a)===t)){c.push(l.slice(h,w)),h=w+a;continue}if(p==="/"){d=w;continue}}p==="["?u++:p==="]"&&u--}const m=c.length===0?l:l.substring(h),v=m.startsWith(C0),b=v?m.substring(1):m,g=d&&d>h?d-h:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:b,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:i}):i},WE=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},VE=e=>({cache:HE(e.cacheSize),parseClassName:BE(e),...LE(e)}),KE=/\s+/,qE=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o}=t,a=[],i=e.trim().split(KE);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:h,hasImportantModifier:d,baseClassName:m,maybePostfixModifierPosition:v}=r(u);let b=!!v,g=n(b?m.substring(0,v):m);if(!g){if(!b){l=u+(l.length>0?" "+l:l);continue}if(g=n(m),!g){l=u+(l.length>0?" "+l:l);continue}b=!1}const w=WE(h).join(":"),p=d?w+C0:w,y=p+g;if(a.includes(y))continue;a.push(y);const x=o(g,b);for(let j=0;j<x.length;++j){const S=x[j];a.push(p+S)}l=u+(l.length>0?" "+l:l)}return l};function GE(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=k0(t))&&(n&&(n+=" "),n+=r);return n}const k0=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=k0(e[n]))&&(r&&(r+=" "),r+=t);return r};function YE(e,...t){let r,n,o,a=i;function i(c){const u=t.reduce((h,d)=>d(h),e());return r=VE(u),n=r.cache.get,o=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const h=qE(c,r);return o(c,h),h}return function(){return a(GE.apply(null,arguments))}}const Me=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},E0=/^\[(?:([a-z-]+):)?(.+)\]$/i,QE=/^\d+\/\d+$/,JE=new Set(["px","full","screen"]),XE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ZE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,eP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,tP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,nn=e=>Fo(e)||JE.has(e)||QE.test(e),Tn=e=>ya(e,"length",uP),Fo=e=>!!e&&!Number.isNaN(Number(e)),Td=e=>ya(e,"number",Fo),Ha=e=>!!e&&Number.isInteger(Number(e)),nP=e=>e.endsWith("%")&&Fo(e.slice(0,-1)),ve=e=>E0.test(e),Rn=e=>XE.test(e),sP=new Set(["length","size","percentage"]),oP=e=>ya(e,sP,P0),aP=e=>ya(e,"position",P0),iP=new Set(["image","url"]),lP=e=>ya(e,iP,hP),cP=e=>ya(e,"",dP),Ba=()=>!0,ya=(e,t,r)=>{const n=E0.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},uP=e=>ZE.test(e)&&!eP.test(e),P0=()=>!1,dP=e=>tP.test(e),hP=e=>rP.test(e),fP=()=>{const e=Me("colors"),t=Me("spacing"),r=Me("blur"),n=Me("brightness"),o=Me("borderColor"),a=Me("borderRadius"),i=Me("borderSpacing"),l=Me("borderWidth"),c=Me("contrast"),u=Me("grayscale"),h=Me("hueRotate"),d=Me("invert"),m=Me("gap"),v=Me("gradientColorStops"),b=Me("gradientColorStopPositions"),g=Me("inset"),w=Me("margin"),p=Me("opacity"),y=Me("padding"),x=Me("saturate"),j=Me("scale"),S=Me("sepia"),N=Me("skew"),_=Me("space"),E=Me("translate"),M=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto",ve,t],O=()=>[ve,t],F=()=>["",nn,Tn],A=()=>["auto",Fo,ve],D=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],P=()=>["solid","dashed","dotted","double","none"],T=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],C=()=>["start","end","center","between","around","evenly","stretch"],k=()=>["","0",ve],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[Fo,ve];return{cacheSize:500,separator:":",theme:{colors:[Ba],spacing:[nn,Tn],blur:["none","",Rn,ve],brightness:U(),borderColor:[e],borderRadius:["none","","full",Rn,ve],borderSpacing:O(),borderWidth:F(),contrast:U(),grayscale:k(),hueRotate:U(),invert:k(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[nP,Tn],inset:z(),margin:z(),opacity:U(),padding:O(),saturate:U(),scale:U(),sepia:k(),skew:U(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",ve]}],container:["container"],columns:[{columns:[Rn]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...D(),ve]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ha,ve]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ve]}],grow:[{grow:k()}],shrink:[{shrink:k()}],order:[{order:["first","last","none",Ha,ve]}],"grid-cols":[{"grid-cols":[Ba]}],"col-start-end":[{col:["auto",{span:["full",Ha,ve]},ve]}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":[Ba]}],"row-start-end":[{row:["auto",{span:[Ha,ve]},ve]}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ve]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...C()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...C(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...C(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ve,t]}],"min-w":[{"min-w":[ve,t,"min","max","fit"]}],"max-w":[{"max-w":[ve,t,"none","full","min","max","fit","prose",{screen:[Rn]},Rn]}],h:[{h:[ve,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ve,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ve,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ve,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Rn,Tn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Td]}],"font-family":[{font:[Ba]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ve]}],"line-clamp":[{"line-clamp":["none",Fo,Td]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",nn,ve]}],"list-image":[{"list-image":["none",ve]}],"list-style-type":[{list:["none","disc","decimal",ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...P(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",nn,Tn]}],"underline-offset":[{"underline-offset":["auto",nn,ve]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...D(),aP]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",oP]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},lP]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...P(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:P()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...P()]}],"outline-offset":[{"outline-offset":[nn,ve]}],"outline-w":[{outline:[nn,Tn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[nn,Tn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Rn,cP]}],"shadow-color":[{shadow:[Ba]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...T(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":T()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Rn,ve]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[d]}],saturate:[{saturate:[x]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ve]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",ve]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Ha,ve]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ve]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[nn,Tn,Td]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},mP=YE(fP);function le(...e){return mP(y0(e))}const pP=rE,T0=f.forwardRef(({className:e,...t},r)=>s.jsx(u0,{ref:r,className:le("fixed top-12 left-1/2 -translate-x-1/2 z-[100] flex max-h-screen w-[calc(100%-2rem)] max-w-md flex-col gap-2 sm:top-4 sm:left-auto sm:right-4 sm:translate-x-0",e),...t}));T0.displayName=u0.displayName;const gP=Xi("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),R0=f.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(d0,{ref:n,className:le(gP({variant:t}),e),...r}));R0.displayName=d0.displayName;const yP=f.forwardRef(({className:e,...t},r)=>s.jsx(m0,{ref:r,className:le("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));yP.displayName=m0.displayName;const A0=f.forwardRef(({className:e,...t},r)=>s.jsx(p0,{ref:r,className:le("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Uo,{className:"h-4 w-4"})}));A0.displayName=p0.displayName;const I0=f.forwardRef(({className:e,...t},r)=>s.jsx(h0,{ref:r,className:le("text-sm font-semibold",e),...t}));I0.displayName=h0.displayName;const O0=f.forwardRef(({className:e,...t},r)=>s.jsx(f0,{ref:r,className:le("text-sm opacity-90",e),...t}));O0.displayName=f0.displayName;function xP(){const{toasts:e}=At();return s.jsxs(pP,{children:[e.map(function({id:t,title:r,description:n,action:o,...a}){return s.jsxs(R0,{...a,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(I0,{children:r}),n&&s.jsx(O0,{children:n})]}),o,s.jsx(A0,{})]},t)}),s.jsx(T0,{})]})}var ny=["light","dark"],vP="(prefers-color-scheme: dark)",wP=f.createContext(void 0),bP={setTheme:e=>{},themes:[]},jP=()=>{var e;return(e=f.useContext(wP))!=null?e:bP};f.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:o,defaultTheme:a,value:i,attrs:l,nonce:c})=>{let u=a==="system",h=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,d=o?ny.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(b,g=!1,w=!0)=>{let p=i?i[b]:b,y=g?b+"|| ''":`'${p}'`,x="";return o&&w&&!g&&ny.includes(b)&&(x+=`d.style.colorScheme = '${b}';`),r==="class"?g||p?x+=`c.add(${y})`:x+="null":p&&(x+=`d[s](n,${y})`),x},v=e?`!function(){${h}${m(e)}}()`:n?`!function(){try{${h}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${vP}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}${u?"":"else{"+m(a,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}else{${m(a,!1,!1)};}${d}}catch(t){}}();`;return f.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:v}})});function SP(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const NP=e=>{switch(e){case"success":return kP;case"info":return PP;case"warning":return EP;case"error":return TP;default:return null}},_P=Array(12).fill(0),CP=({visible:e,className:t})=>Y.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Y.createElement("div",{className:"sonner-spinner"},_P.map((r,n)=>Y.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),kP=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),EP=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),PP=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),TP=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),RP=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Y.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Y.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),AP=()=>{const[e,t]=Y.useState(document.hidden);return Y.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let Qh=1;class IP{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...o}=t,a=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:Qh++,i=this.toasts.find(c=>c.id===a),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(c=>c.id===a?(this.publish({...c,...t,id:a,title:n}),{...c,...t,id:a,dismissible:l,title:n}):c):this.addToast({title:n,...o,dismissible:l,id:a}),a},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const o=Promise.resolve(t instanceof Function?t():t);let a=n!==void 0,i;const l=o.then(async u=>{if(i=["resolve",u],Y.isValidElement(u))a=!1,this.create({id:n,type:"default",message:u});else if(MP(u)&&!u.ok){a=!1;const d=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,m=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,b=typeof d=="object"&&!Y.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:m,...b})}else if(u instanceof Error){a=!1;const d=typeof r.error=="function"?await r.error(u):r.error,m=typeof r.description=="function"?await r.description(u):r.description,b=typeof d=="object"&&!Y.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:m,...b})}else if(r.success!==void 0){a=!1;const d=typeof r.success=="function"?await r.success(u):r.success,m=typeof r.description=="function"?await r.description(u):r.description,b=typeof d=="object"&&!Y.isValidElement(d)?d:{message:d};this.create({id:n,type:"success",description:m,...b})}}).catch(async u=>{if(i=["reject",u],r.error!==void 0){a=!1;const h=typeof r.error=="function"?await r.error(u):r.error,d=typeof r.description=="function"?await r.description(u):r.description,v=typeof h=="object"&&!Y.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:d,...v})}}).finally(()=>{a&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),c=()=>new Promise((u,h)=>l.then(()=>i[0]==="reject"?h(i[1]):u(i[1])).catch(h));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||Qh++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Lt=new IP,OP=(e,t)=>{const r=(t==null?void 0:t.id)||Qh++;return Lt.addToast({title:e,...t,id:r}),r},MP=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",DP=OP,LP=()=>Lt.toasts,$P=()=>Lt.getActiveToasts(),we=Object.assign(DP,{success:Lt.success,info:Lt.info,warning:Lt.warning,error:Lt.error,custom:Lt.custom,message:Lt.message,promise:Lt.promise,dismiss:Lt.dismiss,loading:Lt.loading},{getHistory:LP,getToasts:$P});SP("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Tl(e){return e.label!==void 0}const UP=3,FP="24px",zP="16px",sy=4e3,HP=356,BP=14,WP=45,VP=200;function Lr(...e){return e.filter(Boolean).join(" ")}function KP(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const qP=e=>{var t,r,n,o,a,i,l,c,u;const{invert:h,toast:d,unstyled:m,interacting:v,setHeights:b,visibleToasts:g,heights:w,index:p,toasts:y,expanded:x,removeToast:j,defaultRichColors:S,closeButton:N,style:_,cancelButtonStyle:E,actionButtonStyle:M,className:R="",descriptionClassName:z="",duration:O,position:F,gap:A,expandByDefault:D,classNames:P,icons:T,closeButtonAriaLabel:C="Close toast"}=e,[k,$]=Y.useState(null),[U,V]=Y.useState(null),[L,J]=Y.useState(!1),[ne,ie]=Y.useState(!1),[I,q]=Y.useState(!1),[te,ce]=Y.useState(!1),[me,fe]=Y.useState(!1),[Ie,se]=Y.useState(0),[ue,Ce]=Y.useState(0),$e=Y.useRef(d.duration||O||sy),ut=Y.useRef(null),be=Y.useRef(null),St=p===0,oo=p+1<=g,Oe=d.type,Mt=d.dismissible!==!1,gr=d.className||"",Mr=d.descriptionClassName||"",Wt=Y.useMemo(()=>w.findIndex(xe=>xe.toastId===d.id)||0,[w,d.id]),tn=Y.useMemo(()=>{var xe;return(xe=d.closeButton)!=null?xe:N},[d.closeButton,N]),Aa=Y.useMemo(()=>d.duration||O||sy,[d.duration,O]),ao=Y.useRef(0),_n=Y.useRef(0),al=Y.useRef(0),Cn=Y.useRef(null),[rn,Ia]=F.split("-"),il=Y.useMemo(()=>w.reduce((xe,st,yt)=>yt>=Wt?xe:xe+st.height,0),[w,Wt]),Ap=AP(),P1=d.invert||h,Zu=Oe==="loading";_n.current=Y.useMemo(()=>Wt*A+il,[Wt,il]),Y.useEffect(()=>{$e.current=Aa},[Aa]),Y.useEffect(()=>{J(!0)},[]),Y.useEffect(()=>{const xe=be.current;if(xe){const st=xe.getBoundingClientRect().height;return Ce(st),b(yt=>[{toastId:d.id,height:st,position:d.position},...yt]),()=>b(yt=>yt.filter(Vt=>Vt.toastId!==d.id))}},[b,d.id]),Y.useLayoutEffect(()=>{if(!L)return;const xe=be.current,st=xe.style.height;xe.style.height="auto";const yt=xe.getBoundingClientRect().height;xe.style.height=st,Ce(yt),b(Vt=>Vt.find(dt=>dt.toastId===d.id)?Vt.map(dt=>dt.toastId===d.id?{...dt,height:yt}:dt):[{toastId:d.id,height:yt,position:d.position},...Vt])},[L,d.title,d.description,b,d.id,d.jsx,d.action,d.cancel]);const kn=Y.useCallback(()=>{ie(!0),se(_n.current),b(xe=>xe.filter(st=>st.toastId!==d.id)),setTimeout(()=>{j(d)},VP)},[d,j,b,_n]);Y.useEffect(()=>{if(d.promise&&Oe==="loading"||d.duration===1/0||d.type==="loading")return;let xe;return x||v||Ap?(()=>{if(al.current<ao.current){const Vt=new Date().getTime()-ao.current;$e.current=$e.current-Vt}al.current=new Date().getTime()})():(()=>{$e.current!==1/0&&(ao.current=new Date().getTime(),xe=setTimeout(()=>{d.onAutoClose==null||d.onAutoClose.call(d,d),kn()},$e.current))})(),()=>clearTimeout(xe)},[x,v,d,Oe,Ap,kn]),Y.useEffect(()=>{d.delete&&(kn(),d.onDismiss==null||d.onDismiss.call(d,d))},[kn,d.delete]);function T1(){var xe;if(T!=null&&T.loading){var st;return Y.createElement("div",{className:Lr(P==null?void 0:P.loader,d==null||(st=d.classNames)==null?void 0:st.loader,"sonner-loader"),"data-visible":Oe==="loading"},T.loading)}return Y.createElement(CP,{className:Lr(P==null?void 0:P.loader,d==null||(xe=d.classNames)==null?void 0:xe.loader),visible:Oe==="loading"})}const R1=d.icon||(T==null?void 0:T[Oe])||NP(Oe);var Ip,Op;return Y.createElement("li",{tabIndex:0,ref:be,className:Lr(R,gr,P==null?void 0:P.toast,d==null||(t=d.classNames)==null?void 0:t.toast,P==null?void 0:P.default,P==null?void 0:P[Oe],d==null||(r=d.classNames)==null?void 0:r[Oe]),"data-sonner-toast":"","data-rich-colors":(Ip=d.richColors)!=null?Ip:S,"data-styled":!(d.jsx||d.unstyled||m),"data-mounted":L,"data-promise":!!d.promise,"data-swiped":me,"data-removed":ne,"data-visible":oo,"data-y-position":rn,"data-x-position":Ia,"data-index":p,"data-front":St,"data-swiping":I,"data-dismissible":Mt,"data-type":Oe,"data-invert":P1,"data-swipe-out":te,"data-swipe-direction":U,"data-expanded":!!(x||D&&L),"data-testid":d.testId,style:{"--index":p,"--toasts-before":p,"--z-index":y.length-p,"--offset":`${ne?Ie:_n.current}px`,"--initial-height":D?"auto":`${ue}px`,..._,...d.style},onDragEnd:()=>{q(!1),$(null),Cn.current=null},onPointerDown:xe=>{xe.button!==2&&(Zu||!Mt||(ut.current=new Date,se(_n.current),xe.target.setPointerCapture(xe.pointerId),xe.target.tagName!=="BUTTON"&&(q(!0),Cn.current={x:xe.clientX,y:xe.clientY})))},onPointerUp:()=>{var xe,st,yt;if(te||!Mt)return;Cn.current=null;const Vt=Number(((xe=be.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ll=Number(((st=be.current)==null?void 0:st.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),dt=new Date().getTime()-((yt=ut.current)==null?void 0:yt.getTime()),nr=k==="x"?Vt:ll,cl=Math.abs(nr)/dt;if(Math.abs(nr)>=WP||cl>.11){se(_n.current),d.onDismiss==null||d.onDismiss.call(d,d),V(k==="x"?Vt>0?"right":"left":ll>0?"down":"up"),kn(),ce(!0);return}else{var yr,xr;(yr=be.current)==null||yr.style.setProperty("--swipe-amount-x","0px"),(xr=be.current)==null||xr.style.setProperty("--swipe-amount-y","0px")}fe(!1),q(!1),$(null)},onPointerMove:xe=>{var st,yt,Vt;if(!Cn.current||!Mt||((st=window.getSelection())==null?void 0:st.toString().length)>0)return;const dt=xe.clientY-Cn.current.y,nr=xe.clientX-Cn.current.x;var cl;const yr=(cl=e.swipeDirections)!=null?cl:KP(F);!k&&(Math.abs(nr)>1||Math.abs(dt)>1)&&$(Math.abs(nr)>Math.abs(dt)?"x":"y");let xr={x:0,y:0};const Mp=xs=>1/(1.5+Math.abs(xs)/20);if(k==="y"){if(yr.includes("top")||yr.includes("bottom"))if(yr.includes("top")&&dt<0||yr.includes("bottom")&&dt>0)xr.y=dt;else{const xs=dt*Mp(dt);xr.y=Math.abs(xs)<Math.abs(dt)?xs:dt}}else if(k==="x"&&(yr.includes("left")||yr.includes("right")))if(yr.includes("left")&&nr<0||yr.includes("right")&&nr>0)xr.x=nr;else{const xs=nr*Mp(nr);xr.x=Math.abs(xs)<Math.abs(nr)?xs:nr}(Math.abs(xr.x)>0||Math.abs(xr.y)>0)&&fe(!0),(yt=be.current)==null||yt.style.setProperty("--swipe-amount-x",`${xr.x}px`),(Vt=be.current)==null||Vt.style.setProperty("--swipe-amount-y",`${xr.y}px`)}},tn&&!d.jsx&&Oe!=="loading"?Y.createElement("button",{"aria-label":C,"data-disabled":Zu,"data-close-button":!0,onClick:Zu||!Mt?()=>{}:()=>{kn(),d.onDismiss==null||d.onDismiss.call(d,d)},className:Lr(P==null?void 0:P.closeButton,d==null||(n=d.classNames)==null?void 0:n.closeButton)},(Op=T==null?void 0:T.close)!=null?Op:RP):null,(Oe||d.icon||d.promise)&&d.icon!==null&&((T==null?void 0:T[Oe])!==null||d.icon)?Y.createElement("div",{"data-icon":"",className:Lr(P==null?void 0:P.icon,d==null||(o=d.classNames)==null?void 0:o.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||T1():null,d.type!=="loading"?R1:null):null,Y.createElement("div",{"data-content":"",className:Lr(P==null?void 0:P.content,d==null||(a=d.classNames)==null?void 0:a.content)},Y.createElement("div",{"data-title":"",className:Lr(P==null?void 0:P.title,d==null||(i=d.classNames)==null?void 0:i.title)},d.jsx?d.jsx:typeof d.title=="function"?d.title():d.title),d.description?Y.createElement("div",{"data-description":"",className:Lr(z,Mr,P==null?void 0:P.description,d==null||(l=d.classNames)==null?void 0:l.description)},typeof d.description=="function"?d.description():d.description):null),Y.isValidElement(d.cancel)?d.cancel:d.cancel&&Tl(d.cancel)?Y.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||E,onClick:xe=>{Tl(d.cancel)&&Mt&&(d.cancel.onClick==null||d.cancel.onClick.call(d.cancel,xe),kn())},className:Lr(P==null?void 0:P.cancelButton,d==null||(c=d.classNames)==null?void 0:c.cancelButton)},d.cancel.label):null,Y.isValidElement(d.action)?d.action:d.action&&Tl(d.action)?Y.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||M,onClick:xe=>{Tl(d.action)&&(d.action.onClick==null||d.action.onClick.call(d.action,xe),!xe.defaultPrevented&&kn())},className:Lr(P==null?void 0:P.actionButton,d==null||(u=d.classNames)==null?void 0:u.actionButton)},d.action.label):null)};function oy(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function GP(e,t){const r={};return[e,t].forEach((n,o)=>{const a=o===1,i=a?"--mobile-offset":"--offset",l=a?zP:FP;function c(u){["top","right","bottom","left"].forEach(h=>{r[`${i}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${i}-${u}`]=l:r[`${i}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}const YP=Y.forwardRef(function(t,r){const{id:n,invert:o,position:a="bottom-right",hotkey:i=["altKey","KeyT"],expand:l,closeButton:c,className:u,offset:h,mobileOffset:d,theme:m="light",richColors:v,duration:b,style:g,visibleToasts:w=UP,toastOptions:p,dir:y=oy(),gap:x=BP,icons:j,containerAriaLabel:S="Notifications"}=t,[N,_]=Y.useState([]),E=Y.useMemo(()=>n?N.filter(L=>L.toasterId===n):N.filter(L=>!L.toasterId),[N,n]),M=Y.useMemo(()=>Array.from(new Set([a].concat(E.filter(L=>L.position).map(L=>L.position)))),[E,a]),[R,z]=Y.useState([]),[O,F]=Y.useState(!1),[A,D]=Y.useState(!1),[P,T]=Y.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),C=Y.useRef(null),k=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=Y.useRef(null),U=Y.useRef(!1),V=Y.useCallback(L=>{_(J=>{var ne;return(ne=J.find(ie=>ie.id===L.id))!=null&&ne.delete||Lt.dismiss(L.id),J.filter(({id:ie})=>ie!==L.id)})},[]);return Y.useEffect(()=>Lt.subscribe(L=>{if(L.dismiss){requestAnimationFrame(()=>{_(J=>J.map(ne=>ne.id===L.id?{...ne,delete:!0}:ne))});return}setTimeout(()=>{Ww.flushSync(()=>{_(J=>{const ne=J.findIndex(ie=>ie.id===L.id);return ne!==-1?[...J.slice(0,ne),{...J[ne],...L},...J.slice(ne+1)]:[L,...J]})})})}),[N]),Y.useEffect(()=>{if(m!=="system"){T(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?T("dark"):T("light")),typeof window>"u")return;const L=window.matchMedia("(prefers-color-scheme: dark)");try{L.addEventListener("change",({matches:J})=>{T(J?"dark":"light")})}catch{L.addListener(({matches:ne})=>{try{T(ne?"dark":"light")}catch(ie){console.error(ie)}})}},[m]),Y.useEffect(()=>{N.length<=1&&F(!1)},[N]),Y.useEffect(()=>{const L=J=>{var ne;if(i.every(q=>J[q]||J.code===q)){var I;F(!0),(I=C.current)==null||I.focus()}J.code==="Escape"&&(document.activeElement===C.current||(ne=C.current)!=null&&ne.contains(document.activeElement))&&F(!1)};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[i]),Y.useEffect(()=>{if(C.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,U.current=!1)}},[C.current]),Y.createElement("section",{ref:r,"aria-label":`${S} ${k}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},M.map((L,J)=>{var ne;const[ie,I]=L.split("-");return E.length?Y.createElement("ol",{key:L,dir:y==="auto"?oy():y,tabIndex:-1,ref:C,className:u,"data-sonner-toaster":!0,"data-sonner-theme":P,"data-y-position":ie,"data-x-position":I,style:{"--front-toast-height":`${((ne=R[0])==null?void 0:ne.height)||0}px`,"--width":`${HP}px`,"--gap":`${x}px`,...g,...GP(h,d)},onBlur:q=>{U.current&&!q.currentTarget.contains(q.relatedTarget)&&(U.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||U.current||(U.current=!0,$.current=q.relatedTarget)},onMouseEnter:()=>F(!0),onMouseMove:()=>F(!0),onMouseLeave:()=>{A||F(!1)},onDragEnd:()=>F(!1),onPointerDown:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},E.filter(q=>!q.position&&J===0||q.position===L).map((q,te)=>{var ce,me;return Y.createElement(qP,{key:q.id,icons:j,index:te,toast:q,defaultRichColors:v,duration:(ce=p==null?void 0:p.duration)!=null?ce:b,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:o,visibleToasts:w,closeButton:(me=p==null?void 0:p.closeButton)!=null?me:c,interacting:A,position:L,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,closeButtonAriaLabel:p==null?void 0:p.closeButtonAriaLabel,removeToast:V,toasts:E.filter(fe=>fe.position==q.position),heights:R.filter(fe=>fe.position==q.position),setHeights:z,expandByDefault:l,gap:x,expanded:O,swipeDirections:t.swipeDirections})})):null}))}),QP=({...e})=>{const{theme:t="system"}=jP();return s.jsx(YP,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var JP=$f[" useId ".trim().toString()]||(()=>{}),XP=0;function Yr(e){const[t,r]=f.useState(JP());return ct(()=>{r(n=>n??String(XP++))},[e]),t?`radix-${t}`:""}const ZP=["top","right","bottom","left"],ls=Math.min,Gt=Math.max,Ac=Math.round,Rl=Math.floor,Qr=e=>({x:e,y:e}),e2={left:"right",right:"left",bottom:"top",top:"bottom"},t2={start:"end",end:"start"};function Jh(e,t,r){return Gt(e,ls(t,r))}function bn(e,t){return typeof e=="function"?e(t):e}function jn(e){return e.split("-")[0]}function xa(e){return e.split("-")[1]}function Om(e){return e==="x"?"y":"x"}function Mm(e){return e==="y"?"height":"width"}const r2=new Set(["top","bottom"]);function Kr(e){return r2.has(jn(e))?"y":"x"}function Dm(e){return Om(Kr(e))}function n2(e,t,r){r===void 0&&(r=!1);const n=xa(e),o=Dm(e),a=Mm(o);let i=o==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=Ic(i)),[i,Ic(i)]}function s2(e){const t=Ic(e);return[Xh(e),t,Xh(t)]}function Xh(e){return e.replace(/start|end/g,t=>t2[t])}const ay=["left","right"],iy=["right","left"],o2=["top","bottom"],a2=["bottom","top"];function i2(e,t,r){switch(e){case"top":case"bottom":return r?t?iy:ay:t?ay:iy;case"left":case"right":return t?o2:a2;default:return[]}}function l2(e,t,r,n){const o=xa(e);let a=i2(jn(e),r==="start",n);return o&&(a=a.map(i=>i+"-"+o),t&&(a=a.concat(a.map(Xh)))),a}function Ic(e){return e.replace(/left|right|bottom|top/g,t=>e2[t])}function c2(e){return{top:0,right:0,bottom:0,left:0,...e}}function M0(e){return typeof e!="number"?c2(e):{top:e,right:e,bottom:e,left:e}}function Oc(e){const{x:t,y:r,width:n,height:o}=e;return{width:n,height:o,top:r,left:t,right:t+n,bottom:r+o,x:t,y:r}}function ly(e,t,r){let{reference:n,floating:o}=e;const a=Kr(t),i=Dm(t),l=Mm(i),c=jn(t),u=a==="y",h=n.x+n.width/2-o.width/2,d=n.y+n.height/2-o.height/2,m=n[l]/2-o[l]/2;let v;switch(c){case"top":v={x:h,y:n.y-o.height};break;case"bottom":v={x:h,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:d};break;case"left":v={x:n.x-o.width,y:d};break;default:v={x:n.x,y:n.y}}switch(xa(t)){case"start":v[i]-=m*(r&&u?-1:1);break;case"end":v[i]+=m*(r&&u?-1:1);break}return v}const u2=async(e,t,r)=>{const{placement:n="bottom",strategy:o="absolute",middleware:a=[],platform:i}=r,l=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:o}),{x:h,y:d}=ly(u,n,c),m=n,v={},b=0;for(let g=0;g<l.length;g++){const{name:w,fn:p}=l[g],{x:y,y:x,data:j,reset:S}=await p({x:h,y:d,initialPlacement:n,placement:m,strategy:o,middlewareData:v,rects:u,platform:i,elements:{reference:e,floating:t}});h=y??h,d=x??d,v={...v,[w]:{...v[w],...j}},S&&b<=50&&(b++,typeof S=="object"&&(S.placement&&(m=S.placement),S.rects&&(u=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:o}):S.rects),{x:h,y:d}=ly(u,m,c)),g=-1)}return{x:h,y:d,placement:m,strategy:o,middlewareData:v}};async function Ai(e,t){var r;t===void 0&&(t={});const{x:n,y:o,platform:a,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:d="floating",altBoundary:m=!1,padding:v=0}=bn(t,e),b=M0(v),w=l[m?d==="floating"?"reference":"floating":d],p=Oc(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(w)))==null||r?w:w.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),y=d==="floating"?{x:n,y:o,width:i.floating.width,height:i.floating.height}:i.reference,x=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),j=await(a.isElement==null?void 0:a.isElement(x))?await(a.getScale==null?void 0:a.getScale(x))||{x:1,y:1}:{x:1,y:1},S=Oc(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:x,strategy:c}):y);return{top:(p.top-S.top+b.top)/j.y,bottom:(S.bottom-p.bottom+b.bottom)/j.y,left:(p.left-S.left+b.left)/j.x,right:(S.right-p.right+b.right)/j.x}}const d2=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:o,rects:a,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:h=0}=bn(e,t)||{};if(u==null)return{};const d=M0(h),m={x:r,y:n},v=Dm(o),b=Mm(v),g=await i.getDimensions(u),w=v==="y",p=w?"top":"left",y=w?"bottom":"right",x=w?"clientHeight":"clientWidth",j=a.reference[b]+a.reference[v]-m[v]-a.floating[b],S=m[v]-a.reference[v],N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let _=N?N[x]:0;(!_||!await(i.isElement==null?void 0:i.isElement(N)))&&(_=l.floating[x]||a.floating[b]);const E=j/2-S/2,M=_/2-g[b]/2-1,R=ls(d[p],M),z=ls(d[y],M),O=R,F=_-g[b]-z,A=_/2-g[b]/2+E,D=Jh(O,A,F),P=!c.arrow&&xa(o)!=null&&A!==D&&a.reference[b]/2-(A<O?R:z)-g[b]/2<0,T=P?A<O?A-O:A-F:0;return{[v]:m[v]+T,data:{[v]:D,centerOffset:A-D-T,...P&&{alignmentOffset:T}},reset:P}}}),h2=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:o,middlewareData:a,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:h=!0,crossAxis:d=!0,fallbackPlacements:m,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:g=!0,...w}=bn(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const p=jn(o),y=Kr(l),x=jn(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=m||(x||!g?[Ic(l)]:s2(l)),N=b!=="none";!m&&N&&S.push(...l2(l,g,b,j));const _=[l,...S],E=await Ai(t,w),M=[];let R=((n=a.flip)==null?void 0:n.overflows)||[];if(h&&M.push(E[p]),d){const A=n2(o,i,j);M.push(E[A[0]],E[A[1]])}if(R=[...R,{placement:o,overflows:M}],!M.every(A=>A<=0)){var z,O;const A=(((z=a.flip)==null?void 0:z.index)||0)+1,D=_[A];if(D&&(!(d==="alignment"?y!==Kr(D):!1)||R.every(C=>Kr(C.placement)===y?C.overflows[0]>0:!0)))return{data:{index:A,overflows:R},reset:{placement:D}};let P=(O=R.filter(T=>T.overflows[0]<=0).sort((T,C)=>T.overflows[1]-C.overflows[1])[0])==null?void 0:O.placement;if(!P)switch(v){case"bestFit":{var F;const T=(F=R.filter(C=>{if(N){const k=Kr(C.placement);return k===y||k==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(k=>k>0).reduce((k,$)=>k+$,0)]).sort((C,k)=>C[1]-k[1])[0])==null?void 0:F[0];T&&(P=T);break}case"initialPlacement":P=l;break}if(o!==P)return{reset:{placement:P}}}return{}}}};function cy(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function uy(e){return ZP.some(t=>e[t]>=0)}const f2=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...o}=bn(e,t);switch(n){case"referenceHidden":{const a=await Ai(t,{...o,elementContext:"reference"}),i=cy(a,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:uy(i)}}}case"escaped":{const a=await Ai(t,{...o,altBoundary:!0}),i=cy(a,r.floating);return{data:{escapedOffsets:i,escaped:uy(i)}}}default:return{}}}}},D0=new Set(["left","top"]);async function m2(e,t){const{placement:r,platform:n,elements:o}=e,a=await(n.isRTL==null?void 0:n.isRTL(o.floating)),i=jn(r),l=xa(r),c=Kr(r)==="y",u=D0.has(i)?-1:1,h=a&&c?-1:1,d=bn(t,e);let{mainAxis:m,crossAxis:v,alignmentAxis:b}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof b=="number"&&(v=l==="end"?b*-1:b),c?{x:v*h,y:m*u}:{x:m*u,y:v*h}}const p2=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:o,y:a,placement:i,middlewareData:l}=t,c=await m2(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:o+c.x,y:a+c.y,data:{...c,placement:i}}}}},g2=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:o}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:l={fn:w=>{let{x:p,y}=w;return{x:p,y}}},...c}=bn(e,t),u={x:r,y:n},h=await Ai(t,c),d=Kr(jn(o)),m=Om(d);let v=u[m],b=u[d];if(a){const w=m==="y"?"top":"left",p=m==="y"?"bottom":"right",y=v+h[w],x=v-h[p];v=Jh(y,v,x)}if(i){const w=d==="y"?"top":"left",p=d==="y"?"bottom":"right",y=b+h[w],x=b-h[p];b=Jh(y,b,x)}const g=l.fn({...t,[m]:v,[d]:b});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[m]:a,[d]:i}}}}}},y2=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:o,rects:a,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=bn(e,t),h={x:r,y:n},d=Kr(o),m=Om(d);let v=h[m],b=h[d];const g=bn(l,t),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const x=m==="y"?"height":"width",j=a.reference[m]-a.floating[x]+w.mainAxis,S=a.reference[m]+a.reference[x]-w.mainAxis;v<j?v=j:v>S&&(v=S)}if(u){var p,y;const x=m==="y"?"width":"height",j=D0.has(jn(o)),S=a.reference[d]-a.floating[x]+(j&&((p=i.offset)==null?void 0:p[d])||0)+(j?0:w.crossAxis),N=a.reference[d]+a.reference[x]+(j?0:((y=i.offset)==null?void 0:y[d])||0)-(j?w.crossAxis:0);b<S?b=S:b>N&&(b=N)}return{[m]:v,[d]:b}}}},x2=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:o,rects:a,platform:i,elements:l}=t,{apply:c=()=>{},...u}=bn(e,t),h=await Ai(t,u),d=jn(o),m=xa(o),v=Kr(o)==="y",{width:b,height:g}=a.floating;let w,p;d==="top"||d==="bottom"?(w=d,p=m===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(p=d,w=m==="end"?"top":"bottom");const y=g-h.top-h.bottom,x=b-h.left-h.right,j=ls(g-h[w],y),S=ls(b-h[p],x),N=!t.middlewareData.shift;let _=j,E=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=x),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(_=y),N&&!m){const R=Gt(h.left,0),z=Gt(h.right,0),O=Gt(h.top,0),F=Gt(h.bottom,0);v?E=b-2*(R!==0||z!==0?R+z:Gt(h.left,h.right)):_=g-2*(O!==0||F!==0?O+F:Gt(h.top,h.bottom))}await c({...t,availableWidth:E,availableHeight:_});const M=await i.getDimensions(l.floating);return b!==M.width||g!==M.height?{reset:{rects:!0}}:{}}}};function wu(){return typeof window<"u"}function va(e){return L0(e)?(e.nodeName||"").toLowerCase():"#document"}function Xt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Zr(e){var t;return(t=(L0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function L0(e){return wu()?e instanceof Node||e instanceof Xt(e).Node:!1}function Ar(e){return wu()?e instanceof Element||e instanceof Xt(e).Element:!1}function Xr(e){return wu()?e instanceof HTMLElement||e instanceof Xt(e).HTMLElement:!1}function dy(e){return!wu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Xt(e).ShadowRoot}const v2=new Set(["inline","contents"]);function Zi(e){const{overflow:t,overflowX:r,overflowY:n,display:o}=Ir(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!v2.has(o)}const w2=new Set(["table","td","th"]);function b2(e){return w2.has(va(e))}const j2=[":popover-open",":modal"];function bu(e){return j2.some(t=>{try{return e.matches(t)}catch{return!1}})}const S2=["transform","translate","scale","rotate","perspective"],N2=["transform","translate","scale","rotate","perspective","filter"],_2=["paint","layout","strict","content"];function Lm(e){const t=$m(),r=Ar(e)?Ir(e):e;return S2.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||N2.some(n=>(r.willChange||"").includes(n))||_2.some(n=>(r.contain||"").includes(n))}function C2(e){let t=cs(e);for(;Xr(t)&&!ca(t);){if(Lm(t))return t;if(bu(t))return null;t=cs(t)}return null}function $m(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const k2=new Set(["html","body","#document"]);function ca(e){return k2.has(va(e))}function Ir(e){return Xt(e).getComputedStyle(e)}function ju(e){return Ar(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function cs(e){if(va(e)==="html")return e;const t=e.assignedSlot||e.parentNode||dy(e)&&e.host||Zr(e);return dy(t)?t.host:t}function $0(e){const t=cs(e);return ca(t)?e.ownerDocument?e.ownerDocument.body:e.body:Xr(t)&&Zi(t)?t:$0(t)}function Ii(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const o=$0(e),a=o===((n=e.ownerDocument)==null?void 0:n.body),i=Xt(o);if(a){const l=Zh(i);return t.concat(i,i.visualViewport||[],Zi(o)?o:[],l&&r?Ii(l):[])}return t.concat(o,Ii(o,[],r))}function Zh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function U0(e){const t=Ir(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const o=Xr(e),a=o?e.offsetWidth:r,i=o?e.offsetHeight:n,l=Ac(r)!==a||Ac(n)!==i;return l&&(r=a,n=i),{width:r,height:n,$:l}}function Um(e){return Ar(e)?e:e.contextElement}function zo(e){const t=Um(e);if(!Xr(t))return Qr(1);const r=t.getBoundingClientRect(),{width:n,height:o,$:a}=U0(t);let i=(a?Ac(r.width):r.width)/n,l=(a?Ac(r.height):r.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const E2=Qr(0);function F0(e){const t=Xt(e);return!$m()||!t.visualViewport?E2:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function P2(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Xt(e)?!1:t}function Gs(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const o=e.getBoundingClientRect(),a=Um(e);let i=Qr(1);t&&(n?Ar(n)&&(i=zo(n)):i=zo(e));const l=P2(a,r,n)?F0(a):Qr(0);let c=(o.left+l.x)/i.x,u=(o.top+l.y)/i.y,h=o.width/i.x,d=o.height/i.y;if(a){const m=Xt(a),v=n&&Ar(n)?Xt(n):n;let b=m,g=Zh(b);for(;g&&n&&v!==b;){const w=zo(g),p=g.getBoundingClientRect(),y=Ir(g),x=p.left+(g.clientLeft+parseFloat(y.paddingLeft))*w.x,j=p.top+(g.clientTop+parseFloat(y.paddingTop))*w.y;c*=w.x,u*=w.y,h*=w.x,d*=w.y,c+=x,u+=j,b=Xt(g),g=Zh(b)}}return Oc({width:h,height:d,x:c,y:u})}function Su(e,t){const r=ju(e).scrollLeft;return t?t.left+r:Gs(Zr(e)).left+r}function z0(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Su(e,r),o=r.top+t.scrollTop;return{x:n,y:o}}function T2(e){let{elements:t,rect:r,offsetParent:n,strategy:o}=e;const a=o==="fixed",i=Zr(n),l=t?bu(t.floating):!1;if(n===i||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=Qr(1);const h=Qr(0),d=Xr(n);if((d||!d&&!a)&&((va(n)!=="body"||Zi(i))&&(c=ju(n)),Xr(n))){const v=Gs(n);u=zo(n),h.x=v.x+n.clientLeft,h.y=v.y+n.clientTop}const m=i&&!d&&!a?z0(i,c):Qr(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+h.x+m.x,y:r.y*u.y-c.scrollTop*u.y+h.y+m.y}}function R2(e){return Array.from(e.getClientRects())}function A2(e){const t=Zr(e),r=ju(e),n=e.ownerDocument.body,o=Gt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Gt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+Su(e);const l=-r.scrollTop;return Ir(n).direction==="rtl"&&(i+=Gt(t.clientWidth,n.clientWidth)-o),{width:o,height:a,x:i,y:l}}const hy=25;function I2(e,t){const r=Xt(e),n=Zr(e),o=r.visualViewport;let a=n.clientWidth,i=n.clientHeight,l=0,c=0;if(o){a=o.width,i=o.height;const h=$m();(!h||h&&t==="fixed")&&(l=o.offsetLeft,c=o.offsetTop)}const u=Su(n);if(u<=0){const h=n.ownerDocument,d=h.body,m=getComputedStyle(d),v=h.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,b=Math.abs(n.clientWidth-d.clientWidth-v);b<=hy&&(a-=b)}else u<=hy&&(a+=u);return{width:a,height:i,x:l,y:c}}const O2=new Set(["absolute","fixed"]);function M2(e,t){const r=Gs(e,!0,t==="fixed"),n=r.top+e.clientTop,o=r.left+e.clientLeft,a=Xr(e)?zo(e):Qr(1),i=e.clientWidth*a.x,l=e.clientHeight*a.y,c=o*a.x,u=n*a.y;return{width:i,height:l,x:c,y:u}}function fy(e,t,r){let n;if(t==="viewport")n=I2(e,r);else if(t==="document")n=A2(Zr(e));else if(Ar(t))n=M2(t,r);else{const o=F0(e);n={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Oc(n)}function H0(e,t){const r=cs(e);return r===t||!Ar(r)||ca(r)?!1:Ir(r).position==="fixed"||H0(r,t)}function D2(e,t){const r=t.get(e);if(r)return r;let n=Ii(e,[],!1).filter(l=>Ar(l)&&va(l)!=="body"),o=null;const a=Ir(e).position==="fixed";let i=a?cs(e):e;for(;Ar(i)&&!ca(i);){const l=Ir(i),c=Lm(i);!c&&l.position==="fixed"&&(o=null),(a?!c&&!o:!c&&l.position==="static"&&!!o&&O2.has(o.position)||Zi(i)&&!c&&H0(e,i))?n=n.filter(h=>h!==i):o=l,i=cs(i)}return t.set(e,n),n}function L2(e){let{element:t,boundary:r,rootBoundary:n,strategy:o}=e;const i=[...r==="clippingAncestors"?bu(t)?[]:D2(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,h)=>{const d=fy(t,h,o);return u.top=Gt(d.top,u.top),u.right=ls(d.right,u.right),u.bottom=ls(d.bottom,u.bottom),u.left=Gt(d.left,u.left),u},fy(t,l,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function $2(e){const{width:t,height:r}=U0(e);return{width:t,height:r}}function U2(e,t,r){const n=Xr(t),o=Zr(t),a=r==="fixed",i=Gs(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Qr(0);function u(){c.x=Su(o)}if(n||!n&&!a)if((va(t)!=="body"||Zi(o))&&(l=ju(t)),n){const v=Gs(t,!0,a,t);c.x=v.x+t.clientLeft,c.y=v.y+t.clientTop}else o&&u();a&&!n&&o&&u();const h=o&&!n&&!a?z0(o,l):Qr(0),d=i.left+l.scrollLeft-c.x-h.x,m=i.top+l.scrollTop-c.y-h.y;return{x:d,y:m,width:i.width,height:i.height}}function Rd(e){return Ir(e).position==="static"}function my(e,t){if(!Xr(e)||Ir(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Zr(e)===r&&(r=r.ownerDocument.body),r}function B0(e,t){const r=Xt(e);if(bu(e))return r;if(!Xr(e)){let o=cs(e);for(;o&&!ca(o);){if(Ar(o)&&!Rd(o))return o;o=cs(o)}return r}let n=my(e,t);for(;n&&b2(n)&&Rd(n);)n=my(n,t);return n&&ca(n)&&Rd(n)&&!Lm(n)?r:n||C2(e)||r}const F2=async function(e){const t=this.getOffsetParent||B0,r=this.getDimensions,n=await r(e.floating);return{reference:U2(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function z2(e){return Ir(e).direction==="rtl"}const H2={convertOffsetParentRelativeRectToViewportRelativeRect:T2,getDocumentElement:Zr,getClippingRect:L2,getOffsetParent:B0,getElementRects:F2,getClientRects:R2,getDimensions:$2,getScale:zo,isElement:Ar,isRTL:z2};function W0(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function B2(e,t){let r=null,n;const o=Zr(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:h,top:d,width:m,height:v}=u;if(l||t(),!m||!v)return;const b=Rl(d),g=Rl(o.clientWidth-(h+m)),w=Rl(o.clientHeight-(d+v)),p=Rl(h),x={rootMargin:-b+"px "+-g+"px "+-w+"px "+-p+"px",threshold:Gt(0,ls(1,c))||1};let j=!0;function S(N){const _=N[0].intersectionRatio;if(_!==c){if(!j)return i();_?i(!1,_):n=setTimeout(()=>{i(!1,1e-7)},1e3)}_===1&&!W0(u,e.getBoundingClientRect())&&i(),j=!1}try{r=new IntersectionObserver(S,{...x,root:o.ownerDocument})}catch{r=new IntersectionObserver(S,x)}r.observe(e)}return i(!0),a}function W2(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Um(e),h=o||a?[...u?Ii(u):[],...Ii(t)]:[];h.forEach(p=>{o&&p.addEventListener("scroll",r,{passive:!0}),a&&p.addEventListener("resize",r)});const d=u&&l?B2(u,r):null;let m=-1,v=null;i&&(v=new ResizeObserver(p=>{let[y]=p;y&&y.target===u&&v&&(v.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var x;(x=v)==null||x.observe(t)})),r()}),u&&!c&&v.observe(u),v.observe(t));let b,g=c?Gs(e):null;c&&w();function w(){const p=Gs(e);g&&!W0(g,p)&&r(),g=p,b=requestAnimationFrame(w)}return r(),()=>{var p;h.forEach(y=>{o&&y.removeEventListener("scroll",r),a&&y.removeEventListener("resize",r)}),d==null||d(),(p=v)==null||p.disconnect(),v=null,c&&cancelAnimationFrame(b)}}const V2=p2,K2=g2,q2=h2,G2=x2,Y2=f2,py=d2,Q2=y2,J2=(e,t,r)=>{const n=new Map,o={platform:H2,...r},a={...o.platform,_c:n};return u2(e,t,{...o,platform:a})};var X2=typeof document<"u",Z2=function(){},rc=X2?f.useLayoutEffect:Z2;function Mc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Mc(e[n],t[n]))return!1;return!0}if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,o[n]))return!1;for(n=r;n--!==0;){const a=o[n];if(!(a==="_owner"&&e.$$typeof)&&!Mc(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function V0(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function gy(e,t){const r=V0(e);return Math.round(t*r)/r}function Ad(e){const t=f.useRef(e);return rc(()=>{t.current=e}),t}function eT(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:o,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[h,d]=f.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,v]=f.useState(n);Mc(m,n)||v(n);const[b,g]=f.useState(null),[w,p]=f.useState(null),y=f.useCallback(C=>{C!==N.current&&(N.current=C,g(C))},[]),x=f.useCallback(C=>{C!==_.current&&(_.current=C,p(C))},[]),j=a||b,S=i||w,N=f.useRef(null),_=f.useRef(null),E=f.useRef(h),M=c!=null,R=Ad(c),z=Ad(o),O=Ad(u),F=f.useCallback(()=>{if(!N.current||!_.current)return;const C={placement:t,strategy:r,middleware:m};z.current&&(C.platform=z.current),J2(N.current,_.current,C).then(k=>{const $={...k,isPositioned:O.current!==!1};A.current&&!Mc(E.current,$)&&(E.current=$,to.flushSync(()=>{d($)}))})},[m,t,r,z,O]);rc(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,d(C=>({...C,isPositioned:!1})))},[u]);const A=f.useRef(!1);rc(()=>(A.current=!0,()=>{A.current=!1}),[]),rc(()=>{if(j&&(N.current=j),S&&(_.current=S),j&&S){if(R.current)return R.current(j,S,F);F()}},[j,S,F,R,M]);const D=f.useMemo(()=>({reference:N,floating:_,setReference:y,setFloating:x}),[y,x]),P=f.useMemo(()=>({reference:j,floating:S}),[j,S]),T=f.useMemo(()=>{const C={position:r,left:0,top:0};if(!P.floating)return C;const k=gy(P.floating,h.x),$=gy(P.floating,h.y);return l?{...C,transform:"translate("+k+"px, "+$+"px)",...V0(P.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:k,top:$}},[r,l,P.floating,h.x,h.y]);return f.useMemo(()=>({...h,update:F,refs:D,elements:P,floatingStyles:T}),[h,F,D,P,T])}const tT=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:o}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?py({element:n.current,padding:o}).fn(r):{}:n?py({element:n,padding:o}).fn(r):{}}}},rT=(e,t)=>({...V2(e),options:[e,t]}),nT=(e,t)=>({...K2(e),options:[e,t]}),sT=(e,t)=>({...Q2(e),options:[e,t]}),oT=(e,t)=>({...q2(e),options:[e,t]}),aT=(e,t)=>({...G2(e),options:[e,t]}),iT=(e,t)=>({...Y2(e),options:[e,t]}),lT=(e,t)=>({...tT(e),options:[e,t]});var cT="Arrow",K0=f.forwardRef((e,t)=>{const{children:r,width:n=10,height:o=5,...a}=e;return s.jsx(ae.svg,{...a,ref:t,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});K0.displayName=cT;var uT=K0;function Fm(e){const[t,r]=f.useState(void 0);return ct(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var zm="Popper",[q0,wa]=It(zm),[dT,G0]=q0(zm),Y0=e=>{const{__scopePopper:t,children:r}=e,[n,o]=f.useState(null);return s.jsx(dT,{scope:t,anchor:n,onAnchorChange:o,children:r})};Y0.displayName=zm;var Q0="PopperAnchor",J0=f.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...o}=e,a=G0(Q0,r),i=f.useRef(null),l=ye(t,i),c=f.useRef(null);return f.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||i.current,u!==c.current&&a.onAnchorChange(c.current)}),n?null:s.jsx(ae.div,{...o,ref:l})});J0.displayName=Q0;var Hm="PopperContent",[hT,fT]=q0(Hm),X0=f.forwardRef((e,t)=>{var I,q,te,ce,me,fe;const{__scopePopper:r,side:n="bottom",sideOffset:o=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:d="partial",hideWhenDetached:m=!1,updatePositionStrategy:v="optimized",onPlaced:b,...g}=e,w=G0(Hm,r),[p,y]=f.useState(null),x=ye(t,Ie=>y(Ie)),[j,S]=f.useState(null),N=Fm(j),_=(N==null?void 0:N.width)??0,E=(N==null?void 0:N.height)??0,M=n+(a!=="center"?"-"+a:""),R=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},z=Array.isArray(u)?u:[u],O=z.length>0,F={padding:R,boundary:z.filter(pT),altBoundary:O},{refs:A,floatingStyles:D,placement:P,isPositioned:T,middlewareData:C}=eT({strategy:"fixed",placement:M,whileElementsMounted:(...Ie)=>W2(...Ie,{animationFrame:v==="always"}),elements:{reference:w.anchor},middleware:[rT({mainAxis:o+E,alignmentAxis:i}),c&&nT({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?sT():void 0,...F}),c&&oT({...F}),aT({...F,apply:({elements:Ie,rects:se,availableWidth:ue,availableHeight:Ce})=>{const{width:$e,height:ut}=se.reference,be=Ie.floating.style;be.setProperty("--radix-popper-available-width",`${ue}px`),be.setProperty("--radix-popper-available-height",`${Ce}px`),be.setProperty("--radix-popper-anchor-width",`${$e}px`),be.setProperty("--radix-popper-anchor-height",`${ut}px`)}}),j&&lT({element:j,padding:l}),gT({arrowWidth:_,arrowHeight:E}),m&&iT({strategy:"referenceHidden",...F})]}),[k,$]=tb(P),U=qe(b);ct(()=>{T&&(U==null||U())},[T,U]);const V=(I=C.arrow)==null?void 0:I.x,L=(q=C.arrow)==null?void 0:q.y,J=((te=C.arrow)==null?void 0:te.centerOffset)!==0,[ne,ie]=f.useState();return ct(()=>{p&&ie(window.getComputedStyle(p).zIndex)},[p]),s.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...D,transform:T?D.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ne,"--radix-popper-transform-origin":[(ce=C.transformOrigin)==null?void 0:ce.x,(me=C.transformOrigin)==null?void 0:me.y].join(" "),...((fe=C.hide)==null?void 0:fe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(hT,{scope:r,placedSide:k,onArrowChange:S,arrowX:V,arrowY:L,shouldHideArrow:J,children:s.jsx(ae.div,{"data-side":k,"data-align":$,...g,ref:x,style:{...g.style,animation:T?void 0:"none"}})})})});X0.displayName=Hm;var Z0="PopperArrow",mT={top:"bottom",right:"left",bottom:"top",left:"right"},eb=f.forwardRef(function(t,r){const{__scopePopper:n,...o}=t,a=fT(Z0,n),i=mT[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(uT,{...o,ref:r,style:{...o.style,display:"block"}})})});eb.displayName=Z0;function pT(e){return e!==null}var gT=e=>({name:"transformOrigin",options:e,fn(t){var w,p,y;const{placement:r,rects:n,middlewareData:o}=t,i=((w=o.arrow)==null?void 0:w.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,h]=tb(r),d={start:"0%",center:"50%",end:"100%"}[h],m=(((p=o.arrow)==null?void 0:p.x)??0)+l/2,v=(((y=o.arrow)==null?void 0:y.y)??0)+c/2;let b="",g="";return u==="bottom"?(b=i?d:`${m}px`,g=`${-c}px`):u==="top"?(b=i?d:`${m}px`,g=`${n.floating.height+c}px`):u==="right"?(b=`${-c}px`,g=i?d:`${v}px`):u==="left"&&(b=`${n.floating.width+c}px`,g=i?d:`${v}px`),{data:{x:b,y:g}}}});function tb(e){const[t,r="center"]=e.split("-");return[t,r]}var rb=Y0,Bm=J0,Wm=X0,Vm=eb,[Nu]=It("Tooltip",[wa]),Km=wa(),nb="TooltipProvider",yT=700,yy="tooltip.open",[xT,sb]=Nu(nb),ob=e=>{const{__scopeTooltip:t,delayDuration:r=yT,skipDelayDuration:n=300,disableHoverableContent:o=!1,children:a}=e,i=f.useRef(!0),l=f.useRef(!1),c=f.useRef(0);return f.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(xT,{scope:t,isOpenDelayedRef:i,delayDuration:r,onOpen:f.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:f.useCallback(u=>{l.current=u},[]),disableHoverableContent:o,children:a})};ob.displayName=nb;var ab="Tooltip",[r3,_u]=Nu(ab),ef="TooltipTrigger",vT=f.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,o=_u(ef,r),a=sb(ef,r),i=Km(r),l=f.useRef(null),c=ye(t,l,o.onTriggerChange),u=f.useRef(!1),h=f.useRef(!1),d=f.useCallback(()=>u.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),s.jsx(Bm,{asChild:!0,...i,children:s.jsx(ae.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...n,ref:c,onPointerMove:X(e.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!a.isPointerInTransitRef.current&&(o.onTriggerEnter(),h.current=!0)}),onPointerLeave:X(e.onPointerLeave,()=>{o.onTriggerLeave(),h.current=!1}),onPointerDown:X(e.onPointerDown,()=>{o.open&&o.onClose(),u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:X(e.onFocus,()=>{u.current||o.onOpen()}),onBlur:X(e.onBlur,o.onClose),onClick:X(e.onClick,o.onClose)})})});vT.displayName=ef;var wT="TooltipPortal",[n3,bT]=Nu(wT,{forceMount:void 0}),ua="TooltipContent",ib=f.forwardRef((e,t)=>{const r=bT(ua,e.__scopeTooltip),{forceMount:n=r.forceMount,side:o="top",...a}=e,i=_u(ua,e.__scopeTooltip);return s.jsx(gt,{present:n||i.open,children:i.disableHoverableContent?s.jsx(lb,{side:o,...a,ref:t}):s.jsx(jT,{side:o,...a,ref:t})})}),jT=f.forwardRef((e,t)=>{const r=_u(ua,e.__scopeTooltip),n=sb(ua,e.__scopeTooltip),o=f.useRef(null),a=ye(t,o),[i,l]=f.useState(null),{trigger:c,onClose:u}=r,h=o.current,{onPointerInTransitChange:d}=n,m=f.useCallback(()=>{l(null),d(!1)},[d]),v=f.useCallback((b,g)=>{const w=b.currentTarget,p={x:b.clientX,y:b.clientY},y=kT(p,w.getBoundingClientRect()),x=ET(p,y),j=PT(g.getBoundingClientRect()),S=RT([...x,...j]);l(S),d(!0)},[d]);return f.useEffect(()=>()=>m(),[m]),f.useEffect(()=>{if(c&&h){const b=w=>v(w,h),g=w=>v(w,c);return c.addEventListener("pointerleave",b),h.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",b),h.removeEventListener("pointerleave",g)}}},[c,h,v,m]),f.useEffect(()=>{if(i){const b=g=>{const w=g.target,p={x:g.clientX,y:g.clientY},y=(c==null?void 0:c.contains(w))||(h==null?void 0:h.contains(w)),x=!TT(p,i);y?m():x&&(m(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,h,i,u,m]),s.jsx(lb,{...e,ref:a})}),[ST,NT]=Nu(ab,{isInside:!1}),_T=gk("TooltipContent"),lb=f.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":o,onEscapeKeyDown:a,onPointerDownOutside:i,...l}=e,c=_u(ua,r),u=Km(r),{onClose:h}=c;return f.useEffect(()=>(document.addEventListener(yy,h),()=>document.removeEventListener(yy,h)),[h]),f.useEffect(()=>{if(c.trigger){const d=m=>{const v=m.target;v!=null&&v.contains(c.trigger)&&h()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,h]),s.jsx(ga,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:d=>d.preventDefault(),onDismiss:h,children:s.jsxs(Wm,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(_T,{children:n}),s.jsx(ST,{scope:r,isInside:!0,children:s.jsx($k,{id:c.contentId,role:"tooltip",children:o||n})})]})})});ib.displayName=ua;var cb="TooltipArrow",CT=f.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,o=Km(r);return NT(cb,r).isInside?null:s.jsx(Vm,{...o,...n,ref:t})});CT.displayName=cb;function kT(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,o,a)){case a:return"left";case o:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function ET(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function PT(e){const{top:t,right:r,bottom:n,left:o}=e;return[{x:o,y:t},{x:r,y:t},{x:r,y:n},{x:o,y:n}]}function TT(e,t){const{x:r,y:n}=e;let o=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a],c=t[i],u=l.x,h=l.y,d=c.x,m=c.y;h>n!=m>n&&r<(d-u)*(n-h)/(m-h)+u&&(o=!o)}return o}function RT(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),AT(t)}function AT(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const o=e[n];for(;t.length>=2;){const a=t[t.length-1],i=t[t.length-2];if((a.x-i.x)*(o.y-i.y)>=(a.y-i.y)*(o.x-i.x))t.pop();else break}t.push(o)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const o=e[n];for(;r.length>=2;){const a=r[r.length-1],i=r[r.length-2];if((a.x-i.x)*(o.y-i.y)>=(a.y-i.y)*(o.x-i.x))r.pop();else break}r.push(o)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var IT=ob,ub=ib;const OT=IT,MT=f.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(ub,{ref:n,sideOffset:t,className:le("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));MT.displayName=ub.displayName;var Cu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},DT={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},zn,If,jx,LT=(jx=class{constructor(){Ne(this,zn,DT);Ne(this,If,!1)}setTimeoutProvider(e){pe(this,zn,e)}setTimeout(e,t){return B(this,zn).setTimeout(e,t)}clearTimeout(e){B(this,zn).clearTimeout(e)}setInterval(e,t){return B(this,zn).setInterval(e,t)}clearInterval(e){B(this,zn).clearInterval(e)}},zn=new WeakMap,If=new WeakMap,jx),tf=new LT;function $T(e){setTimeout(e,0)}var ku=typeof window>"u"||"Deno"in globalThis;function Sr(){}function UT(e,t){return typeof e=="function"?e(t):e}function FT(e){return typeof e=="number"&&e>=0&&e!==1/0}function zT(e,t){return Math.max(e+(t||0)-Date.now(),0)}function rf(e,t){return typeof e=="function"?e(t):e}function HT(e,t){return typeof e=="function"?e(t):e}function xy(e,t){const{type:r="all",exact:n,fetchStatus:o,predicate:a,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==qm(i,t.options))return!1}else if(!Mi(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||o&&o!==t.state.fetchStatus||a&&!a(t))}function vy(e,t){const{exact:r,status:n,predicate:o,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Oi(t.options.mutationKey)!==Oi(a))return!1}else if(!Mi(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||o&&!o(t))}function qm(e,t){return((t==null?void 0:t.queryKeyHashFn)||Oi)(e)}function Oi(e){return JSON.stringify(e,(t,r)=>nf(r)?Object.keys(r).sort().reduce((n,o)=>(n[o]=r[o],n),{}):r)}function Mi(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Mi(e[r],t[r])):!1}var BT=Object.prototype.hasOwnProperty;function db(e,t){if(e===t)return e;const r=wy(e)&&wy(t);if(!r&&!(nf(e)&&nf(t)))return t;const o=(r?e:Object.keys(e)).length,a=r?t:Object.keys(t),i=a.length,l=r?new Array(i):{};let c=0;for(let u=0;u<i;u++){const h=r?u:a[u],d=e[h],m=t[h];if(d===m){l[h]=d,(r?u<o:BT.call(e,h))&&c++;continue}if(d===null||m===null||typeof d!="object"||typeof m!="object"){l[h]=m;continue}const v=db(d,m);l[h]=v,v===d&&c++}return o===i&&c===o?e:l}function wy(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function nf(e){if(!by(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!by(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function by(e){return Object.prototype.toString.call(e)==="[object Object]"}function WT(e){return new Promise(t=>{tf.setTimeout(t,e)})}function VT(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?db(e,t):t}function KT(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function qT(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Gm=Symbol();function hb(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Gm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var As,Hn,Vo,Sx,GT=(Sx=class extends Cu{constructor(){super();Ne(this,As);Ne(this,Hn);Ne(this,Vo);pe(this,Vo,t=>{if(!ku&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){B(this,Hn)||this.setEventListener(B(this,Vo))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,Hn))==null||t.call(this),pe(this,Hn,void 0))}setEventListener(t){var r;pe(this,Vo,t),(r=B(this,Hn))==null||r.call(this),pe(this,Hn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){B(this,As)!==t&&(pe(this,As,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof B(this,As)=="boolean"?B(this,As):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},As=new WeakMap,Hn=new WeakMap,Vo=new WeakMap,Sx),fb=new GT;function YT(){let e,t;const r=new Promise((o,a)=>{e=o,t=a});r.status="pending",r.catch(()=>{});function n(o){Object.assign(r,o),delete r.resolve,delete r.reject}return r.resolve=o=>{n({status:"fulfilled",value:o}),e(o)},r.reject=o=>{n({status:"rejected",reason:o}),t(o)},r}var QT=$T;function JT(){let e=[],t=0,r=l=>{l()},n=l=>{l()},o=QT;const a=l=>{t?e.push(l):o(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&o(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{o=l}}}var Et=JT(),Ko,Bn,qo,Nx,XT=(Nx=class extends Cu{constructor(){super();Ne(this,Ko,!0);Ne(this,Bn);Ne(this,qo);pe(this,qo,t=>{if(!ku&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){B(this,Bn)||this.setEventListener(B(this,qo))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,Bn))==null||t.call(this),pe(this,Bn,void 0))}setEventListener(t){var r;pe(this,qo,t),(r=B(this,Bn))==null||r.call(this),pe(this,Bn,t(this.setOnline.bind(this)))}setOnline(t){B(this,Ko)!==t&&(pe(this,Ko,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return B(this,Ko)}},Ko=new WeakMap,Bn=new WeakMap,qo=new WeakMap,Nx),Dc=new XT;function ZT(e){return Math.min(1e3*2**e,3e4)}function mb(e){return(e??"online")==="online"?Dc.isOnline():!0}var sf=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function pb(e){let t=!1,r=0,n;const o=YT(),a=()=>o.status!=="pending",i=g=>{var w;if(!a()){const p=new sf(g);m(p),(w=e.onCancel)==null||w.call(e,p)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>fb.isFocused()&&(e.networkMode==="always"||Dc.isOnline())&&e.canRun(),h=()=>mb(e.networkMode)&&e.canRun(),d=g=>{a()||(n==null||n(),o.resolve(g))},m=g=>{a()||(n==null||n(),o.reject(g))},v=()=>new Promise(g=>{var w;n=p=>{(a()||u())&&g(p)},(w=e.onPause)==null||w.call(e)}).then(()=>{var g;n=void 0,a()||(g=e.onContinue)==null||g.call(e)}),b=()=>{if(a())return;let g;const w=r===0?e.initialPromise:void 0;try{g=w??e.fn()}catch(p){g=Promise.reject(p)}Promise.resolve(g).then(d).catch(p=>{var N;if(a())return;const y=e.retry??(ku?0:3),x=e.retryDelay??ZT,j=typeof x=="function"?x(r,p):x,S=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,p);if(t||!S){m(p);return}r++,(N=e.onFail)==null||N.call(e,r,p),WT(j).then(()=>u()?void 0:v()).then(()=>{t?m(p):b()})})};return{promise:o,status:()=>o.status,cancel:i,continue:()=>(n==null||n(),o),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?b():v().then(b),o)}}var Is,_x,gb=(_x=class{constructor(){Ne(this,Is)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),FT(this.gcTime)&&pe(this,Is,tf.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ku?1/0:5*60*1e3))}clearGcTimeout(){B(this,Is)&&(tf.clearTimeout(B(this,Is)),pe(this,Is,void 0))}},Is=new WeakMap,_x),Os,Go,sr,Ms,ot,Hi,Ds,Nr,sn,Cx,eR=(Cx=class extends gb{constructor(t){super();Ne(this,Nr);Ne(this,Os);Ne(this,Go);Ne(this,sr);Ne(this,Ms);Ne(this,ot);Ne(this,Hi);Ne(this,Ds);pe(this,Ds,!1),pe(this,Hi,t.defaultOptions),this.setOptions(t.options),this.observers=[],pe(this,Ms,t.client),pe(this,sr,B(this,Ms).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,pe(this,Os,jy(this.options)),this.state=t.state??B(this,Os),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=B(this,ot))==null?void 0:t.promise}setOptions(t){if(this.options={...B(this,Hi),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=jy(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),pe(this,Os,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,sr).remove(this)}setData(t,r){const n=VT(this.state.data,t,this.options);return xt(this,Nr,sn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){xt(this,Nr,sn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,o;const r=(n=B(this,ot))==null?void 0:n.promise;return(o=B(this,ot))==null||o.cancel(t),r?r.then(Sr).catch(Sr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,Os))}isActive(){return this.observers.some(t=>HT(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Gm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>rf(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!zT(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=B(this,ot))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=B(this,ot))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),B(this,sr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(B(this,ot)&&(B(this,Ds)?B(this,ot).cancel({revert:!0}):B(this,ot).cancelRetry()),this.scheduleGc()),B(this,sr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||xt(this,Nr,sn).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,h,d,m,v,b,g,w,p,y,x;if(this.state.fetchStatus!=="idle"&&((c=B(this,ot))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(B(this,ot))return B(this,ot).continueRetry(),B(this,ot).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(S=>S.options.queryFn);j&&this.setOptions(j.options)}const n=new AbortController,o=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(pe(this,Ds,!0),n.signal)})},a=()=>{const j=hb(this.options,r),N=(()=>{const _={client:B(this,Ms),queryKey:this.queryKey,meta:this.meta};return o(_),_})();return pe(this,Ds,!1),this.options.persister?this.options.persister(j,N,this):j(N)},l=(()=>{const j={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:B(this,Ms),state:this.state,fetchFn:a};return o(j),j})();(u=this.options.behavior)==null||u.onFetch(l,this),pe(this,Go,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&xt(this,Nr,sn).call(this,{type:"fetch",meta:(d=l.fetchOptions)==null?void 0:d.meta}),pe(this,ot,pb({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:j=>{j instanceof sf&&j.revert&&this.setState({...B(this,Go),fetchStatus:"idle"}),n.abort()},onFail:(j,S)=>{xt(this,Nr,sn).call(this,{type:"failed",failureCount:j,error:S})},onPause:()=>{xt(this,Nr,sn).call(this,{type:"pause"})},onContinue:()=>{xt(this,Nr,sn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await B(this,ot).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(v=(m=B(this,sr).config).onSuccess)==null||v.call(m,j,this),(g=(b=B(this,sr).config).onSettled)==null||g.call(b,j,this.state.error,this),j}catch(j){if(j instanceof sf){if(j.silent)return B(this,ot).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw xt(this,Nr,sn).call(this,{type:"error",error:j}),(p=(w=B(this,sr).config).onError)==null||p.call(w,j,this),(x=(y=B(this,sr).config).onSettled)==null||x.call(y,this.state.data,j,this),j}finally{this.scheduleGc()}}},Os=new WeakMap,Go=new WeakMap,sr=new WeakMap,Ms=new WeakMap,ot=new WeakMap,Hi=new WeakMap,Ds=new WeakMap,Nr=new WeakSet,sn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...tR(n.data,this.options),fetchMeta:t.meta??null};case"success":const o={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return pe(this,Go,t.manual?o:void 0),o;case"error":const a=t.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Et.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),B(this,sr).notify({query:this,type:"updated",action:t})})},Cx);function tR(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:mb(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function jy(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function Sy(e){return{onFetch:(t,r)=>{var h,d,m,v,b;const n=t.options,o=(m=(d=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:d.fetchMore)==null?void 0:m.direction,a=((v=t.state.data)==null?void 0:v.pages)||[],i=((b=t.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const w=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},p=hb(t.options,t.fetchOptions),y=async(x,j,S)=>{if(g)return Promise.reject();if(j==null&&x.pages.length)return Promise.resolve(x);const _=(()=>{const z={client:t.client,queryKey:t.queryKey,pageParam:j,direction:S?"backward":"forward",meta:t.options.meta};return w(z),z})(),E=await p(_),{maxPages:M}=t.options,R=S?qT:KT;return{pages:R(x.pages,E,M),pageParams:R(x.pageParams,j,M)}};if(o&&a.length){const x=o==="backward",j=x?rR:Ny,S={pages:a,pageParams:i},N=j(n,S);l=await y(S,N,x)}else{const x=e??a.length;do{const j=c===0?i[0]??n.initialPageParam:Ny(n,l);if(c>0&&j==null)break;l=await y(l,j),c++}while(c<x)}return l};t.options.persister?t.fetchFn=()=>{var g,w;return(w=(g=t.options).persister)==null?void 0:w.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Ny(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function rR(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Bi,Fr,_t,Ls,zr,In,kx,nR=(kx=class extends gb{constructor(t){super();Ne(this,zr);Ne(this,Bi);Ne(this,Fr);Ne(this,_t);Ne(this,Ls);pe(this,Bi,t.client),this.mutationId=t.mutationId,pe(this,_t,t.mutationCache),pe(this,Fr,[]),this.state=t.state||sR(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){B(this,Fr).includes(t)||(B(this,Fr).push(t),this.clearGcTimeout(),B(this,_t).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){pe(this,Fr,B(this,Fr).filter(r=>r!==t)),this.scheduleGc(),B(this,_t).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){B(this,Fr).length||(this.state.status==="pending"?this.scheduleGc():B(this,_t).remove(this))}continue(){var t;return((t=B(this,Ls))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,l,c,u,h,d,m,v,b,g,w,p,y,x,j,S,N,_,E,M;const r=()=>{xt(this,zr,In).call(this,{type:"continue"})},n={client:B(this,Bi),meta:this.options.meta,mutationKey:this.options.mutationKey};pe(this,Ls,pb({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(R,z)=>{xt(this,zr,In).call(this,{type:"failed",failureCount:R,error:z})},onPause:()=>{xt(this,zr,In).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,_t).canRun(this)}));const o=this.state.status==="pending",a=!B(this,Ls).canStart();try{if(o)r();else{xt(this,zr,In).call(this,{type:"pending",variables:t,isPaused:a}),await((l=(i=B(this,_t).config).onMutate)==null?void 0:l.call(i,t,this,n));const z=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));z!==this.state.context&&xt(this,zr,In).call(this,{type:"pending",context:z,variables:t,isPaused:a})}const R=await B(this,Ls).start();return await((d=(h=B(this,_t).config).onSuccess)==null?void 0:d.call(h,R,t,this.state.context,this,n)),await((v=(m=this.options).onSuccess)==null?void 0:v.call(m,R,t,this.state.context,n)),await((g=(b=B(this,_t).config).onSettled)==null?void 0:g.call(b,R,null,this.state.variables,this.state.context,this,n)),await((p=(w=this.options).onSettled)==null?void 0:p.call(w,R,null,t,this.state.context,n)),xt(this,zr,In).call(this,{type:"success",data:R}),R}catch(R){try{throw await((x=(y=B(this,_t).config).onError)==null?void 0:x.call(y,R,t,this.state.context,this,n)),await((S=(j=this.options).onError)==null?void 0:S.call(j,R,t,this.state.context,n)),await((_=(N=B(this,_t).config).onSettled)==null?void 0:_.call(N,void 0,R,this.state.variables,this.state.context,this,n)),await((M=(E=this.options).onSettled)==null?void 0:M.call(E,void 0,R,t,this.state.context,n)),R}finally{xt(this,zr,In).call(this,{type:"error",error:R})}}finally{B(this,_t).runNext(this)}}},Bi=new WeakMap,Fr=new WeakMap,_t=new WeakMap,Ls=new WeakMap,zr=new WeakSet,In=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Et.batch(()=>{B(this,Fr).forEach(n=>{n.onMutationUpdate(t)}),B(this,_t).notify({mutation:this,type:"updated",action:t})})},kx);function sR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var cn,_r,Wi,Ex,oR=(Ex=class extends Cu{constructor(t={}){super();Ne(this,cn);Ne(this,_r);Ne(this,Wi);this.config=t,pe(this,cn,new Set),pe(this,_r,new Map),pe(this,Wi,0)}build(t,r,n){const o=new nR({client:t,mutationCache:this,mutationId:++ul(this,Wi)._,options:t.defaultMutationOptions(r),state:n});return this.add(o),o}add(t){B(this,cn).add(t);const r=Al(t);if(typeof r=="string"){const n=B(this,_r).get(r);n?n.push(t):B(this,_r).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(B(this,cn).delete(t)){const r=Al(t);if(typeof r=="string"){const n=B(this,_r).get(r);if(n)if(n.length>1){const o=n.indexOf(t);o!==-1&&n.splice(o,1)}else n[0]===t&&B(this,_r).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Al(t);if(typeof r=="string"){const n=B(this,_r).get(r),o=n==null?void 0:n.find(a=>a.state.status==="pending");return!o||o===t}else return!0}runNext(t){var n;const r=Al(t);if(typeof r=="string"){const o=(n=B(this,_r).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Et.batch(()=>{B(this,cn).forEach(t=>{this.notify({type:"removed",mutation:t})}),B(this,cn).clear(),B(this,_r).clear()})}getAll(){return Array.from(B(this,cn))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>vy(r,n))}findAll(t={}){return this.getAll().filter(r=>vy(t,r))}notify(t){Et.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Et.batch(()=>Promise.all(t.map(r=>r.continue().catch(Sr))))}},cn=new WeakMap,_r=new WeakMap,Wi=new WeakMap,Ex);function Al(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Hr,Px,aR=(Px=class extends Cu{constructor(t={}){super();Ne(this,Hr);this.config=t,pe(this,Hr,new Map)}build(t,r,n){const o=r.queryKey,a=r.queryHash??qm(o,r);let i=this.get(a);return i||(i=new eR({client:t,queryKey:o,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(o)}),this.add(i)),i}add(t){B(this,Hr).has(t.queryHash)||(B(this,Hr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=B(this,Hr).get(t.queryHash);r&&(t.destroy(),r===t&&B(this,Hr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Et.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return B(this,Hr).get(t)}getAll(){return[...B(this,Hr).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>xy(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>xy(t,n)):r}notify(t){Et.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Et.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Et.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Hr=new WeakMap,Px),We,Wn,Vn,Yo,Qo,Kn,Jo,Xo,Tx,iR=(Tx=class{constructor(e={}){Ne(this,We);Ne(this,Wn);Ne(this,Vn);Ne(this,Yo);Ne(this,Qo);Ne(this,Kn);Ne(this,Jo);Ne(this,Xo);pe(this,We,e.queryCache||new aR),pe(this,Wn,e.mutationCache||new oR),pe(this,Vn,e.defaultOptions||{}),pe(this,Yo,new Map),pe(this,Qo,new Map),pe(this,Kn,0)}mount(){ul(this,Kn)._++,B(this,Kn)===1&&(pe(this,Jo,fb.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,We).onFocus())})),pe(this,Xo,Dc.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,We).onOnline())})))}unmount(){var e,t;ul(this,Kn)._--,B(this,Kn)===0&&((e=B(this,Jo))==null||e.call(this),pe(this,Jo,void 0),(t=B(this,Xo))==null||t.call(this),pe(this,Xo,void 0))}isFetching(e){return B(this,We).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return B(this,Wn).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=B(this,We).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=B(this,We).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(rf(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return B(this,We).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),o=B(this,We).get(n.queryHash),a=o==null?void 0:o.state.data,i=UT(t,a);if(i!==void 0)return B(this,We).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return Et.batch(()=>B(this,We).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=B(this,We).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=B(this,We);Et.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=B(this,We);return Et.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Et.batch(()=>B(this,We).findAll(e).map(o=>o.cancel(r)));return Promise.all(n).then(Sr).catch(Sr)}invalidateQueries(e,t={}){return Et.batch(()=>(B(this,We).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Et.batch(()=>B(this,We).findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let a=o.fetch(void 0,r);return r.throwOnError||(a=a.catch(Sr)),o.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Sr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=B(this,We).build(this,t);return r.isStaleByTime(rf(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Sr).catch(Sr)}fetchInfiniteQuery(e){return e.behavior=Sy(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Sr).catch(Sr)}ensureInfiniteQueryData(e){return e.behavior=Sy(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Dc.isOnline()?B(this,Wn).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,We)}getMutationCache(){return B(this,Wn)}getDefaultOptions(){return B(this,Vn)}setDefaultOptions(e){pe(this,Vn,e)}setQueryDefaults(e,t){B(this,Yo).set(Oi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...B(this,Yo).values()],r={};return t.forEach(n=>{Mi(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){B(this,Qo).set(Oi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...B(this,Qo).values()],r={};return t.forEach(n=>{Mi(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...B(this,Vn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=qm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Gm&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...B(this,Vn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){B(this,We).clear(),B(this,Wn).clear()}},We=new WeakMap,Wn=new WeakMap,Vn=new WeakMap,Yo=new WeakMap,Qo=new WeakMap,Kn=new WeakMap,Jo=new WeakMap,Xo=new WeakMap,Tx),lR=f.createContext(void 0),cR=({client:e,children:t})=>(f.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(lR.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Di(){return Di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Di.apply(this,arguments)}var Yn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Yn||(Yn={}));const _y="popstate";function uR(e){e===void 0&&(e={});function t(n,o){let{pathname:a,search:i,hash:l}=n.location;return of("",{pathname:a,search:i,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(n,o){return typeof o=="string"?o:Lc(o)}return hR(t,r,null,e)}function Ge(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function yb(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function dR(){return Math.random().toString(36).substr(2,8)}function Cy(e,t){return{usr:e.state,key:e.key,idx:t}}function of(e,t,r,n){return r===void 0&&(r=null),Di({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ba(t):t,{state:r,key:t&&t.key||n||dR()})}function Lc(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ba(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function hR(e,t,r,n){n===void 0&&(n={});let{window:o=document.defaultView,v5Compat:a=!1}=n,i=o.history,l=Yn.Pop,c=null,u=h();u==null&&(u=0,i.replaceState(Di({},i.state,{idx:u}),""));function h(){return(i.state||{idx:null}).idx}function d(){l=Yn.Pop;let w=h(),p=w==null?null:w-u;u=w,c&&c({action:l,location:g.location,delta:p})}function m(w,p){l=Yn.Push;let y=of(g.location,w,p);u=h()+1;let x=Cy(y,u),j=g.createHref(y);try{i.pushState(x,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;o.location.assign(j)}a&&c&&c({action:l,location:g.location,delta:1})}function v(w,p){l=Yn.Replace;let y=of(g.location,w,p);u=h();let x=Cy(y,u),j=g.createHref(y);i.replaceState(x,"",j),a&&c&&c({action:l,location:g.location,delta:0})}function b(w){let p=o.location.origin!=="null"?o.location.origin:o.location.href,y=typeof w=="string"?w:Lc(w);return y=y.replace(/ $/,"%20"),Ge(p,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,p)}let g={get action(){return l},get location(){return e(o,i)},listen(w){if(c)throw new Error("A history only accepts one active listener");return o.addEventListener(_y,d),c=w,()=>{o.removeEventListener(_y,d),c=null}},createHref(w){return t(o,w)},createURL:b,encodeLocation(w){let p=b(w);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:m,replace:v,go(w){return i.go(w)}};return g}var ky;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ky||(ky={}));function fR(e,t,r){return r===void 0&&(r="/"),mR(e,t,r)}function mR(e,t,r,n){let o=typeof t=="string"?ba(t):t,a=Ym(o.pathname||"/",r);if(a==null)return null;let i=xb(e);pR(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=kR(a);l=NR(i[c],u)}return l}function xb(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let o=(a,i,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(Ge(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=ss([n,c.relativePath]),h=r.concat(c);a.children&&a.children.length>0&&(Ge(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),xb(a.children,t,h,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:jR(u,a.index),routesMeta:h})};return e.forEach((a,i)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))o(a,i);else for(let c of vb(a.path))o(a,i,c)}),t}function vb(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,o=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return o?[a,""]:[a];let i=vb(n.join("/")),l=[];return l.push(...i.map(c=>c===""?a:[a,c].join("/"))),o&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function pR(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:SR(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const gR=/^:[\w-]+$/,yR=3,xR=2,vR=1,wR=10,bR=-2,Ey=e=>e==="*";function jR(e,t){let r=e.split("/"),n=r.length;return r.some(Ey)&&(n+=bR),t&&(n+=xR),r.filter(o=>!Ey(o)).reduce((o,a)=>o+(gR.test(a)?yR:a===""?vR:wR),n)}function SR(e,t){return e.length===t.length&&e.slice(0,-1).every((n,o)=>n===t[o])?e[e.length-1]-t[t.length-1]:0}function NR(e,t,r){let{routesMeta:n}=e,o={},a="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,h=a==="/"?t:t.slice(a.length)||"/",d=_R({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),m=c.route;if(!d)return null;Object.assign(o,d.params),i.push({params:o,pathname:ss([a,d.pathname]),pathnameBase:RR(ss([a,d.pathnameBase])),route:m}),d.pathnameBase!=="/"&&(a=ss([a,d.pathnameBase]))}return i}function _R(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=CR(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let a=o[0],i=a.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:n.reduce((u,h,d)=>{let{paramName:m,isOptional:v}=h;if(m==="*"){let g=l[d]||"";i=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const b=l[d];return v&&!b?u[m]=void 0:u[m]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function CR(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),yb(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),n]}function kR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return yb(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ym(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function ER(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:o=""}=typeof e=="string"?ba(e):e;return{pathname:r?r.startsWith("/")?r:PR(r,t):t,search:AR(n),hash:IR(o)}}function PR(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Id(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function TR(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Qm(e,t){let r=TR(e);return t?r.map((n,o)=>o===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Jm(e,t,r,n){n===void 0&&(n=!1);let o;typeof e=="string"?o=ba(e):(o=Di({},e),Ge(!o.pathname||!o.pathname.includes("?"),Id("?","pathname","search",o)),Ge(!o.pathname||!o.pathname.includes("#"),Id("#","pathname","hash",o)),Ge(!o.search||!o.search.includes("#"),Id("#","search","hash",o)));let a=e===""||o.pathname==="",i=a?"/":o.pathname,l;if(i==null)l=r;else{let d=t.length-1;if(!n&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),d-=1;o.pathname=m.join("/")}l=d>=0?t[d]:"/"}let c=ER(o,l),u=i&&i!=="/"&&i.endsWith("/"),h=(a||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const ss=e=>e.join("/").replace(/\/\/+/g,"/"),RR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),AR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,IR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function OR(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const wb=["post","put","patch","delete"];new Set(wb);const MR=["get",...wb];new Set(MR);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Li(){return Li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Li.apply(this,arguments)}const Xm=f.createContext(null),DR=f.createContext(null),fs=f.createContext(null),Eu=f.createContext(null),ms=f.createContext({outlet:null,matches:[],isDataRoute:!1}),bb=f.createContext(null);function LR(e,t){let{relative:r}=t===void 0?{}:t;ja()||Ge(!1);let{basename:n,navigator:o}=f.useContext(fs),{hash:a,pathname:i,search:l}=Sb(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:ss([n,i])),o.createHref({pathname:c,search:l,hash:a})}function ja(){return f.useContext(Eu)!=null}function rr(){return ja()||Ge(!1),f.useContext(Eu).location}function jb(e){f.useContext(fs).static||f.useLayoutEffect(e)}function nt(){let{isDataRoute:e}=f.useContext(ms);return e?QR():$R()}function $R(){ja()||Ge(!1);let e=f.useContext(Xm),{basename:t,future:r,navigator:n}=f.useContext(fs),{matches:o}=f.useContext(ms),{pathname:a}=rr(),i=JSON.stringify(Qm(o,r.v7_relativeSplatPath)),l=f.useRef(!1);return jb(()=>{l.current=!0}),f.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let d=Jm(u,JSON.parse(i),a,h.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:ss([t,d.pathname])),(h.replace?n.replace:n.push)(d,h.state,h)},[t,n,i,a,e])}function Sb(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=f.useContext(fs),{matches:o}=f.useContext(ms),{pathname:a}=rr(),i=JSON.stringify(Qm(o,n.v7_relativeSplatPath));return f.useMemo(()=>Jm(e,JSON.parse(i),a,r==="path"),[e,i,a,r])}function UR(e,t){return FR(e,t)}function FR(e,t,r,n){ja()||Ge(!1);let{navigator:o}=f.useContext(fs),{matches:a}=f.useContext(ms),i=a[a.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=rr(),h;if(t){var d;let w=typeof t=="string"?ba(t):t;c==="/"||(d=w.pathname)!=null&&d.startsWith(c)||Ge(!1),h=w}else h=u;let m=h.pathname||"/",v=m;if(c!=="/"){let w=c.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let b=fR(e,{pathname:v}),g=VR(b&&b.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:ss([c,o.encodeLocation?o.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:ss([c,o.encodeLocation?o.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,r,n);return t&&g?f.createElement(Eu.Provider,{value:{location:Li({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Yn.Pop}},g):g}function zR(){let e=YR(),t=OR(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),r?f.createElement("pre",{style:o},r):null,null)}const HR=f.createElement(zR,null);class BR extends f.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?f.createElement(ms.Provider,{value:this.props.routeContext},f.createElement(bb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function WR(e){let{routeContext:t,match:r,children:n}=e,o=f.useContext(Xm);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),f.createElement(ms.Provider,{value:t},n)}function VR(e,t,r,n){var o;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(o=r)==null?void 0:o.errors;if(l!=null){let h=i.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);h>=0||Ge(!1),i=i.slice(0,Math.min(i.length,h+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<i.length;h++){let d=i[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:m,errors:v}=r,b=d.route.loader&&m[d.route.id]===void 0&&(!v||v[d.route.id]===void 0);if(d.route.lazy||b){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((h,d,m)=>{let v,b=!1,g=null,w=null;r&&(v=l&&d.route.id?l[d.route.id]:void 0,g=d.route.errorElement||HR,c&&(u<0&&m===0?(JR("route-fallback"),b=!0,w=null):u===m&&(b=!0,w=d.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,m+1)),y=()=>{let x;return v?x=g:b?x=w:d.route.Component?x=f.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=h,f.createElement(WR,{match:d,routeContext:{outlet:h,matches:p,isDataRoute:r!=null},children:x})};return r&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?f.createElement(BR,{location:r.location,revalidation:r.revalidation,component:g,error:v,children:y(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):y()},null)}var Nb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Nb||{}),_b=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(_b||{});function KR(e){let t=f.useContext(Xm);return t||Ge(!1),t}function qR(e){let t=f.useContext(DR);return t||Ge(!1),t}function GR(e){let t=f.useContext(ms);return t||Ge(!1),t}function Cb(e){let t=GR(),r=t.matches[t.matches.length-1];return r.route.id||Ge(!1),r.route.id}function YR(){var e;let t=f.useContext(bb),r=qR(),n=Cb();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function QR(){let{router:e}=KR(Nb.UseNavigateStable),t=Cb(_b.UseNavigateStable),r=f.useRef(!1);return jb(()=>{r.current=!0}),f.useCallback(function(o,a){a===void 0&&(a={}),r.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,Li({fromRouteId:t},a)))},[e,t])}const Py={};function JR(e,t,r){Py[e]||(Py[e]=!0)}function XR(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function kb(e){let{to:t,replace:r,state:n,relative:o}=e;ja()||Ge(!1);let{future:a,static:i}=f.useContext(fs),{matches:l}=f.useContext(ms),{pathname:c}=rr(),u=nt(),h=Jm(t,Qm(l,a.v7_relativeSplatPath),c,o==="path"),d=JSON.stringify(h);return f.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:o}),[u,d,o,r,n]),null}function Nt(e){Ge(!1)}function ZR(e){let{basename:t="/",children:r=null,location:n,navigationType:o=Yn.Pop,navigator:a,static:i=!1,future:l}=e;ja()&&Ge(!1);let c=t.replace(/^\/*/,"/"),u=f.useMemo(()=>({basename:c,navigator:a,static:i,future:Li({v7_relativeSplatPath:!1},l)}),[c,l,a,i]);typeof n=="string"&&(n=ba(n));let{pathname:h="/",search:d="",hash:m="",state:v=null,key:b="default"}=n,g=f.useMemo(()=>{let w=Ym(h,c);return w==null?null:{location:{pathname:w,search:d,hash:m,state:v,key:b},navigationType:o}},[c,h,d,m,v,b,o]);return g==null?null:f.createElement(fs.Provider,{value:u},f.createElement(Eu.Provider,{children:r,value:g}))}function eA(e){let{children:t,location:r}=e;return UR(af(t),r)}new Promise(()=>{});function af(e,t){t===void 0&&(t=[]);let r=[];return f.Children.forEach(e,(n,o)=>{if(!f.isValidElement(n))return;let a=[...t,o];if(n.type===f.Fragment){r.push.apply(r,af(n.props.children,a));return}n.type!==Nt&&Ge(!1),!n.props.index||!n.props.children||Ge(!1);let i={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=af(n.props.children,a)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lf(){return lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lf.apply(this,arguments)}function tA(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,a;for(a=0;a<n.length;a++)o=n[a],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function rA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function nA(e,t){return e.button===0&&(!t||t==="_self")&&!rA(e)}function cf(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(o=>[r,o]):[[r,n]])},[]))}function sA(e,t){let r=cf(e);return t&&t.forEach((n,o)=>{r.has(o)||t.getAll(o).forEach(a=>{r.append(o,a)})}),r}const oA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],aA="6";try{window.__reactRouterVersion=aA}catch{}const iA="startTransition",Ty=$f[iA];function lA(e){let{basename:t,children:r,future:n,window:o}=e,a=f.useRef();a.current==null&&(a.current=uR({window:o,v5Compat:!0}));let i=a.current,[l,c]=f.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},h=f.useCallback(d=>{u&&Ty?Ty(()=>c(d)):c(d)},[c,u]);return f.useLayoutEffect(()=>i.listen(h),[i,h]),f.useEffect(()=>XR(n),[n]),f.createElement(ZR,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const cA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$c=f.forwardRef(function(t,r){let{onClick:n,relative:o,reloadDocument:a,replace:i,state:l,target:c,to:u,preventScrollReset:h,viewTransition:d}=t,m=tA(t,oA),{basename:v}=f.useContext(fs),b,g=!1;if(typeof u=="string"&&uA.test(u)&&(b=u,cA))try{let x=new URL(window.location.href),j=u.startsWith("//")?new URL(x.protocol+u):new URL(u),S=Ym(j.pathname,v);j.origin===x.origin&&S!=null?u=S+j.search+j.hash:g=!0}catch{}let w=LR(u,{relative:o}),p=dA(u,{replace:i,state:l,target:c,preventScrollReset:h,relative:o,viewTransition:d});function y(x){n&&n(x),x.defaultPrevented||p(x)}return f.createElement("a",lf({},m,{href:b||w,onClick:g||a?n:y,ref:r,target:c}))});var Ry;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ry||(Ry={}));var Ay;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ay||(Ay={}));function dA(e,t){let{target:r,replace:n,state:o,preventScrollReset:a,relative:i,viewTransition:l}=t===void 0?{}:t,c=nt(),u=rr(),h=Sb(e,{relative:i});return f.useCallback(d=>{if(nA(d,r)){d.preventDefault();let m=n!==void 0?n:Lc(u)===Lc(h);c(e,{replace:m,state:o,preventScrollReset:a,relative:i,viewTransition:l})}},[u,c,h,n,o,r,e,a,i,l])}function Pu(e){let t=f.useRef(cf(e)),r=f.useRef(!1),n=rr(),o=f.useMemo(()=>sA(n.search,r.current?null:t.current),[n.search]),a=nt(),i=f.useCallback((l,c)=>{const u=cf(typeof l=="function"?l(o):l);r.current=!0,a("?"+u,c)},[a,o]);return[o,i]}const hA="modulepreload",fA=function(e){return"/"+e},Iy={},Ys=function(t,r,n){let o=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));o=Promise.allSettled(r.map(c=>{if(c=fA(c),c in Iy)return;Iy[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":hA,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((m,v)=>{d.addEventListener("load",m),d.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return o.then(i=>{for(const l of i||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},mA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ys(async()=>{const{default:n}=await Promise.resolve().then(()=>Sa);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Zm extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Oy extends Zm{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class My extends Zm{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Dy extends Zm{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var uf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(uf||(uf={}));var pA=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(h){try{u(n.next(h))}catch(d){i(d)}}function c(h){try{u(n.throw(h))}catch(d){i(d)}}function u(h){h.done?a(h.value):o(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class gA{constructor(t,{headers:r={},customFetch:n,region:o=uf.Any}={}){this.url=t,this.headers=r,this.region=o,this.fetch=mA(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return pA(this,arguments,void 0,function*(r,n={}){var o;try{const{headers:a,method:i,body:l,signal:c}=n;let u={},{region:h}=n;h||(h=this.region);const d=new URL(`${this.url}/${r}`);h&&h!=="any"&&(u["x-region"]=h,d.searchParams.set("forceFunctionRegion",h));let m;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(u["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(u["Content-Type"]="application/json",m=JSON.stringify(l)));const v=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),a),body:m,signal:c}).catch(p=>{throw p.name==="AbortError"?p:new Oy(p)}),b=v.headers.get("x-relay-error");if(b&&b==="true")throw new My(v);if(!v.ok)throw new Dy(v);let g=((o=v.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),w;return g==="application/json"?w=yield v.json():g==="application/octet-stream"?w=yield v.blob():g==="text/event-stream"?w=v:g==="multipart/form-data"?w=yield v.formData():w=yield v.text(),{data:w,error:null,response:v}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new Oy(a)}:{data:null,error:a,response:a instanceof Dy||a instanceof My?a.context:void 0}}})}}var Ut={},ep={},Tu={},el={},Ru={},Au={},yA=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},da=yA();const xA=da.fetch,Eb=da.fetch.bind(da),Pb=da.Headers,vA=da.Request,wA=da.Response,Sa=Object.freeze(Object.defineProperty({__proto__:null,Headers:Pb,Request:vA,Response:wA,default:Eb,fetch:xA},Symbol.toStringTag,{value:"Module"})),bA=M1(Sa);var Iu={};Object.defineProperty(Iu,"__esModule",{value:!0});let jA=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Iu.default=jA;var Tb=dr&&dr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Au,"__esModule",{value:!0});const SA=Tb(bA),NA=Tb(Iu);let _A=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=SA.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let o=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var i,l,c,u;let h=null,d=null,m=null,v=a.status,b=a.statusText;if(a.ok){if(this.method!=="HEAD"){const y=await a.text();y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((i=this.headers.get("Accept"))===null||i===void 0)&&i.includes("application/vnd.pgrst.plan+text"))?d=y:d=JSON.parse(y))}const w=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),p=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");w&&p&&p.length>1&&(m=parseInt(p[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(h={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,m=null,v=406,b="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await a.text();try{h=JSON.parse(w),Array.isArray(h)&&a.status===404&&(d=[],h=null,v=200,b="OK")}catch{a.status===404&&w===""?(v=204,b="No Content"):h={message:w}}if(h&&this.isMaybeSingle&&(!((u=h==null?void 0:h.details)===null||u===void 0)&&u.includes("0 rows"))&&(h=null,v=200,b="OK"),h&&this.shouldThrowOnError)throw new NA.default(h)}return{error:h,data:d,count:m,status:v,statusText:b}});return this.shouldThrowOnError||(o=o.catch(a=>{var i,l,c;return{error:{message:`${(i=a==null?void 0:a.name)!==null&&i!==void 0?i:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),o.then(t,r)}returns(){return this}overrideTypes(){return this}};Au.default=_A;var CA=dr&&dr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ru,"__esModule",{value:!0});const kA=CA(Au);let EA=class extends kA.default{select(t){let r=!1;const n=(t??"*").split("").map(o=>/\s/.test(o)&&!r?"":(o==='"'&&(r=!r),o)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:o,referencedTable:a=o}={}){const i=a?`${a}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(o,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:o=n}={}){const a=typeof o>"u"?"offset":`${o}.offset`,i=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(i,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:o=!1,wal:a=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,o?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Ru.default=EA;var PA=dr&&dr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(el,"__esModule",{value:!0});const TA=PA(Ru);let RA=class extends TA.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:o}={}){let a="";o==="plain"?a="pl":o==="phrase"?a="ph":o==="websearch"&&(a="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${i}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const o=n?`${n}.or`:"or";return this.url.searchParams.append(o,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};el.default=RA;var AA=dr&&dr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tu,"__esModule",{value:!0});const Wa=AA(el);let IA=class{constructor(t,{headers:r={},schema:n,fetch:o}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=o}select(t,r){const{head:n=!1,count:o}=r??{},a=n?"HEAD":"GET";let i=!1;const l=(t??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join("");return this.url.searchParams.set("select",l),o&&this.headers.append("Prefer",`count=${o}`),new Wa.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var o;const a="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Wa.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:o,defaultToNull:a=!0}={}){var i;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),o&&this.headers.append("Prefer",`count=${o}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new Wa.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:r}={}){var n;const o="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new Wa.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Wa.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Tu.default=IA;var Rb=dr&&dr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ep,"__esModule",{value:!0});const OA=Rb(Tu),MA=Rb(el);let DA=class Ab{constructor(t,{headers:r={},schema:n,fetch:o}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=o}from(t){const r=new URL(`${this.url}/${t}`);return new OA.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Ab(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:o=!1,count:a}={}){var i;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||o?(l=n?"HEAD":"GET",Object.entries(r).filter(([d,m])=>m!==void 0).map(([d,m])=>[d,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([d,m])=>{c.searchParams.append(d,m)})):(l="POST",u=r);const h=new Headers(this.headers);return a&&h.set("Prefer",`count=${a}`),new MA.default({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};ep.default=DA;var Na=dr&&dr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ut,"__esModule",{value:!0});Ut.PostgrestError=Ut.PostgrestBuilder=Ut.PostgrestTransformBuilder=Ut.PostgrestFilterBuilder=Ut.PostgrestQueryBuilder=Ut.PostgrestClient=void 0;const Ib=Na(ep);Ut.PostgrestClient=Ib.default;const Ob=Na(Tu);Ut.PostgrestQueryBuilder=Ob.default;const Mb=Na(el);Ut.PostgrestFilterBuilder=Mb.default;const Db=Na(Ru);Ut.PostgrestTransformBuilder=Db.default;const Lb=Na(Au);Ut.PostgrestBuilder=Lb.default;const $b=Na(Iu);Ut.PostgrestError=$b.default;var LA=Ut.default={PostgrestClient:Ib.default,PostgrestQueryBuilder:Ob.default,PostgrestFilterBuilder:Mb.default,PostgrestTransformBuilder:Db.default,PostgrestBuilder:Lb.default,PostgrestError:$b.default};const{PostgrestClient:$A,PostgrestQueryBuilder:c3,PostgrestFilterBuilder:u3,PostgrestTransformBuilder:d3,PostgrestBuilder:h3,PostgrestError:f3}=LA;class UA{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,o=parseInt(n.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const FA="2.75.1",zA=`realtime-js/${FA}`,HA="1.0.0",df=1e4,BA=1e3,WA=100;var di;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(di||(di={}));var Ze;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ze||(Ze={}));var kr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(kr||(kr={}));var hf;(function(e){e.websocket="websocket"})(hf||(hf={}));var Cs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Cs||(Cs={}));class VA{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const o=r.getUint8(1),a=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(t.slice(i,i+o));i=i+o;const c=n.decode(t.slice(i,i+a));i=i+a;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Ub{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Re;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Re||(Re={}));const Ly=(e,t,r={})=>{var n;const o=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,i)=>(a[i]=KA(i,e,t,o),a),{}):{}},KA=(e,t,r,n)=>{const o=t.find(l=>l.name===e),a=o==null?void 0:o.type,i=r[e];return a&&!n.includes(a)?Fb(a,i):ff(i)},Fb=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return QA(t,r)}switch(e){case Re.bool:return qA(t);case Re.float4:case Re.float8:case Re.int2:case Re.int4:case Re.int8:case Re.numeric:case Re.oid:return GA(t);case Re.json:case Re.jsonb:return YA(t);case Re.timestamp:return JA(t);case Re.abstime:case Re.date:case Re.daterange:case Re.int4range:case Re.int8range:case Re.money:case Re.reltime:case Re.text:case Re.time:case Re.timestamptz:case Re.timetz:case Re.tsrange:case Re.tstzrange:return ff(t);default:return ff(t)}},ff=e=>e,qA=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},GA=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},YA=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},QA=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const i=e.slice(1,r);try{a=JSON.parse("["+i+"]")}catch{a=i?i.split(","):[]}return a.map(l=>Fb(t,l))}return e},JA=e=>typeof e=="string"?e.replace(" ","T"):e,zb=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Od{constructor(t,r,n={},o=df){this.channel=t,this.event=r,this.payload=n,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var $y;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})($y||($y={}));class hi{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},o=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hi.syncState(this.state,o,a,i),this.pendingDiffs.forEach(c=>{this.state=hi.syncDiff(this.state,c,a,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},o=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=hi.syncDiff(this.state,o,a,i),l())}),this.onJoin((o,a,i)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:i})}),this.onLeave((o,a,i)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,o){const a=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(a,(u,h)=>{i[u]||(c[u]=h)}),this.map(i,(u,h)=>{const d=a[u];if(d){const m=h.map(w=>w.presence_ref),v=d.map(w=>w.presence_ref),b=h.filter(w=>v.indexOf(w.presence_ref)<0),g=d.filter(w=>m.indexOf(w.presence_ref)<0);b.length>0&&(l[u]=b),g.length>0&&(c[u]=g)}else l[u]=h}),this.syncDiff(a,{joins:l,leaves:c},n,o)}static syncDiff(t,r,n,o){const{joins:a,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),o||(o=()=>{}),this.map(a,(l,c)=>{var u;const h=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),h.length>0){const d=t[l].map(v=>v.presence_ref),m=h.filter(v=>d.indexOf(v.presence_ref)<0);t[l].unshift(...m)}n(l,h,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const h=c.map(d=>d.presence_ref);u=u.filter(d=>h.indexOf(d.presence_ref)<0),t[l]=u,o(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const o=t[n];return"metas"in o?r[n]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=o,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Uy;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Uy||(Uy={}));var fi;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(fi||(fi={}));var an;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(an||(an={}));class tp{constructor(t,r={config:{}},n){var o,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ze.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Od(this,kr.join,this.params,this.timeout),this.rejoinTimer=new Ub(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ze.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ze.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this._on(kr.reply,{},(i,l)=>{this._trigger(this._replyEventName(l),i)}),this.presence=new hi(this),this.broadcastEndpointURL=zb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,o,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Ze.closed){const{config:{broadcast:i,presence:l,private:c}}=this.params,u=(o=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&o!==void 0?o:[],h=!!this.bindings[fi.PRESENCE]&&this.bindings[fi.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,d={},m={broadcast:i,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(v=>t==null?void 0:t(an.CHANNEL_ERROR,v)),this._onClose(()=>t==null?void 0:t(an.CLOSED)),this.updateJoinPayload(Object.assign({config:m},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var b;if(this.socket.setAuth(),v===void 0){t==null||t(an.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,w=(b=g==null?void 0:g.length)!==null&&b!==void 0?b:0,p=[];for(let y=0;y<w;y++){const x=g[y],{filter:{event:j,schema:S,table:N,filter:_}}=x,E=v&&v[y];if(E&&E.event===j&&E.schema===S&&E.table===N&&E.filter===_)p.push(Object.assign(Object.assign({},x),{id:E.id}));else{this.unsubscribe(),this.state=Ze.errored,t==null||t(an.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(an.SUBSCRIBED);return}}).receive("error",v=>{this.state=Ze.errored,t==null||t(an.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(an.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Ze.joined&&t===fi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,o;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((o=u.body)===null||o===void 0?void 0:o.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var i,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ze.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(kr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(o=>{n=new Od(this,kr.leave,{},t),n.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ze.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const o=new AbortController,a=setTimeout(()=>o.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(a),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Od(this,t,r,n);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>WA){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var o,a;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:h}=kr;if(n&&[l,c,u,h].indexOf(i)>=0&&n!==this._joinRef())return;let m=this._onMessage(i,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(v=>{var b,g,w;return((b=v.filter)===null||b===void 0?void 0:b.event)==="*"||((w=(g=v.filter)===null||g===void 0?void 0:g.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===i}).map(v=>v.callback(m,n)):(a=this.bindings[i])===null||a===void 0||a.filter(v=>{var b,g,w,p,y,x;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in v){const j=v.id,S=(b=v.filter)===null||b===void 0?void 0:b.event;return j&&((g=r.ids)===null||g===void 0?void 0:g.includes(j))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(y=(p=v==null?void 0:v.filter)===null||p===void 0?void 0:p.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return j==="*"||j===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===i}).map(v=>{if(typeof m=="object"&&"ids"in m){const b=m.data,{schema:g,table:w,commit_timestamp:p,type:y,errors:x}=b;m=Object.assign(Object.assign({},{schema:g,table:w,commit_timestamp:p,eventType:y,new:{},old:{},errors:x}),this._getPayloadRecords(b))}v.callback(m,n)})}_isClosed(){return this.state===Ze.closed}_isJoined(){return this.state===Ze.joined}_isJoining(){return this.state===Ze.joining}_isLeaving(){return this.state===Ze.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const o=t.toLocaleLowerCase(),a={type:o,filter:r,callback:n};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&tp.isEqual(o.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(kr.close,{},t)}_onError(t){this._on(kr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ze.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Ly(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Ly(t.columns,t.old_record)),r}}const Md=()=>{},Il={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},XA=[1e3,2e3,5e3,1e4],ZA=1e4,eI=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class tI{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=df,this.transport=null,this.heartbeatIntervalMs=Il.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Md,this.ref=0,this.reconnectTimer=null,this.logger=Md,this.conn=null,this.sendBuffer=[],this.serializer=new VA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...i)=>Ys(async()=>{const{default:l}=await Promise.resolve().then(()=>Sa);return{default:l}},void 0).then(({default:l})=>l(...i)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...i)=>a(...i)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${hf.websocket}`,this.httpEndpoint=zb(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=UA.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:HA}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case di.connecting:return Cs.Connecting;case di.open:return Cs.Open;case di.closing:return Cs.Closing;default:return Cs.Closed}}isConnected(){return this.connectionState()===Cs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,o=this.getChannels().find(a=>a.topic===n);if(o)return o;{const a=new tp(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:o,ref:a}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,o),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(BA,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Il.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:o,payload:a,ref:i}=r,l=i?`(${i})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${o} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(o,a,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(kr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${t}${n}${o}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([eI],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const o={access_token:r,version:zA};r&&n.updateJoinPayload(o),n.joinedOnce&&n._isJoined()&&n._push(kr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Ub(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Il.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,o,a,i,l,c,u,h;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:df,this.heartbeatIntervalMs=(o=t==null?void 0:t.heartbeatIntervalMs)!==null&&o!==void 0?o:Il.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Md,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:d=>XA[d-1]||ZA,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(d,m)=>m(JSON.stringify(d)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class rp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Qe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class rI extends rp{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class mf extends rp{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var nI=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(h){try{u(n.next(h))}catch(d){i(d)}}function c(h){try{u(n.throw(h))}catch(d){i(d)}}function u(h){h.done?a(h.value):o(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Hb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ys(async()=>{const{default:n}=await Promise.resolve().then(()=>Sa);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},sI=()=>nI(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ys(()=>Promise.resolve().then(()=>Sa),void 0)).Response:Response}),pf=e=>{if(Array.isArray(e))return e.map(r=>pf(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const o=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[o]=pf(n)}),t},oI=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var ro=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(h){try{u(n.next(h))}catch(d){i(d)}}function c(h){try{u(n.throw(h))}catch(d){i(d)}}function u(h){h.done?a(h.value):o(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Dd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),aI=(e,t,r)=>ro(void 0,void 0,void 0,function*(){const n=yield sI();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(o=>{const a=e.status||500,i=(o==null?void 0:o.statusCode)||a+"";t(new rI(Dd(o),a,i))}).catch(o=>{t(new mf(Dd(o),o))}):t(new mf(Dd(e),e))}),iI=(e,t,r,n)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?o:(oI(n)?(o.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),o.body=JSON.stringify(n)):o.body=n,t!=null&&t.duplex&&(o.duplex=t.duplex),Object.assign(Object.assign({},o),r))};function tl(e,t,r,n,o,a){return ro(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,iI(t,n,o,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>aI(c,l,n))})})}function Uc(e,t,r,n){return ro(this,void 0,void 0,function*(){return tl(e,"GET",t,r,n)})}function Ur(e,t,r,n,o){return ro(this,void 0,void 0,function*(){return tl(e,"POST",t,n,o,r)})}function gf(e,t,r,n,o){return ro(this,void 0,void 0,function*(){return tl(e,"PUT",t,n,o,r)})}function lI(e,t,r,n){return ro(this,void 0,void 0,function*(){return tl(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Bb(e,t,r,n,o){return ro(this,void 0,void 0,function*(){return tl(e,"DELETE",t,n,o,r)})}var cI=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(h){try{u(n.next(h))}catch(d){i(d)}}function c(h){try{u(n.throw(h))}catch(d){i(d)}}function u(h){h.done?a(h.value):o(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class uI{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return cI(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}})}}var dI=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(h){try{u(n.next(h))}catch(d){i(d)}}function c(h){try{u(n.throw(h))}catch(d){i(d)}}function u(h){h.done?a(h.value):o(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})},Wb;class hI{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[Wb]="BlobDownloadBuilder",this.promise=null}asStream(){return new uI(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return dI(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}})}}Wb=Symbol.toStringTag;var Dt=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(h){try{u(n.next(h))}catch(d){i(d)}}function c(h){try{u(n.throw(h))}catch(d){i(d)}}function u(h){h.done?a(h.value):o(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const fI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Fy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class mI{constructor(t,r={},n,o){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Hb(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,o){return Dt(this,void 0,void 0,function*(){try{let a;const i=Object.assign(Object.assign({},Fy),o);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),o!=null&&o.headers&&(l=Object.assign(Object.assign({},l),o.headers));const u=this._removeEmptyFolders(r),h=this._getFinalPath(u),d=yield(t=="PUT"?gf:Ur)(this.fetch,`${this.url}/object/${h}`,a,Object.assign({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Qe(a))return{data:null,error:a};throw a}})}upload(t,r,n){return Dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,o){return Dt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),i=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Fy.upsert},o),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType);const d=yield gf(this.fetch,l.toString(),c,{headers:h});return{data:{path:a,fullPath:d.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Qe(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Dt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const o=Object.assign({},this.headers);r!=null&&r.upsert&&(o["x-upsert"]="true");const a=yield Ur(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:o}),i=new URL(this.url+a.url),l=i.searchParams.get("token");if(!l)throw new rp("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}})}update(t,r,n){return Dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Dt(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Qe(o))return{data:null,error:o};throw o}})}copy(t,r,n){return Dt(this,void 0,void 0,function*(){try{return{data:{path:(yield Ur(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Qe(o))return{data:null,error:o};throw o}})}createSignedUrl(t,r,n){return Dt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),a=yield Ur(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${i}`)},{data:a,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Qe(o))return{data:null,error:o};throw o}})}createSignedUrls(t,r,n){return Dt(this,void 0,void 0,function*(){try{const o=yield Ur(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${a}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Qe(o))return{data:null,error:o};throw o}})}download(t,r){const o=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=a?`?${a}`:"",l=this._getFinalPath(t),c=()=>Uc(this.fetch,`${this.url}/${o}/${l}${i}`,{headers:this.headers,noResolveJson:!0});return new hI(c,this.shouldThrowOnError)}info(t){return Dt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Uc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:pf(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}})}exists(t){return Dt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield lI(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qe(n)&&n instanceof mf){const o=n.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),o=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&o.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&o.push(c);let u=o.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Dt(this,void 0,void 0,function*(){try{return{data:yield Bb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}})}list(t,r,n){return Dt(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},fI),r),{prefix:t||""});return{data:yield Ur(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},n),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Qe(o))return{data:null,error:o};throw o}})}listV2(t,r){return Dt(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Ur(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const pI="2.75.1",gI={"X-Client-Info":`storage-js/${pI}`};var lo=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(h){try{u(n.next(h))}catch(d){i(d)}}function c(h){try{u(n.throw(h))}catch(d){i(d)}}function u(h){h.done?a(h.value):o(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class yI{constructor(t,r={},n,o){this.shouldThrowOnError=!1;const a=new URL(t);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gI),r),this.fetch=Hb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return lo(this,void 0,void 0,function*(){try{return{data:yield Uc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}})}getBucket(t){return lo(this,void 0,void 0,function*(){try{return{data:yield Uc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}})}createBucket(t){return lo(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ur(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Qe(o))return{data:null,error:o};throw o}})}updateBucket(t,r){return lo(this,void 0,void 0,function*(){try{return{data:yield gf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}})}emptyBucket(t){return lo(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}})}deleteBucket(t){return lo(this,void 0,void 0,function*(){try{return{data:yield Bb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}})}}class xI extends yI{constructor(t,r={},n,o){super(t,r,n,o)}from(t){return new mI(this.url,this.headers,t,this.fetch)}}const vI="2.75.1";let Xa="";typeof Deno<"u"?Xa="deno":typeof document<"u"?Xa="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Xa="react-native":Xa="node";const wI={"X-Client-Info":`supabase-js-${Xa}/${vI}`},bI={headers:wI},jI={schema:"public"},SI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},NI={};var _I=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(h){try{u(n.next(h))}catch(d){i(d)}}function c(h){try{u(n.throw(h))}catch(d){i(d)}}function u(h){h.done?a(h.value):o(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const CI=e=>{let t;return e?t=e:typeof fetch>"u"?t=Eb:t=fetch,(...r)=>t(...r)},kI=()=>typeof Headers>"u"?Pb:Headers,EI=(e,t,r)=>{const n=CI(r),o=kI();return(a,i)=>_I(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new o(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},i),{headers:u}))})};var PI=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(h){try{u(n.next(h))}catch(d){i(d)}}function c(h){try{u(n.throw(h))}catch(d){i(d)}}function u(h){h.done?a(h.value):o(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function TI(e){return e.endsWith("/")?e:e+"/"}function RI(e,t){var r,n;const{db:o,auth:a,realtime:i,global:l}=e,{db:c,auth:u,realtime:h,global:d}=t,m={db:Object.assign(Object.assign({},c),o),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},h),i),storage:{},global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>PI(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function AI(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(TI(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Vb="2.75.1",xo=30*1e3,yf=3,Ld=yf*xo,II="http://localhost:9999",OI="supabase.auth.token",MI={"X-Client-Info":`gotrue-js/${Vb}`},xf="X-Supabase-Api-Version",Kb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},DI=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,LI=10*60*1e3;class $i extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function de(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class $I extends $i{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function UI(e){return de(e)&&e.name==="AuthApiError"}class ks extends $i{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ps extends $i{constructor(t,r,n,o){super(t,n,o),this.name=r,this.status=n}}class On extends ps{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function FI(e){return de(e)&&e.name==="AuthSessionMissingError"}class co extends ps{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ol extends ps{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ml extends ps{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function zI(e){return de(e)&&e.name==="AuthImplicitGrantRedirectError"}class zy extends ps{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vf extends ps{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function $d(e){return de(e)&&e.name==="AuthRetryableFetchError"}class Hy extends ps{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class wf extends ps{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Fc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),By=` 	
\r=`.split(""),HI=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<By.length;t+=1)e[By[t].charCodeAt(0)]=-2;for(let t=0;t<Fc.length;t+=1)e[Fc[t].charCodeAt(0)]=t;return e})();function Wy(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Fc[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Fc[n]),t.queuedBits-=6}}function qb(e,t,r){const n=HI[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Vy(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=i=>{VI(i,n,r)};for(let i=0;i<e.length;i+=1)qb(e.charCodeAt(i),o,a);return t.join("")}function BI(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function WI(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const o=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}BI(n,t)}}function VI(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Ho(e){const t=[],r={queue:0,queuedBits:0},n=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)qb(e.charCodeAt(o),r,n);return new Uint8Array(t)}function KI(e){const t=[];return WI(e,r=>t.push(r)),new Uint8Array(t)}function Rs(e){const t=[],r={queue:0,queuedBits:0},n=o=>{t.push(o)};return e.forEach(o=>Wy(o,r,n)),Wy(null,r,n),t.join("")}function qI(e){return Math.round(Date.now()/1e3)+e}function GI(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Kt=()=>typeof window<"u"&&typeof document<"u",vs={tested:!1,writable:!1},Gb=()=>{if(!Kt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(vs.tested)return vs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),vs.tested=!0,vs.writable=!0}catch{vs.tested=!0,vs.writable=!1}return vs.writable};function YI(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,a)=>{t[a]=o})}catch{}return r.searchParams.forEach((n,o)=>{t[o]=n}),t}const Yb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ys(async()=>{const{default:n}=await Promise.resolve().then(()=>Sa);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},QI=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",vo=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ws=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},An=async(e,t)=>{await e.removeItem(t)};class Ou{constructor(){this.promise=new Ou.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ou.promiseConstructor=Promise;function Ud(e){const t=e.split(".");if(t.length!==3)throw new wf("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!DI.test(t[n]))throw new wf("JWT not in base64url format");return{header:JSON.parse(Vy(t[0])),payload:JSON.parse(Vy(t[1])),signature:Ho(t[2]),raw:{header:t[0],payload:t[1]}}}async function JI(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function XI(e,t){return new Promise((n,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const i=await e(a);if(!t(a,null,i)){n(i);return}}catch(i){if(!t(a,i)){o(i);return}}})()})}function ZI(e){return("0"+e.toString(16)).substr(-2)}function e4(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let o="";for(let a=0;a<56;a++)o+=r.charAt(Math.floor(Math.random()*n));return o}return crypto.getRandomValues(t),Array.from(t,ZI).join("")}async function t4(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(n);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function r4(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await t4(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function uo(e,t,r=!1){const n=e4();let o=n;r&&(o+="/PASSWORD_RECOVERY"),await vo(e,`${t}-code-verifier`,o);const a=await r4(n);return[a,n===a?"plain":"s256"]}const n4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function s4(e){const t=e.headers.get(xf);if(!t||!t.match(n4))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function o4(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function a4(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const i4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ho(e){if(!i4.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Fd(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ky(e){return JSON.parse(JSON.stringify(e))}var l4=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};const Ss=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),c4=[502,503,504];async function qy(e){var t;if(!QI(e))throw new vf(Ss(e),0);if(c4.includes(e.status))throw new vf(Ss(e),e.status);let r;try{r=await e.json()}catch(a){throw new ks(Ss(a),a)}let n;const o=s4(e);if(o&&o.getTime()>=Kb["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Hy(Ss(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new On}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,i)=>a&&typeof i=="string",!0))throw new Hy(Ss(r),e.status,r.weak_password.reasons);throw new $I(Ss(r),e.status||500,n)}const u4=(e,t,r,n)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),o.body=JSON.stringify(n),Object.assign(Object.assign({},o),r))};async function ge(e,t,r,n){var o;const a=Object.assign({},n==null?void 0:n.headers);a[xf]||(a[xf]=Kb["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const i=(o=n==null?void 0:n.query)!==null&&o!==void 0?o:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await d4(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function d4(e,t,r,n,o,a){const i=u4(t,n,o,a);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new vf(Ss(c),0)}if(l.ok||await qy(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await qy(c)}}function wr(e){var t;let r=null;m4(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=qI(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Gy(e){const t=wr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Fn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function h4(e){return{data:e,error:null}}function f4(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:o,verification_type:a}=e,i=l4(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:o,verification_type:a},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function Yy(e){return e}function m4(e){return e.access_token&&e.refresh_token&&e.expires_in}const zd=["global","local","others"];var p4=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};class g4{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Yb(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=zd[0]){if(zd.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${zd.join(", ")}`);try{return await ge(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Fn})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=p4(t,["options"]),o=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(o.new_email=n==null?void 0:n.newEmail,delete o.newEmail),await ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:f4,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(de(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ge(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Fn})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,o,a,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},h=await ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:Yy});if(h.error)throw h.error;const d=await h.json(),m=(i=h.headers.get("x-total-count"))!==null&&i!==void 0?i:0,v=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(b=>{const g=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);u[`${w}Page`]=g}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(de(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ho(t);try{return await ge(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Fn})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ho(t);try{return await ge(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Fn})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ho(t);try{return await ge(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Fn})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ho(t.userId);try{const{data:r,error:n}=await ge(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:n}}catch(r){if(de(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ho(t.userId),ho(t.id);try{return{data:await ge(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,o,a,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},h=await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:Yy});if(h.error)throw h.error;const d=await h.json(),m=(i=h.headers.get("x-total-count"))!==null&&i!==void 0?i:0,v=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(b=>{const g=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);u[`${w}Page`]=g}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(de(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await ge(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}}function Qy(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const fo={debug:!!(globalThis&&Gb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Qb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class y4 extends Qb{}async function x4(e,t,r){fo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),fo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async o=>{if(o){fo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await r()}finally{fo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw fo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new y4(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(fo.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function v4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Jb(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function w4(e){return parseInt(e,16)}function b4(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function j4(e){var t;const{chainId:r,domain:n,expirationTime:o,issuedAt:a=new Date,nonce:i,notBefore:l,requestId:c,resources:u,scheme:h,uri:d,version:m}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=Jb(e.address),b=h?`${h}://${n}`:n,g=e.statement?`${e.statement}
`:"",w=`${b} wants you to sign in with your Ethereum account:
${v}

${g}`;let p=`URI: ${d}
Version: ${m}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${a.toISOString()}`;if(o&&(p+=`
Expiration Time: ${o.toISOString()}`),l&&(p+=`
Not Before: ${l.toISOString()}`),c&&(p+=`
Request ID: ${c}`),u){let y=`
Resources:`;for(const x of u){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);y+=`
- ${x}`}p+=y}return`${w}
${p}`}class Ye extends Error{constructor({message:t,code:r,cause:n,name:o}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=o??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class zc extends Ye{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function S4({error:e,options:t}){var r,n,o;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ye({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ye({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ye({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((o=a.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Ye({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ye({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ye({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Ye({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ye({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(Zb(i)){if(a.rp.id!==i)return new Ye({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ye({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Ye({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ye({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ye({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function N4({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ye({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ye({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Zb(n)){if(r.rpId!==n)return new Ye({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ye({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ye({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ye({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var Xb=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};class _4{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const C4=new _4;function k4(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,o=Xb(e,["challenge","user","excludeCredentials"]),a=Ho(t).buffer,i=Object.assign(Object.assign({},r),{id:Ho(r.id).buffer}),l=Object.assign(Object.assign({},o),{challenge:a,user:i});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Ho(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function E4(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Xb(e,["challenge","allowCredentials"]),o=Ho(t).buffer,a=Object.assign(Object.assign({},n),{challenge:o});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const l=r[i];a.allowCredentials[i]=Object.assign(Object.assign({},l),{id:Ho(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function P4(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Rs(new Uint8Array(e.response.attestationObject)),clientDataJSON:Rs(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function T4(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),o=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Rs(new Uint8Array(o.authenticatorData)),clientDataJSON:Rs(new Uint8Array(o.clientDataJSON)),signature:Rs(new Uint8Array(o.signature)),userHandle:o.userHandle?Rs(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Zb(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Jy(){var e,t;return!!(Kt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function R4(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new zc("Browser returned unexpected credential type",t)}:{data:null,error:new zc("Empty credential response",t)}}catch(t){return{data:null,error:S4({error:t,options:e})}}}async function A4(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new zc("Browser returned unexpected credential type",t)}:{data:null,error:new zc("Empty credential response",t)}}catch(t){return{data:null,error:N4({error:t,options:e})}}}const I4={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},O4={userVerification:"preferred",hints:["security-key"]};function Hc(...e){const t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),n={};for(const o of e)if(o)for(const a in o){const i=o[a];if(i!==void 0)if(Array.isArray(i))n[a]=i;else if(r(i))n[a]=i;else if(t(i)){const l=n[a];t(l)?n[a]=Hc(l,i):n[a]=Hc(i)}else n[a]=i}return n}function M4(e,t){return Hc(I4,e,t||{})}function D4(e,t){return Hc(O4,e,t||{})}class L4{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:o},a){try{const{data:i,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!i)return{data:null,error:l};const c=o??C4.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:u}=i.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(i.webauthn.type){case"create":{const u=M4(i.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:h,error:d}=await R4({publicKey:u,signal:c});return h?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:h}},error:null}:{data:null,error:d}}case"request":{const u=D4(i.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:h,error:d}=await A4(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:u,signal:c}));return h?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:h}},error:null}:{data:null,error:d}}}}catch(i){return de(i)?{data:null,error:i}:{data:null,error:new ks("Unexpected error in challenge",i)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:o}},a){if(!r)return{data:null,error:new $i("rpId is required for WebAuthn authentication")};try{if(!Jy())return{data:null,error:new ks("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:o},{request:a});if(!i)return{data:null,error:l};const{webauthn:c}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(i){return de(i)?{data:null,error:i}:{data:null,error:new ks("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:o},a){if(!r)return{data:null,error:new $i("rpId is required for WebAuthn registration")};try{if(!Jy())return{data:null,error:new ks("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(h=>{var d;return(d=h.data)===null||d===void 0?void 0:d.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:o},{create:a});return c?this._verify({factorId:i.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(i){return de(i)?{data:null,error:i}:{data:null,error:new ks("Unexpected error in register",i)}}}}v4();const $4={url:II,storageKey:OI,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:MI,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Xy(e,t,r){return await r()}const mo={};class Ui{get jwks(){var t,r;return(r=(t=mo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){mo[this.storageKey]=Object.assign(Object.assign({},mo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=mo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){mo[this.storageKey]=Object.assign(Object.assign({},mo[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ui.nextInstanceID,Ui.nextInstanceID+=1,this.instanceID>0&&Kt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},$4),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new g4({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Yb(o.fetch),this.lock=o.lock||Xy,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Kt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=x4:this.lock=Xy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new L4(this)},this.persistSession?(o.storage?this.storage=o.storage:Gb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Qy(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Qy(this.memoryStorage)),Kt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Vb}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=YI(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Kt()&&this.detectSessionInUrl&&n!=="none"){const{data:o,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),zI(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:i,redirectType:l}=o;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return de(r)?{error:r}:{error:new ks("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,o;try{const a=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(o=t==null?void 0:t.options)===null||o===void 0?void 0:o.captchaToken}},xform:wr}),{data:i,error:l}=a;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(de(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,o;try{let a;if("email"in t){const{email:h,password:d,options:m}=t;let v=null,b=null;this.flowType==="pkce"&&([v,b]=await uo(this.storage,this.storageKey)),a=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:h,password:d,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:b},xform:wr})}else if("phone"in t){const{phone:h,password:d,options:m}=t;a=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:d,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(o=m==null?void 0:m.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:wr})}else throw new Ol("You must provide either an email or phone number and a password");const{data:i,error:l}=a;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(de(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:i,options:l}=t;r=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Gy})}else if("phone"in t){const{phone:a,password:i,options:l}=t;r=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Gy})}else throw new Ol("You must provide either an email or phone number and a password");const{data:n,error:o}=r;return o?{data:{user:null,session:null},error:o}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new co}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:o})}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,o,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,o,a,i,l,c,u,h,d,m;let v,b;if("message"in t)v=t.message,b=t.signature;else{const{chain:g,wallet:w,statement:p,options:y}=t;let x;if(Kt())if(typeof w=="object")x=w;else{const M=window;if("ethereum"in M&&typeof M.ethereum=="object"&&"request"in M.ethereum&&typeof M.ethereum.request=="function")x=M.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=w}const j=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),S=await x.request({method:"eth_requestAccounts"}).then(M=>M).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=Jb(S[0]);let _=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!_){const M=await x.request({method:"eth_chainId"});_=w4(M)}const E={domain:j.host,address:N,statement:p,uri:j.href,version:"1",chainId:_,nonce:(o=y==null?void 0:y.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(i=(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(h=y==null?void 0:y.signInWithEthereum)===null||h===void 0?void 0:h.resources};v=j4(E),b=await x.request({method:"personal_sign",params:[b4(v),N]})}try{const{data:g,error:w}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:b},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:wr});if(w)throw w;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new co}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:w})}catch(g){if(de(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(t){var r,n,o,a,i,l,c,u,h,d,m,v;let b,g;if("message"in t)b=t.message,g=t.signature;else{const{chain:w,wallet:p,statement:y,options:x}=t;let j;if(Kt())if(typeof p=="object")j=p;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))j=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=p}const S=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const N=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),y?{statement:y}:null));let _;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")_=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)_=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)b=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),g=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${S.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(o=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((d=(h=x==null?void 0:x.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||d===void 0)&&d.length?["Resources",...x.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const N=await j.signMessage(new TextEncoder().encode(b),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=N}}try{const{data:w,error:p}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Rs(g)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:wr});if(p)throw p;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new co}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:p})}catch(w){if(de(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await ws(this.storage,`${this.storageKey}-code-verifier`),[n,o]=(r??"").split("/");try{const{data:a,error:i}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:wr});if(await An(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new co}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:i})}catch(a){if(de(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:o,access_token:a,nonce:i}=t,l=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:o,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:wr}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new co}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,o,a,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await uo(this.storage,this.storageKey));const{error:d}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:h}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=c==null?void 0:c.data)!==null&&o!==void 0?o:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new Ol("You must provide either an email or phone number.")}catch(l){if(de(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let o,a;"options"in t&&(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:wr});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(de(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(t){var r,n,o;try{let a=null,i=null;return this.flowType==="pkce"&&([a,i]=await uo(this.storage,this.storageKey)),await ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((o=t==null?void 0:t.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:i}),headers:this.headers,xform:h4})}catch(a){if(de(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new On;const{error:o}=await ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}})}catch(t){if(de(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:o,options:a}=t,{error:i}=await ge(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:o,options:a}=t,{data:i,error:l}=await ge(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new Ol("You must provide either an email or phone number and a type")}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ws(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ld:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await ws(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=Fd()}if(this.storage.isServer&&t.user){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,h)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,h))})}return{data:{session:t},error:null}}const{data:o,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Fn}):await this._useSession(async r=>{var n,o,a;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new On}:await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=i.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:Fn})})}catch(r){if(de(r))return FI(r)&&(await this._removeSession(),await An(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:o,error:a}=n;if(a)throw a;if(!o.session)throw new On;const i=o.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await uo(this.storage,this.storageKey));const{data:u,error:h}=await ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:Fn});if(h)throw h;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new On;const r=Date.now()/1e3;let n=r,o=!0,a=null;const{payload:i}=Ud(t.access_token);if(i.exp&&(n=i.exp,o=n<=r),o){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(de(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new On;const{data:o,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Kt())throw new Ml("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ml(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new zy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ml("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new zy("No code detected.");const{data:y,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:o,access_token:a,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!i||!u)throw new Ml("No session defined in URL");const h=Math.round(Date.now()/1e3),d=parseInt(l);let m=h+d;c&&(m=parseInt(c));const v=m-h;v*1e3<=xo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${d}s`);const b=m-d;h-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,m,h):h-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,m,h);const{data:g,error:w}=await this._getUser(a);if(w)throw w;const p={provider_token:n,provider_refresh_token:o,access_token:a,expires_in:d,expires_at:m,refresh_token:i,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(n){if(de(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ws(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:o,error:a}=r;if(a)return{error:a};const i=(n=o.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(UI(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await An(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=GI(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,o;try{const{data:{session:a},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,o=null;this.flowType==="pkce"&&([n,o]=await uo(this.storage,this.storageKey,!0));try{return await ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(de(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:o}=await this._useSession(async a=>{var i,l,c,u,h;const{data:d,error:m}=a;if(m)throw m;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ge(this.fetch,"GET",v,{headers:this.headers,jwt:(h=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(o)throw o;return Kt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(de(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:o,data:{session:a}}=r;if(o)throw o;const{options:i,provider:l,token:c,access_token:u,nonce:h}=t,d=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:wr}),{data:m,error:v}=d;return v?{data:{user:null,session:null},error:v}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new co}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),{data:m,error:v})}catch(o){if(de(o))return{data:{user:null,session:null},error:o};throw o}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,o;const{data:a,error:i}=r;if(i)throw i;return await ge(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await XI(async o=>(o>0&&await JI(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:wr})),(o,a)=>{const i=200*Math.pow(2,o);return a&&$d(a)&&Date.now()+i-n<xo})}catch(n){if(this._debug(r,"error",n),de(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Kt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const o=await ws(this.storage,this.storageKey);if(o&&this.userStorage){let i=await ws(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:o.user},await vo(this.userStorage,this.storageKey+"-user",i)),o.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:Fd()}else if(o&&!o.user&&!o.user){const i=await ws(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(o.user=i.user,await An(this.storage,this.storageKey+"-user"),await vo(this.storage,this.storageKey,o)):o.user=Fd()}if(this._debug(n,"session from storage",o),!this._isValidSession(o)){this._debug(n,"session is not valid"),o!==null&&await this._removeSession();return}const a=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ld;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Ld}s`),a){if(this.autoRefreshToken&&o.refresh_token){const{error:i}=await this._callRefreshToken(o.refresh_token);i&&(console.error(i),$d(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(o.access_token);!l&&(i!=null&&i.user)?(o.user=i.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(n,"error",o),console.error(o);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new On;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Ou;const{data:a,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!a.session)throw new On;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(o,"error",a),de(a)){const i={data:null,error:a};return $d(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,r,n=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(i),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await vo(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const a=Ky(o);await vo(this.storage,this.storageKey,a)}else{const o=Ky(r);await vo(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await An(this.storage,this.storageKey),await An(this.storage,this.storageKey+"-code-verifier"),await An(this.storage,this.storageKey+"-user"),this.userStorage&&await An(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Kt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),xo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((n.expires_at*1e3-t)/xo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${xo}ms, refresh threshold is ${yf} ticks`),o<=yf&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Qb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Kt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const o=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&o.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&o.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,i]=await uo(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(i)}`});o.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);o.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&o.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:o,error:a}=r;return a?{data:null,error:a}:await ge(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,o;const{data:a,error:i}=r;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await ge(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((o=c==null?void 0:c.totp)===null||o===void 0)&&o.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:o,error:a}=r;if(a)return{data:null,error:a};const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?P4(t.webauthn.credential_response):T4(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(de(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:o,error:a}=r;if(a)return{data:null,error:a};const i=await ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:l}=i;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:k4(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:E4(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(de(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const o={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])o.all.push(a),a.status==="verified"&&o[a.factor_type].push(a);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:o},error:a}=t;if(a)return{data:null,error:a};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Ud(o.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((n=(r=o.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const h=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const o=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+LI>o)return n;const{data:a,error:i}=await ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,n=a.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:v,error:b}=await this.getSession();if(b||!v.session)return{data:null,error:b};n=v.session.access_token}const{header:o,payload:a,signature:i,raw:{header:l,payload:c}}=Ud(n);r!=null&&r.allowExpired||o4(a.exp);const u=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:a,header:o,signature:i},error:null}}const h=a4(o.alg),d=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,d,i,KI(`${l}.${c}`)))throw new wf("Invalid JWT signature");return{data:{claims:a,header:o,signature:i},error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}}Ui.nextInstanceID=0;const U4=Ui;class F4 extends U4{constructor(t){super(t)}}var z4=function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(h){try{u(n.next(h))}catch(d){i(d)}}function c(h){try{u(n.throw(h))}catch(d){i(d)}}function u(h){h.done?a(h.value):o(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class H4{constructor(t,r,n){var o,a,i;this.supabaseUrl=t,this.supabaseKey=r;const l=AI(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:jI,realtime:NI,auth:Object.assign(Object.assign({},SI),{storageKey:c}),global:bI},h=RI(n??{},u);this.storageKey=(o=h.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=h.global.headers)!==null&&a!==void 0?a:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(d,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=h.auth)!==null&&i!==void 0?i:{},this.headers,h.global.fetch),this.fetch=EI(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new $A(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new xI(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new gA(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return z4(this,void 0,void 0,function*(){var t,r;if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:o,userStorage:a,storageKey:i,flowType:l,lock:c,debug:u},h,d){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new F4({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),h),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:o,userStorage:a,flowType:l,lock:c,debug:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new tI(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const B4=(e,t,r)=>new H4(e,t,r);function W4(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}W4()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const V4="https://hmmimemzznsyilxqakty.supabase.co",K4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhtbWltZW16em5zeWlseHFha3R5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI1MTU2MjgsImV4cCI6MjA2ODA5MTYyOH0.MrfJUkMzIPk12SFGuxWEtdLCVHq55ZWJLqDwOCIA2ZM";console.log(" Supabase client initialized successfully");const K=B4(V4,K4,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!1,flowType:"pkce"}}),ke={PREMIUM_MONTHLY:"com.mattyc.heartlift.premium.monthly",HEALING_KIT:"com.mattyc.heartlift.healingkit"};class q4{constructor(){En(this,"initialized",!1);En(this,"initializing",!1);En(this,"userId","");En(this,"store",null);En(this,"deviceReadyFired",!1);En(this,"initPromise",null);En(this,"pendingPurchaseResolvers",new Map);typeof document<"u"&&document.addEventListener("deviceready",()=>{console.log(" Cordova deviceready event fired"),this.deviceReadyFired=!0},!1)}async waitForDeviceReady(){if(!this.deviceReadyFired)return console.log(" Waiting for Cordova deviceready..."),new Promise(t=>{const r=()=>{this.deviceReadyFired?t():setTimeout(r,100)};r()})}async initialize(t){if(this.initialized){console.log(" Purchase service already initialized");return}if(this.initializing&&this.initPromise)return console.log(" Initialization already in progress, waiting..."),this.initPromise;console.log(" Initializing purchase service for user:",t),this.userId=t,this.initializing=!0,this.initPromise=this._doInitialize();try{await this.initPromise}finally{this.initializing=!1}}async _doInitialize(){try{if(console.log(" [INIT] Starting MINIMAL initialization (no event listeners)"),!window.Capacitor||!window.Capacitor.isNativePlatform()){console.warn(" [INIT] IAP not available on web platform - mocking initialization"),this.initialized=!0;return}if(console.log(" [INIT] Running on native platform"),console.log(" [INIT] Waiting for deviceready..."),await this.waitForDeviceReady(),console.log(" [INIT] Device ready event fired"),console.log(" [INIT] Checking if CdvPurchase is defined..."),typeof CdvPurchase>"u")throw console.error(" [INIT] CdvPurchase is not defined - plugin not loaded"),new Error("cordova-plugin-purchase not loaded");if(console.log(" [INIT] CdvPurchase is defined"),this.store=CdvPurchase.store,!this.store)throw console.error(" [INIT] CdvPurchase.store is null or undefined"),new Error("CdvPurchase.store is not available");console.log(" [INIT] Store instance obtained"),console.log(" [INIT] Registering products (MINIMAL approach)..."),this.store.register([{id:ke.PREMIUM_MONTHLY,type:CdvPurchase.ProductType.PAID_SUBSCRIPTION,platform:CdvPurchase.Platform.APPLE_APPSTORE},{id:ke.HEALING_KIT,type:CdvPurchase.ProductType.NON_CONSUMABLE,platform:CdvPurchase.Platform.APPLE_APPSTORE}]),console.log(" [INIT] Products registered"),console.log(" [INIT] Setting up .approved() listener..."),this.store.when().approved(async n=>{console.log(" [EVENT] ========== PURCHASE APPROVED =========="),console.log(" [EVENT] Transaction:",n);try{console.log(" [EVENT] Checking product ownership from store (not transaction)...");const o=this.store.get(ke.PREMIUM_MONTHLY),a=this.store.get(ke.HEALING_KIT),i=!!(o&&o.owned),l=!!(a&&a.owned);console.log(" [EVENT] Premium product owned:",i,o),console.log(" [EVENT] Healing Kit product owned:",l,a),console.log(" [EVENT] Final detection:",{isPremium:i,isHealingKit:l}),i&&this.pendingPurchaseResolvers.has(ke.PREMIUM_MONTHLY)&&(this.pendingPurchaseResolvers.get(ke.PREMIUM_MONTHLY).resolve(),this.pendingPurchaseResolvers.delete(ke.PREMIUM_MONTHLY),console.log(" [EVENT] Premium promise resolved (UI can unlock now)")),l&&this.pendingPurchaseResolvers.has(ke.HEALING_KIT)&&(this.pendingPurchaseResolvers.get(ke.HEALING_KIT).resolve(),this.pendingPurchaseResolvers.delete(ke.HEALING_KIT),console.log(" [EVENT] Healing Kit promise resolved (UI can unlock now)")),n.finish(),console.log(" [EVENT] Transaction finished"),i||l?(console.log(" [EVENT] Starting background Supabase sync..."),this.syncToSupabase(i,l).then(()=>{console.log(" [EVENT]  Background sync to Supabase completed")}).catch(c=>{console.error(" [EVENT] Background sync failed:",c)})):console.warn(" [EVENT] No products matched for sync")}catch(o){console.error(" [EVENT] Error handling approval:",o);for(const[a,i]of this.pendingPurchaseResolvers.entries())i.reject(o);this.pendingPurchaseResolvers.clear()}}),console.log(" [INIT] Approved listener set up"),console.log(" [INIT] Calling store.initialize() with platform..."),await this.store.initialize([CdvPurchase.Platform.APPLE_APPSTORE]),console.log(" [INIT] store.initialize() completed");const t=this.store.get(ke.PREMIUM_MONTHLY),r=this.store.get(ke.HEALING_KIT);console.log(" [INIT] Premium product:",t),console.log(" [INIT] Healing Kit product:",r),this.initialized=!0,console.log(" [INIT] Store ready - Apple will handle purchase flow"),console.log(" [INIT] Checking subscription status on launch..."),await this.checkSubscriptionStatus()}catch(t){throw console.error(" [INIT] Failed to initialize Apple IAP:",t),console.error(" [INIT] Error:",t),this.initialized=!1,t}}async checkSubscriptionStatus(){console.log(" [STATUS] Checking subscription status from Apple...");try{if(!this.initialized||!this.store)return console.warn(" [STATUS] Store not initialized, skipping status check"),{isPremium:!1,hasHealingKit:!1};console.log(" [STATUS] Restoring purchases from Apple receipt...");try{await this.store.restorePurchases(),console.log(" [STATUS] Purchases restored from receipt"),await new Promise(a=>setTimeout(a,500))}catch(a){console.warn(" [STATUS] Restore failed, checking anyway:",a)}const t=this.store.get(ke.PREMIUM_MONTHLY),r=this.store.get(ke.HEALING_KIT);console.log(" [STATUS] Premium product:",t),console.log(" [STATUS] Healing Kit product:",r);const n=!!(t&&t.owned),o=!!(r&&r.owned);return console.log(" [STATUS] Current ownership:",{isPremium:n,hasHealingKit:o}),await this.syncToSupabase(n,o),console.log(" [STATUS] Status synced to Supabase"),(n||o)&&(console.log(" [STATUS] Dispatching ownership event to unlock UI"),window.dispatchEvent(new CustomEvent("purchaseOwnershipDetected",{detail:{isPremium:n,hasHealingKit:o}}))),{isPremium:n,hasHealingKit:o}}catch(t){return console.error(" [STATUS] Error checking subscription status:",t),{isPremium:!1,hasHealingKit:!1}}}async ensureInitialized(){if(console.log(" [ENSURE] ensureInitialized called"),console.log(" [ENSURE] initialized:",this.initialized),console.log(" [ENSURE] store exists:",!!this.store),console.log(" [ENSURE] userId:",this.userId),!this.initialized){if(console.log(" [ENSURE] Store not initialized, initializing now..."),!this.userId)throw console.error(" [ENSURE] Cannot initialize - no user ID set"),new Error("Cannot initialize - no user ID set");await this.initialize(this.userId)}if(console.log(" [ENSURE] After initialize check - initialized:",this.initialized,"store:",!!this.store),!this.initialized||!this.store)throw console.error(" [ENSURE] Purchase service failed to initialize"),new Error("Purchase service failed to initialize");console.log(" [ENSURE] Store is ready for purchases")}async getProducts(){try{await this.ensureInitialized();const t=this.store.get(ke.PREMIUM_MONTHLY),r=this.store.get(ke.HEALING_KIT);return console.log(" Products loaded from Apple IAP:",{premiumProduct:t,healingKitProduct:r}),{premium:t,healingKit:r}}catch(t){throw console.error(" Failed to get products:",t),t}}async purchasePremium(){console.log(" [PURCHASE_PREMIUM] purchasePremium() called");try{await this.ensureInitialized();const t=this.store.get(ke.PREMIUM_MONTHLY);if(!t||!t.canPurchase)throw new Error("Premium product not available for purchase");const r=t.offers;if(!r||r.length===0)throw new Error("No purchase offers available");return await this.store.order(r[0]),console.log(" [PURCHASE_PREMIUM] Order placed"),{success:!0}}catch(t){throw console.error(" [PURCHASE_PREMIUM] Purchase failed:",t),t}}async purchaseHealingKit(){console.log(" [PURCHASE_KIT] purchaseHealingKit() called");try{await this.ensureInitialized();const t=this.store.get(ke.HEALING_KIT);if(!t||!t.canPurchase)throw new Error("Healing Kit not available for purchase");const r=t.offers;if(!r||r.length===0)throw new Error("No purchase offers available");return await this.store.order(r[0]),console.log(" [PURCHASE_KIT] Order placed"),{success:!0}}catch(t){throw console.error(" [PURCHASE_KIT] Purchase failed:",t),t}}async restorePurchases(){var t,r;try{await this.ensureInitialized(),console.log(" Restoring purchases via Apple IAP..."),await this.store.restorePurchases(),await new Promise(l=>setTimeout(l,2e3));const n=this.store.get(ke.PREMIUM_MONTHLY),o=this.store.get(ke.HEALING_KIT),a=(n==null?void 0:n.owned)||!1,i=(o==null?void 0:o.owned)||!1;return console.log(" Purchases restored from Apple:",{hasPremium:a,hasHealingKit:i}),(a||i)&&await this.syncToSupabase(a,i),{hasPremium:a,hasHealingKit:i,platform:"apple"}}catch(n){console.error(" Failed to restore purchases:",n);try{console.log(" Falling back to Supabase check...");const{data:{user:o}}=await K.auth.getUser();if(!o)throw new Error("No user logged in");const[a,i]=await Promise.all([K.from("subscribers").select("subscribed").eq("user_id",o.id).single(),K.from("healing_kit_purchases").select("status").eq("user_id",o.id).single()]),l=((t=a.data)==null?void 0:t.subscribed)||!1,c=((r=i.data)==null?void 0:r.status)==="completed";return console.log(" Purchases restored from Supabase fallback:",{hasPremium:l,hasHealingKit:c}),{hasPremium:l,hasHealingKit:c,platform:"supabase"}}catch(o){throw console.error(" Fallback also failed:",o),n}}}async cancelSubscriptionInSupabase(){try{const{data:{user:t}}=await K.auth.getUser();if(!t)throw new Error("No user logged in");console.log(" Subscription expired - revoking premium access in Supabase...");const{error:r}=await K.from("subscribers").update({subscribed:!1,payment_status:"expired",updated_at:new Date().toISOString()}).eq("user_id",t.id);r?console.error(" Failed to update subscription status in Supabase:",r):console.log(" Premium access revoked in Supabase (subscription expired at end of billing period)")}catch(t){console.error(" Error updating subscription status:",t)}}async ensureSupabaseSessionReady(){console.log(" [SYNC] Ensuring Supabase session is ready...");const{data:{session:t},error:r}=await K.auth.getSession();if(r)throw console.error(" [SYNC] Error getting session:",r),r;if(console.log(" [SYNC] Session check:",{hasSession:!!t,expiresAt:t==null?void 0:t.expires_at,isExpired:t?new Date(t.expires_at*1e3)<new Date:null}),t&&new Date(t.expires_at*1e3)<new Date){console.log(" [SYNC] Session expired, refreshing...");const{data:n,error:o}=await K.auth.refreshSession();if(o)throw console.error(" [SYNC] Session refresh failed:",o),o;console.log(" [SYNC] Session refreshed successfully")}else if(t)console.log(" [SYNC] Session is valid and ready");else throw console.error(" [SYNC] No session found"),new Error("No session found")}async syncToSupabase(t,r){try{console.log(" [SYNC] Starting Supabase sync..."),console.log(" [SYNC] hasPremium:",t,"hasHealingKit:",r),await this.ensureSupabaseSessionReady();const{data:{user:n},error:o}=await K.auth.getUser();if(o)throw console.error(" [SYNC] Auth error:",o),new Error("Failed to get authenticated user: "+o.message);if(!n)throw console.error(" [SYNC] No authenticated user found"),new Error("No user logged in - cannot sync to Supabase");if(console.log(" [SYNC] Authenticated user:",n.id),t){console.log(" [SYNC] Updating Premium in Supabase...");const{data:a,error:i}=await K.from("subscribers").upsert({user_id:n.id,email:n.email,plan_type:"premium",subscribed:!0,payment_status:"active",updated_at:new Date().toISOString()},{onConflict:"user_id"}).select();i?(console.error(" [SYNC] Failed to update premium in Supabase:",i),console.error(" [SYNC] Error details:",JSON.stringify(i))):console.log(" [SYNC] Premium updated in Supabase:",a)}if(r){console.log(" [SYNC] Updating Healing Kit in Supabase...");const{data:a,error:i}=await K.from("healing_kit_purchases").upsert({user_id:n.id,amount:499,currency:"gbp",status:"completed",purchased_at:new Date().toISOString()},{onConflict:"user_id"}).select();i?(console.error(" [SYNC] Failed to update healing kit in Supabase:",i),console.error(" [SYNC] Error details:",JSON.stringify(i))):console.log(" [SYNC] Healing Kit updated in Supabase:",a)}console.log(" [SYNC] All purchases synced to Supabase successfully")}catch(n){console.error(" [SYNC] Failed to sync purchases to Supabase:",n),console.error(" [SYNC] Error stack:",n==null?void 0:n.stack)}}async checkPurchaseStatus(){var t,r;try{const{data:{user:n}}=await K.auth.getUser();if(!n)return{hasPremium:!1,hasHealingKit:!1};const[o,a]=await Promise.all([K.from("subscribers").select("subscribed").eq("user_id",n.id).single(),K.from("healing_kit_purchases").select("status").eq("user_id",n.id).single()]);return{hasPremium:((t=o.data)==null?void 0:t.subscribed)||!1,hasHealingKit:((r=a.data)==null?void 0:r.status)==="completed"}}catch(n){return console.error(" Failed to check purchase status:",n),{hasPremium:!1,hasHealingKit:!1}}}async buyPremium(){console.log(" [BUY_PREMIUM] buyPremium() called");try{await this.ensureInitialized(),console.log(" [BUY_PREMIUM] Store is initialized");const t=this.store.get(ke.PREMIUM_MONTHLY);if(console.log(" [BUY_PREMIUM] Product:",t),!t)throw console.error(" [BUY_PREMIUM] Product not found"),new Error("Premium product not found. Please try again.");if(!t.canPurchase)throw console.error(" [BUY_PREMIUM] Product cannot be purchased"),new Error("This product is not available for purchase.");const r=t.offers;if(console.log(" [BUY_PREMIUM] Product offers:",r),!r||r.length===0)throw console.error(" [BUY_PREMIUM] No offers available"),new Error("No purchase offers available. Please try again.");const n=r[0];console.log(" [BUY_PREMIUM] Using offer:",n);const o=new Promise((a,i)=>{this.pendingPurchaseResolvers.set(ke.PREMIUM_MONTHLY,{resolve:a,reject:i}),setTimeout(()=>{this.pendingPurchaseResolvers.has(ke.PREMIUM_MONTHLY)&&(this.pendingPurchaseResolvers.delete(ke.PREMIUM_MONTHLY),i(new Error("Purchase timeout")))},3e5)});return console.log(" [BUY_PREMIUM] Calling store.order() with offer"),await this.store.order(n),console.log(" [BUY_PREMIUM] Order called - waiting for approval..."),await o,console.log(" [BUY_PREMIUM] Purchase approved and synced!"),{success:!0}}catch(t){return console.error(" [BUY_PREMIUM] Purchase failed:",t),this.pendingPurchaseResolvers.delete(ke.PREMIUM_MONTHLY),{success:!1,error:(t==null?void 0:t.message)||"Failed to purchase premium subscription"}}}async buyHealingKit(){console.log(" [BUY_KIT] buyHealingKit() called");try{await this.ensureInitialized(),console.log(" [BUY_KIT] Store is initialized");const t=this.store.get(ke.HEALING_KIT);if(console.log(" [BUY_KIT] Product:",t),!t)throw console.error(" [BUY_KIT] Product not found"),new Error("Healing Kit not found. Please try again.");if(!t.canPurchase)throw console.error(" [BUY_KIT] Product cannot be purchased"),new Error("This product is not available for purchase.");const r=t.offers;if(console.log(" [BUY_KIT] Product offers:",r),!r||r.length===0)throw console.error(" [BUY_KIT] No offers available"),new Error("No purchase offers available. Please try again.");const n=r[0];console.log(" [BUY_KIT] Using offer:",n);const o=new Promise((a,i)=>{this.pendingPurchaseResolvers.set(ke.HEALING_KIT,{resolve:a,reject:i}),setTimeout(()=>{this.pendingPurchaseResolvers.has(ke.HEALING_KIT)&&(this.pendingPurchaseResolvers.delete(ke.HEALING_KIT),i(new Error("Purchase timeout")))},3e5)});return console.log(" [BUY_KIT] Calling store.order() with offer"),await this.store.order(n),console.log(" [BUY_KIT] Order called - waiting for approval..."),await o,console.log(" [BUY_KIT] Purchase approved and synced!"),{success:!0}}catch(t){return console.error(" [BUY_KIT] Purchase failed:",t),this.pendingPurchaseResolvers.delete(ke.HEALING_KIT),{success:!1,error:(t==null?void 0:t.message)||"Failed to purchase Healing Kit"}}}}const Bo=new q4,Hd=async(e,t=7e3,r="query")=>{console.log(`[Query Timeout]  Starting ${r} with ${t}ms timeout`);const n=new Promise((o,a)=>{setTimeout(()=>{a(new Error(`${r} timed out after ${t}ms`))},t)});try{const o=await Promise.race([e(),n]);return console.log(`[Query Timeout]  ${r} completed successfully`),o}catch(o){throw console.error(`[Query Timeout]  ${r} failed:`,o.message),o}},G4=async(e,t=3,r=1e3,n="operation")=>{let o;for(let a=1;a<=t;a++)try{console.log(`[Retry]  ${n} - Attempt ${a}/${t}`);const i=await e();return console.log(`[Retry]  ${n} succeeded on attempt ${a}`),i}catch(i){o=i,console.error(`[Retry]  ${n} failed on attempt ${a}:`,i.message),a<t&&(console.log(`[Retry]  Waiting ${r}ms before retry...`),await new Promise(l=>setTimeout(l,r)))}throw console.error(`[Retry]  ${n} failed after ${t} attempts`),o},ej=f.createContext(void 0),Te=()=>{const e=f.useContext(ej);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},Y4=({children:e})=>{const[t,r]=f.useState(null),[n,o]=f.useState(null),[a,i]=f.useState(!0),[l,c]=f.useState(!1),[u,h]=f.useState(()=>{const D=localStorage.getItem("isPremium");return D?JSON.parse(D):!1}),[d,m]=f.useState(()=>{const D=localStorage.getItem("hasHealingKit");return D?JSON.parse(D):!1}),[v,b]=f.useState(()=>{const D=localStorage.getItem("subscriptionStatus");return D?JSON.parse(D):"free"}),g=async()=>{console.log("[Network Test]  Testing basic network connectivity...");try{const D=await fetch("https://www.google.com",{method:"GET",cache:"no-cache"});console.log("[Network Test]  google.com reachable:",D.ok)}catch(D){console.error("[Network Test]  google.com FAILED:",D.message)}try{const D=K.supabaseUrl;console.log("[Network Test]  Supabase URL:",D);const P=await fetch(D,{method:"GET",cache:"no-cache"});console.log("[Network Test]  Supabase ping reachable:",P.ok)}catch(D){console.error("[Network Test]  Supabase ping FAILED:",D.message)}console.log("[Network Test]  Network diagnostic complete")},w=async()=>{console.log("[App Init]  Starting initialization..."),console.log("[App Init]  Platform: iOS Capacitor with WKWebView");try{console.log("[App Init]  Step 1: Testing network..."),await g(),console.log("[App Init]  Step 2: Setting app ready NOW"),c(!0),console.log("[App Init]  App is ready! User can interact."),console.log("[App Init]  Step 3: Checking user from context..."),t?(console.log("[App Init]  User found in context:",t.id),console.log("[App Init]  Initializing IAP..."),Bo.initialize(t.id).catch(D=>{console.error("[App Init]  IAP init failed:",D.message)}),console.log("[App Init]  Starting background subscription check..."),p(t.id)):console.log("[App Init]  No user yet, auth listener will trigger check")}catch(D){console.error("[App Init]  Initialization error:",D.message),c(!0)}},p=async D=>{console.log("[Background Check]  Starting subscription check (network pre-warmed)..."),console.log("[Background Check]  Using retries + timeout for reliability");try{await G4(async()=>{await Hd(async()=>{console.log("[Background Check]  Querying Supabase for subscription..."),await F(),console.log("[Background Check]  Query completed")},7e3,"Supabase subscription query")},3,1e3,"Background subscription check"),console.log("[Background Check]  All subscription data loaded successfully")}catch(P){console.error("[Background Check]  All 3 attempts failed:",P.message),console.warn("[Background Check]  App will use CACHED subscription status from localStorage"),console.log("[Background Check]  Cached: isPremium =",localStorage.getItem("isPremium")),console.log("[Background Check]  Cached: hasHealingKit =",localStorage.getItem("hasHealingKit"))}},y=async D=>{try{await K.from("conversation_history").delete().eq("user_id",D),console.log("[AuthContext] Cleared all conversations for user on login")}catch(P){console.error("[AuthContext] Error clearing conversations:",P)}},x=async()=>{var T;console.log("[AuthContext]  Ensuring Supabase session is ready...");const{data:{session:D},error:P}=await K.auth.getSession();if(P)throw console.error("[AuthContext]  Error getting session:",P),P;if(console.log("[AuthContext]  Session check:",{hasSession:!!D,expiresAt:D==null?void 0:D.expires_at,isExpired:D?new Date(D.expires_at*1e3)<new Date:null,userId:(T=D==null?void 0:D.user)==null?void 0:T.id}),D&&new Date(D.expires_at*1e3)<new Date){console.log("[AuthContext]  Session expired, refreshing...");const{data:C,error:k}=await K.auth.refreshSession();if(k)throw console.error("[AuthContext]  Session refresh failed:",k),k;console.log("[AuthContext]  Session refreshed successfully")}else if(D)console.log("[AuthContext]  Session is valid and ready");else throw console.error("[AuthContext]  No session found"),new Error("No session found")},j=async()=>{if(t)try{console.log("[checkSubscription]  Starting check for user:",t.id),await Hd(async()=>{if(!await x()){console.warn("[checkSubscription]  Session not ready, using cached data");return}const{data:P,error:T}=await K.from("subscribers").select("*").eq("user_id",t.id).maybeSingle();let C=!1;!T&&P?(console.log("[checkSubscription] RAW Subscriber data:",JSON.stringify(P)),P.subscribed===!0?(C=!0,console.log("[checkSubscription]  Premium ACTIVE (subscribed=true)")):P.plan_type==="premium"&&P.payment_status==="active"?(C=!0,console.log("[checkSubscription]  Premium ACTIVE (plan_type=premium, payment_status=active)")):console.log("[checkSubscription]  NO PREMIUM - Data:",P)):T?console.error("[checkSubscription] Error fetching subscriber:",T):console.log("[checkSubscription] No subscriber record found for user");const{data:k,error:$}=await K.rpc("user_has_healing_kit",{user_uuid:t.id});let U=!1;$?console.error("[checkSubscription] Error checking healing kit:",$):(console.log("[checkSubscription] Healing kit status:",k),U=k===!0),h(C),b(C?"premium":"free"),m(U),localStorage.setItem("isPremium",JSON.stringify(C)),localStorage.setItem("subscriptionStatus",JSON.stringify(C?"premium":"free")),localStorage.setItem("hasHealingKit",JSON.stringify(U)),console.log("[checkSubscription]  Complete - Premium:",C,"Healing Kit:",U)},7e3,"checkSubscription")}catch(D){console.error("[checkSubscription]  Failed:",D.message),console.log("[checkSubscription]  Using cached subscription data")}};f.useEffect(()=>{const{data:{subscription:D}}=K.auth.onAuthStateChange(async(P,T)=>{var C;if(console.log("[AuthContext]  Auth event:",P,{userEmail:(C=T==null?void 0:T.user)==null?void 0:C.email,sessionValid:!!T,expiresAt:T==null?void 0:T.expires_at}),o(T),r((T==null?void 0:T.user)??null),i(!1),P==="SIGNED_IN"&&(T!=null&&T.user)&&!T.user.email_confirmed_at){console.log("[AuthContext] Forcing sign out - email not verified"),await K.auth.signOut();return}T!=null&&T.user&&(P==="SIGNED_IN"||P==="INITIAL_SESSION")?(console.log("[AuthContext] User session detected"),console.log("[AuthContext]  Subscription check will be handled by background check"),Bo.initialize(T.user.id).catch(k=>{console.error("[AuthContext] Purchase service init failed:",k)})):P==="SIGNED_OUT"&&(console.log("[AuthContext] User signed out, clearing state"),t&&await y(t.id),h(!1),m(!1),b("free"),localStorage.removeItem("isPremium"),localStorage.removeItem("hasHealingKit"),localStorage.removeItem("subscriptionStatus"))});return K.auth.getSession().then(async({data:{session:P},error:T})=>{if(T){console.error("[AuthContext] Error getting session:",T),await K.auth.signOut({scope:"local"}),localStorage.clear(),o(null),r(null),i(!1);return}o(P),r((P==null?void 0:P.user)??null),P!=null&&P.user&&(Bo.initialize(P.user.id).catch(C=>{console.error("[AuthContext] Purchase service init failed:",C)}),console.log("[AuthContext] Found existing session for:",P.user.email)),i(!1),P!=null&&P.user||console.log("[AuthContext] No existing session found")}).catch(async P=>{console.error("[AuthContext] Failed to get session:",P),await K.auth.signOut({scope:"local"}),localStorage.clear(),o(null),r(null),i(!1)}),()=>D.unsubscribe()},[]),f.useEffect(()=>{console.log("[App Init] Component mounted, initializing app..."),w()},[]),f.useEffect(()=>{const D=P=>{console.log(" [AuthContext] Received ownership event:",P.detail),P.detail.isPremium&&(console.log(" [AuthContext] Unlocking Premium from ownership event"),M()),P.detail.hasHealingKit&&(console.log(" [AuthContext] Unlocking Healing Kit from ownership event"),R())};return window.addEventListener("purchaseOwnershipDetected",D),()=>{window.removeEventListener("purchaseOwnershipDetected",D)}},[]),f.useEffect(()=>{t&&j()},[t]);const S=async(D,P)=>{var T;try{console.log("[AuthContext] Attempting sign in for:",D);const{data:C,error:k}=await K.auth.signInWithPassword({email:D,password:P});return k?(console.error("[AuthContext] Sign in error:",k),{error:k}):C.user&&!C.user.email_confirmed_at?(console.log("[AuthContext] Email not verified, signing out"),await K.auth.signOut(),{error:{message:"Please verify your email before signing in. Check your inbox for the verification code."}}):(console.log("[AuthContext] Sign in successful for:",(T=C.user)==null?void 0:T.email),{error:null})}catch(C){return console.error("[AuthContext] Unexpected sign in error:",C),{error:{message:(C==null?void 0:C.message)||"An unexpected error occurred during sign in"}}}},N=async(D,P,T)=>{const C=`${window.location.origin}/`,{data:k,error:$}=await K.auth.signUp({email:D,password:P,options:{emailRedirectTo:C,data:{full_name:T}}});return k!=null&&k.user&&k.user.identities&&k.user.identities.length===0?{error:{message:"An account with this email already exists. Please sign in instead."}}:(k!=null&&k.user&&!k.user.email_confirmed_at&&await K.auth.signOut(),{error:$})},_=async()=>{try{r(null),o(null),h(!1),m(!1),b("free"),localStorage.removeItem("isPremium"),localStorage.removeItem("hasHealingKit"),localStorage.removeItem("subscriptionStatus"),t&&await y(t.id),await K.auth.signOut(),window.location.href="/"}catch(D){console.error("Error during sign out:",D),localStorage.clear(),window.location.href="/"}},E=async()=>{try{console.log("[AuthContext] Force sign out initiated"),r(null),o(null),h(!1),m(!1),b("free"),localStorage.clear(),sessionStorage.clear(),await K.auth.signOut(),window.location.href="/"}catch(D){console.error("Error during force sign out:",D),localStorage.clear(),sessionStorage.clear(),window.location.href="/"}},M=()=>{console.log("[AuthContext]  unlockPremium() CALLED"),console.log("[AuthContext]  Before unlock - isPremium:",u),h(!0),console.log("[AuthContext]  setIsPremium(true) executed"),b("premium"),console.log("[AuthContext]  setSubscriptionStatus(premium) executed"),localStorage.setItem("isPremium","true"),localStorage.setItem("subscriptionStatus",JSON.stringify("premium")),console.log("[AuthContext]  localStorage updated - isPremium: true"),console.log("[AuthContext]  After unlock - isPremium:",u)},R=()=>{console.log("[AuthContext]  unlockHealingKit() CALLED"),console.log("[AuthContext]  Before unlock - hasHealingKit:",d),m(!0),console.log("[AuthContext]  setHasHealingKit(true) executed"),localStorage.setItem("hasHealingKit","true"),console.log("[AuthContext]  localStorage updated - hasHealingKit: true"),console.log("[AuthContext]  After unlock - hasHealingKit:",d)},z=()=>{console.log("[AuthContext]  LOCKING PREMIUM - subscription expired/cancelled"),h(!1),b("free"),localStorage.setItem("isPremium","false"),localStorage.setItem("subscriptionStatus",JSON.stringify("free"))},O=()=>{console.log("[AuthContext]  LOCKING HEALING KIT - subscription expired/cancelled"),m(!1),localStorage.setItem("hasHealingKit","false")},F=async()=>{if(!t)return console.log("[checkSupabaseStatus]  No user, returning false"),{isPremium:!1,hasHealingKit:!1};console.log("[checkSupabaseStatus]  Checking Supabase with timeout protection...");try{return await Hd(async()=>{var ne,ie;if(!await x()){console.warn("[checkSupabaseStatus]  Session not ready, using cached data");const I=localStorage.getItem("isPremium")==="true",q=localStorage.getItem("hasHealingKit")==="true";return{isPremium:I,hasHealingKit:q}}console.log("[checkSupabaseStatus]  Querying subscribers and healing_kit_purchases...");const[T,C]=await Promise.all([K.from("subscribers").select("subscribed").eq("user_id",t.id).single(),K.from("healing_kit_purchases").select("status").eq("user_id",t.id).single()]),k=((ne=T.data)==null?void 0:ne.subscribed)||!1,$=((ie=C.data)==null?void 0:ie.status)==="completed";console.log("[checkSupabaseStatus]  Supabase results:",{isPremiumFromDB:k,hasHealingKitFromDB:$});const U=localStorage.getItem("isPremium")==="true",V=localStorage.getItem("hasHealingKit")==="true",L=k||U,J=$||V;return L?M():z(),J?R():O(),console.log("[checkSupabaseStatus]  Final state - Premium:",L,"HealingKit:",J),{isPremium:L,hasHealingKit:J}},7e3,"checkSupabaseSubscriptionStatus")}catch(D){console.error("[checkSupabaseStatus]  Query failed:",D.message),console.log("[checkSupabaseStatus]  Using cached data from localStorage");const P=localStorage.getItem("isPremium")==="true",T=localStorage.getItem("hasHealingKit")==="true";return{isPremium:P,hasHealingKit:T}}},A={user:t,session:n,signIn:S,signUp:N,signOut:_,forceSignOut:E,loading:a,isAppReady:l,initializeApp:w,isPremium:u,hasHealingKit:d,subscriptionStatus:v,checkSubscription:j,unlockPremium:M,unlockHealingKit:R,lockPremium:z,lockHealingKit:O,checkSupabaseSubscriptionStatus:F};return s.jsx(ej.Provider,{value:A,children:e})},Q4=Xi("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",warm:"bg-gradient-to-r from-primary to-primary-glow text-primary-foreground shadow-warm hover:shadow-float transform hover:scale-[1.02] transition-all duration-300 hover:animate-pulse-warm",healing:"bg-gradient-to-r from-secondary to-accent text-secondary-foreground shadow-gentle hover:shadow-warm transition-all duration-300",gentle:"bg-background border border-primary/20 text-foreground hover:bg-primary/5 hover:border-primary/40 shadow-card hover:shadow-gentle transition-all duration-300",flirty:"bg-gradient-to-r from-pink-400 to-pink-500 text-white shadow-warm hover:shadow-float hover:from-pink-500 hover:to-pink-600 transition-all duration-300 hover:scale-[1.02]",therapist:"bg-gradient-to-r from-purple-400 to-purple-500 text-white shadow-warm hover:shadow-float hover:from-purple-500 hover:to-purple-600 transition-all duration-300 hover:scale-[1.02]",tough:"bg-gradient-to-r from-orange-400 to-orange-500 text-white shadow-warm hover:shadow-float hover:from-orange-500 hover:to-orange-600 transition-all duration-300 hover:scale-[1.02]",chill:"bg-gradient-to-r from-green-400 to-green-500 text-white shadow-warm hover:shadow-float hover:from-green-500 hover:to-green-600 transition-all duration-300 hover:scale-[1.02]"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),H=f.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...o},a)=>{const i=n?mk:"button";return s.jsx(i,{className:le(Q4({variant:t,size:r,className:e})),ref:a,...o})});H.displayName="Button";const J4=({onGetStarted:e})=>{const t=nt(),{user:r}=Te(),n=()=>{r?e==null||e():t("/auth")};return s.jsxs("section",{className:"min-h-screen flex items-center justify-center px-4 py-16 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background via-muted to-secondary"}),s.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-gradient-to-r from-primary/10 to-primary-glow/10 rounded-full blur-3xl animate-float-gentle"}),s.jsx("div",{className:"absolute bottom-32 right-16 w-48 h-48 bg-gradient-to-r from-secondary/15 to-accent/15 rounded-full blur-3xl animate-float-gentle",style:{animationDelay:"1s"}}),s.jsx("div",{className:"absolute top-1/2 left-1/4 w-24 h-24 bg-gradient-to-r from-accent/10 to-primary/10 rounded-full blur-2xl animate-pulse-warm"}),s.jsxs("div",{className:"max-w-5xl mx-auto text-center space-y-12 animate-fade-in relative z-10",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"p-6 rounded-full bg-gradient-to-r from-primary to-primary-glow shadow-float animate-float-gentle",children:s.jsx(he,{className:"w-12 h-12 text-primary-foreground"})}),s.jsx("div",{className:"absolute -top-2 -right-2 text-2xl animate-bounce-gentle",style:{animationDelay:"0.5s"},children:""}),s.jsx("div",{className:"absolute -bottom-1 -left-1 text-xl animate-pulse-warm",style:{animationDelay:"1s"},children:""})]})}),s.jsxs("h1",{className:"text-3xl sm:text-5xl md:text-6xl lg:text-8xl font-bold text-foreground tracking-tight leading-tight px-4 sm:px-0",children:["Heart",s.jsx("span",{className:"bg-gradient-to-r from-primary via-primary to-primary bg-clip-text text-transparent font-black drop-shadow-sm",children:"Lift"})]}),s.jsxs("p",{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl text-muted-foreground max-w-3xl mx-auto leading-relaxed font-bold px-4 sm:px-0",children:["Helping your heart heal, grow, and thrive ",s.jsx("br",{className:"block mb-2 sm:mb-3"}),s.jsx("span",{className:"text-base sm:text-lg lg:text-xl block sm:inline mt-2 sm:mt-0 font-medium",children:"Navigate love, heartbreak, and communication with AI coaches who truly understand you"})]})]}),s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 lg:gap-6 max-w-4xl mx-auto px-4 sm:px-0",children:[{icon:vu,title:"AI Coaches with Soul",description:"Four unique personalities ready to support your relationship journey",emoji:"",gradient:"from-pink-400/20 to-rose-400/20"},{icon:he,title:"Healing Toolkit",description:"No-contact tracker, daily check-ins, and personalised recovery plans",emoji:"",gradient:"from-green-400/20 to-emerald-400/20"},{icon:la,title:"Growth Tracking",description:"Visualize your emotional journey and celebrate every milestone",emoji:"",gradient:"from-purple-400/20 to-indigo-400/20"}].map((o,a)=>s.jsxs("div",{className:"group p-3 sm:p-4 lg:p-6 xl:p-8 bg-card backdrop-blur-sm rounded-2xl border border-border/40 hover:border-primary/20 hover:shadow-warm transition-all duration-500 hover:scale-[1.02] animate-slide-up relative overflow-hidden",style:{animationDelay:`${a*200}ms`},children:[s.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${o.gradient} opacity-40`}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center justify-center mb-4",children:[s.jsx(o.icon,{className:"w-10 h-10 sm:w-12 sm:h-12 text-primary group-hover:animate-bounce-gentle stroke-[1.5]"}),s.jsx("span",{className:"text-2xl sm:text-3xl ml-2",children:o.emoji})]}),s.jsx("h3",{className:"font-bold text-base sm:text-lg mb-2 sm:mb-3 group-hover:text-primary transition-colors",children:o.title}),s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground leading-relaxed",children:o.description})]})]},o.title))}),s.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[s.jsx("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center items-center",children:s.jsx(H,{variant:"warm",size:"lg",className:"px-6 sm:px-10 py-4 sm:py-4 text-base sm:text-lg font-semibold group relative overflow-hidden w-full sm:w-auto min-h-[48px] shadow-md hover:shadow-lg transition-all duration-300 hover:scale-105",onClick:n,children:s.jsx("span",{className:"relative z-10 flex items-center gap-2",children:r?s.jsxs(s.Fragment,{children:[s.jsx(he,{className:"w-5 h-5 group-hover:animate-pulse-warm"}),r.created_at&&new Date().getTime()-new Date(r.created_at).getTime()<24*60*60*1e3?"Start Your Journey":"Continue Your Journey"]}):s.jsx(s.Fragment,{children:" Start Your Healing Journey"})})})}),s.jsx("div",{className:"flex justify-center",children:s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-emerald-50 to-green-50 rounded-full border border-emerald-200 shadow-sm",children:[s.jsx("span",{className:"text-lg",children:""}),s.jsx("span",{className:"font-semibold text-emerald-700 text-sm sm:text-base",children:"Free to start"})]})})]}),s.jsx("div",{className:"flex items-center justify-center pt-8 pb-4",children:s.jsxs("span",{className:"flex items-center gap-2 text-muted-foreground text-base sm:text-lg",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{children:"Premium from 11.99/month"})]})}),s.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 pt-4 pb-8",children:[s.jsxs("span",{className:"text-muted-foreground text-sm",children:["Need help? Contact us at"," ",s.jsx("a",{href:"mailto:support@heart-lift.com",className:"text-primary hover:text-primary/80 underline transition-colors",children:"support@heart-lift.com"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("a",{href:"/privacy-policy",className:"text-muted-foreground hover:text-primary text-xs underline transition-colors",children:"Privacy Policy"}),s.jsx("span",{className:"text-muted-foreground text-xs",children:""}),s.jsx("a",{href:"/terms-of-service",className:"text-muted-foreground hover:text-primary text-xs underline transition-colors",children:"Terms of Service"})]})]})]})]})},W=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:le("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));W.displayName="Card";const Z=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:le("flex flex-col space-y-1.5 p-6",e),...t}));Z.displayName="CardHeader";const ee=f.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:le("text-2xl font-semibold leading-none tracking-tight",e),...t}));ee.displayName="CardTitle";const He=f.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:le("text-sm text-muted-foreground",e),...t}));He.displayName="CardDescription";const Q=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:le("p-6 pt-0",e),...t}));Q.displayName="CardContent";const X4=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:le("flex items-center p-6 pt-0",e),...t}));X4.displayName="CardFooter";const Z4=()=>{const{user:e}=Te(),[t,r]=f.useState({}),[n,o]=f.useState(!0);return f.useEffect(()=>{if(!e){o(!1);return}(async()=>{try{const{data:l,error:c}=await K.from("conversation_history").select("coach_id, created_at").eq("user_id",e.id).order("created_at",{ascending:!1});if(c)throw c;const u={};l&&l.forEach(h=>{h.coach_id&&!u[h.coach_id]&&(u[h.coach_id]=new Date(h.created_at))}),r(u)}catch(l){console.error("Error fetching last interactions:",l)}finally{o(!1)}})()},[e]),{getLastInteractionText:i=>{const l=t[i];if(!l)return"Available";const u=new Date().getTime()-l.getTime(),h=Math.floor(u/6e4),d=Math.floor(u/36e5),m=Math.floor(u/864e5);if(h<5)return"Online now";if(h<60)return`Last spoke ${h} min${h!==1?"s":""} ago`;if(d<24)return`Last spoke ${d} hour${d!==1?"s":""} ago`;if(m===1)return"Last spoke yesterday";if(m<7)return`Last spoke ${m} days ago`;if(m<30){const v=Math.floor(m/7);return`Last spoke ${v} week${v!==1?"s":""} ago`}else{const v=Math.floor(m/30);return`Last spoke ${v} month${v!==1?"s":""} ago`}},loading:n}},eO=[{id:"flirty",name:"Luna Love",icon:he,emoji:"",description:"Your confidence coach for dating, flirting, and magnetic attraction",personality:"Playful, empowering, flirty, and charmingly bold",specialties:["Dating confidence","Flirting tips","Self-love","Planning fun, adventurous dates"],greetings:["Hi {firstName}! Ready to turn heads today? ","Hey {firstName}, feeling that spark yet? Let's bring it out! ","Hi {firstName}! You've got main character energy and I'm here for it.","Hello {firstName}, let's add a little confidence magic to your day."],color:"from-pink-400 to-rose-500",bgColor:"from-pink-50 to-rose-50",accent:"text-pink-600",shadowColor:"shadow-pink-200/50",backstory:"Luna Love is your confidence coach for dating, flirting, and magnetic attraction. She believes life is a party and you deserve to be the star. Luna always sprinkles sparkle into her words, uses emojis liberally, and never misses a chance to boost your confidence. She's bold but kind, flirty but supportive.",tone:'High energy, witty, playful, slightly cheeky. Uses nicknames ("gorgeous", "superstar"), emojis , and dramatic flair. Luna loves excitement, fun, and helping you shine.',strengths:["Dating confidence","Flirting tips","Self-love","Planning fun, adventurous dates"],quirks:["Always throws in a sparkly emoji ","Speaks like a bestie hyping you up before a party","Loves bold colors, cocktails, dance floors, rooftop bars"],abilities:["Give quick dating confidence boosts","Suggest flirty conversation starters","Plan fun, adventurous date ideas tailored to the user's mood, budget, and vibe","Offer playful self-love reminders"],scenarios:[{trigger:"plan a date",response:"Ooooh, date night!  Tell me the vibe you're feeling:  Glam night out (dress to impress)  Cute & creative (arts, classes, DIY fun)  Chill & cozy (picnic, stargazing, blankets)  Spontaneous adventure (day trip, rooftop, live show) I'll whip up some irresistible ideas for you!"},{trigger:"feeling nervous",response:"Babe, nerves are just excitement in disguise . Take a deep breath, throw on your fave outfit, and remember: YOU are the magic tonight . Want me to drop a confidence-boosting mantra?"}],exampleDialogues:[{user:"Luna, can you plan me a fun first date?",coach:"Absolutely, gorgeous!  First dates should sparkle. If you're up for playful fun, how about mini-golf + milkshakes?  Or if you're feeling glam, cocktails at a rooftop bar with skyline views . Which vibe is calling to you?"},{user:"I'm worried my date will be boring.",coach:"Impossible! With YOU there, boring isn't an option . But just in case, here's a cheeky plan: suggest a game of '2 truths & a lie' over dinner . Instant fun, instant flirty energy!"}]},{id:"therapist",name:"Dr. Sage",icon:Wr,emoji:"",description:"Relationship wellbeing coach specializing in attachment and relationship patterns",personality:"Compassionate, insightful, and evidence-based",specialties:["Attachment theory","Communication skills","Healing trauma","Intimacy-focused date planning"],greetings:["Hi {firstName}, I'm here to help you understand yourself better.","Hello {firstName}. Let's take a moment to pause and reflect together.","Hi {firstName}, what's been on your mind lately? I'm listening.","Hi {firstName}. You've taken the first step just by showing up and that matters."],color:"from-purple-400 to-indigo-500",bgColor:"from-purple-50 to-indigo-50",accent:"text-purple-600",shadowColor:"shadow-purple-200/50",backstory:"Dr. Sage is a relationship wellbeing coach specializing in attachment and relationship patterns. They help you understand yourself and your partner at a deep level.",tone:"Gentle, wise, calm, reflective. Uses validating language and evidence-based insights. No emojis overloadjust thoughtful guidance.",strengths:["Attachment theory","Communication skills","Healing trauma","Intimacy-focused date planning"],quirks:["Often references research or psychology","Encourages journaling or reflection"],abilities:["Guide users through reflective exercises","Explain attachment styles and patterns","Plan dates that deepen emotional connection"],scenarios:[{trigger:"plan a date",response:"For deep connection, consider: - Heartfelt conversation over coffee or tea  - Couples journaling + sharing - Cooking a meal together  - Visiting an art exhibit and reflecting on what resonates"}],exampleDialogues:[{user:"Dr. Sage, plan us a date.",coach:"A quiet dinner where you ask each other meaningful questions could strengthen your bond. Would you like me to suggest prompts?"},{user:"I feel anxious before dates.",coach:"That's natural. Anxiety often comes from attachment triggers. Let's explore what feels unsafe for you, then plan a date that supports safety."}]},{id:"tough-love",name:"Phoenix Fire",icon:Ri,emoji:"",description:"Your no-BS mentor for radical self-transformation and boundary setting",personality:"Direct, motivating, and courageously honest",specialties:["Tough love coaching","Setting boundaries","Self-respect","Bold, adventurous date planning"],greetings:["Hey {firstName}! I'm Phoenix, your no BS mentor for self transformation. Ready to light things up? ","Hi {firstName}, I'm here to help you set boundaries, own your power, and make real change.","Hello {firstName}! Time for some straight talk. Let's cut through the noise and get you feeling strong again.","Hey {firstName}, growth takes courage and you already have what it takes."],color:"from-orange-400 to-red-500",bgColor:"from-orange-50 to-red-50",accent:"text-orange-600",shadowColor:"shadow-orange-200/50",backstory:"Phoenix Fire is your no-BS mentor for radical self-transformation. They thrive on honesty, empowerment, and helping you set strong boundaries. Phoenix pushes you out of your comfort zonealways with love, never with fluff.",tone:'Bold, fiery, motivational. Uses phrases like "level up," "real talk," and "own your power." Limited emojis for emphasis.',strengths:["Tough love coaching","Setting boundaries","Self-respect","Bold, adventurous date planning"],quirks:["Calls out excuses directly","Loves challenges, adrenaline, and transformation"],abilities:["Challenge users to step outside comfort zones","Coach on boundaries and respect","Plan bold, unforgettable dates"],scenarios:[{trigger:"plan a date",response:"Let's cut the fluff. You want a date that leaves you buzzing? Try: - Rock climbing or indoor bouldering  - Karaoke showdown  - Spicy food challenge  - Road trip to somewhere new "}],exampleDialogues:[{user:"Phoenix, I want a date idea.",coach:"Stop playing it safe. Go for karaoke night nothing builds connection like courage on stage."},{user:"I feel insecure.",coach:"Own it. You're stronger than you think . Book that bold date and prove it."}]},{id:"chill",name:"River Calm",icon:j0,emoji:"",description:"Your laid-back friend for mindful healing and gentle perspective",personality:"Zen, supportive, and naturally wise",specialties:["Mindfulness","Gentle healing","Offering perspective","Tranquil, grounding date planning"],greetings:["Hello {firstName}, I'm River. Take a deep breath and let's find your calm together.","Hi {firstName}. I'm here to offer you a peaceful space to reflect and release what's been heavy.","Hey {firstName}, take a moment to pause and reconnect. Let's find your balance again.","Hi {firstName}. You've arrived in a safe and gentle space. What's been flowing through your mind today?"],color:"from-emerald-400 to-teal-500",bgColor:"from-emerald-50 to-teal-50",accent:"text-emerald-600",shadowColor:"shadow-emerald-200/50",backstory:"River Calm is your laid-back friend for mindful healing and gentle perspective. They remind you to breathe, slow down, and nurture connection with presence.",tone:"Warm, supportive, slow-paced. Encourages grounding, mindfulness, and gentle healing. Uses nature-inspired metaphors and soft emojis .",strengths:["Mindfulness","Gentle healing","Offering perspective","Tranquil, grounding date planning"],quirks:["Always reminds you to breathe","Loves nature and simple pleasures"],abilities:["Guide users through calming practices","Suggest grounding reflections","Plan tranquil, nurturing dates"],scenarios:[{trigger:"plan a date",response:"Let's keep it gentle and nourishing: - Sunset picnic by the water  - Nature walk with mindful pauses  - Stargazing with blankets  - Tea ceremony at home "}],exampleDialogues:[{user:"River, can you plan a date?",coach:"How about a quiet evening under the stars warm blankets, soft music, and no rush."},{user:"I feel stressed about dating.",coach:"Take a deep breath . Stress is a waveyou don't need to fight it, just let it pass. Want me to suggest a calming date idea?"}]}],Zy=({onSelectCoach:e,selectedCoach:t,compact:r=!1})=>{const{getLastInteractionText:n,loading:o}=Z4();return s.jsxs("div",{className:"space-y-8 animate-fade-in",children:[!r&&s.jsxs("div",{className:"text-center space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(rt,{className:"w-6 h-6 text-primary animate-pulse-warm"}),s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Meet Your Coaches"}),s.jsx(rt,{className:"w-6 h-6 text-primary animate-pulse-warm"})]}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"Each coach brings their unique personality and wisdom to guide your journey"})]}),s.jsx("div",{className:`grid gap-4 sm:gap-6 ${r?"grid-cols-2 sm:grid-cols-4 lg:grid-cols-1":"grid-cols-1 sm:grid-cols-2"}`,children:eO.map((a,i)=>{const l=a.icon,c=t===a.id;return s.jsxs(W,{className:`cursor-pointer transition-all duration-500 hover:scale-[1.02] group relative overflow-hidden animate-fade-in-scale ${c?"ring-2 ring-primary shadow-float bg-gradient-to-br "+a.bgColor:"hover:shadow-warm bg-card"}`,style:{animationDelay:`${i*150}ms`},onClick:()=>e(a.id),children:[s.jsx("div",{className:`absolute -top-10 -right-10 w-20 h-20 bg-gradient-to-r ${a.color} rounded-full opacity-10 group-hover:scale-150 transition-transform duration-700`}),s.jsx(Z,{className:`pb-2 sm:pb-6 relative ${r?"p-2 sm:p-8":"p-4 sm:p-8"}`,children:s.jsxs("div",{className:`flex items-start ${r?"flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-6":"space-x-4 sm:space-x-6"}`,children:[s.jsxs("div",{className:`relative ${r?"p-2 sm:p-4":"p-3 sm:p-4"} rounded-2xl bg-gradient-to-r ${a.color} shadow-lg group-hover:animate-bounce-gentle ${r?"mx-auto sm:mx-0":""}`,children:[s.jsx(l,{className:`${r?"w-4 h-4 sm:w-8 sm:h-8":"w-6 h-6 sm:w-8 sm:h-8"} text-white`}),s.jsx("div",{className:`absolute -top-1 -right-1 ${r?"text-sm sm:text-2xl":"text-xl sm:text-2xl"}`,children:a.emoji})]}),s.jsxs("div",{className:`flex-1 ${r?"text-center sm:text-left":""}`,children:[s.jsx(ee,{className:`${r?"text-base sm:text-2xl":"text-lg sm:text-2xl"} mb-1 sm:mb-2 group-hover:text-primary transition-colors`,children:a.name}),s.jsx(He,{className:`${r?"text-xs sm:text-base hidden sm:block":"text-sm sm:text-base"} font-medium ${a.accent}`,children:a.personality}),s.jsx("div",{className:`flex items-center gap-1 mt-1 ${r?"justify-center sm:justify-start text-xs":"text-xs sm:text-sm"}`,children:o?s.jsx("span",{className:"text-muted-foreground italic",children:"Loading..."}):n(a.id).includes("Online")?s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"relative flex h-2 w-2",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),s.jsx("span",{className:"text-green-600 font-medium",children:n(a.id)})]}):s.jsx("span",{className:"text-muted-foreground italic",children:n(a.id)})})]}),c&&s.jsx(ia,{className:`${r?"w-4 h-4 sm:w-6 sm:h-6":"w-5 h-5 sm:w-6 sm:h-6"} text-primary animate-pulse-warm`})]})}),s.jsxs(Q,{className:`space-y-2 sm:space-y-6 ${r?"p-2 sm:p-8":"p-4 sm:p-8"}`,children:[!r&&s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground leading-relaxed",children:a.description}),!r&&s.jsx("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:a.specialties.map(u=>s.jsx("span",{className:`px-2 py-1 sm:px-3 sm:py-2 text-xs sm:text-sm rounded-full bg-gradient-to-r ${a.color} text-white shadow-sm`,children:u},u))}),!r&&s.jsx("div",{className:`p-3 sm:p-4 rounded-lg bg-gradient-to-r ${a.bgColor} border border-current border-opacity-10`,children:s.jsxs("p",{className:`text-sm sm:text-base italic ${a.accent} font-medium`,children:['"',a.greetings[0],'"']})}),s.jsx(H,{variant:c?a.id:"gentle",size:r?"sm":"lg",className:`w-full transition-all duration-300 ${r?"text-xs sm:text-base h-8 sm:h-12":"h-12 sm:h-14 text-base sm:text-lg"}`,onClick:u=>{u.stopPropagation(),e(a.id)},children:c?s.jsxs("span",{className:"flex items-center gap-1 sm:gap-2",children:[s.jsx(ia,{className:`${r?"w-3 h-3 sm:w-4 sm:h-4":"w-4 h-4"}`}),s.jsx("span",{className:r?"hidden sm:inline":"",children:"Your Coach"}),s.jsx("span",{className:r?"sm:hidden":"hidden",children:""})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:r?"hidden sm:inline":"",children:`Chat with ${a.name.split(" ")[0]}`}),s.jsx("span",{className:r?"sm:hidden":"hidden",children:a.name.split(" ")[0]})]})})]})]},a.id)})})]})},it=f.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:le("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));it.displayName="Input";var tO=f.createContext(void 0);function _a(e){const t=f.useContext(tO);return e||t||"ltr"}function bf(e,[t,r]){return Math.min(r,Math.max(t,e))}function rO(e,t){return f.useReducer((r,n)=>t[r][n]??r,e)}var np="ScrollArea",[tj]=It(np),[nO,pr]=tj(np),rj=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:o,scrollHideDelay:a=600,...i}=e,[l,c]=f.useState(null),[u,h]=f.useState(null),[d,m]=f.useState(null),[v,b]=f.useState(null),[g,w]=f.useState(null),[p,y]=f.useState(0),[x,j]=f.useState(0),[S,N]=f.useState(!1),[_,E]=f.useState(!1),M=ye(t,z=>c(z)),R=_a(o);return s.jsx(nO,{scope:r,type:n,dir:R,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:h,content:d,onContentChange:m,scrollbarX:v,onScrollbarXChange:b,scrollbarXEnabled:S,onScrollbarXEnabledChange:N,scrollbarY:g,onScrollbarYChange:w,scrollbarYEnabled:_,onScrollbarYEnabledChange:E,onCornerWidthChange:y,onCornerHeightChange:j,children:s.jsx(ae.div,{dir:R,...i,ref:M,style:{position:"relative","--radix-scroll-area-corner-width":p+"px","--radix-scroll-area-corner-height":x+"px",...e.style}})})});rj.displayName=np;var nj="ScrollAreaViewport",sj=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:o,...a}=e,i=pr(nj,r),l=f.useRef(null),c=ye(t,l,i.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),s.jsx(ae.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});sj.displayName=nj;var en="ScrollAreaScrollbar",sp=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=pr(en,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=o,l=e.orientation==="horizontal";return f.useEffect(()=>(l?a(!0):i(!0),()=>{l?a(!1):i(!1)}),[l,a,i]),o.type==="hover"?s.jsx(sO,{...n,ref:t,forceMount:r}):o.type==="scroll"?s.jsx(oO,{...n,ref:t,forceMount:r}):o.type==="auto"?s.jsx(oj,{...n,ref:t,forceMount:r}):o.type==="always"?s.jsx(op,{...n,ref:t}):null});sp.displayName=en;var sO=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=pr(en,e.__scopeScrollArea),[a,i]=f.useState(!1);return f.useEffect(()=>{const l=o.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},h=()=>{c=window.setTimeout(()=>i(!1),o.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",h)}}},[o.scrollArea,o.scrollHideDelay]),s.jsx(gt,{present:r||a,children:s.jsx(oj,{"data-state":a?"visible":"hidden",...n,ref:t})})}),oO=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=pr(en,e.__scopeScrollArea),a=e.orientation==="horizontal",i=Du(()=>c("SCROLL_END"),100),[l,c]=rO("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,o.scrollHideDelay,c]),f.useEffect(()=>{const u=o.viewport,h=a?"scrollLeft":"scrollTop";if(u){let d=u[h];const m=()=>{const v=u[h];d!==v&&(c("SCROLL"),i()),d=v};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[o.viewport,a,c,i]),s.jsx(gt,{present:r||l!=="hidden",children:s.jsx(op,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:X(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:X(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),oj=f.forwardRef((e,t)=>{const r=pr(en,e.__scopeScrollArea),{forceMount:n,...o}=e,[a,i]=f.useState(!1),l=e.orientation==="horizontal",c=Du(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,h=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?u:h)}},10);return ha(r.viewport,c),ha(r.content,c),s.jsx(gt,{present:n||a,children:s.jsx(op,{"data-state":a?"visible":"hidden",...o,ref:t})})}),op=f.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,o=pr(en,e.__scopeScrollArea),a=f.useRef(null),i=f.useRef(0),[l,c]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=uj(l.viewport,l.content),h={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function d(m,v){return dO(m,i.current,l,v)}return r==="horizontal"?s.jsx(aO,{...h,ref:t,onThumbPositionChange:()=>{if(o.viewport&&a.current){const m=o.viewport.scrollLeft,v=ex(m,l,o.dir);a.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:m=>{o.viewport&&(o.viewport.scrollLeft=m)},onDragScroll:m=>{o.viewport&&(o.viewport.scrollLeft=d(m,o.dir))}}):r==="vertical"?s.jsx(iO,{...h,ref:t,onThumbPositionChange:()=>{if(o.viewport&&a.current){const m=o.viewport.scrollTop,v=ex(m,l);a.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:m=>{o.viewport&&(o.viewport.scrollTop=m)},onDragScroll:m=>{o.viewport&&(o.viewport.scrollTop=d(m))}}):null}),aO=f.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...o}=e,a=pr(en,e.__scopeScrollArea),[i,l]=f.useState(),c=f.useRef(null),u=ye(t,c,a.onScrollbarXChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(ij,{"data-orientation":"horizontal",...o,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Mu(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,d)=>{if(a.viewport){const m=a.viewport.scrollLeft+h.deltaX;e.onWheelScroll(m),hj(m,d)&&h.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Wc(i.paddingLeft),paddingEnd:Wc(i.paddingRight)}})}})}),iO=f.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...o}=e,a=pr(en,e.__scopeScrollArea),[i,l]=f.useState(),c=f.useRef(null),u=ye(t,c,a.onScrollbarYChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(ij,{"data-orientation":"vertical",...o,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Mu(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,d)=>{if(a.viewport){const m=a.viewport.scrollTop+h.deltaY;e.onWheelScroll(m),hj(m,d)&&h.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Wc(i.paddingTop),paddingEnd:Wc(i.paddingBottom)}})}})}),[lO,aj]=tj(en),ij=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:o,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:h,onResize:d,...m}=e,v=pr(en,r),[b,g]=f.useState(null),w=ye(t,M=>g(M)),p=f.useRef(null),y=f.useRef(""),x=v.viewport,j=n.content-n.viewport,S=qe(h),N=qe(c),_=Du(d,10);function E(M){if(p.current){const R=M.clientX-p.current.left,z=M.clientY-p.current.top;u({x:R,y:z})}}return f.useEffect(()=>{const M=R=>{const z=R.target;(b==null?void 0:b.contains(z))&&S(R,j)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[x,b,j,S]),f.useEffect(N,[n,N]),ha(b,_),ha(v.content,_),s.jsx(lO,{scope:r,scrollbar:b,hasThumb:o,onThumbChange:qe(a),onThumbPointerUp:qe(i),onThumbPositionChange:N,onThumbPointerDown:qe(l),children:s.jsx(ae.div,{...m,ref:w,style:{position:"absolute",...m.style},onPointerDown:X(e.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),p.current=b.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),E(M))}),onPointerMove:X(e.onPointerMove,E),onPointerUp:X(e.onPointerUp,M=>{const R=M.target;R.hasPointerCapture(M.pointerId)&&R.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=y.current,v.viewport&&(v.viewport.style.scrollBehavior=""),p.current=null})})})}),Bc="ScrollAreaThumb",lj=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=aj(Bc,e.__scopeScrollArea);return s.jsx(gt,{present:r||o.hasThumb,children:s.jsx(cO,{ref:t,...n})})}),cO=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...o}=e,a=pr(Bc,r),i=aj(Bc,r),{onThumbPositionChange:l}=i,c=ye(t,d=>i.onThumbChange(d)),u=f.useRef(void 0),h=Du(()=>{u.current&&(u.current(),u.current=void 0)},100);return f.useEffect(()=>{const d=a.viewport;if(d){const m=()=>{if(h(),!u.current){const v=hO(d,l);u.current=v,l()}};return l(),d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[a.viewport,h,l]),s.jsx(ae.div,{"data-state":i.hasThumb?"visible":"hidden",...o,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:X(e.onPointerDownCapture,d=>{const v=d.target.getBoundingClientRect(),b=d.clientX-v.left,g=d.clientY-v.top;i.onThumbPointerDown({x:b,y:g})}),onPointerUp:X(e.onPointerUp,i.onThumbPointerUp)})});lj.displayName=Bc;var ap="ScrollAreaCorner",cj=f.forwardRef((e,t)=>{const r=pr(ap,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(uO,{...e,ref:t}):null});cj.displayName=ap;var uO=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,o=pr(ap,r),[a,i]=f.useState(0),[l,c]=f.useState(0),u=!!(a&&l);return ha(o.scrollbarX,()=>{var d;const h=((d=o.scrollbarX)==null?void 0:d.offsetHeight)||0;o.onCornerHeightChange(h),c(h)}),ha(o.scrollbarY,()=>{var d;const h=((d=o.scrollbarY)==null?void 0:d.offsetWidth)||0;o.onCornerWidthChange(h),i(h)}),u?s.jsx(ae.div,{...n,ref:t,style:{width:a,height:l,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Wc(e){return e?parseInt(e,10):0}function uj(e,t){const r=e/t;return isNaN(r)?0:r}function Mu(e){const t=uj(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function dO(e,t,r,n="ltr"){const o=Mu(r),a=o/2,i=t||a,l=o-i,c=r.scrollbar.paddingStart+i,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,h=r.content-r.viewport,d=n==="ltr"?[0,h]:[h*-1,0];return dj([c,u],d)(e)}function ex(e,t,r="ltr"){const n=Mu(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-o,i=t.content-t.viewport,l=a-n,c=r==="ltr"?[0,i]:[i*-1,0],u=bf(e,c);return dj([0,i],[0,l])(u)}function dj(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function hj(e,t){return e>0&&e<t}var hO=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function o(){const a={left:e.scrollLeft,top:e.scrollTop},i=r.left!==a.left,l=r.top!==a.top;(i||l)&&t(),r=a,n=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(n)};function Du(e,t){const r=qe(e),n=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(n.current),[]),f.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function ha(e,t){const r=qe(t);ct(()=>{let n=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return o.observe(e),()=>{window.cancelAnimationFrame(n),o.unobserve(e)}}},[e,r])}var fj=rj,fO=sj,mO=cj;const ip=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(fj,{ref:n,className:le("relative overflow-hidden",e),...r,children:[s.jsx(fO,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(mj,{}),s.jsx(mO,{})]}));ip.displayName=fj.displayName;const mj=f.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(sp,{ref:n,orientation:t,className:le("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(lj,{className:"relative flex-1 rounded-full bg-border"})}));mj.displayName=sp.displayName;var Bd="focusScope.autoFocusOnMount",Wd="focusScope.autoFocusOnUnmount",tx={bubbles:!1,cancelable:!0},pO="FocusScope",Lu=f.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...i}=e,[l,c]=f.useState(null),u=qe(o),h=qe(a),d=f.useRef(null),m=ye(t,g=>c(g)),v=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(n){let g=function(x){if(v.paused||!l)return;const j=x.target;l.contains(j)?d.current=j:Mn(d.current,{select:!0})},w=function(x){if(v.paused||!l)return;const j=x.relatedTarget;j!==null&&(l.contains(j)||Mn(d.current,{select:!0}))},p=function(x){if(document.activeElement===document.body)for(const S of x)S.removedNodes.length>0&&Mn(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const y=new MutationObserver(p);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),y.disconnect()}}},[n,l,v.paused]),f.useEffect(()=>{if(l){nx.add(v);const g=document.activeElement;if(!l.contains(g)){const p=new CustomEvent(Bd,tx);l.addEventListener(Bd,u),l.dispatchEvent(p),p.defaultPrevented||(gO(bO(pj(l)),{select:!0}),document.activeElement===g&&Mn(l))}return()=>{l.removeEventListener(Bd,u),setTimeout(()=>{const p=new CustomEvent(Wd,tx);l.addEventListener(Wd,h),l.dispatchEvent(p),p.defaultPrevented||Mn(g??document.body,{select:!0}),l.removeEventListener(Wd,h),nx.remove(v)},0)}}},[l,u,h,v]);const b=f.useCallback(g=>{if(!r&&!n||v.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,p=document.activeElement;if(w&&p){const y=g.currentTarget,[x,j]=yO(y);x&&j?!g.shiftKey&&p===j?(g.preventDefault(),r&&Mn(x,{select:!0})):g.shiftKey&&p===x&&(g.preventDefault(),r&&Mn(j,{select:!0})):p===y&&g.preventDefault()}},[r,n,v.paused]);return s.jsx(ae.div,{tabIndex:-1,...i,ref:m,onKeyDown:b})});Lu.displayName=pO;function gO(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Mn(n,{select:t}),document.activeElement!==r)return}function yO(e){const t=pj(e),r=rx(t,e),n=rx(t.reverse(),e);return[r,n]}function pj(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function rx(e,t){for(const r of e)if(!xO(r,{upTo:t}))return r}function xO(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function vO(e){return e instanceof HTMLInputElement&&"select"in e}function Mn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&vO(e)&&t&&e.select()}}var nx=wO();function wO(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=sx(e,t),e.unshift(t)},remove(t){var r;e=sx(e,t),(r=e[0])==null||r.resume()}}}function sx(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function bO(e){return e.filter(t=>t.tagName!=="A")}var Vd=0;function lp(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ox()),document.body.insertAdjacentElement("beforeend",e[1]??ox()),Vd++,()=>{Vd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Vd--}},[])}function ox(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Vr=function(){return Vr=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Vr.apply(this,arguments)};function gj(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function jO(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,a;n<o;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var nc="right-scroll-bar-position",sc="width-before-scroll-bar",SO="with-scroll-bars-hidden",NO="--removed-body-scroll-bar-size";function Kd(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function _O(e,t){var r=f.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var o=r.value;o!==n&&(r.value=n,r.callback(n,o))}}}})[0];return r.callback=t,r.facade}var CO=typeof window<"u"?f.useLayoutEffect:f.useEffect,ax=new WeakMap;function kO(e,t){var r=_O(null,function(n){return e.forEach(function(o){return Kd(o,n)})});return CO(function(){var n=ax.get(r);if(n){var o=new Set(n),a=new Set(e),i=r.current;o.forEach(function(l){a.has(l)||Kd(l,null)}),a.forEach(function(l){o.has(l)||Kd(l,i)})}ax.set(r,e)},[e]),r}function EO(e){return e}function PO(e,t){t===void 0&&(t=EO);var r=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var i=t(a,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(a){for(n=!0;r.length;){var i=r;r=[],i.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(a),i=r}var c=function(){var h=i;i=[],h.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(h){i.push(h),u()},filter:function(h){return i=i.filter(h),r}}}};return o}function TO(e){e===void 0&&(e={});var t=PO(null);return t.options=Vr({async:!0,ssr:!1},e),t}var yj=function(e){var t=e.sideCar,r=gj(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return f.createElement(n,Vr({},r))};yj.isSideCarExport=!0;function RO(e,t){return e.useMedium(t),yj}var xj=TO(),qd=function(){},$u=f.forwardRef(function(e,t){var r=f.useRef(null),n=f.useState({onScrollCapture:qd,onWheelCapture:qd,onTouchMoveCapture:qd}),o=n[0],a=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,h=e.enabled,d=e.shards,m=e.sideCar,v=e.noRelative,b=e.noIsolation,g=e.inert,w=e.allowPinchZoom,p=e.as,y=p===void 0?"div":p,x=e.gapMode,j=gj(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=m,N=kO([r,t]),_=Vr(Vr({},j),o);return f.createElement(f.Fragment,null,h&&f.createElement(S,{sideCar:xj,removeScrollBar:u,shards:d,noRelative:v,noIsolation:b,inert:g,setCallbacks:a,allowPinchZoom:!!w,lockRef:r,gapMode:x}),i?f.cloneElement(f.Children.only(l),Vr(Vr({},_),{ref:N})):f.createElement(y,Vr({},_,{className:c,ref:N}),l))});$u.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$u.classNames={fullWidth:sc,zeroRight:nc};var AO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function IO(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=AO();return t&&e.setAttribute("nonce",t),e}function OO(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function MO(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var DO=function(){var e=0,t=null;return{add:function(r){e==0&&(t=IO())&&(OO(t,r),MO(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},LO=function(){var e=DO();return function(t,r){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},vj=function(){var e=LO(),t=function(r){var n=r.styles,o=r.dynamic;return e(n,o),null};return t},$O={left:0,top:0,right:0,gap:0},Gd=function(e){return parseInt(e||"",10)||0},UO=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Gd(r),Gd(n),Gd(o)]},FO=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return $O;var t=UO(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},zO=vj(),Wo="data-scroll-locked",HO=function(e,t,r,n){var o=e.left,a=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(SO,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Wo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(nc,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(sc,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(nc," .").concat(nc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(sc," .").concat(sc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Wo,`] {
    `).concat(NO,": ").concat(l,`px;
  }
`)},ix=function(){var e=parseInt(document.body.getAttribute(Wo)||"0",10);return isFinite(e)?e:0},BO=function(){f.useEffect(function(){return document.body.setAttribute(Wo,(ix()+1).toString()),function(){var e=ix()-1;e<=0?document.body.removeAttribute(Wo):document.body.setAttribute(Wo,e.toString())}},[])},WO=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,o=n===void 0?"margin":n;BO();var a=f.useMemo(function(){return FO(o)},[o]);return f.createElement(zO,{styles:HO(a,!t,o,r?"":"!important")})},jf=!1;if(typeof window<"u")try{var Dl=Object.defineProperty({},"passive",{get:function(){return jf=!0,!0}});window.addEventListener("test",Dl,Dl),window.removeEventListener("test",Dl,Dl)}catch{jf=!1}var po=jf?{passive:!1}:!1,VO=function(e){return e.tagName==="TEXTAREA"},wj=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!VO(e)&&r[t]==="visible")},KO=function(e){return wj(e,"overflowY")},qO=function(e){return wj(e,"overflowX")},lx=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=bj(e,n);if(o){var a=jj(e,n),i=a[1],l=a[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},GO=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},YO=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},bj=function(e,t){return e==="v"?KO(t):qO(t)},jj=function(e,t){return e==="v"?GO(t):YO(t)},QO=function(e,t){return e==="h"&&t==="rtl"?-1:1},JO=function(e,t,r,n,o){var a=QO(e,window.getComputedStyle(t).direction),i=a*n,l=r.target,c=t.contains(l),u=!1,h=i>0,d=0,m=0;do{if(!l)break;var v=jj(e,l),b=v[0],g=v[1],w=v[2],p=g-w-a*b;(b||p)&&bj(e,l)&&(d+=p,m+=b);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&Math.abs(d)<1||!h&&Math.abs(m)<1)&&(u=!0),u},Ll=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},cx=function(e){return[e.deltaX,e.deltaY]},ux=function(e){return e&&"current"in e?e.current:e},XO=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ZO=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},eM=0,go=[];function tM(e){var t=f.useRef([]),r=f.useRef([0,0]),n=f.useRef(),o=f.useState(eM++)[0],a=f.useState(vj)[0],i=f.useRef(e);f.useEffect(function(){i.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var g=jO([e.lockRef.current],(e.shards||[]).map(ux),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var l=f.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var p=Ll(g),y=r.current,x="deltaX"in g?g.deltaX:y[0]-p[0],j="deltaY"in g?g.deltaY:y[1]-p[1],S,N=g.target,_=Math.abs(x)>Math.abs(j)?"h":"v";if("touches"in g&&_==="h"&&N.type==="range")return!1;var E=lx(_,N);if(!E)return!0;if(E?S=_:(S=_==="v"?"h":"v",E=lx(_,N)),!E)return!1;if(!n.current&&"changedTouches"in g&&(x||j)&&(n.current=S),!S)return!0;var M=n.current||S;return JO(M,w,g,M==="h"?x:j)},[]),c=f.useCallback(function(g){var w=g;if(!(!go.length||go[go.length-1]!==a)){var p="deltaY"in w?cx(w):Ll(w),y=t.current.filter(function(S){return S.name===w.type&&(S.target===w.target||w.target===S.shadowParent)&&XO(S.delta,p)})[0];if(y&&y.should){w.cancelable&&w.preventDefault();return}if(!y){var x=(i.current.shards||[]).map(ux).filter(Boolean).filter(function(S){return S.contains(w.target)}),j=x.length>0?l(w,x[0]):!i.current.noIsolation;j&&w.cancelable&&w.preventDefault()}}},[]),u=f.useCallback(function(g,w,p,y){var x={name:g,delta:w,target:p,should:y,shadowParent:rM(p)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(j){return j!==x})},1)},[]),h=f.useCallback(function(g){r.current=Ll(g),n.current=void 0},[]),d=f.useCallback(function(g){u(g.type,cx(g),g.target,l(g,e.lockRef.current))},[]),m=f.useCallback(function(g){u(g.type,Ll(g),g.target,l(g,e.lockRef.current))},[]);f.useEffect(function(){return go.push(a),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:m}),document.addEventListener("wheel",c,po),document.addEventListener("touchmove",c,po),document.addEventListener("touchstart",h,po),function(){go=go.filter(function(g){return g!==a}),document.removeEventListener("wheel",c,po),document.removeEventListener("touchmove",c,po),document.removeEventListener("touchstart",h,po)}},[]);var v=e.removeScrollBar,b=e.inert;return f.createElement(f.Fragment,null,b?f.createElement(a,{styles:ZO(o)}):null,v?f.createElement(WO,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function rM(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const nM=RO(xj,tM);var Uu=f.forwardRef(function(e,t){return f.createElement($u,Vr({},e,{ref:t,sideCar:nM}))});Uu.classNames=$u.classNames;var sM=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},yo=new WeakMap,$l=new WeakMap,Ul={},Yd=0,Sj=function(e){return e&&(e.host||Sj(e.parentNode))},oM=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=Sj(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},aM=function(e,t,r,n){var o=oM(t,Array.isArray(e)?e:[e]);Ul[r]||(Ul[r]=new WeakMap);var a=Ul[r],i=[],l=new Set,c=new Set(o),u=function(d){!d||l.has(d)||(l.add(d),u(d.parentNode))};o.forEach(u);var h=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(m){if(l.has(m))h(m);else try{var v=m.getAttribute(n),b=v!==null&&v!=="false",g=(yo.get(m)||0)+1,w=(a.get(m)||0)+1;yo.set(m,g),a.set(m,w),i.push(m),g===1&&b&&$l.set(m,!0),w===1&&m.setAttribute(r,"true"),b||m.setAttribute(n,"true")}catch(p){console.error("aria-hidden: cannot operate on ",m,p)}})};return h(t),l.clear(),Yd++,function(){i.forEach(function(d){var m=yo.get(d)-1,v=a.get(d)-1;yo.set(d,m),a.set(d,v),m||($l.has(d)||d.removeAttribute(n),$l.delete(d)),v||d.removeAttribute(r)}),Yd--,Yd||(yo=new WeakMap,yo=new WeakMap,$l=new WeakMap,Ul={})}},cp=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),o=sM(e);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live], script"))),aM(n,o,r,"aria-hidden")):function(){return null}},Fu="Dialog",[Nj]=It(Fu),[iM,Or]=Nj(Fu),_j=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:o,onOpenChange:a,modal:i=!0}=e,l=f.useRef(null),c=f.useRef(null),[u,h]=wn({prop:n,defaultProp:o??!1,onChange:a,caller:Fu});return s.jsx(iM,{scope:t,triggerRef:l,contentRef:c,contentId:Yr(),titleId:Yr(),descriptionId:Yr(),open:u,onOpenChange:h,onOpenToggle:f.useCallback(()=>h(d=>!d),[h]),modal:i,children:r})};_j.displayName=Fu;var Cj="DialogTrigger",lM=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Or(Cj,r),a=ye(t,o.triggerRef);return s.jsx(ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":hp(o.open),...n,ref:a,onClick:X(e.onClick,o.onOpenToggle)})});lM.displayName=Cj;var up="DialogPortal",[cM,kj]=Nj(up,{forceMount:void 0}),Ej=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:o}=e,a=Or(up,t);return s.jsx(cM,{scope:t,forceMount:r,children:f.Children.map(n,i=>s.jsx(gt,{present:r||a.open,children:s.jsx(Qi,{asChild:!0,container:o,children:i})}))})};Ej.displayName=up;var Vc="DialogOverlay",Pj=f.forwardRef((e,t)=>{const r=kj(Vc,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,a=Or(Vc,e.__scopeDialog);return a.modal?s.jsx(gt,{present:n||a.open,children:s.jsx(dM,{...o,ref:t})}):null});Pj.displayName=Vc;var uM=Vs("DialogOverlay.RemoveScroll"),dM=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Or(Vc,r);return s.jsx(Uu,{as:uM,allowPinchZoom:!0,shards:[o.contentRef],children:s.jsx(ae.div,{"data-state":hp(o.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Qs="DialogContent",Tj=f.forwardRef((e,t)=>{const r=kj(Qs,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,a=Or(Qs,e.__scopeDialog);return s.jsx(gt,{present:n||a.open,children:a.modal?s.jsx(hM,{...o,ref:t}):s.jsx(fM,{...o,ref:t})})});Tj.displayName=Qs;var hM=f.forwardRef((e,t)=>{const r=Or(Qs,e.__scopeDialog),n=f.useRef(null),o=ye(t,r.contentRef,n);return f.useEffect(()=>{const a=n.current;if(a)return cp(a)},[]),s.jsx(Rj,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:X(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:X(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&a.preventDefault()}),onFocusOutside:X(e.onFocusOutside,a=>a.preventDefault())})}),fM=f.forwardRef((e,t)=>{const r=Or(Qs,e.__scopeDialog),n=f.useRef(!1),o=f.useRef(!1);return s.jsx(Rj,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const i=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),Rj=f.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:a,...i}=e,l=Or(Qs,r),c=f.useRef(null),u=ye(t,c);return lp(),s.jsxs(s.Fragment,{children:[s.jsx(Lu,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:a,children:s.jsx(ga,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":hp(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(mM,{titleId:l.titleId}),s.jsx(gM,{contentRef:c,descriptionId:l.descriptionId})]})]})}),dp="DialogTitle",Aj=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Or(dp,r);return s.jsx(ae.h2,{id:o.titleId,...n,ref:t})});Aj.displayName=dp;var Ij="DialogDescription",Oj=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Or(Ij,r);return s.jsx(ae.p,{id:o.descriptionId,...n,ref:t})});Oj.displayName=Ij;var Mj="DialogClose",Dj=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Or(Mj,r);return s.jsx(ae.button,{type:"button",...n,ref:t,onClick:X(e.onClick,()=>o.onOpenChange(!1))})});Dj.displayName=Mj;function hp(e){return e?"open":"closed"}var Lj="DialogTitleWarning",[m3,$j]=hk(Lj,{contentName:Qs,titleName:dp,docsSlug:"dialog"}),mM=({titleId:e})=>{const t=$j(Lj),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},pM="DialogDescriptionWarning",gM=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${$j(pM).contentName}}.`;return f.useEffect(()=>{var a;const o=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},yM=_j,xM=Ej,Uj=Pj,Fj=Tj,zj=Aj,Hj=Oj,vM=Dj;const rl=yM,wM=xM,Bj=f.forwardRef(({className:e,...t},r)=>s.jsx(Uj,{ref:r,className:le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Bj.displayName=Uj.displayName;const Ca=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(wM,{children:[s.jsx(Bj,{}),s.jsxs(Fj,{ref:n,className:le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(vM,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Uo,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ca.displayName=Fj.displayName;const ka=({className:e,...t})=>s.jsx("div",{className:le("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ka.displayName="DialogHeader";const Ea=f.forwardRef(({className:e,...t},r)=>s.jsx(zj,{ref:r,className:le("text-lg font-semibold leading-none tracking-tight",e),...t}));Ea.displayName=zj.displayName;const Wj=f.forwardRef(({className:e,...t},r)=>s.jsx(Hj,{ref:r,className:le("text-sm text-muted-foreground",e),...t}));Wj.displayName=Hj.displayName;const bM=Xi("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function je({className:e,variant:t,...r}){return s.jsx("div",{className:le(bM({variant:t}),e),...r})}const Vj=({isOpen:e,onClose:t,trigger:r="usage_limit",coachName:n})=>{const[o,a]=f.useState(!1),{user:i}=Te(),{toast:l}=At(),c=nt(),u=rr(),h=async()=>{if(!i){l({title:"Please sign in",description:"You need to be signed in to upgrade to Premium.",variant:"destructive"});return}t();const b=u.pathname+u.search;c("/premium-purchase",{state:{from:b}})},d=[{icon:Jr,title:"Unlimited AI coach conversations",description:"Remove message limits and chat freely with all your coaches",gradient:"from-blue-400 to-blue-500"},{icon:he,title:"Regenerate AI responses",description:"Get new responses from your coach if you want a different perspective",gradient:"from-emerald-400 to-emerald-500"},{icon:Ri,title:"Guided Programmes",description:"Access structured healing programs and recovery plans",gradient:"from-orange-400 to-orange-500"},{icon:rt,title:"Personalised insights & reports",description:"Get detailed analysis and custom reports on your progress",gradient:"from-purple-400 to-purple-500"},{icon:Pe,title:"Daily attachment style quiz with AI analysis",description:"Take daily quizzes with personalised AI insights on your attachment patterns",gradient:"from-pink-400 to-pink-500"},{icon:Jr,title:"Conversation analyser with AI insights",description:"Get AI-powered analysis of your conversations and relationships",gradient:"from-indigo-400 to-indigo-500"},{icon:he,title:"Text suggestion helper for all scenarios",description:"Get AI-powered text suggestions for difficult conversations",gradient:"from-green-400 to-green-500"},{icon:Ri,title:"Priority support",description:"Get faster response times and priority customer support",gradient:"from-yellow-400 to-yellow-500"}],v=r==="usage_limit"?{title:"You've reached today's free limit ",description:"Want to keep talking? Upgrade to Premium and chat unlimited with all your coaches!",highlight:"Free users get 10 messages per day"}:{title:`${n||"Your coach"} wants to help you more! `,description:"This kind of personalised coaching is included in Premium. Ready to unlock the full experience?",highlight:"Premium includes deep insights and custom advice"};return s.jsx(rl,{open:e,onOpenChange:t,children:s.jsxs(Ca,{className:"max-w-4xl max-h-[85vh] flex flex-col p-0 overflow-hidden",children:[s.jsx(ka,{className:"px-6 pt-6 pb-4 shrink-0",children:s.jsxs(Ea,{className:"text-2xl font-bold text-center flex items-center justify-center gap-2",children:[s.jsx(Pe,{className:"w-6 h-6 text-yellow-500"}),v.title]})}),s.jsxs("div",{className:"space-y-6 overflow-y-auto flex-1 px-6 pb-6",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("p",{className:"text-muted-foreground text-lg",children:v.description}),s.jsx(je,{variant:"outline",className:"bg-primary/5",children:v.highlight})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map((b,g)=>s.jsxs(W,{className:"border-0 shadow-card hover:shadow-warm transition-all duration-300 group",children:[s.jsx(Z,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-r ${b.gradient}`,children:s.jsx(b.icon,{className:"w-5 h-5 text-white"})}),s.jsx(ee,{className:"text-sm group-hover:text-primary transition-colors",children:b.title})]})}),s.jsx(Q,{children:s.jsx("p",{className:"text-xs text-muted-foreground",children:b.description})})]},g))}),s.jsxs(W,{className:"bg-gradient-to-br from-primary via-primary-glow to-primary/90 border-0 shadow-2xl overflow-hidden relative",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmZmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48cGF0aCBkPSJNMzYgMzRjMC0yLjIxLTEuNzktNC00LTRzLTQgMS43OS00IDQgMS43OSA0IDQgNCA0LTEuNzkgNC00eiIvPjwvZz48L2c+PC9zdmc+')] opacity-30"}),s.jsx(Q,{className:"pt-8 pb-8 relative z-10",children:s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx("div",{className:"inline-block p-3 rounded-full bg-white/20 backdrop-blur-sm mb-2",children:s.jsx(Pe,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"text-4xl font-bold text-white drop-shadow-lg",children:["11.99",s.jsx("span",{className:"text-lg font-normal text-white/90",children:"/month"})]}),s.jsx("p",{className:"text-white/90 font-medium",children:"Cancel anytime  No hidden fees"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-4",children:[s.jsxs("div",{className:"flex flex-col items-center gap-2 p-3 rounded-xl bg-white/10 backdrop-blur-sm",children:[s.jsx(Qt,{className:"w-5 h-5 text-white"}),s.jsx("span",{className:"text-sm text-white font-medium",children:"Unlimited conversations"})]}),s.jsxs("div",{className:"flex flex-col items-center gap-2 p-3 rounded-xl bg-white/10 backdrop-blur-sm",children:[s.jsx(Qt,{className:"w-5 h-5 text-white"}),s.jsx("span",{className:"text-sm text-white font-medium",children:"AI insights & analysis"})]}),s.jsxs("div",{className:"flex flex-col items-center gap-2 p-3 rounded-xl bg-white/10 backdrop-blur-sm",children:[s.jsx(Qt,{className:"w-5 h-5 text-white"}),s.jsx("span",{className:"text-sm text-white font-medium",children:"Guided programmes"})]}),s.jsxs("div",{className:"flex flex-col items-center gap-2 p-3 rounded-xl bg-white/10 backdrop-blur-sm",children:[s.jsx(Qt,{className:"w-5 h-5 text-white"}),s.jsx("span",{className:"text-sm text-white font-medium",children:"Priority support"})]})]})]})})]})]}),s.jsxs("div",{className:"shrink-0 bg-background px-4 py-4 border-t flex flex-col sm:flex-row gap-3",children:[s.jsxs(H,{variant:"outline",onClick:t,className:"w-full sm:flex-1 h-12 text-sm",disabled:o,children:[s.jsx(Uo,{className:"w-4 h-4 mr-2"}),"Maybe later"]}),s.jsxs(H,{onClick:h,className:"w-full sm:flex-1 h-12 bg-gradient-to-r from-primary to-primary-glow hover:opacity-90 text-white shadow-lg text-sm whitespace-nowrap",disabled:o,children:[s.jsx(Pe,{className:"w-4 h-4 mr-2 shrink-0"}),o?"Loading...":"Go Premium"]})]})]})})};var fp="Progress",mp=100,[jM]=It(fp),[SM,NM]=jM(fp),Kj=f.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:o,getValueLabel:a=_M,...i}=e;(o||o===0)&&!dx(o)&&console.error(CM(`${o}`,"Progress"));const l=dx(o)?o:mp;n!==null&&!hx(n,l)&&console.error(kM(`${n}`,"Progress"));const c=hx(n,l)?n:null,u=Kc(c)?a(c,l):void 0;return s.jsx(SM,{scope:r,value:c,max:l,children:s.jsx(ae.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Kc(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":Yj(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});Kj.displayName=fp;var qj="ProgressIndicator",Gj=f.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,o=NM(qj,r);return s.jsx(ae.div,{"data-state":Yj(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...n,ref:t})});Gj.displayName=qj;function _M(e,t){return`${Math.round(e/t*100)}%`}function Yj(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Kc(e){return typeof e=="number"}function dx(e){return Kc(e)&&!isNaN(e)&&e>0}function hx(e,t){return Kc(e)&&!isNaN(e)&&e<=t&&e>=0}function CM(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${mp}\`.`}function kM(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${mp} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Qj=Kj,EM=Gj;const Pa=f.forwardRef(({className:e,value:t,...r},n)=>s.jsx(Qj,{ref:n,className:le("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx(EM,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Pa.displayName=Qj.displayName;const PM=({currentUsage:e,onUpgradeClick:t,isPremium:r=!1})=>{const[n,o]=f.useState(null),[a,i]=f.useState(""),{user:l}=Te(),c=async()=>{if(!(!l||r))try{const v=await fetch(`https://heartlift-launch.emergent.host/api/usage/check/${l.id}`);if(v.ok){const b=await v.json();o({message_count:b.message_count||0,can_send_message:b.can_send_message||!0,hours_until_reset:Math.floor((b.seconds_until_reset||0)/3600)})}}catch(m){console.error("Error fetching usage data:",m)}};if(f.useEffect(()=>{c();const m=setInterval(c,3e4);return()=>clearInterval(m)},[l,r]),f.useEffect(()=>{if(!n||n.can_send_message)return;const m=()=>{const b=new Date,w=new Date(b.getTime()+n.hours_until_reset*60*60*1e3).getTime()-b.getTime();if(w<=0){i("Ready to chat!"),c();return}const p=Math.floor(w/(1e3*60*60)),y=Math.floor(w%(1e3*60*60)/(1e3*60));i(`${p}h ${y}m`)};m();const v=setInterval(m,6e4);return()=>clearInterval(v)},[n]),r)return s.jsx(W,{className:"bg-gradient-to-r from-yellow-50 to-orange-50 border-yellow-200",children:s.jsx(Q,{className:"py-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pe,{className:"w-5 h-5 text-yellow-600"}),s.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"Premium Active"})]}),s.jsxs(je,{variant:"outline",className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:[s.jsx(Ri,{className:"w-3 h-3 mr-1"}),"Unlimited"]})]})})});const u=Math.min(e/10*100,100),h=e>=10,d=Math.max(0,10-e);return s.jsx(W,{className:`border-0 shadow-card ${h?"bg-gradient-to-r from-red-50 to-orange-50":"bg-gradient-to-r from-blue-50 to-indigo-50"}`,children:s.jsxs(Q,{className:"py-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jr,{className:`w-4 h-4 ${h?"text-red-600":"text-blue-600"}`}),s.jsxs("span",{className:"text-sm font-medium",children:[d," messages left today (10 total across all coaches)"]})]}),h&&s.jsxs(je,{variant:"outline",className:"bg-red-100 text-red-800 border-red-200",children:[s.jsx($o,{className:"w-3 h-3 mr-1"}),"Limit reached"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pa,{value:u,className:`h-2 ${h?"bg-red-100":"bg-blue-100"}`}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"Free daily limit"}),a&&s.jsxs("span",{className:`font-medium ${h?"text-red-600":"text-blue-600"}`,children:["Resets in ",a]})]})]}),h&&s.jsx("div",{className:"pt-2 border-t border-red-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-red-700",children:"Want to keep chatting?"}),s.jsxs(H,{variant:"outline",size:"sm",onClick:t,className:"bg-gradient-to-r from-primary to-primary-glow text-white border-0 hover:shadow-warm transition-all duration-300",children:[s.jsx(Pe,{className:"w-3 h-3 mr-1"}),"Go Premium"]})]})})]})})},TM=({isOpen:e,onClose:t,userName:r="there"})=>{const[n,o]=f.useState(0),a=[{icon:Jr,title:"Unlimited AI Conversations",description:"Chat with all coaches as much as you want - no daily limits!",gradient:"from-blue-400 to-blue-500",bgColor:"from-blue-50 to-blue-100"},{icon:Gh,title:"All Coach Personas",description:"Access Luna Love, Dr. Sage, Phoenix Fire, and River Calm anytime",gradient:"from-purple-400 to-purple-500",bgColor:"from-purple-50 to-purple-100"},{icon:he,title:"Text Conversation Helpers",description:"Get custom message templates and rewriting suggestions",gradient:"from-pink-400 to-pink-500",bgColor:"from-pink-50 to-pink-100"},{icon:lE,title:"Advanced Mood Analytics",description:"Weekly trends, emotion patterns, and personalised insights",gradient:"from-green-400 to-green-500",bgColor:"from-green-50 to-green-100"},{icon:rt,title:"Personalised Reports",description:"Dating patterns, attachment analysis, and healing roadmaps",gradient:"from-yellow-400 to-orange-400",bgColor:"from-yellow-50 to-orange-100"},{icon:Tc,title:"Text Helpers",description:"Message suggestions, rewriting tools, and conversation analysis",gradient:"from-indigo-400 to-indigo-500",bgColor:"from-indigo-50 to-indigo-100"}],i=a[n]||a[0],l=()=>{n<a.length-1?o(n+1):t()},c=()=>{n>0&&o(n-1)};return s.jsx(rl,{open:e,onOpenChange:t,children:s.jsxs(Ca,{className:"max-w-2xl",children:[s.jsx(ka,{children:s.jsxs(Ea,{className:"text-3xl font-bold text-center flex items-center justify-center gap-2",children:[s.jsx(Pe,{className:"w-8 h-8 text-yellow-500 animate-pulse-warm"}),"Welcome to Premium, ",r,"! "]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("p",{className:"text-muted-foreground text-lg",children:"Your premium coaching experience is now unlocked! Here's what you can do:"}),s.jsx(Pa,{value:(n+1)/a.length*100,className:"h-2"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[n+1," of ",a.length," features"]})]}),s.jsx(W,{className:`border-0 shadow-warm bg-gradient-to-br ${i.bgColor} animate-fade-in-scale`,children:s.jsxs(Z,{className:"text-center pb-4",children:[s.jsxs("div",{className:"mx-auto mb-4 relative",children:[s.jsx("div",{className:`p-4 rounded-full bg-gradient-to-r ${i.gradient} shadow-lg animate-float-gentle`,children:s.jsx(i.icon,{className:"w-8 h-8 text-white"})}),s.jsx("div",{className:"absolute -top-1 -right-1 text-2xl animate-bounce-gentle",children:""})]}),s.jsx(ee,{className:"text-2xl mb-2",children:i.title}),s.jsx(He,{className:"text-base leading-relaxed",children:i.description})]})}),s.jsx("div",{className:"grid grid-cols-7 gap-2",children:a.map((u,h)=>s.jsxs("div",{className:`p-2 rounded-lg border-2 transition-all duration-300 cursor-pointer ${h===n?"border-primary bg-primary/10 shadow-gentle":h<n?"border-green-500 bg-green-50":"border-border bg-background"}`,onClick:()=>o(h),children:[s.jsx(u.icon,{className:`w-4 h-4 mx-auto ${h===n?"text-primary":h<n?"text-green-500":"text-muted-foreground"}`}),h<n&&s.jsx(Qt,{className:"w-3 h-3 text-green-500 mx-auto mt-1"})]},h))}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(H,{variant:"outline",onClick:c,disabled:n===0,className:"flex items-center gap-2",children:"Previous"}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(je,{variant:"outline",className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:[s.jsx(Pe,{className:"w-3 h-3 mr-1"}),"Premium Active"]})}),s.jsx(H,{variant:"warm",onClick:l,className:"flex items-center gap-2",children:n===a.length-1?s.jsxs(s.Fragment,{children:[s.jsx(rt,{className:"w-4 h-4"}),"Start Exploring!"]}):s.jsxs(s.Fragment,{children:["Next",s.jsxs("span",{className:"text-xs",children:["(",a.length-n-1," left)"]})]})})]})]})]})})},RM=({variant:e="default",className:t=""})=>e==="compact"?s.jsxs(je,{variant:"outline",className:`bg-gradient-to-r from-yellow-100 to-orange-100 text-yellow-800 border-yellow-200 animate-pulse-warm ${t}`,children:[s.jsx(Pe,{className:"w-3 h-3 mr-1"}),"Premium"]}):e==="floating"?s.jsx("div",{className:`fixed top-4 right-4 z-50 animate-float-gentle ${t}`,children:s.jsxs(je,{variant:"outline",className:"bg-gradient-to-r from-yellow-100 to-orange-100 text-yellow-800 border-yellow-200 shadow-warm px-3 py-1",children:[s.jsx(Pe,{className:"w-4 h-4 mr-1"}),"Premium Active",s.jsx(rt,{className:"w-3 h-3 ml-1 animate-pulse-warm"})]})}):s.jsxs(je,{variant:"outline",className:`bg-gradient-to-r from-yellow-100 to-orange-100 text-yellow-800 border-yellow-200 animate-glow ${t}`,children:[s.jsx(Pe,{className:"w-4 h-4 mr-2"}),"Premium Member",s.jsx(rt,{className:"w-3 h-3 ml-2 animate-pulse-warm"})]}),Sn=f.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:le("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Sn.displayName="Textarea";var AM="Separator",fx="horizontal",IM=["horizontal","vertical"],Jj=f.forwardRef((e,t)=>{const{decorative:r,orientation:n=fx,...o}=e,a=OM(n)?n:fx,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return s.jsx(ae.div,{"data-orientation":a,...l,...o,ref:t})});Jj.displayName=AM;function OM(e){return IM.includes(e)}var Xj=Jj;const pp=f.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},o)=>s.jsx(Xj,{ref:o,decorative:r,orientation:t,className:le("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));pp.displayName=Xj.displayName;const mx={flirty:"Luna Love",therapist:"Dr. Sage","tough-love":"Phoenix Fire",chill:"River Calm"},MM=()=>{const[e,t]=f.useState({coaches_chatted_with:[],conversation_rating:null,helpful_moments:"",areas_for_improvement:"",reflection_date:new Date().toISOString().split("T")[0]}),[r,n]=f.useState([]),[o,a]=f.useState(!1),[i,l]=f.useState(!1),[c,u]=f.useState(!1),[h,d]=f.useState(!1),{user:m}=Te(),{toast:v}=At();f.useEffect(()=>{if(m){b(),g();const j=setInterval(()=>{const N=new Date().toISOString().split("T")[0];e.reflection_date!==N&&(t({coaches_chatted_with:[],conversation_rating:null,helpful_moments:"",areas_for_improvement:"",reflection_date:N}),u(!1),g())},6e4);return()=>clearInterval(j)}},[m]);const b=async()=>{if(m){a(!0);try{const j=new Date().toISOString().split("T")[0],S="https://heartlift-launch.emergent.host";console.log(`Loading today's reflection from backend: ${S}/api/reflections/today/${m.id}`);const N=await fetch(`${S}/api/reflections/today/${m.id}`);if(!N.ok)throw new Error(`Failed to load reflection: ${N.statusText}`);const _=await N.json();_&&_.id?(console.log("Loaded reflection from backend:",_),t({id:_.id,coaches_chatted_with:_.coaches_chatted_with||[],conversation_rating:_.conversation_rating,helpful_moments:_.helpful_moments||"",areas_for_improvement:_.areas_for_improvement||"",reflection_date:_.reflection_date,created_at:_.created_at}),u(!0)):(console.log("No reflection found for today"),t({coaches_chatted_with:[],conversation_rating:null,helpful_moments:"",areas_for_improvement:"",reflection_date:j}),u(!1))}catch(j){console.error("Error loading reflection:",j)}finally{a(!1)}}},g=async()=>{if(m)try{const j="https://heartlift-launch.emergent.host";console.log(`Loading past reflections from backend: ${j}/api/reflections/past/${m.id}`);const S=await fetch(`${j}/api/reflections/past/${m.id}`);if(!S.ok)throw new Error(`Failed to load past reflections: ${S.statusText}`);const N=await S.json();console.log("Loaded past reflections:",N),n(N||[])}catch(j){console.error("Error loading past reflections:",j)}},w=j=>{t(S=>({...S,coaches_chatted_with:S.coaches_chatted_with.includes(j)?S.coaches_chatted_with.filter(N=>N!==j):[...S.coaches_chatted_with,j]}))},p=j=>{t(S=>({...S,conversation_rating:j}))},y=async()=>{if(console.log("========== SAVE REFLECTION CALLED =========="),console.log("User:",m),console.log("User ID:",m==null?void 0:m.id),console.log("Reflection data:",e),!m){alert("ERROR: No user logged in!"),v({title:"Not logged in",description:"Please log in first.",variant:"destructive"});return}if(e.coaches_chatted_with.length===0){alert("ERROR: No coaches selected!"),v({title:"Please select at least one coach",description:"Let us know which coaches you chatted with today.",variant:"destructive"});return}l(!0);try{const j={user_id:m.id,reflection_date:e.reflection_date,coaches_chatted_with:e.coaches_chatted_with,conversation_rating:e.conversation_rating,helpful_moments:e.helpful_moments,areas_for_improvement:e.areas_for_improvement};console.log("Reflection data to save:",JSON.stringify(j,null,2));const S="https://heartlift-launch.emergent.host";console.log("Backend URL:",S);const N=`${S}/api/reflections/save`;console.log("Full URL:",N),alert(`About to POST to: ${N}`);const _=await fetch(N,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)});if(console.log("Response status:",_.status),console.log("Response ok:",_.ok),!_.ok){const M=await _.text();throw console.error("ERROR Response:",M),alert(`ERROR: ${_.status} - ${M}`),new Error(`Failed to save reflection: ${M}`)}const E=await _.json();console.log("SUCCESS! Saved data:",E),alert(`SUCCESS! Reflection saved with ID: ${E.id}`),u(!0),t({...e,id:E.id,created_at:E.created_at}),await b(),await g(),v({title:"Reflection saved!",description:`ID: ${E.id}`})}catch(j){console.error("CATCH ERROR:",j),alert(`CATCH ERROR: ${j instanceof Error?j.message:String(j)}`),v({title:"Error saving reflection",description:j instanceof Error?j.message:"Please try again.",variant:"destructive"})}finally{l(!1),console.log("========== SAVE REFLECTION COMPLETE ==========")}},x=j=>new Date(j).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return o?s.jsx(W,{className:"w-full",children:s.jsx(Q,{className:"flex items-center justify-center p-8",children:s.jsx("div",{className:"animate-pulse text-muted-foreground",children:"Loading today's reflection..."})})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs(W,{className:"w-full shadow-gentle",children:[s.jsxs(Z,{children:[s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(ft,{className:"w-5 h-5"}),"Today's Reflection",c&&s.jsxs(je,{variant:"secondary",className:"ml-2",children:[s.jsx(AE,{className:"w-3 h-3 mr-1"}),"Complete"]})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[x(e.reflection_date),"  Help your coaches remember your journey by reflecting on today's conversations"]})]}),s.jsxs(Q,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-sm font-medium",children:"Which coaches did you chat with today? (Select all that apply)"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(mx).map(([j,S])=>s.jsxs(H,{variant:e.coaches_chatted_with.includes(j)?"default":"outline",size:"sm",onClick:()=>w(j),className:"flex items-center gap-2",children:[s.jsx(Jr,{className:"w-3 h-3"}),S]},j))})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-sm font-medium",children:"How helpful were your conversations today?"}),s.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(j=>s.jsx(H,{variant:"ghost",size:"sm",onClick:()=>p(j),className:"p-1",children:s.jsx(ia,{className:`w-6 h-6 ${e.conversation_rating&&j<=e.conversation_rating?"fill-yellow-400 text-yellow-400":"text-muted-foreground"}`})},j))})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-sm font-medium",children:"What was most helpful in your conversations today?"}),s.jsx(Sn,{placeholder:"Share what insights, advice, or support stood out to you...",value:e.helpful_moments,onChange:j=>t(S=>({...S,helpful_moments:j.target.value})),rows:3})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-sm font-medium",children:"What would you like to explore more in future conversations?"}),s.jsx(Sn,{placeholder:"Any topics, feelings, or situations you'd like your coaches to help you work through...",value:e.areas_for_improvement,onChange:j=>t(S=>({...S,areas_for_improvement:j.target.value})),rows:3})]}),s.jsx(H,{onClick:y,disabled:i,className:"w-full",children:i?"Saving...":c?"Update Reflection":"Save Reflection"}),s.jsxs(H,{onClick:()=>d(!h),variant:"outline",className:"w-full",children:[s.jsx(Zg,{className:"w-4 h-4 mr-2"}),h?"Hide":"View"," Past Reflections (",r.length,")"]})]})]}),h&&s.jsxs(W,{className:"w-full shadow-gentle",children:[s.jsxs(Z,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Zg,{className:"w-5 h-5"}),s.jsxs(ee,{children:["Reflection History (",r.length,")"]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"View your past reflections to track your journey"})]}),s.jsx(Q,{children:r.length>0?s.jsx(ip,{className:"h-96",children:s.jsx("div",{className:"space-y-4",children:r.map((j,S)=>s.jsxs("div",{className:"border-l-2 border-primary/20 pl-4 pb-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"font-medium text-sm",children:x(j.reflection_date)}),s.jsx("div",{className:"flex items-center gap-2",children:j.conversation_rating&&s.jsx("div",{className:"flex items-center gap-1",children:[...Array(j.conversation_rating)].map((N,_)=>s.jsx(ia,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"},_))})})]}),j.coaches_chatted_with&&j.coaches_chatted_with.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1",children:j.coaches_chatted_with.map(N=>s.jsx(je,{variant:"outline",className:"text-xs",children:mx[N]},N))}),j.helpful_moments&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"What was helpful:"}),s.jsx("p",{className:"text-sm",children:j.helpful_moments})]}),j.areas_for_improvement&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Areas to explore:"}),s.jsx("p",{className:"text-sm",children:j.areas_for_improvement})]})]}),S<r.length-1&&s.jsx(pp,{className:"mt-4"})]},j.id||S))})}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx("p",{children:"No past reflections yet."}),s.jsx("p",{className:"text-sm mt-2",children:"Complete today's reflection above to start building your journey history!"})]})})]})]})},DM=({coachName:e,coachPersonality:t,coachGreetings:r,coachIcon:n,coachColor:o})=>{var ie;const[a,i]=f.useState([]),[l,c]=f.useState(""),[u,h]=f.useState(!1),[d,m]=f.useState(0),[v,b]=f.useState(10),[g,w]=f.useState(!0),[p,y]=f.useState(!1),[x,j]=f.useState(!1),[S,N]=f.useState("usage_limit"),[_,E]=f.useState(!1),M=f.useRef(null),R=f.useRef(null);f.useRef(null);const z=f.useRef(null),O=f.useRef(0),F=f.useRef(null),{user:A,isPremium:D,checkSubscription:P}=Te(),{toast:T}=At();f.useEffect(()=>{a.length>O.current&&setTimeout(()=>{const I=document.querySelector("[data-radix-scroll-area-viewport]");I&&I.scrollTo({top:I.scrollHeight,behavior:"smooth"})},100),O.current=a.length},[a]);const C=()=>{var q,te;if(!A)return"";if((q=A.user_metadata)!=null&&q.full_name){const me=A.user_metadata.full_name.split(" ")[0];return me.charAt(0).toUpperCase()+me.slice(1).toLowerCase()}const I=((te=A.email)==null?void 0:te.split("@")[0])||"";return I.charAt(0).toUpperCase()+I.slice(1).toLowerCase()};f.useEffect(()=>{A&&V()},[A,t]),f.useEffect(()=>{if(!D&&A){const I=setInterval(()=>{const q=new Date,te=localStorage.getItem(`lastUsageCheck_${A.id}`),ce=q.toISOString().split("T")[0];te&&te!==ce&&(console.log("New day detected - resetting usage count"),V()),localStorage.setItem(`lastUsageCheck_${A.id}`,ce)},6e4);return()=>clearInterval(I)}},[A,D]),f.useEffect(()=>{if(D&&!x){const I=localStorage.getItem("hasSeenPremiumWelcome"),q=sessionStorage.getItem("premiumWelcomeShownThisSession");!I&&!q&&(j(!0),sessionStorage.setItem("premiumWelcomeShownThisSession","true"))}},[D]);const k=()=>{const I=C();if(console.log("Coach greetings received:",r),console.log("Coach name:",e),!r||r.length===0)return console.warn("No greetings array provided, using fallback"),I?`Hi ${I}! I'm ${e}, and I'm here to support you through whatever you're going through. What's on your heart today?`:`Hi there! I'm ${e}, and I'm here to support you through whatever you're going through. What's on your heart today?`;const q=Math.floor(Math.random()*r.length),te=r[q];console.log("Selected greeting template:",te);const ce=te.replace("{firstName}",I||"there");return console.log("Final greeting:",ce),ce};f.useEffect(()=>{A&&t&&(c(""),h(!1),(async()=>{if(!await $())await U();else{const te=k();await K.rpc("insert_conversation_message",{p_user_id:A.id,p_coach_id:t,p_message_content:te,p_sender:"coach"}),i([{id:"1",content:te,sender:"coach",timestamp:new Date}]),E(!0)}})())},[A,t]);const $=async()=>{if(!A)return;const I=`lastRefresh_${A.id}_${t}`,q=localStorage.getItem(I),te=new Date().toDateString();if(!q)return localStorage.setItem(I,te),!1;if(q!==te)try{return await K.from("conversation_history").delete().eq("user_id",A.id).eq("coach_id",t),localStorage.setItem(I,te),!0}catch(ce){return console.error("Error during daily refresh:",ce),!1}return!1},U=async()=>{if(A)try{const{data:I,error:q}=await K.from("conversation_history").select("*").eq("user_id",A.id).eq("coach_id",t).order("created_at",{ascending:!0}).limit(50);if(q)throw console.error(" SUPABASE ERROR - conversation_history:",{message:q.message,details:q.details,hint:q.hint,code:q.code,userId:A.id,coachId:t}),q;console.log(" Loaded conversation history:",{count:(I==null?void 0:I.length)||0,userId:A.id,coachId:t});const te=k();if(I&&I.length>0){const ce=I.filter((me,fe)=>!(fe===0&&me.sender==="coach"));if(ce.length>0){const me=ce.map((fe,Ie)=>({id:`${fe.id}-${Ie}`,content:fe.message_content,sender:fe.sender,timestamp:new Date(fe.created_at)}));i([{id:"1",content:te,sender:"coach",timestamp:new Date},...me])}else i([{id:"1",content:te,sender:"coach",timestamp:new Date}])}else i([{id:"1",content:te,sender:"coach",timestamp:new Date}]);E(!0)}catch(I){console.error("Error loading conversation history:",I);const q=k();i([{id:"1",content:q,sender:"coach",timestamp:new Date}]),E(!0)}},V=async()=>{if(A)try{const q=await fetch(`https://heartlift-launch.emergent.host/api/usage/check/${A.id}`);if(q.ok){const te=await q.json();m(te.message_count||0),b(te.remaining_messages||10),w(te.can_send_message||!1)}}catch(I){console.error("Error loading usage count:",I)}},L=async()=>{if(!l.trim()||u||!A)return;if(!g&&!D){N("usage_limit"),y(!0);return}const I={id:Date.now().toString(),content:l,sender:"user",timestamp:new Date};i(q=>[...q,I]),c(""),h(!0);try{const{data:q,error:te}=await K.auth.getSession();if(te||!q.session)throw new Error("Please sign in again to continue");await K.rpc("insert_conversation_message",{p_user_id:A.id,p_coach_id:t,p_message_content:l,p_sender:"user"});const me=await fetch("https://heartlift-launch.emergent.host/api/ai/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:l,coach_id:t,conversation_history:a.slice(-5).map(se=>({content:se.content,sender:se.sender})),user_name:C()||void 0,user_id:A.id})});if(!me.ok)throw new Error(`Failed to get AI response: ${me.statusText}`);const fe=await me.json(),Ie={id:(Date.now()+1).toString(),content:fe.response,sender:"coach",timestamp:new Date};if(i(se=>[...se,Ie]),await K.rpc("insert_conversation_message",{p_user_id:A.id,p_coach_id:t,p_message_content:fe.response,p_sender:"coach"}),!D){const se="https://heartlift-launch.emergent.host";try{const ue=await fetch(`${se}/api/usage/track`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:A.id,coach_id:t})});if(ue.ok){const Ce=await ue.json();m(Ce.message_count),b(Ce.remaining_messages),w(Ce.can_send_message),Ce.can_send_message||(N("usage_limit"),y(!0))}}catch(ue){console.error("Error tracking usage:",ue)}}}catch(q){console.error("Error sending message:",q),T({title:"Error",description:"Failed to send message. Please try again.",variant:"destructive"})}finally{h(!1)}},J=async I=>{if(!D)return;const q=a.findIndex(ce=>ce.id===I);if(q===-1)return;const te=a[q-1];if(!(!te||te.sender!=="user")){h(!0);try{const{data:ce,error:me}=await K.auth.getSession();if(me||!ce.session)throw new Error("Please sign in again to continue");const Ie=await fetch("https://heartlift-launch.emergent.host/api/ai/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:te.content,coach_id:t,conversation_history:a.slice(0,q-1).map(Ce=>({content:Ce.content,sender:Ce.sender})),user_name:C()||void 0,user_id:A==null?void 0:A.id})});if(!Ie.ok)throw new Error(`Failed to regenerate response: ${Ie.statusText}`);const se=await Ie.json(),ue=[...a];ue[q]={...ue[q],content:se.response,timestamp:new Date},i(ue)}catch(ce){console.error("Error regenerating response:",ce),T({title:"Error",description:"Failed to regenerate response. Please try again.",variant:"destructive"})}finally{h(!1)}}},ne=async()=>{if(A)try{await K.from("conversation_history").delete().eq("user_id",A.id).eq("coach_id",t);const I=`lastRefresh_${A.id}_${t}`;localStorage.removeItem(I);const q=`manualRefresh_${A.id}_${t}`;localStorage.setItem(q,new Date().toISOString());const te=k();await K.rpc("insert_conversation_message",{p_user_id:A.id,p_coach_id:t,p_message_content:te,p_sender:"coach"}),i([{id:"1",content:te,sender:"coach",timestamp:new Date}]),E(!1),setTimeout(()=>E(!0),100),T({title:"Conversation refreshed",description:"Started a fresh conversation with "+e})}catch(I){console.error("Error refreshing conversation:",I),T({title:"Error",description:"Failed to refresh conversation. Please try again.",variant:"destructive"})}};return s.jsxs("div",{className:"space-y-2 sm:space-y-4",children:[s.jsx(PM,{currentUsage:d,onUpgradeClick:()=>{N("usage_limit"),y(!0)},isPremium:D}),s.jsxs(W,{ref:F,className:"h-[600px] sm:h-[600px] max-h-[800px] flex flex-col shadow-gentle overflow-hidden",children:[s.jsx(Z,{className:"pb-3 flex-shrink-0",children:s.jsxs(ee,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:`p-2 rounded-full bg-gradient-to-r ${o||"from-primary to-primary-glow"} shadow-lg`,children:n?(()=>{const I=n;return s.jsx(I,{className:"w-4 h-4 text-white"})})():s.jsx(ec,{className:"w-4 h-4 text-white"})}),s.jsx("span",{children:e}),D&&s.jsx(RM,{variant:"compact"})]}),s.jsxs(H,{variant:"ghost",size:"sm",onClick:ne,className:"flex items-center gap-2 text-muted-foreground hover:text-foreground",disabled:u,children:[s.jsx(qs,{className:"w-4 h-4"}),"Refresh"]})]})}),s.jsxs(Q,{className:"flex-1 flex flex-col p-0 min-h-0 overflow-hidden",children:[s.jsx(ip,{className:"flex-1 px-4 h-full",type:"auto",children:s.jsxs("div",{ref:R,className:"space-y-4 pb-4 pt-2",children:[a.map(I=>s.jsx("div",{"data-message-id":I.id,"data-sender":I.sender,className:`flex ${I.sender==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[90%] sm:max-w-[80%] rounded-lg px-3 sm:px-4 py-3 ${I.sender==="user"?"bg-primary text-primary-foreground":I.isPremiumTeaser?"bg-gradient-to-r from-yellow-100 to-orange-100 text-orange-800 border border-orange-200":"bg-secondary text-secondary-foreground"}`,children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[I.sender==="user"?s.jsx(Rc,{className:"w-3 h-3"}):s.jsx(ec,{className:"w-3 h-3"}),s.jsx("span",{className:"text-xs opacity-70",children:I.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),s.jsx("p",{className:"text-sm",children:I.content}),I.isPremiumTeaser&&s.jsx("div",{className:"mt-2 pt-2 border-t border-orange-200",children:s.jsxs(H,{variant:"outline",size:"sm",onClick:()=>{N("premium_teaser"),y(!0)},className:"bg-gradient-to-r from-primary to-primary-glow text-white border-0",children:[s.jsx(Pe,{className:"w-3 h-3 mr-1"}),"Unlock Premium"]})}),I.sender==="coach"&&D&&!I.isPremiumTeaser&&s.jsx("div",{className:"mt-2 pt-2 border-t border-border/50",children:s.jsxs(H,{variant:"outline",size:"sm",onClick:()=>J(I.id),className:"text-xs",disabled:u,children:[s.jsx(rt,{className:"w-3 h-3 mr-1"}),"Regenerate"]})})]})},I.id)),u&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-secondary text-secondary-foreground rounded-lg px-4 py-2 max-w-[80%]",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ec,{className:"w-3 h-3"}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse-warm"}),s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse-warm",style:{animationDelay:"0.2s"}}),s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse-warm",style:{animationDelay:"0.4s"}})]})]})})}),s.jsx("div",{ref:M})]})}),s.jsxs("div",{className:"p-3 sm:p-4 border-t border-border flex-shrink-0 bg-background",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(it,{ref:z,value:l,onChange:I=>c(I.target.value),placeholder:!g&&!D?"Daily limit reached - upgrade to continue":D?"Ask me anything... (Premium)":`Share what's on your heart... (${v} left)`,onKeyDown:I=>{I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),L())},onFocus:()=>{requestAnimationFrame(()=>{if(F.current){const te=F.current.getBoundingClientRect().top+window.pageYOffset-60;window.scrollTo({top:te,behavior:"smooth"})}})},className:"flex-1 text-base sm:text-base py-3 px-4 sm:py-3 sm:px-4 min-h-[44px] sm:min-h-[44px]",disabled:!g&&!D||u,autoComplete:"off",autoCorrect:"off",autoCapitalize:"sentences"}),s.jsx(H,{onClick:L,disabled:!l.trim()||u||!g&&!D,variant:"warm",size:"icon",className:"min-h-[44px] min-w-[44px]",children:!g&&!D?s.jsx($o,{className:"w-4 h-4"}):s.jsx(PE,{className:"w-4 h-4"})})]}),!g&&!D&&s.jsxs("div",{className:"flex items-center gap-2 mt-2 p-2 bg-gradient-to-r from-red-50 to-orange-50 rounded-lg border border-red-200",children:[s.jsx(b0,{className:"w-4 h-4 text-red-600"}),s.jsx("span",{className:"text-sm text-red-700",children:"Daily limit reached"}),s.jsxs(H,{variant:"outline",size:"sm",onClick:()=>y(!0),className:"ml-auto bg-gradient-to-r from-primary to-primary-glow text-white border-0",children:[s.jsx(Pe,{className:"w-3 h-3 mr-1"}),"Upgrade"]})]})]})]})]}),s.jsx(Vj,{isOpen:p,onClose:()=>y(!1),trigger:S,coachName:e}),s.jsx(TM,{isOpen:x,onClose:()=>{j(!1),localStorage.setItem("hasSeenPremiumWelcome","true")},userName:((ie=A==null?void 0:A.user_metadata)==null?void 0:ie.full_name)||"there"}),s.jsx("div",{className:"mt-6",children:s.jsx(MM,{})})]})},Qd=[{id:1,icon:xE,label:"Struggling",emoji:"",color:"from-blue-500 to-indigo-600",bgGlow:"shadow-blue-200/30",iconColor:"text-blue-600",message:"It's okay to not be okay. You're brave for checking in. ",lightBg:"bg-gradient-to-br from-blue-50/50 to-indigo-50/50"},{id:2,icon:CE,label:"Low",emoji:"",color:"from-purple-500 to-violet-600",bgGlow:"shadow-purple-200/30",iconColor:"text-purple-600",message:"Taking it one step at a time. You're doing your best. ",lightBg:"bg-gradient-to-br from-purple-50/50 to-violet-50/50"},{id:3,icon:TE,label:"Neutral",emoji:"",color:"from-slate-500 to-gray-600",bgGlow:"shadow-slate-200/30",iconColor:"text-slate-600",message:"Balanced and present. Sometimes neutral is exactly right. ",lightBg:"bg-gradient-to-br from-slate-50/50 to-gray-50/50"},{id:4,icon:jE,label:"Good",emoji:"",color:"from-emerald-500 to-green-600",bgGlow:"shadow-emerald-200/30",iconColor:"text-emerald-600",message:"Lovely to see you feeling good today! Keep nurturing this energy. ",lightBg:"bg-gradient-to-br from-emerald-50/50 to-green-50/50"},{id:5,icon:he,label:"Amazing",emoji:"",color:"from-pink-500 to-rose-600",bgGlow:"shadow-pink-200/30",iconColor:"text-pink-600",message:"You're radiating joy! Share this beautiful energy with the world. ",lightBg:"bg-gradient-to-br from-pink-50/50 to-rose-50/50"}],px=["How is your heart feeling today? ","What's your emotional weather like right now? ","How would you describe your inner landscape today? ","On your healing journey, where are you today? ","How connected do you feel to yourself today? "],LM=()=>{const[e,t]=f.useState(null),[r]=f.useState(px[Math.floor(Math.random()*px.length)]),[n,o]=f.useState(!1),[a,i]=f.useState([]),[l,c]=f.useState(!1),[u,h]=f.useState(!1),[d,m]=f.useState(null),{user:v}=Te(),{toast:b}=At();f.useEffect(()=>{v&&(g(),w())},[v]);const g=async()=>{if(v)try{const{data:x,error:j}=await K.from("mood_entries").select("*").eq("user_id",v.id).order("entry_date",{ascending:!1}).limit(30);if(j)throw console.error(" SUPABASE ERROR - mood_entries:",{message:j.message,details:j.details,hint:j.hint,code:j.code,userId:v.id}),j;i(x||[]),console.log(" Loaded mood history:",{count:(x==null?void 0:x.length)||0})}catch(x){console.error("Error loading mood history:",x)}},w=async()=>{if(!v)return;const x=new Date().toISOString().split("T")[0];try{const{data:j,error:S}=await K.from("mood_entries").select("*").eq("user_id",v.id).eq("entry_date",x).single();j&&(m(j),o(!0),t(j.mood_level))}catch{m(null),o(!1)}},p=async()=>{if(!e||!v)return;h(!0);const x=Qd.find(S=>S.id===e);if(!x)return;const j=new Date().toISOString().split("T")[0];try{const{data:S,error:N}=await K.from("mood_entries").upsert({user_id:v.id,mood_level:e,mood_label:x.label,mood_emoji:x.emoji,message_received:x.message,entry_date:j},{onConflict:"user_id,entry_date",ignoreDuplicates:!1}).select().single();if(N)throw N;m(S),o(!0),await g(),b({title:"Mood saved! ",description:"Your daily check-in has been recorded."})}catch(S){b({title:"Error saving mood",description:S.message,variant:"destructive"})}finally{h(!1)}},y=e?Qd.find(x=>x.id===e):null;return v?l?s.jsxs("div",{className:"space-y-4 sm:space-y-6 animate-fade-in px-2 sm:px-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(H,{variant:"outline",onClick:()=>c(!1),className:"flex items-center gap-2",children:[s.jsx(w0,{className:"w-4 h-4"}),"Back to Today"]}),s.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Mood History"})]}),s.jsxs(W,{className:"shadow-float bg-gradient-to-br from-card via-card/95 to-secondary/10 border-0",children:[s.jsxs(Z,{children:[s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(ft,{className:"w-5 h-5 text-primary"}),"Your Mood Journey"]}),s.jsxs(He,{children:[a.length," check-ins recorded"]})]}),s.jsx(Q,{children:a.length===0?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"No mood entries yet. Start your journey today! "})}):s.jsx("div",{className:"space-y-3",children:a.map(x=>{const j=new Date(x.entry_date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"});return s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-2xl bg-gradient-to-r from-secondary/20 to-secondary/10 border border-secondary/30",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-2xl",children:x.mood_emoji}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:x.mood_label}),s.jsx("p",{className:"text-sm text-muted-foreground",children:j})]})]}),s.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((S,N)=>s.jsx("div",{className:`w-2 h-2 rounded-full ${N<x.mood_level?"bg-primary":"bg-muted"}`},N))})]},x.id)})})})]})]}):n&&y?s.jsx("div",{className:"px-2 sm:px-0 animate-fade-in-scale",children:s.jsxs(W,{className:"shadow-float bg-gradient-to-br from-card via-card/95 to-secondary/10 border-0 backdrop-blur-sm overflow-hidden relative",children:[s.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-primary via-primary-glow to-accent"}),s.jsx("div",{className:"absolute -top-20 -right-20 w-40 h-40 bg-gradient-to-r from-primary/10 to-primary-glow/10 rounded-full blur-3xl animate-pulse-warm"}),s.jsx("div",{className:"absolute -bottom-20 -left-20 w-40 h-40 bg-gradient-to-r from-accent/10 to-secondary/10 rounded-full blur-3xl animate-float-gentle"}),s.jsxs(Z,{className:"text-center space-y-6 relative z-10 pt-8 sm:pt-12",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"mx-auto p-4 sm:p-6 rounded-full bg-gradient-to-r from-primary to-primary-glow w-fit animate-pulse-warm shadow-float",children:s.jsx(he,{className:"w-8 h-8 sm:w-10 sm:h-10 text-primary-foreground"})}),s.jsx("div",{className:"absolute -top-2 -right-2 text-2xl animate-bounce-gentle",children:""}),s.jsx("div",{className:"absolute -top-1 -left-3 text-lg animate-pulse-warm",children:""})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-5xl sm:text-6xl animate-bounce-gentle mb-4",children:y.emoji}),s.jsx(ee,{className:"text-2xl sm:text-3xl bg-gradient-to-r from-primary via-primary-glow to-accent bg-clip-text text-transparent",children:"Thank you for sharing! "}),s.jsx(He,{className:"text-base sm:text-lg text-muted-foreground max-w-md mx-auto leading-relaxed",children:y.message})]})]}),s.jsxs(Q,{className:"text-center space-y-8 relative z-10 pb-8 sm:pb-12",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 max-w-md mx-auto",children:[s.jsxs("div",{className:"p-4 sm:p-6 bg-gradient-to-br from-emerald-50/80 to-green-50/80 rounded-2xl border border-emerald-100 backdrop-blur-sm",children:[s.jsx(la,{className:"w-6 h-6 sm:w-8 sm:h-8 text-emerald-500 mx-auto mb-3 animate-bounce-gentle"}),s.jsxs("p",{className:"text-sm sm:text-base font-bold text-emerald-700",children:[a.length," Day",a.length!==1?"s":""," Tracked"]}),s.jsx("p",{className:"text-xs sm:text-sm text-emerald-600 mt-1",children:"Building healthy habits! "})]}),s.jsxs("div",{className:"p-4 sm:p-6 bg-gradient-to-br from-purple-50/80 to-pink-50/80 rounded-2xl border border-purple-100 backdrop-blur-sm",children:[s.jsx(rt,{className:"w-6 h-6 sm:w-8 sm:h-8 text-purple-500 mx-auto mb-3 animate-pulse-warm"}),s.jsx("p",{className:"text-sm sm:text-base font-bold text-purple-700",children:"Self-Care"}),s.jsx("p",{className:"text-xs sm:text-sm text-purple-600 mt-1",children:"Growing daily "})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[s.jsxs(H,{variant:"gentle",size:"lg",onClick:()=>{o(!1),t(null)},className:"px-8 sm:px-12 py-3 sm:py-4 text-base sm:text-lg font-semibold shadow-gentle hover:shadow-warm transition-all duration-300",children:[s.jsx(he,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Update Today's Mood"]}),s.jsxs(H,{variant:"outline",size:"lg",onClick:()=>c(!0),className:"px-8 sm:px-12 py-3 sm:py-4 text-base sm:text-lg font-semibold",children:[s.jsx(ft,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"View History"]})]})]})]})}):s.jsxs("div",{className:"space-y-6 sm:space-y-8 animate-fade-in px-2 sm:px-0",children:[s.jsxs("div",{className:"text-center space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(RE,{className:"w-7 h-7 sm:w-8 sm:h-8 text-yellow-500 animate-pulse-warm"}),s.jsx("div",{className:"absolute -top-1 -right-1 text-xs",children:""})]}),s.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-primary via-primary-glow to-accent bg-clip-text text-transparent",children:"Daily Check-in"}),s.jsxs("div",{className:"relative",children:[s.jsx(uE,{className:"w-7 h-7 sm:w-8 sm:h-8 text-blue-400 animate-float-gentle"}),s.jsx("div",{className:"absolute -top-1 -right-1 text-xs",children:""})]})]}),s.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2",children:s.jsx(rt,{className:"w-4 h-4 text-primary/40 animate-pulse-warm"})}),s.jsx("div",{className:"absolute -top-4 right-1/4",children:s.jsx(kE,{className:"w-5 h-5 text-primary/30 animate-float-gentle"})})]}),s.jsx("div",{className:"max-w-md mx-auto",children:s.jsx("p",{className:"text-base sm:text-lg text-muted-foreground leading-relaxed font-medium",children:r})})]}),s.jsxs(W,{className:"shadow-float bg-gradient-to-br from-card via-card/95 to-secondary/10 border-0 backdrop-blur-sm overflow-hidden relative",children:[s.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-primary via-primary-glow to-accent"}),s.jsx("div",{className:"absolute -top-16 -right-16 w-32 h-32 bg-gradient-to-r from-primary/5 to-primary-glow/5 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute -bottom-16 -left-16 w-32 h-32 bg-gradient-to-r from-accent/5 to-secondary/5 rounded-full blur-3xl"}),s.jsxs(Z,{className:"text-center pb-4 sm:pb-6 relative z-10",children:[s.jsxs(ee,{className:"text-xl sm:text-2xl flex items-center justify-center gap-2 sm:gap-3 mb-2",children:[s.jsx(he,{className:"w-6 h-6 sm:w-7 sm:h-7 text-primary animate-pulse-warm"}),s.jsx("span",{className:"bg-gradient-to-r from-foreground to-foreground/80 bg-clip-text",children:"How's your heart today?"})]}),s.jsx(He,{className:"text-sm sm:text-base text-muted-foreground leading-relaxed max-w-sm mx-auto",children:"Your feelings are valid and important. Let's check in together "})]}),s.jsxs(Q,{className:"space-y-6 sm:space-y-8 relative z-10",children:[s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3 sm:gap-4",children:Qd.map((x,j)=>{const S=x.icon,N=e===x.id;return s.jsxs("button",{onClick:()=>t(x.id),className:`group relative p-4 sm:p-6 rounded-3xl border-2 transition-all duration-500 hover:scale-105 active:scale-95 animate-slide-up min-h-[44px] min-w-[44px] ${N?`border-primary shadow-float ${x.lightBg} ring-2 ring-primary/20`:"border-border/50 hover:border-primary/30 bg-card/50 hover:bg-card backdrop-blur-sm"}`,style:{animationDelay:`${j*100}ms`},children:[N&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${x.color} opacity-5 rounded-3xl`}),s.jsx("div",{className:`absolute -inset-1 bg-gradient-to-r ${x.color} opacity-10 rounded-3xl blur-sm`})]}),s.jsxs("div",{className:"relative space-y-2 sm:space-y-3",children:[s.jsx("div",{className:"text-3xl sm:text-4xl group-hover:animate-bounce-gentle transition-all duration-300 group-hover:scale-110",children:x.emoji}),s.jsx(S,{className:`w-5 h-5 sm:w-6 sm:h-6 mx-auto ${x.iconColor} group-hover:scale-110 transition-all duration-300 ${N?"scale-110":""}`}),s.jsx("p",{className:`text-xs sm:text-sm font-semibold text-center transition-colors duration-300 ${N?"text-primary":"text-muted-foreground group-hover:text-foreground"}`,children:x.label})]})]},x.id)})}),e&&y&&s.jsxs("div",{className:`text-center p-4 sm:p-6 ${y.lightBg} rounded-3xl border border-primary/10 animate-fade-in-scale relative overflow-hidden`,children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 via-transparent to-primary-glow/5"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"text-2xl mb-2",children:y.emoji}),s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground leading-relaxed font-medium",children:y.message})]})]}),s.jsx("div",{className:"text-center pt-2",children:s.jsxs(H,{variant:"warm",onClick:p,disabled:!e||u,size:"lg",className:`px-8 sm:px-12 py-3 sm:py-4 text-base sm:text-lg font-semibold transition-all duration-300 ${e?"animate-pulse-warm shadow-float":""}`,children:[s.jsx(rt,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),u?"Saving...":d?"Update Today's Check-In":"Save Today's Check-In"]})}),a.length>0&&s.jsx("div",{className:"text-center border-t border-border/50 pt-4",children:s.jsxs(H,{variant:"outline",onClick:()=>c(!0),className:"text-muted-foreground hover:text-foreground",children:[s.jsx(ft,{className:"w-4 h-4 mr-2"}),"View Your Mood History (",a.length," entries)"]})})]})]})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(he,{className:"w-12 h-12 text-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Please sign in to track your daily mood check-ins"})]})},$M=[{name:"Free",price:"0",period:"forever",icon:he,description:"Perfect for getting started on your healing journey",features:["Basic AI relationship advice","10 messages per day","Daily mood check-ins","Daily reflections","Access to all coaches","Email support"],buttonText:"Start Free",variant:"gentle",popular:!1},{name:"Premium",price:"11.99",period:"per month",icon:rt,description:"Unlimited support for your relationship growth",features:["Everything in free","Unlimited AI coach conversations","Regenerate AI responses","Guided Programmes","Personalised insights & reports","Daily attachment style quiz with AI analysis","Conversation analyser with AI insights","Text suggestion helper for all scenarios","Create personalised AI-generated visuals","Priority support"],buttonText:"Go Premium",variant:"warm",popular:!0},{name:"Healing Kit",price:"4.99",period:"one-time",icon:Pe,description:"Complete break-up recovery package",features:["30-day healing plan","Daily affirmations","Visualisation practices","No-contact tracker","Journal prompts","Priority support"],buttonText:"Get Healing Kit",variant:"healing",popular:!1}],gx=({backTo:e="home"}={})=>{const[t,r]=f.useState(!1),{user:n,checkSubscription:o}=Te(),a=nt();rr();const i=l=>{const c=e;if(e==="home"){a("/auth");return}if(l==="Premium"){if(!n){a("/auth");return}a("/premium-purchase",{state:{from:c}})}else if(l==="Healing Kit"){if(!n){a("/auth");return}a("/healing-kit-purchase",{state:{from:c}})}};return s.jsx("section",{className:"py-16 px-4 bg-gradient-to-br from-secondary/30 to-accent/30",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"text-center space-y-4 mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground",children:"Choose Your Healing Path"}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Every relationship journey is unique. Find the support level that feels right for you."})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-6 sm:gap-8 max-w-5xl mx-auto",children:$M.map(l=>{const c=l.icon;return s.jsxs(W,{className:`relative overflow-hidden transition-all duration-300 hover:shadow-gentle ${l.popular?"ring-2 ring-primary shadow-warm scale-105":""}`,children:[l.popular&&s.jsx("div",{className:"absolute top-0 right-0 bg-gradient-to-r from-primary to-primary-glow text-primary-foreground px-3 py-1 text-xs font-medium rounded-bl-lg",children:"Most Popular"}),s.jsxs(Z,{className:"text-center pb-2",children:[s.jsx("div",{className:"mx-auto p-3 rounded-full bg-gradient-to-r from-primary/10 to-primary-glow/10 w-fit mb-4",children:s.jsx(c,{className:"w-6 h-6 text-primary"})}),s.jsx(ee,{className:"text-xl sm:text-2xl",children:l.name}),s.jsx("div",{className:"space-y-1",children:s.jsxs("div",{className:"flex items-baseline justify-center space-x-1",children:[s.jsx("span",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:l.price}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["/",l.period]})]})}),s.jsx(He,{className:"text-center text-sm sm:text-base",children:l.description})]}),s.jsxs(Q,{className:"space-y-4 sm:space-y-6",children:[s.jsx("ul",{className:"space-y-2 sm:space-y-3",children:l.features.map((u,h)=>s.jsxs("li",{className:"flex items-start space-x-2 sm:space-x-3",children:[s.jsx(Qt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"text-xs sm:text-sm text-foreground leading-relaxed",children:u})]},h))}),s.jsx(H,{variant:l.variant,className:"w-full min-h-[44px]",size:"lg",onClick:()=>i(l.name),children:e==="home"?"Get Started":l.buttonText})]})]},l.name)})}),s.jsxs("div",{className:"text-center mt-12 space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"All plans include our core emotional support features"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Cancel anytime  Secure payments"}),s.jsxs("p",{className:"text-xs text-muted-foreground pt-4",children:["Need help? Contact us at"," ",s.jsx("a",{href:"mailto:support@heart-lift.com",className:"text-primary hover:text-primary/80 underline transition-colors",children:"support@heart-lift.com"})]})]}),s.jsx(Vj,{isOpen:t,onClose:()=>r(!1),trigger:"usage_limit"})]})})},UM=()=>{const{user:e,isPremium:t,hasHealingKit:r}=Te();return!e||!(t||r)?null:s.jsx(W,{className:"mb-6 p-4 bg-gradient-to-r from-primary/10 via-primary-glow/10 to-secondary/10 border-primary/20",children:s.jsxs("div",{className:"flex items-center justify-center gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ks,{className:"w-5 h-5 text-green-500"}),s.jsx("span",{className:"font-medium text-foreground",children:"Your Active Plans"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[t&&s.jsxs(je,{variant:"default",className:"bg-gradient-to-r from-primary to-primary-glow text-primary-foreground px-3 py-1",children:[s.jsx(rt,{className:"w-4 h-4 mr-1"}),"Premium Active"]}),r&&s.jsxs(je,{variant:"secondary",className:"bg-gradient-to-r from-healing to-healing-glow text-healing-foreground px-3 py-1",children:[s.jsx(he,{className:"w-4 h-4 mr-1"}),"Healing Kit Active"]})]})]})})};function FM({firstName:e,onStartChat:t,onClose:r}){const n=()=>{t(),r()};return s.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:r,children:s.jsx(W,{className:"w-full max-w-md mx-auto shadow-2xl border-2 border-primary/20",onClick:o=>o.stopPropagation(),children:s.jsxs(Q,{className:"p-8 text-center space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:["Welcome, ",e,"! "]}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"We're here to support your growth and healing."})]}),s.jsxs(H,{onClick:n,className:"w-full h-12 text-lg font-semibold",size:"lg",children:[s.jsx(vu,{className:"w-5 h-5 mr-2"}),"Start Chatting with Your Coach "]})]})})})}var Jd="rovingFocusGroup.onEntryFocus",zM={bubbles:!1,cancelable:!0},nl="RovingFocusGroup",[Sf,Zj,HM]=mu(nl),[BM,Ta]=It(nl,[HM]),[WM,VM]=BM(nl),eS=f.forwardRef((e,t)=>s.jsx(Sf.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Sf.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(KM,{...e,ref:t})})}));eS.displayName=nl;var KM=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:o=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...d}=e,m=f.useRef(null),v=ye(t,m),b=_a(a),[g,w]=wn({prop:i,defaultProp:l??null,onChange:c,caller:nl}),[p,y]=f.useState(!1),x=qe(u),j=Zj(r),S=f.useRef(!1),[N,_]=f.useState(0);return f.useEffect(()=>{const E=m.current;if(E)return E.addEventListener(Jd,x),()=>E.removeEventListener(Jd,x)},[x]),s.jsx(WM,{scope:r,orientation:n,dir:b,loop:o,currentTabStopId:g,onItemFocus:f.useCallback(E=>w(E),[w]),onItemShiftTab:f.useCallback(()=>y(!0),[]),onFocusableItemAdd:f.useCallback(()=>_(E=>E+1),[]),onFocusableItemRemove:f.useCallback(()=>_(E=>E-1),[]),children:s.jsx(ae.div,{tabIndex:p||N===0?-1:0,"data-orientation":n,...d,ref:v,style:{outline:"none",...e.style},onMouseDown:X(e.onMouseDown,()=>{S.current=!0}),onFocus:X(e.onFocus,E=>{const M=!S.current;if(E.target===E.currentTarget&&M&&!p){const R=new CustomEvent(Jd,zM);if(E.currentTarget.dispatchEvent(R),!R.defaultPrevented){const z=j().filter(P=>P.focusable),O=z.find(P=>P.active),F=z.find(P=>P.id===g),D=[O,F,...z].filter(Boolean).map(P=>P.ref.current);nS(D,h)}}S.current=!1}),onBlur:X(e.onBlur,()=>y(!1))})})}),tS="RovingFocusGroupItem",rS=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:o=!1,tabStopId:a,children:i,...l}=e,c=Yr(),u=a||c,h=VM(tS,r),d=h.currentTabStopId===u,m=Zj(r),{onFocusableItemAdd:v,onFocusableItemRemove:b,currentTabStopId:g}=h;return f.useEffect(()=>{if(n)return v(),()=>b()},[n,v,b]),s.jsx(Sf.ItemSlot,{scope:r,id:u,focusable:n,active:o,children:s.jsx(ae.span,{tabIndex:d?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:X(e.onMouseDown,w=>{n?h.onItemFocus(u):w.preventDefault()}),onFocus:X(e.onFocus,()=>h.onItemFocus(u)),onKeyDown:X(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){h.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const p=YM(w,h.orientation,h.dir);if(p!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let x=m().filter(j=>j.focusable).map(j=>j.ref.current);if(p==="last")x.reverse();else if(p==="prev"||p==="next"){p==="prev"&&x.reverse();const j=x.indexOf(w.currentTarget);x=h.loop?QM(x,j+1):x.slice(j+1)}setTimeout(()=>nS(x))}}),children:typeof i=="function"?i({isCurrentTabStop:d,hasTabStop:g!=null}):i})})});rS.displayName=tS;var qM={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function GM(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function YM(e,t,r){const n=GM(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return qM[n]}function nS(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function QM(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var gp=eS,yp=rS,zu="Tabs",[JM]=It(zu,[Ta]),sS=Ta(),[XM,xp]=JM(zu),oS=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:o,defaultValue:a,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,h=_a(l),[d,m]=wn({prop:n,onChange:o,defaultProp:a??"",caller:zu});return s.jsx(XM,{scope:r,baseId:Yr(),value:d,onValueChange:m,orientation:i,dir:h,activationMode:c,children:s.jsx(ae.div,{dir:h,"data-orientation":i,...u,ref:t})})});oS.displayName=zu;var aS="TabsList",iS=f.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...o}=e,a=xp(aS,r),i=sS(r);return s.jsx(gp,{asChild:!0,...i,orientation:a.orientation,dir:a.dir,loop:n,children:s.jsx(ae.div,{role:"tablist","aria-orientation":a.orientation,...o,ref:t})})});iS.displayName=aS;var lS="TabsTrigger",cS=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:o=!1,...a}=e,i=xp(lS,r),l=sS(r),c=hS(i.baseId,n),u=fS(i.baseId,n),h=n===i.value;return s.jsx(yp,{asChild:!0,...l,focusable:!o,active:h,children:s.jsx(ae.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:c,...a,ref:t,onMouseDown:X(e.onMouseDown,d=>{!o&&d.button===0&&d.ctrlKey===!1?i.onValueChange(n):d.preventDefault()}),onKeyDown:X(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&i.onValueChange(n)}),onFocus:X(e.onFocus,()=>{const d=i.activationMode!=="manual";!h&&!o&&d&&i.onValueChange(n)})})})});cS.displayName=lS;var uS="TabsContent",dS=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:o,children:a,...i}=e,l=xp(uS,r),c=hS(l.baseId,n),u=fS(l.baseId,n),h=n===l.value,d=f.useRef(h);return f.useEffect(()=>{const m=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(m)},[]),s.jsx(gt,{present:o||h,children:({present:m})=>s.jsx(ae.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:m&&a})})});dS.displayName=uS;function hS(e,t){return`${e}-trigger-${t}`}function fS(e,t){return`${e}-content-${t}`}var ZM=oS,mS=iS,pS=cS,gS=dS;const vp=ZM,Hu=f.forwardRef(({className:e,...t},r)=>s.jsx(mS,{ref:r,className:le("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Hu.displayName=mS.displayName;const hn=f.forwardRef(({className:e,...t},r)=>s.jsx(pS,{ref:r,className:le("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-gradient-to-r data-[state=active]:from-primary data-[state=active]:to-primary-glow data-[state=active]:text-primary-foreground data-[state=active]:shadow-md",e),...t}));hn.displayName=pS.displayName;const fn=f.forwardRef(({className:e,...t},r)=>s.jsx(gS,{ref:r,className:le("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));fn.displayName=gS.displayName;var Nf=["Enter"," "],eD=["ArrowDown","PageUp","Home"],yS=["ArrowUp","PageDown","End"],tD=[...eD,...yS],rD={ltr:[...Nf,"ArrowRight"],rtl:[...Nf,"ArrowLeft"]},nD={ltr:["ArrowLeft"],rtl:["ArrowRight"]},sl="Menu",[Fi,sD,oD]=mu(sl),[no,xS]=It(sl,[oD,wa,Ta]),Bu=wa(),vS=Ta(),[aD,so]=no(sl),[iD,ol]=no(sl),wS=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:o,onOpenChange:a,modal:i=!0}=e,l=Bu(t),[c,u]=f.useState(null),h=f.useRef(!1),d=qe(a),m=_a(o);return f.useEffect(()=>{const v=()=>{h.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>h.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),s.jsx(rb,{...l,children:s.jsx(aD,{scope:t,open:r,onOpenChange:d,content:c,onContentChange:u,children:s.jsx(iD,{scope:t,onClose:f.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:h,dir:m,modal:i,children:n})})})};wS.displayName=sl;var lD="MenuAnchor",wp=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,o=Bu(r);return s.jsx(Bm,{...o,...n,ref:t})});wp.displayName=lD;var bp="MenuPortal",[cD,bS]=no(bp,{forceMount:void 0}),jS=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:o}=e,a=so(bp,t);return s.jsx(cD,{scope:t,forceMount:r,children:s.jsx(gt,{present:r||a.open,children:s.jsx(Qi,{asChild:!0,container:o,children:n})})})};jS.displayName=bp;var ur="MenuContent",[uD,jp]=no(ur),SS=f.forwardRef((e,t)=>{const r=bS(ur,e.__scopeMenu),{forceMount:n=r.forceMount,...o}=e,a=so(ur,e.__scopeMenu),i=ol(ur,e.__scopeMenu);return s.jsx(Fi.Provider,{scope:e.__scopeMenu,children:s.jsx(gt,{present:n||a.open,children:s.jsx(Fi.Slot,{scope:e.__scopeMenu,children:i.modal?s.jsx(dD,{...o,ref:t}):s.jsx(hD,{...o,ref:t})})})})}),dD=f.forwardRef((e,t)=>{const r=so(ur,e.__scopeMenu),n=f.useRef(null),o=ye(t,n);return f.useEffect(()=>{const a=n.current;if(a)return cp(a)},[]),s.jsx(Sp,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:X(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),hD=f.forwardRef((e,t)=>{const r=so(ur,e.__scopeMenu);return s.jsx(Sp,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),fD=Vs("MenuContent.ScrollLock"),Sp=f.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:d,onInteractOutside:m,onDismiss:v,disableOutsideScroll:b,...g}=e,w=so(ur,r),p=ol(ur,r),y=Bu(r),x=vS(r),j=sD(r),[S,N]=f.useState(null),_=f.useRef(null),E=ye(t,_,w.onContentChange),M=f.useRef(0),R=f.useRef(""),z=f.useRef(0),O=f.useRef(null),F=f.useRef("right"),A=f.useRef(0),D=b?Uu:f.Fragment,P=b?{as:fD,allowPinchZoom:!0}:void 0,T=k=>{var I,q;const $=R.current+k,U=j().filter(te=>!te.disabled),V=document.activeElement,L=(I=U.find(te=>te.ref.current===V))==null?void 0:I.textValue,J=U.map(te=>te.textValue),ne=_D(J,$,L),ie=(q=U.find(te=>te.textValue===ne))==null?void 0:q.ref.current;(function te(ce){R.current=ce,window.clearTimeout(M.current),ce!==""&&(M.current=window.setTimeout(()=>te(""),1e3))})($),ie&&setTimeout(()=>ie.focus())};f.useEffect(()=>()=>window.clearTimeout(M.current),[]),lp();const C=f.useCallback(k=>{var U,V;return F.current===((U=O.current)==null?void 0:U.side)&&kD(k,(V=O.current)==null?void 0:V.area)},[]);return s.jsx(uD,{scope:r,searchRef:R,onItemEnter:f.useCallback(k=>{C(k)&&k.preventDefault()},[C]),onItemLeave:f.useCallback(k=>{var $;C(k)||(($=_.current)==null||$.focus(),N(null))},[C]),onTriggerLeave:f.useCallback(k=>{C(k)&&k.preventDefault()},[C]),pointerGraceTimerRef:z,onPointerGraceIntentChange:f.useCallback(k=>{O.current=k},[]),children:s.jsx(D,{...P,children:s.jsx(Lu,{asChild:!0,trapped:o,onMountAutoFocus:X(a,k=>{var $;k.preventDefault(),($=_.current)==null||$.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:s.jsx(ga,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:d,onInteractOutside:m,onDismiss:v,children:s.jsx(gp,{asChild:!0,...x,dir:p.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:N,onEntryFocus:X(c,k=>{p.isUsingKeyboardRef.current||k.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(Wm,{role:"menu","aria-orientation":"vertical","data-state":US(w.open),"data-radix-menu-content":"",dir:p.dir,...y,...g,ref:E,style:{outline:"none",...g.style},onKeyDown:X(g.onKeyDown,k=>{const U=k.target.closest("[data-radix-menu-content]")===k.currentTarget,V=k.ctrlKey||k.altKey||k.metaKey,L=k.key.length===1;U&&(k.key==="Tab"&&k.preventDefault(),!V&&L&&T(k.key));const J=_.current;if(k.target!==J||!tD.includes(k.key))return;k.preventDefault();const ie=j().filter(I=>!I.disabled).map(I=>I.ref.current);yS.includes(k.key)&&ie.reverse(),SD(ie)}),onBlur:X(e.onBlur,k=>{k.currentTarget.contains(k.target)||(window.clearTimeout(M.current),R.current="")}),onPointerMove:X(e.onPointerMove,zi(k=>{const $=k.target,U=A.current!==k.clientX;if(k.currentTarget.contains($)&&U){const V=k.clientX>A.current?"right":"left";F.current=V,A.current=k.clientX}}))})})})})})})});SS.displayName=ur;var mD="MenuGroup",Np=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(ae.div,{role:"group",...n,ref:t})});Np.displayName=mD;var pD="MenuLabel",NS=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(ae.div,{...n,ref:t})});NS.displayName=pD;var qc="MenuItem",yx="menu.itemSelect",Wu=f.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...o}=e,a=f.useRef(null),i=ol(qc,e.__scopeMenu),l=jp(qc,e.__scopeMenu),c=ye(t,a),u=f.useRef(!1),h=()=>{const d=a.current;if(!r&&d){const m=new CustomEvent(yx,{bubbles:!0,cancelable:!0});d.addEventListener(yx,v=>n==null?void 0:n(v),{once:!0}),Pm(d,m),m.defaultPrevented?u.current=!1:i.onClose()}};return s.jsx(_S,{...o,ref:c,disabled:r,onClick:X(e.onClick,h),onPointerDown:d=>{var m;(m=e.onPointerDown)==null||m.call(e,d),u.current=!0},onPointerUp:X(e.onPointerUp,d=>{var m;u.current||(m=d.currentTarget)==null||m.click()}),onKeyDown:X(e.onKeyDown,d=>{const m=l.searchRef.current!=="";r||m&&d.key===" "||Nf.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});Wu.displayName=qc;var _S=f.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:o,...a}=e,i=jp(qc,r),l=vS(r),c=f.useRef(null),u=ye(t,c),[h,d]=f.useState(!1),[m,v]=f.useState("");return f.useEffect(()=>{const b=c.current;b&&v((b.textContent??"").trim())},[a.children]),s.jsx(Fi.ItemSlot,{scope:r,disabled:n,textValue:o??m,children:s.jsx(yp,{asChild:!0,...l,focusable:!n,children:s.jsx(ae.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:X(e.onPointerMove,zi(b=>{n?i.onItemLeave(b):(i.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:X(e.onPointerLeave,zi(b=>i.onItemLeave(b))),onFocus:X(e.onFocus,()=>d(!0)),onBlur:X(e.onBlur,()=>d(!1))})})})}),gD="MenuCheckboxItem",CS=f.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...o}=e;return s.jsx(RS,{scope:e.__scopeMenu,checked:r,children:s.jsx(Wu,{role:"menuitemcheckbox","aria-checked":Gc(r)?"mixed":r,...o,ref:t,"data-state":Cp(r),onSelect:X(o.onSelect,()=>n==null?void 0:n(Gc(r)?!0:!r),{checkForDefaultPrevented:!1})})})});CS.displayName=gD;var kS="MenuRadioGroup",[yD,xD]=no(kS,{value:void 0,onValueChange:()=>{}}),ES=f.forwardRef((e,t)=>{const{value:r,onValueChange:n,...o}=e,a=qe(n);return s.jsx(yD,{scope:e.__scopeMenu,value:r,onValueChange:a,children:s.jsx(Np,{...o,ref:t})})});ES.displayName=kS;var PS="MenuRadioItem",TS=f.forwardRef((e,t)=>{const{value:r,...n}=e,o=xD(PS,e.__scopeMenu),a=r===o.value;return s.jsx(RS,{scope:e.__scopeMenu,checked:a,children:s.jsx(Wu,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":Cp(a),onSelect:X(n.onSelect,()=>{var i;return(i=o.onValueChange)==null?void 0:i.call(o,r)},{checkForDefaultPrevented:!1})})})});TS.displayName=PS;var _p="MenuItemIndicator",[RS,vD]=no(_p,{checked:!1}),AS=f.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...o}=e,a=vD(_p,r);return s.jsx(gt,{present:n||Gc(a.checked)||a.checked===!0,children:s.jsx(ae.span,{...o,ref:t,"data-state":Cp(a.checked)})})});AS.displayName=_p;var wD="MenuSeparator",IS=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(ae.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});IS.displayName=wD;var bD="MenuArrow",OS=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,o=Bu(r);return s.jsx(Vm,{...o,...n,ref:t})});OS.displayName=bD;var jD="MenuSub",[p3,MS]=no(jD),Za="MenuSubTrigger",DS=f.forwardRef((e,t)=>{const r=so(Za,e.__scopeMenu),n=ol(Za,e.__scopeMenu),o=MS(Za,e.__scopeMenu),a=jp(Za,e.__scopeMenu),i=f.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},h=f.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return f.useEffect(()=>h,[h]),f.useEffect(()=>{const d=l.current;return()=>{window.clearTimeout(d),c(null)}},[l,c]),s.jsx(wp,{asChild:!0,...u,children:s.jsx(_S,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":o.contentId,"data-state":US(r.open),...e,ref:fu(t,o.onTriggerChange),onClick:d=>{var m;(m=e.onClick)==null||m.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:X(e.onPointerMove,zi(d=>{a.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(a.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),h()},100))})),onPointerLeave:X(e.onPointerLeave,zi(d=>{var v,b;h();const m=(v=r.content)==null?void 0:v.getBoundingClientRect();if(m){const g=(b=r.content)==null?void 0:b.dataset.side,w=g==="right",p=w?-5:5,y=m[w?"left":"right"],x=m[w?"right":"left"];a.onPointerGraceIntentChange({area:[{x:d.clientX+p,y:d.clientY},{x:y,y:m.top},{x,y:m.top},{x,y:m.bottom},{x:y,y:m.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(d),d.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:X(e.onKeyDown,d=>{var v;const m=a.searchRef.current!=="";e.disabled||m&&d.key===" "||rD[n.dir].includes(d.key)&&(r.onOpenChange(!0),(v=r.content)==null||v.focus(),d.preventDefault())})})})});DS.displayName=Za;var LS="MenuSubContent",$S=f.forwardRef((e,t)=>{const r=bS(ur,e.__scopeMenu),{forceMount:n=r.forceMount,...o}=e,a=so(ur,e.__scopeMenu),i=ol(ur,e.__scopeMenu),l=MS(LS,e.__scopeMenu),c=f.useRef(null),u=ye(t,c);return s.jsx(Fi.Provider,{scope:e.__scopeMenu,children:s.jsx(gt,{present:n||a.open,children:s.jsx(Fi.Slot,{scope:e.__scopeMenu,children:s.jsx(Sp,{id:l.contentId,"aria-labelledby":l.triggerId,...o,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var d;i.isUsingKeyboardRef.current&&((d=c.current)==null||d.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:X(e.onFocusOutside,h=>{h.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:X(e.onEscapeKeyDown,h=>{i.onClose(),h.preventDefault()}),onKeyDown:X(e.onKeyDown,h=>{var v;const d=h.currentTarget.contains(h.target),m=nD[i.dir].includes(h.key);d&&m&&(a.onOpenChange(!1),(v=l.trigger)==null||v.focus(),h.preventDefault())})})})})})});$S.displayName=LS;function US(e){return e?"open":"closed"}function Gc(e){return e==="indeterminate"}function Cp(e){return Gc(e)?"indeterminate":e?"checked":"unchecked"}function SD(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function ND(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function _D(e,t,r){const o=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=ND(e,Math.max(a,0));o.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(o.toLowerCase()));return c!==r?c:void 0}function CD(e,t){const{x:r,y:n}=e;let o=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a],c=t[i],u=l.x,h=l.y,d=c.x,m=c.y;h>n!=m>n&&r<(d-u)*(n-h)/(m-h)+u&&(o=!o)}return o}function kD(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return CD(r,t)}function zi(e){return t=>t.pointerType==="mouse"?e(t):void 0}var ED=wS,PD=wp,TD=jS,RD=SS,AD=Np,ID=NS,OD=Wu,MD=CS,DD=ES,LD=TS,$D=AS,UD=IS,FD=OS,zD=DS,HD=$S,Vu="DropdownMenu",[BD]=It(Vu,[xS]),Ot=xS(),[WD,FS]=BD(Vu),zS=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:o,defaultOpen:a,onOpenChange:i,modal:l=!0}=e,c=Ot(t),u=f.useRef(null),[h,d]=wn({prop:o,defaultProp:a??!1,onChange:i,caller:Vu});return s.jsx(WD,{scope:t,triggerId:Yr(),triggerRef:u,contentId:Yr(),open:h,onOpenChange:d,onOpenToggle:f.useCallback(()=>d(m=>!m),[d]),modal:l,children:s.jsx(ED,{...c,open:h,onOpenChange:d,dir:n,modal:l,children:r})})};zS.displayName=Vu;var HS="DropdownMenuTrigger",BS=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...o}=e,a=FS(HS,r),i=Ot(r);return s.jsx(PD,{asChild:!0,...i,children:s.jsx(ae.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...o,ref:fu(t,a.triggerRef),onPointerDown:X(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:X(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});BS.displayName=HS;var VD="DropdownMenuPortal",WS=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Ot(t);return s.jsx(TD,{...n,...r})};WS.displayName=VD;var VS="DropdownMenuContent",KS=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=FS(VS,r),a=Ot(r),i=f.useRef(!1);return s.jsx(RD,{id:o.contentId,"aria-labelledby":o.triggerId,...a,...n,ref:t,onCloseAutoFocus:X(e.onCloseAutoFocus,l=>{var c;i.current||(c=o.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:X(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,h=c.button===2||u;(!o.modal||h)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});KS.displayName=VS;var KD="DropdownMenuGroup",qD=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ot(r);return s.jsx(AD,{...o,...n,ref:t})});qD.displayName=KD;var GD="DropdownMenuLabel",qS=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ot(r);return s.jsx(ID,{...o,...n,ref:t})});qS.displayName=GD;var YD="DropdownMenuItem",GS=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ot(r);return s.jsx(OD,{...o,...n,ref:t})});GS.displayName=YD;var QD="DropdownMenuCheckboxItem",YS=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ot(r);return s.jsx(MD,{...o,...n,ref:t})});YS.displayName=QD;var JD="DropdownMenuRadioGroup",XD=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ot(r);return s.jsx(DD,{...o,...n,ref:t})});XD.displayName=JD;var ZD="DropdownMenuRadioItem",QS=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ot(r);return s.jsx(LD,{...o,...n,ref:t})});QS.displayName=ZD;var e5="DropdownMenuItemIndicator",JS=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ot(r);return s.jsx($D,{...o,...n,ref:t})});JS.displayName=e5;var t5="DropdownMenuSeparator",XS=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ot(r);return s.jsx(UD,{...o,...n,ref:t})});XS.displayName=t5;var r5="DropdownMenuArrow",n5=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ot(r);return s.jsx(FD,{...o,...n,ref:t})});n5.displayName=r5;var s5="DropdownMenuSubTrigger",ZS=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ot(r);return s.jsx(zD,{...o,...n,ref:t})});ZS.displayName=s5;var o5="DropdownMenuSubContent",eN=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ot(r);return s.jsx(HD,{...o,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});eN.displayName=o5;var a5=zS,i5=BS,l5=WS,tN=KS,rN=qS,nN=GS,sN=YS,oN=QS,aN=JS,iN=XS,lN=ZS,cN=eN;const c5=a5,u5=i5,d5=f.forwardRef(({className:e,inset:t,children:r,...n},o)=>s.jsxs(lN,{ref:o,className:le("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,s.jsx(yu,{className:"ml-auto h-4 w-4"})]}));d5.displayName=lN.displayName;const h5=f.forwardRef(({className:e,...t},r)=>s.jsx(cN,{ref:r,className:le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));h5.displayName=cN.displayName;const uN=f.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(l5,{children:s.jsx(tN,{ref:n,sideOffset:t,className:le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));uN.displayName=tN.displayName;const oc=f.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(nN,{ref:n,className:le("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));oc.displayName=nN.displayName;const f5=f.forwardRef(({className:e,children:t,checked:r,...n},o)=>s.jsxs(sN,{ref:o,className:le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(aN,{children:s.jsx(Qt,{className:"h-4 w-4"})})}),t]}));f5.displayName=sN.displayName;const m5=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(oN,{ref:n,className:le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(aN,{children:s.jsx(xu,{className:"h-2 w-2 fill-current"})})}),t]}));m5.displayName=oN.displayName;const p5=f.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(rN,{ref:n,className:le("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));p5.displayName=rN.displayName;const dN=f.forwardRef(({className:e,...t},r)=>s.jsx(iN,{ref:r,className:le("-mx-1 my-1 h-px bg-muted",e),...t}));dN.displayName=iN.displayName;const Va={flirty:{name:"Luna Love",personality:"flirty",greetings:["Hi {firstName}! Ready to turn heads today? ","Hey {firstName}, feeling that spark yet? Let's bring it out! ","Hi {firstName}! You've got main character energy and I'm here for it.","Hello {firstName}, let's add a little confidence magic to your day."],icon:he,color:"from-pink-400 to-rose-500"},therapist:{name:"Dr. Sage",personality:"therapist",greetings:["Hi {firstName}, I'm here to help you understand yourself better.","Hello {firstName}. Let's take a moment to pause and reflect together.","Hi {firstName}, what's been on your mind lately? I'm listening.","Hi {firstName}. You've taken the first step just by showing up and that matters."],icon:Wr,color:"from-purple-400 to-indigo-500"},"tough-love":{name:"Phoenix Fire",personality:"tough-love",greetings:["Hey {firstName}! I'm Phoenix, your no BS mentor for self transformation. Ready to light things up? ","Hi {firstName}, I'm here to help you set boundaries, own your power, and make real change.","Hello {firstName}! Time for some straight talk. Let's cut through the noise and get you feeling strong again.","Hey {firstName}, growth takes courage and you already have what it takes."],icon:Ri,color:"from-orange-400 to-red-500"},chill:{name:"River Calm",personality:"chill",greetings:["Hello {firstName}, I'm River. Take a deep breath and let's find your calm together.","Hi {firstName}. I'm here to offer you a peaceful space to reflect and release what's been heavy.","Hey {firstName}, take a moment to pause and reconnect. Let's find your balance again.","Hi {firstName}. You've arrived in a safe and gentle space. What's been flowing through your mind today?"],icon:j0,color:"from-emerald-400 to-teal-500"}},g5=()=>{var w,p,y,x,j;const[e,t]=f.useState("therapist"),[r,n]=f.useState(()=>new URLSearchParams(window.location.search).get("tab")||"home"),[o,a]=f.useState(!1),{isPremium:i,hasHealingKit:l,user:c,signOut:u}=Te(),h=nt(),d=rr();f.useEffect(()=>{const N=new URLSearchParams(d.search).get("tab")||"home";n(N)},[d.search]),f.useEffect(()=>{r!=="home"&&window.scrollTo({top:0,behavior:"smooth"})},[r]),f.useEffect(()=>{c&&r!=="home"&&(localStorage.getItem(`welcomeShown_${c.id}`)||a(!0))},[c,r]);const m=()=>{n("chat")},v=()=>{n("chat")},b=()=>{a(!1),c&&localStorage.setItem(`welcomeShown_${c.id}`,"true")},g=()=>{var N,_;if(!c)return"";if((N=c.user_metadata)!=null&&N.full_name){const M=c.user_metadata.full_name.split(" ")[0];return M.charAt(0).toUpperCase()+M.slice(1).toLowerCase()}const S=((_=c.email)==null?void 0:_.split("@")[0])||"";return S.charAt(0).toUpperCase()+S.slice(1).toLowerCase()};return r==="home"?s.jsxs("div",{className:"min-h-screen",children:[s.jsx(J4,{onGetStarted:m}),s.jsx(gx,{backTo:"home"})]}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-muted/30 to-secondary/30",children:[o&&s.jsx(FM,{firstName:g(),onStartChat:v,onClose:b}),s.jsxs("div",{className:"container mx-auto px-3 sm:px-4 py-4 sm:py-8",style:{paddingTop:"calc(env(safe-area-inset-top, 20px) + 2rem)"},children:[s.jsx("div",{className:"mt-8",children:s.jsx(UM,{})}),c&&s.jsx("div",{className:"mb-8 mt-8 text-center",children:s.jsxs("p",{className:"text-lg sm:text-xl text-foreground",children:["Welcome back, ",s.jsx("span",{className:"font-semibold bg-gradient-to-r from-primary to-primary-glow bg-clip-text text-transparent",children:g()}),"!",s.jsx("span",{className:"block sm:inline sm:ml-1 text-muted-foreground",children:"Your coaches are here to support you today"})]})}),(i||l)&&s.jsxs("div",{className:"flex justify-center gap-2 mb-6",children:[i&&s.jsx($c,{to:"/advanced-tools",children:s.jsxs(H,{variant:"outline",className:"flex items-center gap-2",children:[s.jsx(Pe,{className:"w-4 h-4"}),"Advanced Tools"]})}),l&&s.jsx($c,{to:"/healing-kit",children:s.jsxs(H,{variant:"outline",className:"flex items-center gap-2 hover:shadow-md transition-all",children:[s.jsx(he,{className:"w-4 h-4 text-primary animate-heart-pulse"}),"Healing Kit"]})})]}),s.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[s.jsx("div",{className:"p-1.5 sm:p-2 rounded-full bg-gradient-to-r from-primary to-primary-glow",children:s.jsx(he,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary-foreground"})}),s.jsxs("h1",{className:"text-xl sm:text-2xl font-bold",children:["Heart",s.jsx("span",{className:"bg-gradient-to-r from-primary via-primary to-primary bg-clip-text text-transparent font-black",children:"Lift"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(H,{variant:"gentle",size:"sm",onClick:()=>n("home"),className:"text-xs sm:text-sm min-h-[44px] px-4",children:[s.jsx("span",{className:"hidden sm:inline",children:" Home"}),s.jsx("span",{className:"sm:hidden",children:"Home"})]}),c&&s.jsxs(c5,{children:[s.jsx(u5,{asChild:!0,children:s.jsxs(H,{variant:"outline",size:"sm",className:"flex items-center gap-2 min-h-[44px]",children:[s.jsx(Rc,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Account"})]})}),s.jsxs(uN,{align:"end",children:[s.jsx(oc,{disabled:!0,className:"opacity-60",children:c.email}),s.jsx(dN,{}),s.jsxs(oc,{onClick:()=>h("/subscription-management"),className:"cursor-pointer",children:[s.jsx(Rc,{className:"w-4 h-4 mr-2"}),"Manage Account"]}),s.jsxs(oc,{onClick:u,className:"text-red-600 cursor-pointer",children:[s.jsx(NE,{className:"w-4 h-4 mr-2"}),"Sign out"]})]})]})]})]}),s.jsxs(vp,{value:r,onValueChange:n,className:"space-y-4 sm:space-y-6",children:[s.jsxs(Hu,{className:"grid w-full max-w-xs sm:max-w-md mx-auto grid-cols-4 h-14 sm:h-10 sticky top-0 z-10 backdrop-blur-sm",children:[s.jsxs(hn,{value:"chat",className:"flex flex-col sm:flex-row items-center justify-center sm:space-x-1 p-2 min-h-[44px]",children:[s.jsx(vu,{className:"w-4 h-4 sm:w-4 sm:h-4"}),s.jsx("span",{className:"text-xs sm:text-sm mt-1 sm:mt-0 sm:hidden lg:inline",children:"Chat"})]}),s.jsxs(hn,{value:"mood",className:"flex flex-col sm:flex-row items-center justify-center sm:space-x-1 p-2 min-h-[44px]",children:[s.jsx(la,{className:"w-4 h-4 sm:w-4 sm:h-4"}),s.jsx("span",{className:"text-xs sm:text-sm mt-1 sm:mt-0 sm:hidden lg:inline",children:"Mood"})]}),s.jsxs(hn,{value:"coaches",className:"flex flex-col sm:flex-row items-center justify-center sm:space-x-1 p-2 min-h-[44px]",children:[s.jsx(he,{className:"w-4 h-4 sm:w-4 sm:h-4"}),s.jsx("span",{className:"text-xs sm:text-sm mt-1 sm:mt-0 sm:hidden lg:inline",children:"Coaches"})]}),s.jsxs(hn,{value:"pricing",className:"flex flex-col sm:flex-row items-center justify-center sm:space-x-1 p-2 min-h-[44px]",children:[s.jsx(S0,{className:"w-4 h-4 sm:w-4 sm:h-4"}),s.jsx("span",{className:"text-xs sm:text-sm mt-1 sm:mt-0 sm:hidden lg:inline",children:"Plans"})]})]}),s.jsxs(fn,{value:"chat",className:"space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"text-center space-y-3 mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:" Chat with Your Coaches"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"Your coaches are here anytime to guide and support you"})]}),s.jsxs("div",{className:"max-w-4xl mx-auto space-y-4 lg:space-y-0 lg:grid lg:grid-cols-3 lg:gap-6",children:[s.jsx("div",{className:"lg:col-span-1 lg:order-1",children:s.jsx(Zy,{onSelectCoach:t,selectedCoach:e,compact:!0})}),s.jsx("div",{className:"lg:col-span-2 lg:order-2",children:s.jsx(DM,{coachName:((w=Va[e])==null?void 0:w.name)||"Dr. Sage",coachPersonality:((p=Va[e])==null?void 0:p.personality)||"therapist",coachGreetings:(y=Va[e])==null?void 0:y.greetings,coachIcon:((x=Va[e])==null?void 0:x.icon)||Wr,coachColor:((j=Va[e])==null?void 0:j.color)||"from-purple-400 to-indigo-500"},e)})]})]}),s.jsx(fn,{value:"mood",className:"space-y-6",children:s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsx(LM,{})})}),s.jsxs(fn,{value:"coaches",className:"space-y-6",children:[s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsx(Zy,{onSelectCoach:t,selectedCoach:e})}),s.jsxs("div",{className:"flex flex-col items-center justify-center pt-12 pb-8 space-y-2",children:[s.jsx("p",{className:"text-muted-foreground text-center",children:"All coaches provide personalised emotional support"}),s.jsxs("p",{className:"text-muted-foreground text-sm",children:["Need help? Contact us at"," ",s.jsx("a",{href:"mailto:support@heart-lift.com",className:"text-primary hover:text-primary/80 underline transition-colors",children:"support@heart-lift.com"})]})]})]}),s.jsx(fn,{value:"pricing",className:"space-y-6",children:s.jsx(gx,{backTo:"coaches"})})]})]})]})};var y5="Label",hN=f.forwardRef((e,t)=>s.jsx(ae.label,{...e,ref:t,onMouseDown:r=>{var o;r.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));hN.displayName=y5;var fN=hN;const x5=Xi("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Je=f.forwardRef(({className:e,...t},r)=>s.jsx(fN,{ref:r,className:le(x5(),e),...t}));Je.displayName=fN.displayName;function kp(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Ku="Checkbox",[v5]=It(Ku),[w5,Ep]=v5(Ku);function b5(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:o,disabled:a,form:i,name:l,onCheckedChange:c,required:u,value:h="on",internal_do_not_use_render:d}=e,[m,v]=wn({prop:r,defaultProp:o??!1,onChange:c,caller:Ku}),[b,g]=f.useState(null),[w,p]=f.useState(null),y=f.useRef(!1),x=b?!!i||!!b.closest("form"):!0,j={checked:m,disabled:a,setChecked:v,control:b,setControl:g,name:l,form:i,value:h,hasConsumerStoppedPropagationRef:y,required:u,defaultChecked:os(o)?!1:o,isFormControl:x,bubbleInput:w,setBubbleInput:p};return s.jsx(w5,{scope:t,...j,children:j5(d)?d(j):n})}var mN="CheckboxTrigger",pN=f.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},o)=>{const{control:a,value:i,disabled:l,checked:c,required:u,setControl:h,setChecked:d,hasConsumerStoppedPropagationRef:m,isFormControl:v,bubbleInput:b}=Ep(mN,e),g=ye(o,h),w=f.useRef(c);return f.useEffect(()=>{const p=a==null?void 0:a.form;if(p){const y=()=>d(w.current);return p.addEventListener("reset",y),()=>p.removeEventListener("reset",y)}},[a,d]),s.jsx(ae.button,{type:"button",role:"checkbox","aria-checked":os(c)?"mixed":c,"aria-required":u,"data-state":wN(c),"data-disabled":l?"":void 0,disabled:l,value:i,...n,ref:g,onKeyDown:X(t,p=>{p.key==="Enter"&&p.preventDefault()}),onClick:X(r,p=>{d(y=>os(y)?!0:!y),b&&v&&(m.current=p.isPropagationStopped(),m.current||p.stopPropagation())})})});pN.displayName=mN;var Pp=f.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:o,defaultChecked:a,required:i,disabled:l,value:c,onCheckedChange:u,form:h,...d}=e;return s.jsx(b5,{__scopeCheckbox:r,checked:o,defaultChecked:a,disabled:l,required:i,onCheckedChange:u,name:n,form:h,value:c,internal_do_not_use_render:({isFormControl:m})=>s.jsxs(s.Fragment,{children:[s.jsx(pN,{...d,ref:t,__scopeCheckbox:r}),m&&s.jsx(vN,{__scopeCheckbox:r})]})})});Pp.displayName=Ku;var gN="CheckboxIndicator",yN=f.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...o}=e,a=Ep(gN,r);return s.jsx(gt,{present:n||os(a.checked)||a.checked===!0,children:s.jsx(ae.span,{"data-state":wN(a.checked),"data-disabled":a.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});yN.displayName=gN;var xN="CheckboxBubbleInput",vN=f.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:o,checked:a,defaultChecked:i,required:l,disabled:c,name:u,value:h,form:d,bubbleInput:m,setBubbleInput:v}=Ep(xN,e),b=ye(r,v),g=kp(a),w=Fm(n);f.useEffect(()=>{const y=m;if(!y)return;const x=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(x,"checked").set,N=!o.current;if(g!==a&&S){const _=new Event("click",{bubbles:N});y.indeterminate=os(a),S.call(y,os(a)?!1:a),y.dispatchEvent(_)}},[m,g,a,o]);const p=f.useRef(os(a)?!1:a);return s.jsx(ae.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??p.current,required:l,disabled:c,name:u,value:h,form:d,...t,tabIndex:-1,ref:b,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});vN.displayName=xN;function j5(e){return typeof e=="function"}function os(e){return e==="indeterminate"}function wN(e){return os(e)?"indeterminate":e?"checked":"unchecked"}const bN=f.forwardRef(({className:e,...t},r)=>s.jsx(Pp,{ref:r,className:le("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(yN,{className:le("flex items-center justify-center text-current"),children:s.jsx(Qt,{className:"h-4 w-4"})})}));bN.displayName=Pp.displayName;const S5=()=>{const[e,t]=f.useState(!1),[r,n]=f.useState({fullName:"",email:"",password:""}),[o,a]=f.useState(!1),[i,l]=f.useState({email:"",password:""}),[c,u]=f.useState(""),[h,d]=f.useState(!1),{signIn:m,signUp:v}=Te(),{toast:b}=At(),g=nt(),w=async x=>{if(x.preventDefault(),!o){b({title:"Agreement required",description:"You must agree to the Terms of Service and Privacy Policy to continue.",variant:"destructive"});return}t(!0);const{error:j}=await v(r.email,r.password,r.fullName);j?b({title:"Sign up failed",description:j.message,variant:"destructive"}):(b({title:"Check your email!",description:"We've sent you a 6-digit verification code to complete your registration."}),g(`/verify-email?email=${encodeURIComponent(r.email)}`)),t(!1)},p=async x=>{x.preventDefault(),t(!0);try{const{error:j}=await m(i.email,i.password);j?(console.error("[Auth] Sign in error:",j),b({title:"Sign in failed",description:j.message||"Unable to sign in. Please check your email and password.",variant:"destructive"})):(b({title:"Welcome back!",description:"You're now signed in to HeartLift."}),g("/"))}catch(j){console.error("[Auth] Unexpected sign in error:",j),b({title:"Sign in error",description:"An unexpected error occurred. Please try again or contact support if the issue persists.",variant:"destructive"})}finally{t(!1)}},y=async x=>{x.preventDefault(),t(!0);try{const{error:j}=await K.auth.resetPasswordForEmail(c,{redirectTo:`${window.location.origin}/password-reset`});j?b({title:"Reset failed",description:j.message,variant:"destructive"}):(b({title:"Reset code sent!",description:"Check your email for a 6-digit verification code."}),d(!1),u(""),setTimeout(()=>g(`/password-reset?email=${encodeURIComponent(c)}`),1e3))}catch{b({title:"Something went wrong",description:"Please try again later.",variant:"destructive"})}t(!1)};return s.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-16 bg-gradient-to-br from-background via-muted to-secondary",children:s.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.jsxs(H,{variant:"gentle",onClick:()=>g("/"),className:"mb-4 min-h-[44px]",children:[s.jsx(mr,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"p-3 rounded-full bg-gradient-to-r from-primary to-primary-glow shadow-warm",children:s.jsx(he,{className:"w-6 h-6 text-primary-foreground"})})}),s.jsxs("h1",{className:"text-3xl font-bold text-foreground",children:["Join Heart",s.jsx("span",{className:"bg-gradient-to-r from-primary to-primary-glow bg-clip-text text-transparent",children:"Lift"})]}),s.jsx("p",{className:"text-muted-foreground",children:"Start your healing journey today"})]}),s.jsxs(vp,{defaultValue:"signup",className:"w-full",children:[s.jsxs(Hu,{className:"grid w-full grid-cols-2",children:[s.jsx(hn,{value:"signup",children:"Sign Up"}),s.jsx(hn,{value:"signin",children:"Sign In"})]}),s.jsx(fn,{value:"signup",className:"space-y-4",children:s.jsxs(W,{className:"shadow-gentle",children:[s.jsxs(Z,{children:[s.jsx(ee,{children:"Create your account"}),s.jsx(He,{children:"Start your journey to emotional wellness"})]}),s.jsx(Q,{children:s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"fullName",children:"Full Name"}),s.jsx(it,{id:"fullName",type:"text",placeholder:"Enter your full name",value:r.fullName,onChange:x=>n(j=>({...j,fullName:x.target.value})),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"email",children:"Email"}),s.jsx(it,{id:"email",type:"email",placeholder:"Enter your email",value:r.email,onChange:x=>n(j=>({...j,email:x.target.value})),required:!0,className:"text-base",autoComplete:"email",autoCapitalize:"none",autoCorrect:"off"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"password",children:"Password"}),s.jsx(it,{id:"password",type:"password",placeholder:"Create a password",value:r.password,onChange:x=>n(j=>({...j,password:x.target.value})),required:!0,minLength:6,className:"text-base",autoComplete:"new-password"})]}),s.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-muted/50 rounded-lg",children:[s.jsx(bN,{id:"terms-agreement",checked:o,onCheckedChange:x=>a(x),className:"mt-1"}),s.jsxs(Je,{htmlFor:"terms-agreement",className:"text-sm leading-relaxed cursor-pointer",children:["I agree to the"," ",s.jsx($c,{to:"/terms-of-service",className:"text-primary hover:underline font-medium",children:"Terms of Service"})," ","and"," ",s.jsx($c,{to:"/privacy-policy",className:"text-primary hover:underline font-medium",children:"Privacy Policy"})]})]}),s.jsx(H,{type:"submit",variant:"warm",className:"w-full min-h-[44px]",disabled:e||!o,children:e?"Creating Account...":"Start My Healing Journey"})]})})]})}),s.jsx(fn,{value:"signin",className:"space-y-4",children:s.jsxs(W,{className:"shadow-gentle",children:[s.jsxs(Z,{children:[s.jsx(ee,{children:"Welcome back"}),s.jsx(He,{children:"Continue your healing journey"})]}),s.jsx(Q,{children:s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"signin-email",children:"Email"}),s.jsx(it,{id:"signin-email",type:"email",placeholder:"Enter your email",value:i.email,onChange:x=>l(j=>({...j,email:x.target.value})),required:!0,className:"text-base",autoComplete:"email",autoCapitalize:"none",autoCorrect:"off"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"signin-password",children:"Password"}),s.jsx(it,{id:"signin-password",type:"password",placeholder:"Enter your password",value:i.password,onChange:x=>l(j=>({...j,password:x.target.value})),required:!0,className:"text-base",autoComplete:"current-password"})]}),s.jsx(H,{type:"submit",variant:"warm",className:"w-full min-h-[44px]",disabled:e,children:e?"Signing In...":"Continue Healing"}),s.jsx("div",{className:"text-center",children:s.jsx(H,{type:"button",variant:"ghost",size:"sm",onClick:()=>d(!0),className:"text-sm text-muted-foreground hover:text-primary",children:"Forgot your password?"})})]})})]})})]}),h&&s.jsxs(W,{className:"shadow-gentle",children:[s.jsxs(Z,{children:[s.jsx(ee,{children:"Reset Your Password"}),s.jsx(He,{children:"Enter your email and we'll send you a verification code"})]}),s.jsx(Q,{children:s.jsxs("form",{onSubmit:y,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"forgot-email",children:"Email"}),s.jsx(it,{id:"forgot-email",type:"email",placeholder:"Enter your email",value:c,onChange:x=>u(x.target.value),required:!0})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(H,{type:"submit",variant:"warm",className:"flex-1",disabled:e,children:e?"Sending...":"Send Code"}),s.jsx(H,{type:"button",variant:"outline",onClick:()=>{d(!1),u("")},children:"Cancel"})]})]})})]}),s.jsx("div",{className:"text-center text-sm text-muted-foreground",children:s.jsx("p",{children:"Free to start  Premium features from 11.99/month"})})]})})},N5=()=>{const e=nt(),{user:t,checkSubscription:r}=Te(),{toast:n}=At();Pu();const[o,a]=f.useState(!0);f.useEffect(()=>{(async()=>{if(t)try{await r(),n({title:"Premium Activated! ",description:"Your subscription is now active. Enjoy unlimited conversations!"})}catch(c){console.error("Error checking subscription:",c)}finally{a(!1)}})()},[t,n,r]);const i=[" Unlimited AI conversations with all coaches"," Personalised coaching and text suggestions"," Advanced tools and healing plans"," Text helpers & conversation analyser"];return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-primary-glow/5 flex items-center justify-center p-4",children:s.jsxs(W,{className:"max-w-2xl w-full shadow-warm",children:[s.jsxs(Z,{className:"text-center space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Pe,{className:"w-8 h-8 text-yellow-500"}),s.jsx(ee,{className:"text-3xl font-bold",children:"Welcome to Premium!"})]}),s.jsx("p",{className:"text-muted-foreground text-lg",children:o?"Setting up your premium account...":"Your subscription is now active and ready to use!"})]}),s.jsxs(Q,{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-primary-glow/10 rounded-lg p-6",children:[s.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Qt,{className:"w-5 h-5 text-green-500"}),"You now have access to:"]}),s.jsx("div",{className:"grid gap-3",children:i.map((l,c)=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Qt,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:l})]},c))})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(H,{onClick:()=>e("/"),className:"flex-1",variant:"outline",children:[s.jsx(wE,{className:"w-4 h-4 mr-2"}),"Go Home"]}),s.jsxs(H,{onClick:()=>e("/"),className:"flex-1",variant:"warm",children:[s.jsx(Jr,{className:"w-4 h-4 mr-2"}),"Start Chatting"]})]}),s.jsx("div",{className:"text-center text-sm text-muted-foreground",children:s.jsx("p",{children:"You can manage your subscription anytime from your account settings."})})]})]})})},jN=({isOpen:e,onClose:t,type:r,wasAlreadyOwned:n=!1})=>{const i=r==="premium"?["Unlimited AI coach conversations","Guided Programmes","Personalised insights & reports","Daily attachment style quiz with AI analysis","Conversation analyser with AI insights","Text suggestion helper","Create AI-generated visuals","Priority support"]:["30-Day Healing Plan","Daily guided content & prompts","Visualisation Practices","Daily Affirmations","No-Contact Tracker","15 Journal Prompts for self-discovery"],l=r==="premium"?s.jsx(Pe,{className:"w-16 h-16 text-primary"}):s.jsx(he,{className:"w-16 h-16 text-primary"}),c=n?r==="premium"?"You Already Have Premium!":"You Already Have the Healing Kit!":r==="premium"?"Welcome to Premium!":"Healing Kit Unlocked!",u=n?"Your purchase was restored - all features are available":r==="premium"?"All premium features are now unlocked and ready to use":"Your 30-day healing journey starts now";return s.jsx(rl,{open:e,onOpenChange:t,children:s.jsxs(Ca,{className:"max-w-md",children:[s.jsxs(ka,{children:[s.jsx("div",{className:"mx-auto mb-4 p-4 rounded-full bg-gradient-to-r from-primary/10 to-primary-glow/10 w-fit",children:l}),s.jsx(Ea,{className:"text-2xl text-center",children:c}),s.jsx(Wj,{className:"text-center text-base",children:u})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(rt,{className:"w-5 h-5 text-primary"}),s.jsx("h3",{className:"font-semibold text-foreground",children:"You now have access to:"})]}),s.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto pr-2",children:i.map((h,d)=>s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 mt-0.5",children:s.jsx("div",{className:"rounded-full bg-primary/10 p-1",children:s.jsx(Qt,{className:"w-4 h-4 text-primary"})})}),s.jsx("span",{className:"text-sm text-foreground leading-relaxed",children:h})]},d))})]}),s.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[s.jsx(H,{onClick:t,className:"w-full bg-gradient-to-r from-primary to-primary-glow",children:r==="premium"?"Start Using Premium":"Start Healing Journey"}),s.jsx("p",{className:"text-xs text-center text-muted-foreground",children:r==="premium"?"Manage your subscription anytime in Settings":"Access your Healing Kit anytime from the menu"})]})]})})},_5=()=>{var y;const e=nt(),r=(y=rr().state)==null?void 0:y.from,{user:n,isPremium:o,checkSubscription:a,unlockPremium:i}=Te(),[l,c]=f.useState(!1),[u,h]=f.useState(!1),[d,m]=f.useState(!0),[v,b]=f.useState(!1),[g,w]=f.useState(!1);f.useEffect(()=>{if(!n){e("/auth");return}(async()=>{try{const{data:j,error:S}=await K.from("subscribers").select("subscribed").eq("user_id",n.id).single();j!=null&&j.subscribed&&h(!0)}catch(j){console.error("Error checking ownership:",j)}finally{m(!1)}})()},[n,e]);const p=f.useMemo(()=>["Unlimited AI coach conversations","Guided Programmes","Personalised insights & reports","Daily attachment style quiz with AI analysis","Conversation analyser with AI insights","Text suggestion helper for all scenarios","Create personalised AI-generated visuals","Priority support"],[]);return s.jsxs(s.Fragment,{children:[s.jsx(jN,{isOpen:v,onClose:()=>{b(!1),e("/?tab=coaches",{replace:!0})},type:"premium",wasAlreadyOwned:g}),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-secondary/30 to-accent/30 p-4",children:s.jsxs("div",{className:"max-w-2xl mx-auto pt-8",children:[s.jsxs(H,{variant:"ghost",onClick:()=>{e(r==="home"?"/":"/?tab=coaches")},className:"mb-6 hover:bg-secondary/20",children:[s.jsx(mr,{className:"w-4 h-4 mr-2"}),r==="home"?"Back to Home":"Back to Coaches"]}),s.jsxs(W,{className:"relative overflow-hidden border-2 border-primary/20 bg-gradient-to-br from-background to-primary/5",children:[s.jsxs("div",{className:"absolute top-0 right-0 bg-gradient-to-r from-primary to-primary-glow text-primary-foreground px-4 py-2 text-sm font-medium rounded-bl-lg",children:[s.jsx(ia,{className:"w-4 h-4 inline mr-1"}),"Most Popular"]}),s.jsxs(Z,{className:"text-center pb-6 pt-8",children:[s.jsx("div",{className:"mx-auto p-4 rounded-full bg-gradient-to-r from-primary/10 to-primary-glow/10 w-fit mb-4",children:s.jsx(rt,{className:"w-8 h-8 text-primary"})}),s.jsx(ee,{className:"text-3xl font-bold",children:"Premium Subscription"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-baseline justify-center space-x-1",children:[s.jsx("span",{className:"text-4xl font-bold text-foreground",children:"11.99"}),s.jsx("span",{className:"text-lg text-muted-foreground",children:"/month"})]}),s.jsx(je,{variant:"secondary",className:"bg-primary/10 text-primary",children:"Cancel anytime"})]}),s.jsx(He,{className:"text-center text-lg",children:"Unlimited support for your relationship growth"})]}),s.jsxs(Q,{className:"space-y-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-xl font-semibold flex items-center gap-2",children:[s.jsx(Pe,{className:"w-5 h-5 text-primary"}),"What's Included"]}),s.jsx("ul",{className:"space-y-3",children:p.map((x,j)=>s.jsxs("li",{className:"flex items-start space-x-2 sm:space-x-3",children:[s.jsx(Qt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"text-sm sm:text-base text-foreground leading-relaxed",children:x})]},j))})]}),s.jsx("div",{className:"border-t pt-6 space-y-4",children:u?s.jsxs("div",{className:"bg-primary/10 border border-primary/20 rounded-lg p-4 text-center",children:[s.jsx(Pe,{className:"w-8 h-8 text-primary mx-auto mb-2"}),s.jsx("p",{className:"text-lg font-semibold text-foreground",children:"You already have Premium! "}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"All premium features are unlocked and ready to use."}),s.jsxs(H,{onClick:()=>{e(r==="home"?"/":"/?tab=coaches")},className:"mt-4",variant:"outline",children:[s.jsx(mr,{className:"w-4 h-4 mr-2"}),"Back to App"]})]}):s.jsxs(s.Fragment,{children:[s.jsxs(H,{onClick:async()=>{c(!0);const x=we.loading("Opening purchase..."),j=u;try{const S=await Bo.buyPremium();we.dismiss(x),S.success?(console.log(" [PURCHASE] ========== PURCHASE SUCCESS =========="),console.log(" [PURCHASE] Purchase result:",S),console.log(" [PURCHASE] About to call unlockPremium()..."),i(),console.log(" [PURCHASE] unlockPremium() called"),console.log(" [PURCHASE] Checking isPremium from context..."),console.log(" [PURCHASE] isPremium:",o),console.log(" [PURCHASE] localStorage isPremium:",localStorage.getItem("isPremium")),h(!0),w(j),console.log(" [PURCHASE] Showing success modal..."),b(!0)):we.error(S.error||"Purchase failed. Please try again.")}catch(S){we.dismiss(x),console.error("Purchase error:",S),we.error((S==null?void 0:S.message)||"Unable to complete purchase")}finally{c(!1)}},disabled:l||d,className:"w-full h-14 text-lg bg-gradient-to-r from-primary to-primary-glow hover:opacity-90 transition-opacity",children:[s.jsx(Pe,{className:"w-5 h-5 mr-2"}),l?"Processing...":d?"Loading...":"Go Premium - 11.99/month"]}),s.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Cancel anytime in your Apple settings. Subscription auto-renews monthly."})]})})]})]})]})})]})},C5=()=>{var y;const e=nt(),r=(y=rr().state)==null?void 0:y.from,{user:n,hasHealingKit:o,checkSubscription:a,unlockHealingKit:i}=Te(),[l,c]=f.useState(!1),[u,h]=f.useState(!1),[d,m]=f.useState(!0),[v,b]=f.useState(!1),[g,w]=f.useState(!1);f.useEffect(()=>{if(!n){e("/auth");return}(async()=>{try{const{data:j,error:S}=await K.from("healing_kit_purchases").select("status").eq("user_id",n.id).single();(j==null?void 0:j.status)==="completed"&&h(!0)}catch(j){console.error("Error checking ownership:",j)}finally{m(!1)}})()},[n,e]);const p=f.useMemo(()=>[{icon:ft,title:"30-Day Healing Plan",description:"Daily content, prompts, and challenges to guide your recovery"},{icon:ir,title:"Visualisation Practices",description:"Step-by-step mental imagery exercises for healing and growth"},{icon:rt,title:"Daily Affirmations",description:"Powerful affirmations to rebuild your self-worth"},{icon:kt,title:"No-Contact Tracker",description:"Track your progress and maintain healthy boundaries"},{icon:iE,title:"Journal Prompts",description:"15 deep-dive prompts for self-discovery and healing"}],[]);return s.jsxs(s.Fragment,{children:[s.jsx(jN,{isOpen:v,onClose:()=>{b(!1),e("/healing-kit",{replace:!0})},type:"healingkit",wasAlreadyOwned:g}),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-secondary/30 to-accent/30 p-4",children:s.jsxs("div",{className:"max-w-2xl mx-auto pt-8",children:[s.jsxs(H,{variant:"ghost",onClick:()=>{e(r==="home"?"/":"/?tab=coaches")},className:"mb-6 hover:bg-secondary/20",children:[s.jsx(mr,{className:"w-4 h-4 mr-2"}),r==="home"?"Back to Home":"Back to Coaches"]}),s.jsxs(W,{className:"relative overflow-hidden border-2 border-primary/20 bg-gradient-to-br from-background to-primary/5",children:[s.jsx("div",{className:"absolute top-4 right-4",children:s.jsx(je,{variant:"secondary",className:"bg-primary/10 text-primary font-semibold",children:"One-time Purchase"})}),s.jsxs(Z,{className:"text-center pb-6",children:[s.jsx("div",{className:"mx-auto p-4 rounded-full bg-gradient-to-r from-primary/10 to-primary-glow/10 w-fit mb-4",children:s.jsx(he,{className:"w-8 h-8 text-primary"})}),s.jsx(ee,{className:"text-3xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"Healing Kit"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"flex items-baseline justify-center space-x-1",children:s.jsx("span",{className:"text-4xl font-bold text-foreground",children:"4.99"})}),s.jsx(je,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Lifetime Access"})]}),s.jsx(He,{className:"text-center text-lg",children:"Complete break-up recovery package"})]}),s.jsxs(Q,{className:"space-y-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold",children:"What's Included"}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:p.map((x,j)=>s.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-lg bg-secondary/20 border border-secondary/30",children:[s.jsx(x.icon,{className:"w-6 h-6 text-primary mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-base",children:x.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:x.description})]})]},j))})]}),s.jsx("div",{className:"border-t pt-6 space-y-4",children:u?s.jsxs("div",{className:"bg-primary/10 border border-primary/20 rounded-lg p-4 text-center",children:[s.jsx(he,{className:"w-8 h-8 text-primary mx-auto mb-2"}),s.jsx("p",{className:"text-lg font-semibold text-foreground",children:"You already own the Healing Kit! "}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Your 30-day healing journey is ready and waiting for you."}),s.jsx(H,{onClick:()=>e("/healing-kit"),className:"mt-4",children:"Start Healing Journey"})]}):s.jsxs(s.Fragment,{children:[s.jsxs(H,{onClick:async()=>{c(!0);const x=we.loading("Opening purchase..."),j=u;try{const S=await Bo.buyHealingKit();we.dismiss(x),S.success?(console.log(" [PURCHASE] ========== PURCHASE SUCCESS =========="),console.log(" [PURCHASE] Purchase result:",S),console.log(" [PURCHASE] About to call unlockHealingKit()..."),i(),console.log(" [PURCHASE] unlockHealingKit() called"),console.log(" [PURCHASE] Checking hasHealingKit from context..."),console.log(" [PURCHASE] hasHealingKit:",o),console.log(" [PURCHASE] localStorage hasHealingKit:",localStorage.getItem("hasHealingKit")),h(!0),w(j),console.log(" [PURCHASE] Showing success modal..."),b(!0)):we.error(S.error||"Purchase failed. Please try again.")}catch(S){we.dismiss(x),console.error("Purchase error:",S),we.error((S==null?void 0:S.message)||"Unable to complete purchase")}finally{c(!1)}},disabled:l||d,className:"w-full h-14 text-lg bg-gradient-to-r from-primary to-primary-glow hover:opacity-90 transition-opacity",children:[s.jsx(he,{className:"w-5 h-5 mr-2"}),l?"Processing...":d?"Loading...":"Get Healing Kit - 4.99"]}),s.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"One-time purchase. Lifetime access included."})]})})]})]})]})})]})},k5=()=>{const[e,t]=f.useState(null),[r,n]=f.useState(!0),[o,a]=f.useState(!1),[i,l]=f.useState(""),[c,u]=f.useState(""),[h,d]=f.useState(""),[m,v]=f.useState(!1),[b,g]=f.useState(!1),[w,p]=f.useState(!1),{isPremium:y,subscriptionStatus:x,checkSubscription:j,user:S}=Te(),{toast:N}=At(),_=nt(),E=rr();f.useEffect(()=>{y?M():n(!1)},[y]);const M=async()=>{var P;try{const{data:T,error:C}=await K.from("subscribers").select("*").eq("user_id",(P=(await K.auth.getUser()).data.user)==null?void 0:P.id).single();if(C)throw C;t(T)}catch(T){console.error("Error fetching subscription data:",T)}finally{n(!1)}},R=async()=>{var P;a(!0);try{const T=/iPhone|iPad|iPod/.test(navigator.userAgent),C=window.location.protocol==="capacitor:"||window.location.protocol==="ionic:";if(T||C)window.open("https://apps.apple.com/account/subscriptions","_blank"),N({title:"Apple Subscription Management",description:"Opening Apple's subscription settings where you can manage or cancel your subscription."});else{const{data:k,error:$}=await K.functions.invoke("customer-portal",{headers:{Authorization:`Bearer ${(P=(await K.auth.getSession()).data.session)==null?void 0:P.access_token}`}});if($)throw $;k!=null&&k.url&&window.open(k.url,"_blank")}}catch(T){console.error("Error opening subscription management:",T),N({title:"Subscription Management",description:"To manage your Apple subscription, go to: Settings > [Your Name] > Subscriptions on your iPhone/iPad."})}finally{a(!1)}},z=async()=>{p(!0);try{N({title:"Restoring Purchases",description:"Checking for previous purchases..."});const P=await Bo.restorePurchases();P.hasPremium||P.hasHealingKit?(await j(),N({title:" Purchases Restored!",description:`Successfully restored: ${P.hasPremium?"Premium Subscription":""} ${P.hasHealingKit?"Healing Kit":""}`.trim()}),window.location.reload()):N({title:"No Purchases Found",description:"We couldn't find any previous purchases linked to your account.",variant:"default"})}catch(P){console.error("Restore error:",P),N({title:"Restore Failed",description:"Could not restore purchases. Please try again or contact support if the issue persists.",variant:"destructive"})}finally{p(!1)}},O=async()=>{if(!i){N({title:"Error",description:"Please enter your current password",variant:"destructive"});return}if(c!==h){N({title:"Error",description:"Passwords do not match",variant:"destructive"});return}if(c.length<6){N({title:"Error",description:"Password must be at least 6 characters long",variant:"destructive"});return}g(!0);try{const{error:P}=await K.auth.signInWithPassword({email:(S==null?void 0:S.email)||"",password:i});if(P){N({title:"Error",description:"Current password is incorrect",variant:"destructive"}),g(!1);return}const{error:T}=await K.auth.updateUser({password:c});if(T)throw T;N({title:"Password Updated",description:"Your password has been successfully changed."}),l(""),u(""),d("")}catch(P){N({title:"Error",description:P.message||"Failed to update password",variant:"destructive"})}finally{g(!1)}},F=async()=>{if(console.log("[Delete Account] Button clicked"),!window.confirm(`Delete your HeartLift account?

This will PERMANENTLY delete:
 Your account and login credentials
 All conversations and chat history
 Journal entries and mood tracking data
 Your healing plan progress
 Account profile and settings

YOU WILL NOT BE ABLE TO LOG BACK IN.
You will need to create a new account if you want to use HeartLift again.

Note: To cancel your Premium subscription, go to:
iPhone Settings  [Your Name]  Subscriptions  HeartLift

This action cannot be undone.

Are you sure you want to delete your account?`)){console.log("[Delete Account] User cancelled");return}console.log("[Delete Account] User confirmed, starting deletion...");try{const{data:{session:T}}=await K.auth.getSession();if(!T){console.error("[Delete Account] No session found"),N({title:"Error",description:"No active session. Please sign in again.",variant:"destructive"});return}console.log("[Delete Account] Calling edge function to delete user:",T.user.id),N({title:"Deleting Account",description:"Please wait while we permanently delete your account..."});const{data:C,error:k}=await K.functions.invoke("delete-user",{headers:{Authorization:`Bearer ${T.access_token}`}});if(k)throw console.error("[Delete Account] Edge function error:",k),new Error(k.message||"Failed to delete account");if(console.log("[Delete Account] Edge function response:",C),!(C!=null&&C.success))throw new Error((C==null?void 0:C.error)||"Account deletion failed");console.log("[Delete Account] Account permanently deleted"),await K.auth.signOut(),N({title:"Account Deleted",description:"Your account has been permanently deleted. You cannot log back in."}),console.log("[Delete Account] Navigating to auth page..."),setTimeout(()=>{_("/auth")},2e3)}catch(T){console.error("[Delete Account] Error:",T),N({title:"Error",description:T.message||"Failed to delete account. Please contact support at support@heart-lift.com",variant:"destructive"})}};if(r)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 p-4",children:s.jsx("div",{className:"container mx-auto max-w-4xl pt-8",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-6"}),s.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})})});const A=()=>y?e?s.jsxs(W,{className:"mb-6",children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Pe,{className:"w-6 h-6 text-yellow-600"}),"Subscription Management"]})}),s.jsxs(Q,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsx(Pe,{className:"w-6 h-6 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Premium Plan"}),s.jsx(je,{variant:"outline",className:"bg-green-100 text-green-800 border-green-200",children:"Active"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(ft,{className:"w-4 h-4 text-gray-500"}),s.jsxs("span",{children:["Started: ",D(e.premium_start_date||e.created_at)]})]}),e.subscription_end&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(ft,{className:"w-4 h-4 text-gray-500"}),s.jsxs("span",{children:["Next billing: ",D(e.subscription_end)]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(S0,{className:"w-4 h-4 text-gray-500"}),s.jsxs("span",{children:["Status: ",e.payment_status]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"Premium Benefits"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{children:" Unlimited conversations"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{children:" Personalised coaching"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{children:" Advanced tools"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{children:" Guided Programmes"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{children:" Text helpers & conversation analyser"})]})]})]})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-4",children:[s.jsx("h4",{className:"font-medium text-amber-800 mb-2",children:"Cancellation Policy"}),s.jsx("p",{className:"text-sm text-amber-700 mb-2",children:"You can cancel your subscription at any time. Your access will continue until the end of your current billing period. No refunds are provided for partial periods."}),s.jsx("p",{className:"text-sm text-amber-700 font-medium",children:"For iOS: Manage your subscription through Apple Settings  [Your Name]  Subscriptions"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs(H,{variant:"outline",onClick:R,disabled:o,className:"w-full sm:flex-1",children:[s.jsx(Uo,{className:"w-4 h-4 mr-2"}),o?"Opening...":"Manage Subscription"]}),s.jsxs(H,{variant:"outline",onClick:z,disabled:w,className:"w-full sm:flex-1",children:[s.jsx(qs,{className:`w-4 h-4 mr-2 ${w?"animate-spin":""}`}),w?"Restoring...":"Restore Purchases"]})]})]})]})]}):s.jsx(W,{className:"mb-6",children:s.jsx(Q,{className:"p-8 text-center",children:s.jsx("p",{children:"Loading subscription data..."})})}):s.jsxs(W,{className:"mb-6",children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Pe,{className:"w-6 h-6 text-gray-500"}),"Account Management"]})}),s.jsxs(Q,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center",children:s.jsx(Pe,{className:"w-6 h-6 text-gray-500"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Free Plan"}),s.jsx(je,{variant:"outline",className:"bg-blue-100 text-blue-800 border-blue-200",children:"Active"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-medium",children:"Current Benefits"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),s.jsx("span",{children:"10 messages per day"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),s.jsx("span",{children:"Basic coaching support"})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-secondary/5 border border-primary/20 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-primary mb-2",children:"Upgrade to Premium"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Get unlimited conversations, advanced tools, and personalised coaching"}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs(H,{onClick:()=>_("/premium-purchase",{state:{from:E.pathname+E.search}}),className:"w-full",children:[s.jsx(Pe,{className:"w-4 h-4 mr-2"}),"Upgrade Now"]}),s.jsxs(H,{variant:"outline",onClick:z,disabled:w,className:"w-full",children:[s.jsx(qs,{className:`w-4 h-4 mr-2 ${w?"animate-spin":""}`}),w?"Restoring...":"Restore Purchases"]})]})]})]})]}),D=P=>new Date(P).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 p-4",children:s.jsxs("div",{className:"container mx-auto max-w-4xl pt-8",children:[s.jsxs(H,{variant:"ghost",onClick:()=>_("/?tab=coaches"),className:"mb-6",children:[s.jsx(mr,{className:"w-4 h-4 mr-2"}),"Back to Coaches"]}),A(),s.jsxs(W,{className:"mb-6",children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(bE,{className:"w-5 h-5 text-primary"}),"Account Security"]})}),s.jsxs(Q,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"Change Password"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"current-password",children:"Current Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(it,{id:"current-password",type:m?"text":"password",value:i,onChange:P=>l(P.target.value),placeholder:"Enter current password"}),s.jsx(H,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>v(!m),children:m?s.jsx(pE,{className:"h-4 w-4"}):s.jsx(Ja,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"new-password",children:"New Password"}),s.jsx(it,{id:"new-password",type:m?"text":"password",value:c,onChange:P=>u(P.target.value),placeholder:"Enter new password"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"confirm-password",children:"Confirm Password"}),s.jsx(it,{id:"confirm-password",type:m?"text":"password",value:h,onChange:P=>d(P.target.value),placeholder:"Confirm new password"})]})]})]}),s.jsx(H,{onClick:O,disabled:!i||!c||!h||b,className:"w-full md:w-auto",children:b?"Updating...":"Update Password"})]}),s.jsxs("div",{className:"border-t pt-6 space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"Change Email Address"}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(_E,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-blue-900",children:["If you would like to change your email address, please email"," ",s.jsx("a",{href:"mailto:support@heart-lift.com",className:"font-medium underline hover:text-blue-700",children:"support@heart-lift.com"})," ","and we will make the change for you."]})})]})})]})]})]}),s.jsxs(W,{className:"mb-6 border-red-200",children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2 text-red-600",children:[s.jsx(Uo,{className:"w-5 h-5"}),"Delete Account"]})}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"Permanent Account Deletion"}),s.jsx("p",{className:"text-sm text-red-700 mb-3",children:"Deleting your account will permanently remove:"}),s.jsxs("ul",{className:"text-sm text-red-700 space-y-1 mb-3",children:[s.jsx("li",{children:" All conversations and chat history"}),s.jsx("li",{children:" Journal entries and mood tracking data"}),s.jsx("li",{children:" Your healing plan progress"}),s.jsx("li",{children:" Account profile and settings"})]}),s.jsx("p",{className:"text-sm text-red-700 font-medium mb-2",children:" This action cannot be undone."}),s.jsxs("p",{className:"text-sm text-red-700",children:[s.jsx("strong",{children:"Note:"})," To cancel your Premium subscription, go to: iPhone Settings  [Your Name]  Subscriptions  HeartLift"]})]}),s.jsxs(H,{variant:"destructive",onClick:F,className:"w-full bg-red-600 hover:bg-red-700",children:[s.jsx(Uo,{className:"w-4 h-4 mr-2"}),"Delete My Account"]})]})]})]})})},E5=({activeSection:e,onSectionChange:t})=>{const r=[{id:"plan",label:"Healing Plan",icon:kt},{id:"affirmations",label:"Daily Affirmations",icon:he},{id:"visualisations",label:"Visualisation Practices",icon:ir},{id:"tracker",label:"No Contact Tracker",icon:ft},{id:"journal",label:"Journal Prompts",icon:N0}];return s.jsx(W,{className:"p-4 mb-6",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(n=>s.jsxs(H,{variant:e===n.id?"default":"outline",onClick:()=>t(n.id),className:"flex items-center gap-2",children:[s.jsx(n.icon,{className:"w-4 h-4"}),n.label]},n.id))})})},P5=async(e,t,r=5)=>{var n;console.log(`[${t}] Starting query with retry...`);for(let o=1;o<=r;o++)try{console.log(`[${t}] Attempt ${o}/${r}`);const{data:{user:a},error:i}=await K.auth.getUser();if(i||!a){console.log(`[${t}] No user yet, waiting...`),await new Promise(c=>setTimeout(c,500));continue}console.log(`[${t}] User: ${a.id}, executing query...`);const l=await e();if(l.error){if(console.error(`[${t}] Query error:`,l.error.message),l.error.message.includes("JWT")||l.error.message.includes("permission")||l.error.message.includes("policy")||l.error.message.includes("expired")){console.log(`[${t}] Auth issue, retrying in 500ms...`),await new Promise(c=>setTimeout(c,500));continue}return l}return console.log(`[${t}]  Success! Got ${((n=l.data)==null?void 0:n.length)||(l.data?1:0)} items`),l}catch(a){console.error(`[${t}] Exception:`,(a==null?void 0:a.message)||a),o<r&&await new Promise(i=>setTimeout(i,500))}return console.error(`[${t}]  Failed after ${r} attempts`),{data:null,error:{message:"Max retries exceeded"}}},xx=()=>{const[e,t]=f.useState([]),[r,n]=f.useState({current_day:1,completed_days:[]}),[o,a]=f.useState(!0),[i,l]=f.useState(null),{toast:c}=At(),{user:u}=Te();f.useEffect(()=>{u&&(h(),d())},[u]);const h=async()=>{try{const g=await P5(async()=>await K.from("healing_plan_days").select("*").order("day_number"),"HealingPlan-Days");if(g.error)throw g.error;t(g.data||[]),(!g.data||g.data.length===0)&&await v()}catch(g){c({title:"Error loading healing plan",description:g.message,variant:"destructive"})}},d=async()=>{try{const{data:g,error:w}=await K.from("user_healing_progress").select("current_day, completed_days").eq("user_id",u==null?void 0:u.id).single();if(w&&w.code!=="PGRST116")throw console.error(" SUPABASE ERROR - user_healing_progress:",{message:w.message,details:w.details,hint:w.hint,code:w.code,userId:u==null?void 0:u.id}),w;g?(n(g),console.log(" Loaded user progress:",{currentDay:g.current_day,completedDays:g.completed_days.length})):console.log(" No user progress found (new user)")}catch(g){console.error("Error fetching progress:",g)}finally{a(!1)}},m=async g=>{if(u)try{const w=[...r.completed_days,g],p=Math.min(g+1,30),{error:y}=await K.from("user_healing_progress").upsert({user_id:u.id,current_day:p,completed_days:w},{onConflict:"user_id"});if(y)throw y;n({current_day:p,completed_days:w}),c({title:"Day completed! ",description:`Great job completing Day ${g}. Keep up the amazing work!`})}catch(w){c({title:"Error updating progress",description:w.message,variant:"destructive"})}},v=async()=>{console.log("Creating default healing plan...")},b=r.completed_days.length/30*100;return o?s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-8 bg-secondary rounded w-1/3"}),s.jsx("div",{className:"h-4 bg-secondary rounded w-full"}),s.jsx("div",{className:"h-32 bg-secondary rounded"})]})}):i?s.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx(H,{variant:"outline",onClick:()=>l(null),className:"mr-4",children:" Back to Plan"}),s.jsxs(je,{variant:"secondary",children:["Day ",i.day_number]})]}),s.jsxs(W,{className:"border-2 border-primary/20",children:[s.jsx(Z,{children:s.jsx(ee,{className:"text-2xl bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:i.title})}),s.jsxs(Q,{className:"space-y-6",children:[s.jsx("div",{className:"prose prose-sm max-w-none",children:s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:i.content})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(W,{className:"bg-secondary/20 border-secondary/30",children:[s.jsx(Z,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jr,{className:"w-4 h-4 text-primary"}),s.jsx(ee,{className:"text-sm",children:"Today's Prompt"})]})}),s.jsx(Q,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:i.prompt})})]}),s.jsxs(W,{className:"bg-secondary/20 border-secondary/30",children:[s.jsx(Z,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kt,{className:"w-4 h-4 text-primary"}),s.jsx(ee,{className:"text-sm",children:"Daily Challenge"})]})}),s.jsx(Q,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:i.challenge})})]}),s.jsxs(W,{className:"bg-secondary/20 border-secondary/30",children:[s.jsx(Z,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_s,{className:"w-4 h-4 text-primary"}),s.jsx(ee,{className:"text-sm",children:"Mindset Reframe"})]})}),s.jsx(Q,{children:s.jsxs("p",{className:"text-sm text-muted-foreground italic",children:['"',i.mindset_reframe,'"']})})]}),s.jsxs(W,{className:"bg-secondary/20 border-secondary/30",children:[s.jsx(Z,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(he,{className:"w-4 h-4 text-primary"}),s.jsx(ee,{className:"text-sm",children:"Action Item"})]})}),s.jsx(Q,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:i.action_item})})]})]}),!r.completed_days.includes(i.day_number)&&s.jsx("div",{className:"flex justify-center pt-4",children:s.jsx(H,{onClick:()=>m(i.day_number),className:"bg-gradient-to-r from-primary to-secondary hover:from-primary/90 hover:to-secondary/90 text-white font-semibold px-8",children:"Mark Day Complete"})})]})]})]}):s.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent mb-2",children:"30-Day Healing Plan"}),s.jsx("p",{className:"text-muted-foreground",children:"Your personalised journey from heartbreak to healing"})]}),s.jsx(W,{className:"border-2 border-primary/20 bg-gradient-to-r from-primary/5 to-secondary/5",children:s.jsxs(Q,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Your Progress"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.completed_days.length," of 30 days completed"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-2xl font-bold text-primary",children:[Math.round(b),"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Complete"})]})]}),s.jsx(Pa,{value:b,className:"h-3"})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(g=>{const w=r.completed_days.includes(g.day_number),p=g.day_number===r.current_day,y=g.day_number<=r.current_day;return s.jsxs(W,{className:`cursor-pointer transition-all duration-200 ${w?"border-green-500/50 bg-green-50/50":p?"border-primary/50 bg-primary/5":y?"border-secondary/30 hover:border-primary/30 hover:bg-primary/5":"border-muted/50 bg-muted/20 opacity-60"}`,onClick:()=>y&&l(g),children:[s.jsxs(Z,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(je,{variant:w?"default":p?"secondary":"outline",children:["Day ",g.day_number]}),w?s.jsx(Ks,{className:"w-5 h-5 text-green-600"}):s.jsx(xu,{className:"w-5 h-5 text-muted-foreground"})]}),s.jsx(ee,{className:"text-lg",children:g.title})]}),s.jsx(Q,{children:s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-3",children:g.content})})]},g.id)})})]})},T5=()=>{const[e,t]=f.useState(""),[r,n]=f.useState(!0),o=async()=>{n(!0);try{const{data:a,error:i}=await K.from("daily_affirmations").select("text").order("created_at",{ascending:!1});if(i)throw i;if(a&&a.length>0){const l=Math.floor(Math.random()*a.length);t(a[l].text)}}catch{t("I am strong, worthy, and deserving of love.")}finally{n(!1)}};return f.useEffect(()=>{o()},[]),s.jsx(W,{className:"bg-gradient-to-br from-primary/10 to-secondary/10 border-primary/20",children:s.jsxs(Q,{className:"p-8 text-center",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx(rt,{className:"w-8 h-8 text-primary mx-auto mb-3"}),s.jsx("h2",{className:"text-xl font-semibold",children:"Daily Affirmation"})]}),r?s.jsx("div",{className:"animate-pulse h-16 bg-secondary/30 rounded"}):s.jsxs("blockquote",{className:"text-lg text-muted-foreground italic mb-6 leading-relaxed",children:['"',e,'"']}),s.jsxs(H,{variant:"outline",onClick:o,disabled:r,className:"gap-2",children:[s.jsx(qs,{className:"w-4 h-4"}),"New Affirmation"]})]})})},R5=()=>{const[e,t]=f.useState([]),[r,n]=f.useState([]),[o,a]=f.useState(null),[i,l]=f.useState(!1),[c,u]=f.useState(""),[h,d]=f.useState(!0),[m,v]=f.useState(!1),[b,g]=f.useState(!1),w=f.useRef(null),{toast:p}=At(),{user:y}=Te();f.useEffect(()=>{x(),y&&j()},[y]);const x=async()=>{try{const{data:O,error:F}=await K.from("visualisation_exercises").select("*").order("category",{ascending:!0}).order("variation_number",{ascending:!0});if(F)throw F;t(O||[])}catch(O){p({title:"Error loading exercises",description:O.message,variant:"destructive"})}finally{d(!1)}},j=async()=>{if(y)try{const{data:O,error:F}=await K.from("user_visualisation_progress").select("*").eq("user_id",y.id);if(F)throw F;n(O||[])}catch(O){console.error("Error fetching progress:",O)}},S=async(O,F)=>{if(y)try{const{error:A}=await K.from("user_visualisation_progress").insert({user_id:y.id,exercise_id:O,reflection_notes:F||null,completed_at:new Date().toISOString()});if(A)throw A;await j(),p({title:"Exercise completed!",description:"Great job on your visualization practice."})}catch(A){p({title:"Error saving progress",description:A.message,variant:"destructive"})}},N=O=>{const F={safe_space:{name:"Safe Space",color:"bg-blue-100 text-blue-800",icon:he,description:"Create your sanctuary of peace and safety"},future_self:{name:"Future Self",color:"bg-green-100 text-green-800",icon:rt,description:"Envision your best possible future"},releasing_emotions:{name:"Emotional Release",color:"bg-purple-100 text-purple-800",icon:Ja,description:"Gently release negative emotions"}};return F[O]||F.safe_space},_=O=>r.some(F=>F.exercise_id===O),E=O=>{a(O),l(!1),u("")},M=async()=>{o&&(await S(o.id,c),a(null),l(!1),u(""))},R=async()=>{if(!o)return;if(m){w.current&&(w.current.pause(),w.current=null),v(!1);return}const O=o.steps.join(". ");g(!0);try{const A=await fetch("https://heartlift-launch.emergent.host/api/ai/text-to-speech",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:O,voice:"shimmer"})});if(!A.ok)throw new Error(`Failed to generate audio: ${A.statusText}`);const D=await A.json();if(D.audio){const P=new Audio(`data:audio/mp3;base64,${D.audio}`);w.current=P,P.onplay=()=>{v(!0),g(!1)},P.onended=()=>{v(!1),w.current=null},P.onerror=()=>{v(!1),w.current=null,g(!1),p({title:"Audio Error",description:"Failed to play audio",variant:"destructive"})},await P.play()}}catch(F){console.error("Error playing audio:",F),g(!1),p({title:"Error",description:F instanceof Error?F.message:"Failed to generate audio guide",variant:"destructive"})}};if(h)return s.jsx("div",{className:"max-w-4xl mx-auto p-6",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-8 bg-secondary rounded w-1/3"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[1,2,3,4].map(O=>s.jsx("div",{className:"h-32 bg-secondary rounded"},O))})]})});const z=e.reduce((O,F)=>(O[F.category]||(O[F.category]=[]),O[F.category].push(F),O),{});return s.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent mb-2",children:"Visualisation Practices"}),s.jsx("p",{className:"text-muted-foreground",children:"Transform your mindset through the power of guided mental imagery"})]}),Object.entries(z).map(([O,F])=>{const A=N(O),D=A.icon;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(D,{className:"w-6 h-6 text-primary"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:A.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:A.description})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:F.map(P=>{const T=_(P.id);return s.jsxs(W,{className:`border-2 transition-all duration-200 cursor-pointer hover:shadow-md ${T?"border-green-200 bg-green-50/50":"border-secondary/30 hover:border-primary/30"}`,children:[s.jsx(Z,{className:"pb-3",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ja,{className:"w-4 h-4 text-primary"}),s.jsx(ee,{className:"text-lg",children:P.title}),T&&s.jsx(Ks,{className:"w-4 h-4 text-green-600"})]}),s.jsxs(je,{variant:"secondary",className:`${A.color} text-xs`,children:[A.name," #",P.variation_number]})]})})}),s.jsxs(Q,{className:"space-y-4",children:[s.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:P.description}),s.jsx("div",{className:"flex items-center justify-between pt-2",children:s.jsxs(H,{onClick:()=>E(P),className:"flex items-center gap-2",variant:T?"outline":"default",children:[s.jsx(Ja,{className:"w-4 h-4"}),T?"Practice Again":"Begin Practice",s.jsx(aE,{className:"w-4 h-4"})]})})]})]},P.id)})})]},O)}),s.jsx(rl,{open:!!o,onOpenChange:()=>a(null),children:s.jsxs(Ca,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsx(ka,{children:s.jsxs(Ea,{className:"flex items-center gap-2",children:[s.jsx(Ja,{className:"w-5 h-5 text-primary"}),o==null?void 0:o.title]})}),o&&!i&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Full Practice"}),s.jsx(je,{variant:"outline",children:N(o.category).name})]}),s.jsx("div",{className:"bg-primary/5 rounded-lg p-6 border border-primary/20",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"text-foreground leading-relaxed whitespace-pre-line",children:o.steps.join(`

`)})}),s.jsx(H,{variant:"outline",size:"sm",onClick:R,disabled:b,className:"shrink-0",children:b?s.jsx("div",{className:"w-4 h-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}):m?s.jsx(DE,{className:"w-4 h-4"}):s.jsx(ME,{className:"w-4 h-4"})})]})}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx(H,{variant:"outline",onClick:()=>a(null),children:"Close"}),s.jsxs(H,{onClick:()=>l(!0),className:"flex items-center gap-2",children:["Complete Practice",s.jsx(yu,{className:"w-4 h-4"})]})]})]}),o&&i&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Reflection Time"}),s.jsx("p",{className:"text-muted-foreground",children:"Take a moment to reflect on your visualization experience"})]}),s.jsx("div",{className:"space-y-4",children:o.reflection_prompts.map((O,F)=>s.jsx("div",{className:"bg-secondary/20 rounded-lg p-4",children:s.jsxs("p",{className:"font-medium mb-2",children:[" ",O]})},F))}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Your reflections (optional):"}),s.jsx(Sn,{value:c,onChange:O=>u(O.target.value),placeholder:"Write down any insights, feelings, or thoughts that came up during your practice...",rows:4})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx(H,{variant:"outline",onClick:()=>l(!1),children:"Back to Exercise"}),s.jsxs(H,{onClick:M,className:"flex items-center gap-2",children:[s.jsx(N0,{className:"w-4 h-4"}),"Complete Practice"]})]})]})]})}),s.jsx(W,{className:"bg-gradient-to-r from-primary/5 to-secondary/5 border-primary/20",children:s.jsxs(Q,{className:"p-6 text-center",children:[s.jsx(rt,{className:"w-8 h-8 text-primary mx-auto mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Visualization Best Practices"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Find a comfortable, quiet space. Close your eyes and allow your imagination to flow naturally. There's no right or wrong way to visualize - trust your mind's unique way of creating imagery."})]})})]})},A5=()=>{const[e,t]=f.useState(0),[r,n]=f.useState(""),{user:o}=Te(),{toast:a}=At();f.useEffect(()=>{o&&(i(),l())},[o]);const i=async()=>{try{const{data:h,error:d}=await K.from("user_healing_progress").select("no_contact_start_date, no_contact_streak_days, last_contact_date").eq("user_id",o==null?void 0:o.id).single();if(d&&d.code!=="PGRST116")throw d;h&&(t(h.no_contact_streak_days||0),n(h.no_contact_start_date||""))}catch(h){console.error("Error fetching progress:",h)}},l=async()=>{if(o)try{const{data:h,error:d}=await K.from("user_healing_progress").select("no_contact_start_date, last_contact_date").eq("user_id",o.id).single();if(d&&d.code!=="PGRST116")return;if(h!=null&&h.no_contact_start_date&&!h.last_contact_date){const m=new Date(h.no_contact_start_date),b=Math.floor((new Date().getTime()-m.getTime())/(1e3*60*60*24));b!==e&&(await K.from("user_healing_progress").update({no_contact_streak_days:b}).eq("user_id",o.id),t(b))}}catch(h){console.error("Error calculating streak:",h)}},c=async()=>{if(o)try{const h=new Date().toISOString().split("T")[0],{error:d}=await K.from("user_healing_progress").upsert({user_id:o.id,no_contact_start_date:h,no_contact_streak_days:1,last_contact_date:null},{onConflict:"user_id"});if(d)throw d;n(h),t(1),a({title:"No Contact Started! ",description:"You've taken the first brave step. We're here to support you!"})}catch(h){a({title:"Error",description:h.message,variant:"destructive"})}},u=async()=>{try{const{error:h}=await K.from("user_healing_progress").upsert({user_id:o==null?void 0:o.id,no_contact_streak_days:0,last_contact_date:new Date().toISOString().split("T")[0]},{onConflict:"user_id"});if(h)throw h;t(0),a({title:"Streak reset",description:"It's okay - healing isn't linear. Start again when you're ready."})}catch(h){a({title:"Error",description:h.message,variant:"destructive"})}};return s.jsxs(W,{className:"border-2 border-primary/20",children:[s.jsx(Z,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(aa,{className:"w-5 h-5 text-primary"}),s.jsx(ee,{children:"No Contact Tracker"})]})}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl font-bold text-primary mb-2",children:e}),s.jsx("p",{className:"text-muted-foreground",children:"Days of no contact"}),e>0&&s.jsx(je,{variant:"secondary",className:"mt-2",children:e>=30?"Month Champion!":e>=7?"Week Strong!":"Building Strength"})]}),r&&s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[s.jsx(ft,{className:"w-4 h-4"}),s.jsxs("span",{children:["Started: ",new Date(r).toLocaleDateString()]})]}),s.jsx("div",{className:"flex justify-center gap-2",children:e===0?s.jsxs(H,{variant:"default",size:"sm",onClick:c,className:"bg-primary text-primary-foreground",children:[s.jsx(kt,{className:"w-4 h-4 mr-2"}),"Start No Contact"]}):s.jsx(H,{variant:"outline",size:"sm",onClick:u,className:"text-destructive hover:text-destructive",children:"Reset Streak"})})]})]})},I5=()=>{const{user:e}=Te(),[t,r]=f.useState([]),[n,o]=f.useState(0),[a,i]=f.useState(""),[l,c]=f.useState([]),[u,h]=f.useState(!1);f.useEffect(()=>{e&&(d(),v())},[e]);const d=async()=>{try{const{data:S,error:N}=await K.from("journal_prompts").select("*").order("created_at",{ascending:!0});if(N)throw N;S&&S.length>0?r(S):await m()}catch(S){console.error("Error loading prompts:",S)}},m=async()=>{const S=[{prompt:"Write about the relationship patterns you've noticed in your life. What themes keep appearing, and what might they be trying to teach you?",category:"Self-Reflection",emotional_theme:"Pattern Recognition"},{prompt:"Describe a moment when you felt truly loved and accepted. What did that experience teach you about your own worth?",category:"Self-Love",emotional_theme:"Self-Worth"},{prompt:"What are three things you're grateful for about yourself today? Focus on your inner qualities rather than achievements.",category:"Gratitude",emotional_theme:"Self-Appreciation"},{prompt:"Write a letter to your past self who was going through heartbreak. What wisdom would you share?",category:"Healing",emotional_theme:"Growth"},{prompt:"What does your ideal relationship look like? Describe how you want to feel and be treated.",category:"Future Visioning",emotional_theme:"Hope"},{prompt:"Reflect on a recent conflict or difficult conversation. What were the underlying emotions and needs that weren't expressed?",category:"Communication",emotional_theme:"Understanding"},{prompt:"What fears do you have about relationships? Where do you think these fears originated, and how do they serve or limit you?",category:"Fears",emotional_theme:"Courage"},{prompt:"Write about a boundary you need to set or maintain. What makes this boundary important for your wellbeing?",category:"Boundaries",emotional_theme:"Self-Protection"},{prompt:"Describe how you've grown as a person through your relationship experiences. What strengths have you developed?",category:"Growth",emotional_theme:"Empowerment"},{prompt:"What would you tell someone else who is going through a similar situation to yours? Write this advice with compassion.",category:"Wisdom",emotional_theme:"Compassion"},{prompt:"Reflect on your attachment style. How does it show up in your relationships, and what would healing look like?",category:"Attachment",emotional_theme:"Awareness"},{prompt:"Write about a moment when you chose yourself over staying in an unhealthy situation. How did that feel?",category:"Self-Advocacy",emotional_theme:"Pride"},{prompt:"What are your core values in relationships? How can you honor these values in future connections?",category:"Values",emotional_theme:"Alignment"},{prompt:"Describe what peace feels like to you. How can you create more of this feeling in your daily life?",category:"Peace",emotional_theme:"Serenity"},{prompt:"Write about forgiveness - either forgiving someone else or forgiving yourself. What would that process look like?",category:"Forgiveness",emotional_theme:"Release"},{prompt:"What does self-compassion mean to you? How can you practice being kinder to yourself during difficult times?",category:"Self-Love",emotional_theme:"Kindness"},{prompt:"Write about a time when you felt truly confident and secure. What internal and external factors contributed to that feeling?",category:"Confidence",emotional_theme:"Security"},{prompt:"What toxic patterns are you ready to release? Write about why you're committed to breaking these cycles.",category:"Transformation",emotional_theme:"Liberation"},{prompt:"Describe your emotional support system. Who are the people that truly see and understand you?",category:"Support",emotional_theme:"Connection"},{prompt:"What would you want to tell your future self about the journey you're on now? What hopes do you have?",category:"Future Visioning",emotional_theme:"Optimism"},{prompt:"Write about a moment when you stood up for yourself. How did it feel, and what did you learn about your own strength?",category:"Self-Advocacy",emotional_theme:"Empowerment"},{prompt:"What does vulnerability look like in healthy relationships? How comfortable are you with being truly seen?",category:"Intimacy",emotional_theme:"Authenticity"},{prompt:"Reflect on your relationship with solitude. How do you feel when you're alone with your thoughts?",category:"Self-Reflection",emotional_theme:"Independence"},{prompt:"What childhood experiences shaped your understanding of love? How do these influences show up in your adult relationships?",category:"Origins",emotional_theme:"Understanding"},{prompt:"Write about a time when you felt deeply grateful for a difficult experience. What did it teach you?",category:"Gratitude",emotional_theme:"Wisdom"},{prompt:"What does emotional safety feel like to you? How can you create this for yourself and others?",category:"Safety",emotional_theme:"Security"},{prompt:"Describe your relationship with trust. What helps you feel safe to be vulnerable with someone?",category:"Trust",emotional_theme:"Safety"},{prompt:"What would unconditional self-acceptance look like in your life? What would change if you fully embraced who you are?",category:"Self-Love",emotional_theme:"Acceptance"},{prompt:"Write about the difference between being alone and being lonely. How has your relationship with solitude evolved?",category:"Independence",emotional_theme:"Self-Sufficiency"},{prompt:"What legacy do you want to leave in terms of how you love and how you allow yourself to be loved?",category:"Legacy",emotional_theme:"Purpose"}];try{const{data:N,error:_}=await K.from("journal_prompts").insert(S).select();if(_)throw _;N&&r(N)}catch(N){console.error("Error creating default prompts:",N)}},v=async()=>{if(e)try{const{data:S}=await K.from("user_healing_progress").select("journal_entries").eq("user_id",e.id).single();if(S!=null&&S.journal_entries){const N=S.journal_entries;Array.isArray(N)&&c(N)}}catch(S){console.error("Error loading saved entries:",S)}},b=async()=>{if(!e||!a.trim()){we.error("Please write your response before saving");return}h(!0);try{const S={promptId:t[n].id,response:a,date:new Date().toISOString()},N=[...l.filter(E=>E.promptId!==S.promptId),S],{error:_}=await K.from("user_healing_progress").upsert({user_id:e.id,journal_entries:N,updated_at:new Date().toISOString()},{onConflict:"user_id"});if(_)throw _;c(N),we.success("Journal entry saved!"),i(""),n<t.length-1&&o(n+1)}catch(S){console.error("Error saving entry:",S),we.error("Failed to save entry")}finally{h(!1)}},g=()=>{if(n>0){const S=n-1;o(S);const N=l.find(_=>{var E;return _.promptId===((E=t[S])==null?void 0:E.id)});i((N==null?void 0:N.response)||"")}},w=()=>{if(n<t.length-1){const S=n+1;o(S);const N=l.find(_=>{var E;return _.promptId===((E=t[S])==null?void 0:E.id)});i((N==null?void 0:N.response)||"")}};if(f.useEffect(()=>{if(t.length>0){const S=t[n],N=l.find(_=>_.promptId===(S==null?void 0:S.id));i((N==null?void 0:N.response)||"")}},[n,t,l]),t.length===0)return s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(ir,{className:"w-5 h-5"}),"Journal Prompts"]})}),s.jsx(Q,{children:s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ir,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading your journal prompts..."})]})})})]});const p=t[n],y=l.find(S=>S.promptId===(p==null?void 0:p.id)),j={"Self-Reflection":kt,"Self-Love":he,Gratitude:he,Healing:he,"Future Visioning":_s,Communication:ir,Fears:kt,Boundaries:kt,Growth:_s,Wisdom:_s,Attachment:he,"Self-Advocacy":kt,Values:kt,Peace:he,Forgiveness:he,Confidence:kt,Transformation:_s,Support:he,Intimacy:he,Origins:ir,Safety:kt,Trust:he,Independence:kt,Legacy:_s}[p==null?void 0:p.category]||ir;return s.jsxs("div",{className:"space-y-6",children:[s.jsx(W,{children:s.jsxs(Z,{children:[s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(ir,{className:"w-5 h-5 text-primary"}),"Journal Prompts"]}),s.jsxs(He,{children:["Deep-dive prompts for self-discovery and healing (",l.length,"/",t.length," completed)"]})]})}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(j,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsxs(ee,{className:"text-lg",children:["Prompt ",n+1," of ",t.length]}),s.jsxs(He,{className:"flex items-center gap-2",children:[s.jsx("span",{className:"px-2 py-1 bg-primary/10 text-primary text-xs rounded-full",children:p==null?void 0:p.category}),s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx("span",{children:p==null?void 0:p.emotional_theme}),y&&s.jsx("span",{className:"text-green-600",children:" Completed"})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(H,{variant:"outline",size:"sm",onClick:g,disabled:n===0,children:s.jsx(w0,{className:"w-4 h-4"})}),s.jsx(H,{variant:"outline",size:"sm",onClick:w,disabled:n===t.length-1,children:s.jsx(yu,{className:"w-4 h-4"})})]})]})}),s.jsxs(Q,{className:"space-y-4",children:[s.jsx("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-4",children:s.jsx("p",{className:"text-foreground leading-relaxed",children:p==null?void 0:p.prompt})}),s.jsx(Sn,{placeholder:"Write your thoughts here... Take your time and be honest with yourself.",value:a,onChange:S=>i(S.target.value),className:"min-h-[200px] resize-none"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.length," characters"]}),s.jsxs(H,{onClick:b,disabled:!a.trim()||u,className:"flex items-center gap-2",children:[s.jsx(EE,{className:"w-4 h-4"}),u?"Saving...":y?"Update Entry":"Save Entry"]})]})]})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsx(ee,{className:"text-lg",children:"Your Journaling Progress"})}),s.jsxs(Q,{children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex-1 bg-secondary rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-primary to-primary-glow h-2 rounded-full transition-all duration-500",style:{width:`${l.length/t.length*100}%`}})}),s.jsxs("span",{className:"font-medium text-primary",children:[Math.round(l.length/t.length*100),"%"]})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["You've completed ",l.length," out of ",t.length," journal prompts. Keep going!"]})]})]})]})};function O5(){const{user:e,hasHealingKit:t,unlockHealingKit:r}=Te(),n=nt(),[o,a]=f.useState("plan");if(f.useEffect(()=>{const l=localStorage.getItem("hasHealingKit");console.log("[HealingKit]  Syncing with localStorage on mount..."),console.log("[HealingKit] localStorage hasHealingKit:",l),console.log("[HealingKit] Context hasHealingKit:",t),l==="true"&&!t&&(console.log("[HealingKit]  MISMATCH DETECTED - localStorage is true but context is false"),console.log("[HealingKit]  FIXING: Calling unlockHealingKit() to sync context..."),r())},[t,r]),console.log("[HealingKit] ========== PAGE LOAD =========="),console.log("[HealingKit] Checking access..."),console.log("[HealingKit] user:",e==null?void 0:e.id),console.log("[HealingKit] hasHealingKit from context:",t),console.log("[HealingKit] hasHealingKit from localStorage:",localStorage.getItem("hasHealingKit")),console.log("[HealingKit] Will show content?",t?"YES":"NO - PAYWALL"),!e)return console.log("[HealingKit]  No user - redirecting to auth"),s.jsx(kb,{to:"/auth",replace:!0});if(!t)return console.log("[HealingKit]  hasHealingKit is FALSE - showing paywall"),s.jsx("div",{className:"min-h-screen bg-gradient-subtle flex items-center justify-center p-4",children:s.jsxs(W,{className:"p-8 text-center max-w-md mx-auto",children:[s.jsx(he,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Healing Kit Required"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"You need to purchase the Healing Kit to access these features."}),s.jsx("button",{onClick:()=>n("/",{replace:!0}),className:"bg-primary text-primary-foreground px-4 py-2 rounded-md hover:bg-primary/90",children:"Return to Home"})]})});const i=()=>{switch(o){case"plan":return s.jsx(xx,{});case"affirmations":return s.jsx(T5,{});case"visualisations":return s.jsx(R5,{});case"tracker":return s.jsx(A5,{});case"journal":return s.jsx(I5,{});default:return s.jsx(xx,{})}};return s.jsx("div",{className:"min-h-screen bg-gradient-subtle",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("div",{className:"mt-4 mb-8",children:s.jsxs(H,{variant:"outline",onClick:()=>n("/?tab=coaches",{replace:!0}),className:"flex items-center gap-2",children:[s.jsx(mr,{className:"w-4 h-4"}),"Coaches"]})}),s.jsx(W,{className:"mb-8 overflow-hidden border-2 shadow-xl",children:s.jsxs("div",{className:"bg-gradient-to-br from-healing/10 via-healing/5 to-background p-8 text-center space-y-6",children:[s.jsx("div",{className:"flex items-center justify-center gap-2",children:s.jsx("div",{className:"p-4 rounded-2xl bg-gradient-to-r from-healing to-healing-glow shadow-2xl animate-pulse",children:s.jsx(he,{className:"w-12 h-12 text-healing-foreground"})})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h1",{className:"text-4xl sm:text-5xl font-bold bg-gradient-to-r from-healing to-healing-glow bg-clip-text text-transparent",children:"Your Healing Kit"}),s.jsx("p",{className:"text-xl font-semibold text-foreground",children:"Your personalised toolkit for emotional recovery and growth "})]}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"Navigate through heartbreak and emotional challenges with proven techniques. Track your progress, practice daily affirmations, and build the foundation for healthier relationships ahead."}),s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 sm:gap-6 pt-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx("div",{className:"w-2 h-2 bg-healing rounded-full"}),s.jsx("span",{children:"30-Day Structured Plan"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx("div",{className:"w-2 h-2 bg-healing rounded-full"}),s.jsx("span",{children:"Daily Practices"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx("div",{className:"w-2 h-2 bg-healing rounded-full"}),s.jsx("span",{children:"Progress Tracking"})]})]})]})}),s.jsx(E5,{activeSection:o,onSectionChange:a}),i()]})})}var Tp="Radio",[M5,SN]=It(Tp),[D5,L5]=M5(Tp),NN=f.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:o=!1,required:a,disabled:i,value:l="on",onCheck:c,form:u,...h}=e,[d,m]=f.useState(null),v=ye(t,w=>m(w)),b=f.useRef(!1),g=d?u||!!d.closest("form"):!0;return s.jsxs(D5,{scope:r,checked:o,disabled:i,children:[s.jsx(ae.button,{type:"button",role:"radio","aria-checked":o,"data-state":EN(o),"data-disabled":i?"":void 0,disabled:i,value:l,...h,ref:v,onClick:X(e.onClick,w=>{o||c==null||c(),g&&(b.current=w.isPropagationStopped(),b.current||w.stopPropagation())})}),g&&s.jsx(kN,{control:d,bubbles:!b.current,name:n,value:l,checked:o,required:a,disabled:i,form:u,style:{transform:"translateX(-100%)"}})]})});NN.displayName=Tp;var _N="RadioIndicator",CN=f.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...o}=e,a=L5(_N,r);return s.jsx(gt,{present:n||a.checked,children:s.jsx(ae.span,{"data-state":EN(a.checked),"data-disabled":a.disabled?"":void 0,...o,ref:t})})});CN.displayName=_N;var $5="RadioBubbleInput",kN=f.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...o},a)=>{const i=f.useRef(null),l=ye(i,a),c=kp(r),u=Fm(t);return f.useEffect(()=>{const h=i.current;if(!h)return;const d=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(d,"checked").set;if(c!==r&&v){const b=new Event("click",{bubbles:n});v.call(h,r),h.dispatchEvent(b)}},[c,r,n]),s.jsx(ae.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...o,tabIndex:-1,ref:l,style:{...o.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});kN.displayName=$5;function EN(e){return e?"checked":"unchecked"}var U5=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],qu="RadioGroup",[F5]=It(qu,[Ta,SN]),PN=Ta(),TN=SN(),[z5,H5]=F5(qu),RN=f.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:o,value:a,required:i=!1,disabled:l=!1,orientation:c,dir:u,loop:h=!0,onValueChange:d,...m}=e,v=PN(r),b=_a(u),[g,w]=wn({prop:a,defaultProp:o??null,onChange:d,caller:qu});return s.jsx(z5,{scope:r,name:n,required:i,disabled:l,value:g,onValueChange:w,children:s.jsx(gp,{asChild:!0,...v,orientation:c,dir:b,loop:h,children:s.jsx(ae.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":l?"":void 0,dir:b,...m,ref:t})})})});RN.displayName=qu;var AN="RadioGroupItem",IN=f.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...o}=e,a=H5(AN,r),i=a.disabled||n,l=PN(r),c=TN(r),u=f.useRef(null),h=ye(t,u),d=a.value===o.value,m=f.useRef(!1);return f.useEffect(()=>{const v=g=>{U5.includes(g.key)&&(m.current=!0)},b=()=>m.current=!1;return document.addEventListener("keydown",v),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",v),document.removeEventListener("keyup",b)}},[]),s.jsx(yp,{asChild:!0,...l,focusable:!i,active:d,children:s.jsx(NN,{disabled:i,required:a.required,checked:d,...c,...o,name:a.name,ref:h,onCheck:()=>a.onValueChange(o.value),onKeyDown:X(v=>{v.key==="Enter"&&v.preventDefault()}),onFocus:X(o.onFocus,()=>{var v;m.current&&((v=u.current)==null||v.click())})})})});IN.displayName=AN;var B5="RadioGroupIndicator",ON=f.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,o=TN(r);return s.jsx(CN,{...o,...n,ref:t})});ON.displayName=B5;var MN=RN,DN=IN,W5=ON;const LN=f.forwardRef(({className:e,...t},r)=>s.jsx(MN,{className:le("grid gap-2",e),...t,ref:r}));LN.displayName=MN.displayName;const $N=f.forwardRef(({className:e,...t},r)=>s.jsx(DN,{ref:r,className:le("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(W5,{className:"flex items-center justify-center",children:s.jsx(xu,{className:"h-2.5 w-2.5 fill-current text-current"})})}));$N.displayName=DN.displayName;const V5={secure:{name:"Secure Attached",description:"You have a positive view of yourself and others. You're comfortable with intimacy while maintaining healthy independence.",characteristics:["Comfortable with emotional intimacy","Excellent communication skills","Able to express needs clearly","Trusting and reliable in relationships"],icon:he,color:"bg-green-500"},anxious:{name:"Anxious-Preoccupied",description:"You deeply value connection and may worry about relationship security. You're emotionally expressive and seek reassurance.",characteristics:["Highly attuned to partner's emotions","Seeks frequent reassurance","Fear of abandonment present","Deeply committed when in love"],icon:Gh,color:"bg-yellow-500"},avoidant:{name:"Dismissive-Avoidant",description:"You highly value independence and self-reliance. You prefer emotional distance and may find intimacy uncomfortable.",characteristics:["Values independence highly","Uncomfortable with vulnerability","Self-sufficient approach to life","Prefers to handle emotions alone"],icon:aa,color:"bg-blue-500"},"compassionate-connector":{name:"Compassionate Connector",description:"You're securely attached with exceptional empathy. You naturally create safe spaces for emotional intimacy while respecting boundaries.",characteristics:["Highly empathetic and intuitive","Creates emotional safety for others","Balances giving and receiving support","Strong emotional intelligence"],icon:he,color:"bg-pink-500"},"independent-secure":{name:"Independent Secure",description:"You're secure but particularly value autonomy. You enjoy relationships while maintaining strong sense of self and personal space.",characteristics:["Comfortable in relationships and alone","Strong sense of personal identity","Respects partner's independence","Confident in relationship security"],icon:kt,color:"bg-teal-500"},"recovering-anxious":{name:"Evolving Secure",description:"You're actively healing anxious attachment patterns. You're developing confidence while maintaining your caring, attentive nature.",characteristics:["Self-awareness of attachment patterns","Working on self-soothing skills","Building internal security","Balancing needs with independence"],icon:_s,color:"bg-orange-500"},"guarded-growing":{name:"Cautiously Opening",description:"You're moving from avoidant patterns toward security. You're learning to embrace vulnerability while honoring your need for space.",characteristics:["Gradually opening to intimacy","Recognizing value of connection","Learning to trust others","Balancing independence with closeness"],icon:aa,color:"bg-indigo-500"},"relationship-focused":{name:"Partnership-Oriented",description:"You thrive in committed relationships and prioritize partnership. You're deeply invested in creating strong, lasting bonds.",characteristics:["Highly committed to relationships","Naturally collaborative","Values quality time together","Strong relationship investment"],icon:Gh,color:"bg-rose-500"},"self-sufficient-secure":{name:"Contentedly Independent",description:"You're secure with a strong preference for solitude. You enjoy relationships but are equally fulfilled by your own company.",characteristics:["Comfortable with long-term singlehood","Rich internal life","Selective about relationships","Self-contained happiness"],icon:kt,color:"bg-cyan-500"},"emotionally-aware":{name:"Emotionally Attuned",description:"You have exceptional emotional intelligence and self-awareness. You navigate relationships with insight and intentionality.",characteristics:["Deep self-understanding","Skilled at emotional regulation","Insightful about relationship dynamics","Intentional in communication"],icon:Wr,color:"bg-purple-500"}},K5=()=>{const{user:e}=Te(),{toast:t}=At(),[r,n]=f.useState(0),[o,a]=f.useState([]),[i,l]=f.useState(!1),[c,u]=f.useState(""),[h,d]=f.useState(""),[m,v]=f.useState(null),[b,g]=f.useState(!1),[w,p]=f.useState([]),[y,x]=f.useState(!1),[j,S]=f.useState(null),[N,_]=f.useState(!1),[E,M]=f.useState([]),[R,z]=f.useState(!0),[O,F]=f.useState(null),A=()=>{const U=new Date,V=new Date(U);V.setDate(V.getDate()+1),V.setHours(0,0,0,0);const L=V.getTime()-U.getTime(),J=Math.floor(L/(1e3*60*60)),ne=Math.floor(L%(1e3*60*60)/(1e3*60));return`${J}h ${ne}m`};f.useEffect(()=>{e&&(D(),T(),P())},[e]);const D=async()=>{z(!0),F(null);try{console.log("Loading daily AI-generated questions...");const V=await fetch("https://heartlift-launch.emergent.host/api/ai/quiz/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:"attachment_style",num_questions:10})});if(!V.ok)throw new Error(`Failed to generate quiz: ${V.statusText}`);const L=await V.json();if(console.log("Backend response:",L),L&&L.questions&&Array.isArray(L.questions)){M(L.questions),console.log("Successfully loaded",L.questions.length,"fresh AI-generated questions");return}throw new Error("No questions available")}catch(U){console.error("Failed to load quiz questions:",U),M([{id:1,question:"How do you typically approach new relationships?",options:["With excitement and openness to connection","With hope but worry about being hurt","With caution and preference for independence","With confusion about what I want"]},{id:2,question:"When conflict arises, you tend to:",options:["Address issues directly and work toward resolution","Become anxious and seek immediate reassurance","Withdraw and avoid confrontation","Feel overwhelmed and react unpredictably"]},{id:3,question:"Your emotional regulation involves:",options:["Processing feelings and seeking appropriate support","Becoming overwhelmed and needing constant comfort","Shutting down emotions and handling things alone","Experiencing intense, conflicting emotions"]},{id:4,question:"When someone gets close emotionally, you tend to:",options:["Welcome the closeness and feel secure","Feel both excited and terrified","Create distance to maintain independence","Feel unpredictable emotions"]},{id:5,question:"Your view of yourself in relationships is:",options:["Confident and worthy of love","Dependent on others' validation","Self-reliant but emotionally distant","Inconsistent and self-doubting"]},{id:6,question:"When your partner needs space, you:",options:["Respect their need while maintaining connection","Feel rejected and seek reassurance","Feel relieved and prefer the distance","Feel confused about how to respond"]},{id:7,question:"Trust in relationships comes:",options:["Naturally with the right person","Hard - you want to trust but fear disappointment","Very slowly - you need consistent proof","In waves - sometimes you trust, sometimes you don't"]},{id:8,question:"When you're upset, you prefer to:",options:["Talk it through with your partner openly","Seek immediate comfort and reassurance","Process your feelings alone first","Sometimes seek comfort, sometimes withdraw"]},{id:9,question:"Your biggest fear in relationships is:",options:["Growing apart due to lack of communication","Being abandoned or rejected","Losing your sense of self","Not knowing if the relationship is stable"]},{id:10,question:"Physical affection in relationships feels:",options:["Natural and comforting","Amazing but sometimes you crave more","Nice but you need personal space too","Complicated - sometimes you want it, sometimes you don't"]}]),console.log("Using hardcoded fallback questions")}finally{z(!1)}},P=async()=>{if(!e)return;const U=new Date().toISOString().slice(0,10);try{const{data:V,error:L}=await K.from("quiz_results").select("id, completed_at").eq("user_id",e.id).gte("completed_at",`${U}T00:00:00`).lte("completed_at",`${U}T23:59:59`).limit(1);if(L)throw L;_(V&&V.length>0)}catch(V){console.error("Error checking today completion:",V),_(!1)}},T=async()=>{if(e)try{const{data:U,error:V}=await K.from("quiz_results").select("*").eq("user_id",e.id).order("completed_at",{ascending:!1}).limit(10);if(V)throw V;p(U||[])}catch(U){console.error("Error fetching past results:",U)}},C=U=>{S(U),d(U.attachment_style),v(U.analysis),l(!0),x(!1)},k=()=>{if(c){const U=[...o,parseInt(c)];a(U),u(""),r<E.length-1?n(r+1):$(U)}},$=async U=>{g(!0);try{const V=U.map((ie,I)=>({question:E[I].question,answer:E[I].options[ie]})),J=await fetch("https://heartlift-launch.emergent.host/api/ai/quiz/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({questions_and_answers:V,user_id:e==null?void 0:e.id})});if(!J.ok)throw new Error(`Failed to analyze quiz: ${J.statusText}`);const ne=await J.json();if(d(ne.attachmentStyle),v(ne.analysis),l(!0),_(!0),e!=null&&e.id)try{const{error:ie}=await K.from("quiz_results").insert({user_id:e.id,attachment_style:ne.attachmentStyle,analysis:ne.analysis,questions_and_answers:V,completed_at:new Date().toISOString()});ie?console.error("Error saving quiz result:",ie):T()}catch(ie){console.error("Error saving to database:",ie)}t({title:"Analysis Complete!",description:"Your personalised attachment style report is ready."})}catch(V){console.error("Analysis error:",V);const L={secure:0,anxious:0,avoidant:0,"compassionate-connector":0,"independent-secure":0,"recovering-anxious":0,"guarded-growing":0,"relationship-focused":0,"self-sufficient-secure":0,"emotionally-aware":0};U.forEach((ne,ie)=>{const I=E[ie].options[ne].toLowerCase();I.includes("comfortable")&&I.includes("express")&&(L.secure+=2),I.includes("trust")&&I.includes("open")&&L.secure++,(I.includes("worry")||I.includes("anxious"))&&(L.anxious+=2),(I.includes("reassurance")||I.includes("fear")&&I.includes("abandon"))&&L.anxious++,(I.includes("independent")||I.includes("self-reliant"))&&(L.avoidant+=2),(I.includes("distance")||I.includes("space"))&&L.avoidant++,I.includes("support")&&I.includes("understand")&&L["compassionate-connector"]++,(I.includes("empathy")||I.includes("listen"))&&L["compassionate-connector"]++,(I.includes("balance")||I.includes("independent")&&I.includes("comfortable"))&&L["independent-secure"]++,(I.includes("working on")||I.includes("trying to"))&&L["recovering-anxious"]++,(I.includes("gradually")||I.includes("learning to"))&&L["guarded-growing"]++,I.includes("partner")&&I.includes("together")&&L["relationship-focused"]++,(I.includes("committed")||I.includes("quality time"))&&L["relationship-focused"]++,I.includes("alone")&&I.includes("content")&&L["self-sufficient-secure"]++,(I.includes("aware")||I.includes("reflect"))&&L["emotionally-aware"]++});const J=Object.entries(L).reduce((ne,ie)=>L[ne[0]]>L[ie[0]]?ne:ie)[0];if(d(J),l(!0),_(!0),e!=null&&e.id)try{await K.from("user_attachment_results").insert({user_id:e.id,attachment_style:J,quiz_date:new Date().toISOString().slice(0,10)}),await T()}catch(ne){console.error("Failed to save fallback result:",ne)}t({title:"Here are your results!",description:"Your attachment style analysis is complete."})}finally{g(!1)}};if(R)return s.jsx("div",{className:"space-y-6 max-w-4xl mx-auto",children:s.jsxs(W,{children:[s.jsxs(Z,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(pn,{className:"w-8 h-8 animate-spin text-primary"})}),s.jsx(ee,{className:"text-2xl",children:"Loading Today's Questions..."})]}),s.jsx(Q,{className:"text-center",children:s.jsx("p",{className:"text-muted-foreground",children:"AI is generating fresh attachment style questions for you."})})]})});if(N&&!i)return s.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[s.jsxs(W,{children:[s.jsxs(Z,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-4 rounded-full bg-green-100",children:s.jsx(Ks,{className:"w-8 h-8 text-green-600"})})}),s.jsx(ee,{className:"text-2xl",children:"Daily Quiz Completed!"}),s.jsxs("div",{className:"flex items-center justify-center gap-4 mt-4",children:[s.jsxs(je,{variant:"outline",className:"flex items-center gap-2",children:[s.jsx(ft,{className:"w-4 h-4"}),"AI-Generated Questions"]}),s.jsxs(je,{variant:"secondary",className:"flex items-center gap-2",children:[s.jsx($o,{className:"w-4 h-4"}),"Next: ",A()]})]})]}),s.jsxs(Q,{className:"space-y-4 text-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"You've completed today's attachment style quiz. Check back tomorrow for new questions!"}),s.jsx("div",{className:"flex gap-3 justify-center",children:s.jsx(H,{onClick:()=>x(!0),variant:"outline",children:"View Past Results"})})]})]}),y&&s.jsxs(W,{children:[s.jsx(Z,{children:s.jsx(ee,{children:"Your Quiz History"})}),s.jsxs(Q,{children:[w.length>0?s.jsx("div",{className:"space-y-4",children:w.map((U,V)=>{var L,J;return s.jsxs("button",{onClick:()=>C(U),className:"w-full flex justify-between items-center p-3 border rounded-lg hover:bg-accent transition-colors cursor-pointer text-left",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium capitalize",children:(L=U.attachment_style)==null?void 0:L.replace(/-/g," ")}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(U.completed_at).toLocaleDateString()," at ",new Date(U.completed_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),s.jsx(je,{variant:"outline",className:"capitalize",children:(J=U.attachment_style)==null?void 0:J.replace(/-/g," ")})]},U.id)})}):s.jsx("p",{className:"text-muted-foreground",children:"No past results available."}),s.jsx(H,{onClick:()=>x(!1),variant:"outline",className:"mt-4 w-full",children:"Close"})]})]})]});if(b)return s.jsx(W,{className:"max-w-2xl mx-auto",children:s.jsxs(Q,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(pn,{className:"w-8 h-8 animate-spin mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Analyzing Your Responses"}),s.jsx("p",{className:"text-muted-foreground text-center",children:"Our AI is creating your personalised attachment style report..."})]})});if(i&&h){const U=V5[h];if(!U)return console.error("Unknown attachment style:",h),s.jsx(W,{className:"max-w-2xl mx-auto",children:s.jsxs(Q,{className:"text-center py-8",children:[s.jsx("p",{className:"text-destructive",children:"Unable to display results. Please try again."}),s.jsx(H,{onClick:()=>window.location.reload(),className:"mt-4",children:"Reload Page"})]})});const V=U.icon;return s.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[s.jsxs(W,{children:[s.jsxs(Z,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:`p-4 rounded-full ${U.color}`,children:s.jsx(V,{className:"w-8 h-8 text-white"})})}),s.jsx(ee,{className:"text-2xl",children:j?"Past Quiz Result":"Your Attachment Style"}),s.jsx(je,{variant:"secondary",className:"text-lg px-4 py-2",children:U.name}),s.jsx("div",{className:"flex items-center justify-center gap-4 mt-4",children:j?s.jsxs(je,{variant:"outline",className:"flex items-center gap-2",children:[s.jsx(ft,{className:"w-4 h-4"}),new Date(j.completed_at).toLocaleDateString()," at ",new Date(j.completed_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}):s.jsxs(s.Fragment,{children:[s.jsxs(je,{variant:"outline",className:"flex items-center gap-2",children:[s.jsx(ft,{className:"w-4 h-4"}),"AI-Generated Quiz"]}),s.jsxs(je,{variant:"secondary",className:"flex items-center gap-2",children:[s.jsx($o,{className:"w-4 h-4"}),"Next: ",A()]})]})})]}),s.jsxs(Q,{className:"space-y-6",children:[s.jsx("p",{className:"text-muted-foreground text-center",children:U.description}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-3",children:"Key Characteristics"}),s.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:U.characteristics.map((L,J)=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full flex-shrink-0"}),L]},J))})]}),s.jsx("div",{className:"flex gap-3 justify-center",children:s.jsx(H,{onClick:()=>x(!0),variant:"outline",children:"View History"})})]})]}),m&&s.jsxs(s.Fragment,{children:[s.jsxs(W,{children:[s.jsx(Z,{children:s.jsx(ee,{className:"flex items-center gap-2",children:" Full Breakdown of Your Style"})}),s.jsx(Q,{className:"space-y-4",children:s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2 text-green-700",children:"Strengths"}),s.jsx("ul",{className:"space-y-1",children:m.detailedBreakdown.strengths.map((L,J)=>s.jsxs("li",{className:"text-sm text-muted-foreground",children:[" ",L]},J))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2 text-orange-700",children:"Challenges"}),s.jsx("ul",{className:"space-y-1",children:m.detailedBreakdown.challenges.map((L,J)=>s.jsxs("li",{className:"text-sm text-muted-foreground",children:[" ",L]},J))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2 text-blue-700",children:"Relationship Patterns"}),s.jsx("ul",{className:"space-y-1",children:m.detailedBreakdown.relationshipPatterns.map((L,J)=>s.jsxs("li",{className:"text-sm text-muted-foreground",children:[" ",L]},J))})]})]})})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs(W,{children:[s.jsx(Z,{children:s.jsx(ee,{className:"flex items-center gap-2",children:" Common Triggers"})}),s.jsx(Q,{children:s.jsx("ul",{className:"space-y-2",children:m.triggers.map((L,J)=>s.jsxs("li",{className:"text-sm",children:[" ",L]},J))})})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsx(ee,{className:"flex items-center gap-2",children:" Coping Techniques"})}),s.jsx(Q,{children:s.jsx("div",{className:"space-y-3",children:m.copingTechniques.map((L,J)=>s.jsxs("div",{className:"border-l-2 border-primary pl-3",children:[s.jsx("h5",{className:"font-medium text-sm",children:L.technique}),s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:L.description}),s.jsxs("p",{className:"text-xs italic",children:["Example: ",L.example]})]},J))})})]})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsx(ee,{className:"flex items-center gap-2",children:" Your Personalised Healing Path"})}),s.jsx(Q,{children:s.jsx("p",{className:"text-sm leading-relaxed",children:m.healingPath})})]})]}),i&&s.jsx("div",{className:"flex gap-3 justify-center mt-6",children:j?s.jsx(H,{onClick:()=>{x(!0),l(!1),S(null)},variant:"outline",children:"Back to History"}):s.jsx(H,{onClick:()=>x(!0),variant:"outline",children:"View Past Results"})}),y&&s.jsxs(W,{children:[s.jsx(Z,{children:s.jsx(ee,{children:"Your Quiz History"})}),s.jsxs(Q,{children:[w.length>0?s.jsx("div",{className:"space-y-4",children:w.map((L,J)=>{var ne,ie;return s.jsxs("button",{onClick:()=>C(L),className:"w-full flex justify-between items-center p-3 border rounded-lg hover:bg-accent transition-colors cursor-pointer text-left",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium capitalize",children:(ne=L.attachment_style)==null?void 0:ne.replace(/-/g," ")}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(L.completed_at).toLocaleDateString()," at ",new Date(L.completed_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),s.jsx(je,{variant:"outline",className:"capitalize",children:(ie=L.attachment_style)==null?void 0:ie.replace(/-/g," ")})]},L.id)})}):s.jsx("p",{className:"text-muted-foreground",children:"No past results available."}),s.jsx(H,{onClick:()=>x(!1),variant:"outline",className:"mt-4 w-full",children:"Close"})]})]})]})}return!E||E.length===0?s.jsx("div",{className:"space-y-6 max-w-4xl mx-auto",children:s.jsxs(W,{children:[s.jsx(Z,{className:"text-center",children:s.jsx(ee,{className:"text-2xl",children:"No Questions Available"})}),s.jsxs(Q,{className:"text-center space-y-4",children:[s.jsx("p",{className:"text-muted-foreground",children:"Unable to load quiz questions. Please try refreshing the page."}),s.jsx(H,{onClick:D,variant:"outline",children:"Reload Questions"})]})]})}):s.jsxs("div",{className:"space-y-4 sm:space-y-6 max-w-2xl mx-auto px-4 sm:px-0",children:[s.jsx(W,{children:s.jsxs(Z,{className:"text-center p-4 sm:p-6",children:[s.jsxs(ee,{className:"flex items-center justify-center gap-2 text-lg sm:text-xl",children:[s.jsx(he,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"}),"Daily Attachment Style Quiz"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-2 sm:gap-4 mt-3 sm:mt-4",children:[s.jsxs(je,{variant:"outline",className:"flex items-center gap-2 text-xs sm:text-sm",children:[s.jsx(ft,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"AI-Generated Questions"]}),s.jsxs(je,{variant:"secondary",className:"flex items-center gap-2 text-xs sm:text-sm",children:[s.jsx($o,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"New questions in ",A()]})]}),s.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:"AI generates fresh questions daily to provide deeper insights into your attachment patterns"}),s.jsx("div",{className:"mt-3 flex justify-center",children:s.jsx(H,{variant:"ghost",onClick:()=>x(!0),size:"sm",children:"View Past Results"})})]})}),s.jsxs(W,{children:[s.jsxs(Z,{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"text-xs sm:text-sm text-muted-foreground",children:["Question ",r+1," of ",E.length]}),s.jsxs(je,{variant:"outline",className:"text-xs sm:text-sm",children:[Math.round((r+1)/E.length*100),"%"]})]}),s.jsx(Pa,{value:(r+1)/E.length*100,className:"mt-2"})]}),s.jsxs(Q,{className:"space-y-4 sm:space-y-6 p-4 sm:p-6 pt-0",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-4 leading-tight",children:E[r].question}),s.jsx(LN,{value:c,onValueChange:u,className:"space-y-3 sm:space-y-2",children:E[r].options.map((U,V)=>s.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border hover:bg-muted/30 transition-colors",children:[s.jsx($N,{value:V.toString(),id:`option-${V}`,className:"mt-0.5 flex-shrink-0"}),s.jsx(Je,{htmlFor:`option-${V}`,className:"flex-1 cursor-pointer text-sm sm:text-base leading-relaxed",children:U})]},V))})]}),s.jsx(H,{onClick:k,disabled:!c,className:"w-full py-3 text-base font-medium",size:"lg",children:r<E.length-1?"Next Question":"Complete Quiz"})]})]})]})},q5=()=>{const{user:e,isPremium:t}=Te(),{toast:r}=At(),[n,o]=f.useState([]),[a,i]=f.useState({}),[l,c]=f.useState(null),[u,h]=f.useState([]),[d,m]=f.useState(null),[v,b]=f.useState(""),[g,w]=f.useState(!1),[p,y]=f.useState(null),[x,j]=f.useState(!0),[S,N]=f.useState(null);f.useEffect(()=>(e&&t&&(_(),E()),()=>{S&&clearTimeout(S)}),[e,t,S]);const _=async()=>{try{const{data:T,error:C}=await K.from("guided_programs").select("*").order("program_key");if(C)throw C;o(T||[])}catch(T){console.error("Error fetching programs:",T),r({title:"Error",description:"Failed to load guided programs",variant:"destructive"})}finally{j(!1)}},E=async()=>{if(e)try{const{data:T,error:C}=await K.from("user_guided_program_progress").select("*").eq("user_id",e.id);if(C)throw C;const k={};T==null||T.forEach($=>{k[$.program_id]={...$,reflection_answers:$.reflection_answers||{}}}),i(k)}catch(T){console.error("Error fetching user progress:",T)}},M=async T=>{try{const{data:C,error:k}=await K.from("guided_program_modules").select("*").eq("program_id",T).order("module_number");if(k)throw k;h(C||[]);const $=a[T],U=($==null?void 0:$.current_module)||1,V=C==null?void 0:C.find(L=>L.module_number===U);if(m(V||(C==null?void 0:C[0])||null),$&&V){const L=$.reflection_answers[V.id]||"";b(L)}}catch(C){console.error("Error fetching program modules:",C)}},R=async T=>{if(c(T),await M(T.id),!a[T.id])try{const{error:C}=await K.from("user_guided_program_progress").insert({user_id:e.id,program_id:T.id,current_module:1,completed_modules:[],reflection_answers:{}});if(C)throw C;await E()}catch(C){console.error("Error initializing progress:",C)}},z=async(T=!0)=>{if(!d||!l||!e)return;const C=a[l.id];if(!C)return;const k={...C.reflection_answers,[d.id]:v};try{const{error:$}=await K.from("user_guided_program_progress").update({reflection_answers:k}).eq("id",C.id);if($)throw $;T&&r({title:"Reflection Saved",description:"Your reflection has been saved successfully"}),await E()}catch($){console.error("Error saving reflection:",$),T&&r({title:"Error",description:"Failed to save reflection",variant:"destructive"})}},O=T=>{b(T),S&&clearTimeout(S);const C=setTimeout(()=>{T.trim()&&z(!1)},2e3);N(C)},F=async()=>{if(!d||!l||!e)return;await z();const T=a[l.id];if(!T)return;const C=[...T.completed_modules];C.includes(d.module_number)||C.push(d.module_number);const k=d.module_number+1,$=k>u.length,U=$;try{const V={completed_modules:C,current_module:$?d.module_number:k,program_completed:U};U&&(V.completed_at=new Date().toISOString());const{error:L}=await K.from("user_guided_program_progress").update(V).eq("id",T.id);if(L)throw L;if(await E(),U)y(l),w(!0);else{const J=u.find(ne=>ne.module_number===k);J&&(m(J),b(""))}r({title:"Module Completed!",description:U?"Congratulations! You've completed the entire program!":"Moving to the next module..."})}catch(V){console.error("Error completing module:",V),r({title:"Error",description:"Failed to complete module",variant:"destructive"})}},A=()=>{if(!l||!a[l.id])return;const C=a[l.id].reflection_answers;let k=`${l.title} - Reflection Summary

`;u.forEach(L=>{const J=C[L.id];J&&(k+=`${L.title}
`,k+=`${L.reflection_prompt}
`,k+=`Your reflection: ${J}

`)});const $=new Blob([k],{type:"text/plain"}),U=URL.createObjectURL($),V=document.createElement("a");V.href=U,V.download=`${l.title.replace(/\s+/g,"_")}_reflections.txt`,V.click(),URL.revokeObjectURL(U)},D=T=>{switch(T){case"finding_inner_security":return he;case"rebuilding_trust":return aa;case"letting_go_moving_forward":return yE;default:return ir}},P=T=>{const C=a[T];return C?C.completed_modules.length/3*100:0};return t?x?s.jsx(W,{className:"p-8 text-center",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mx-auto mb-4"}),s.jsx("div",{className:"h-4 bg-muted rounded w-1/2 mx-auto"})]})}):l?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs(H,{variant:"outline",onClick:async()=>{v.trim()&&d&&await z(!1),c(null),m(null),b("")},className:"mb-4",children:[s.jsx(mr,{className:"w-4 h-4 mr-2"}),"Back to Programs"]}),s.jsx("div",{className:"text-center sm:text-left",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center sm:justify-start gap-3 sm:gap-4",children:[s.jsx("span",{className:"text-4xl sm:text-3xl",children:l.emoji}),s.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-center sm:text-left leading-tight",children:l.title})]})})]}),d&&s.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[s.jsxs(W,{children:[s.jsx(Z,{children:s.jsx(ee,{className:"text-lg",children:"Modules"})}),s.jsx(Q,{className:"space-y-2",children:(u||[]).map(T=>{var $;const C=($=a[l.id])==null?void 0:$.completed_modules.includes(T.module_number),k=d.id===T.id;return s.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer transition-colors ${k?"bg-primary/10 border border-primary/20":"hover:bg-muted/50"}`,onClick:async()=>{v.trim()&&d&&await z(!1),m(T);const U=a[l.id],V=(U==null?void 0:U.reflection_answers[T.id])||"";b(V)},children:[C?s.jsx(Ks,{className:"w-5 h-5 text-green-500"}):s.jsx(xu,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:T.title}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Module ",T.module_number]})]})]},T.id)})})]}),s.jsx("div",{className:"lg:col-span-2 space-y-6",children:s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(ir,{className:"w-5 h-5"}),d.title]})}),s.jsxs(Q,{className:"space-y-6",children:[s.jsx("div",{className:"prose prose-sm max-w-none",children:d.teaching_content.split(`

`).map((T,C)=>s.jsx("p",{className:"text-sm leading-relaxed mb-4",children:T},C))}),s.jsx(pp,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-sm",children:"Reflection"}),s.jsx("p",{className:"text-sm text-muted-foreground italic",children:d.reflection_prompt}),s.jsx(Sn,{placeholder:"Share your thoughts and reflections here...",value:v,onChange:T=>O(T.target.value),className:"min-h-[120px]"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(H,{onClick:()=>z(!0),variant:"outline",size:"sm",children:"Save Reflection"}),s.jsx(H,{onClick:F,disabled:!v.trim(),size:"sm",children:"Complete Module"})]})]})]})]})})]}),s.jsx(rl,{open:g,onOpenChange:w,children:s.jsxs(Ca,{className:"max-w-md",children:[s.jsx(ka,{children:s.jsx(Ea,{className:"text-center",children:" Program Complete!"})}),s.jsxs("div",{className:"text-center space-y-4",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["You've completed the ",s.jsx("strong",{children:p==null?void 0:p.title})," journey  take a moment to celebrate your growth. Every step you've taken brings you closer to secure and meaningful connections."]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs(H,{onClick:A,variant:"outline",children:[s.jsx(Tc,{className:"w-4 h-4 mr-2"}),"Download Reflection Summary"]}),s.jsx(H,{onClick:()=>{w(!1),c(null),m(null)},children:"Start Another Program"})]})]})]})})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Guided Programs"}),s.jsx("p",{className:"text-muted-foreground",children:"Structured journeys to help you grow, heal, and strengthen your relationships."})]}),s.jsx("div",{className:"grid gap-6 md:grid-cols-1 lg:grid-cols-3",children:(n||[]).map(T=>{var $;D(T.program_key);const C=P(T.id),k=($=a[T.id])==null?void 0:$.program_completed;return s.jsxs(W,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:[s.jsxs(Z,{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("span",{className:"text-2xl",children:T.emoji}),s.jsx("div",{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[T.title,k&&s.jsx(Ks,{className:"w-5 h-5 text-green-500"})]})})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:T.description})]}),s.jsx(Q,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{children:"Progress"}),s.jsxs("span",{children:[Math.round(C),"%"]})]}),s.jsx(Pa,{value:C,className:"h-2"})]}),s.jsxs(H,{className:"w-full",onClick:()=>R(T),variant:k?"outline":"default",children:[k?"Review Program":C>0?"Continue":"Start Program",s.jsx(yu,{className:"w-4 h-4 ml-2"})]})]})})]},T.id)})})]}):s.jsxs(W,{className:"p-8 text-center",children:[s.jsx(ir,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Premium Required"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Upgrade to premium to access guided programs for growth and healing."}),s.jsx(H,{variant:"warm",onClick:()=>{const T=window.location.pathname+window.location.search;window.location.href=`/premium-purchase?from=${encodeURIComponent(T)}`},children:"Upgrade to Premium"})]})},G5=()=>{const{user:e}=Te(),{toast:t}=At(),[r,n]=f.useState(""),[o,a]=f.useState(null),[i,l]=f.useState(!1),c=async()=>{if(!r.trim()){t({title:"Please enter a conversation",description:"Paste or type the conversation you'd like to analyse.",variant:"destructive"});return}l(!0);try{const h=await fetch("https://heartlift-launch.emergent.host/api/ai/analyze-conversation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({conversation_text:r.trim(),analysis_type:"general"})});if(!h.ok)throw new Error(`Failed to analyze conversation: ${h.statusText}`);const d=await h.json();a(d),t({title:"Analysis Complete",description:"Your conversation has been analysed successfully."})}catch(u){console.error("Analysis error:",u),t({title:"Analysis Failed",description:u instanceof Error?u.message:"There was an error analysing your conversation. Please try again.",variant:"destructive"})}finally{l(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Jr,{className:"w-5 h-5"}),"Conversation Analyser"]})}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Paste your conversation below:"}),s.jsx(Sn,{placeholder:`You: Hey, how was your day?
Them: Fine.
You: Just fine? You seem upset about something...

(Paste your full conversation here)`,value:r,onChange:u=>n(u.target.value),rows:8,className:"resize-none"})]}),s.jsx(H,{onClick:c,disabled:i||!r.trim(),className:"w-full",children:i?s.jsxs(s.Fragment,{children:[s.jsx(pn,{className:"w-4 h-4 mr-2 animate-spin"}),"Analysing Conversation..."]}):s.jsxs(s.Fragment,{children:[s.jsx(OE,{className:"w-4 h-4 mr-2"}),"Analyse Conversation"]})})]})]}),o&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs(W,{children:[s.jsx(Z,{children:s.jsx(ee,{className:"flex items-center gap-2",children:" Emotional Tone Analysis"})}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Your Tone"}),s.jsx("p",{className:"text-muted-foreground",children:o.emotionalTone.user})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Their Tone"}),s.jsx("p",{className:"text-muted-foreground",children:o.emotionalTone.partner})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Overall Dynamic"}),s.jsx("p",{className:"text-muted-foreground",children:o.emotionalTone.overall})]})]})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsx(ee,{className:"flex items-center gap-2",children:" Miscommunication Patterns"})}),s.jsx(Q,{className:"space-y-4",children:o.miscommunicationPatterns.map((u,h)=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsx("div",{className:"flex items-center gap-2 mb-2",children:s.jsx(je,{variant:"outline",children:u.pattern})}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:u.description}),u.examples.length>0&&s.jsxs("div",{children:[s.jsx("h5",{className:"text-xs font-medium mb-1",children:"Examples:"}),s.jsx("ul",{className:"text-xs text-muted-foreground space-y-1",children:u.examples.map((d,m)=>s.jsxs("li",{className:"italic",children:['"',d,'"']},m))})]})]},h))})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsx(ee,{className:"flex items-center gap-2",children:" What You Could Have Said Differently"})}),s.jsx(Q,{className:"space-y-4",children:o.suggestions.map((u,h)=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium mb-2 text-destructive",children:u.issue}),s.jsxs("div",{className:"bg-primary/5 rounded p-3 mb-2",children:[s.jsx("h5",{className:"text-sm font-medium mb-1",children:"Better Response:"}),s.jsxs("p",{className:"text-sm italic",children:['"',u.betterResponse,'"']})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:u.explanation})]},h))})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(la,{className:"w-5 h-5"}),"Overall Assessment"]})}),s.jsx(Q,{children:s.jsx("p",{className:"text-muted-foreground",children:o.overallAssessment})})]})]})]})};var Y5=[" ","Enter","ArrowUp","ArrowDown"],Q5=[" ","Enter"],Js="Select",[Gu,Yu,J5]=mu(Js),[Ra]=It(Js,[J5,wa]),Qu=wa(),[X5,gs]=Ra(Js),[Z5,eL]=Ra(Js),UN=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:o,onOpenChange:a,value:i,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:d,disabled:m,required:v,form:b}=e,g=Qu(t),[w,p]=f.useState(null),[y,x]=f.useState(null),[j,S]=f.useState(!1),N=_a(u),[_,E]=wn({prop:n,defaultProp:o??!1,onChange:a,caller:Js}),[M,R]=wn({prop:i,defaultProp:l,onChange:c,caller:Js}),z=f.useRef(null),O=w?b||!!w.closest("form"):!0,[F,A]=f.useState(new Set),D=Array.from(F).map(P=>P.props.value).join(";");return s.jsx(rb,{...g,children:s.jsxs(X5,{required:v,scope:t,trigger:w,onTriggerChange:p,valueNode:y,onValueNodeChange:x,valueNodeHasChildren:j,onValueNodeHasChildrenChange:S,contentId:Yr(),value:M,onValueChange:R,open:_,onOpenChange:E,dir:N,triggerPointerDownPosRef:z,disabled:m,children:[s.jsx(Gu.Provider,{scope:t,children:s.jsx(Z5,{scope:e.__scopeSelect,onNativeOptionAdd:f.useCallback(P=>{A(T=>new Set(T).add(P))},[]),onNativeOptionRemove:f.useCallback(P=>{A(T=>{const C=new Set(T);return C.delete(P),C})},[]),children:r})}),O?s.jsxs(c1,{"aria-hidden":!0,required:v,tabIndex:-1,name:h,autoComplete:d,value:M,onChange:P=>R(P.target.value),disabled:m,form:b,children:[M===void 0?s.jsx("option",{value:""}):null,Array.from(F)]},D):null]})})};UN.displayName=Js;var FN="SelectTrigger",zN=f.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...o}=e,a=Qu(r),i=gs(FN,r),l=i.disabled||n,c=ye(t,i.onTriggerChange),u=Yu(r),h=f.useRef("touch"),[d,m,v]=d1(g=>{const w=u().filter(x=>!x.disabled),p=w.find(x=>x.value===i.value),y=h1(w,g,p);y!==void 0&&i.onValueChange(y.value)}),b=g=>{l||(i.onOpenChange(!0),v()),g&&(i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return s.jsx(Bm,{asChild:!0,...a,children:s.jsx(ae.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":u1(i.value)?"":void 0,...o,ref:c,onClick:X(o.onClick,g=>{g.currentTarget.focus(),h.current!=="mouse"&&b(g)}),onPointerDown:X(o.onPointerDown,g=>{h.current=g.pointerType;const w=g.target;w.hasPointerCapture(g.pointerId)&&w.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(b(g),g.preventDefault())}),onKeyDown:X(o.onKeyDown,g=>{const w=d.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(w&&g.key===" ")&&Y5.includes(g.key)&&(b(),g.preventDefault())})})})});zN.displayName=FN;var HN="SelectValue",BN=f.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,children:a,placeholder:i="",...l}=e,c=gs(HN,r),{onValueNodeHasChildrenChange:u}=c,h=a!==void 0,d=ye(t,c.onValueNodeChange);return ct(()=>{u(h)},[u,h]),s.jsx(ae.span,{...l,ref:d,style:{pointerEvents:"none"},children:u1(c.value)?s.jsx(s.Fragment,{children:i}):a})});BN.displayName=HN;var tL="SelectIcon",WN=f.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...o}=e;return s.jsx(ae.span,{"aria-hidden":!0,...o,ref:t,children:n||""})});WN.displayName=tL;var rL="SelectPortal",VN=e=>s.jsx(Qi,{asChild:!0,...e});VN.displayName=rL;var Xs="SelectContent",KN=f.forwardRef((e,t)=>{const r=gs(Xs,e.__scopeSelect),[n,o]=f.useState();if(ct(()=>{o(new DocumentFragment)},[]),!r.open){const a=n;return a?to.createPortal(s.jsx(qN,{scope:e.__scopeSelect,children:s.jsx(Gu.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),a):null}return s.jsx(GN,{...e,ref:t})});KN.displayName=Xs;var br=10,[qN,ys]=Ra(Xs),nL="SelectContentImpl",sL=Vs("SelectContent.RemoveScroll"),GN=f.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:d,collisionBoundary:m,collisionPadding:v,sticky:b,hideWhenDetached:g,avoidCollisions:w,...p}=e,y=gs(Xs,r),[x,j]=f.useState(null),[S,N]=f.useState(null),_=ye(t,I=>j(I)),[E,M]=f.useState(null),[R,z]=f.useState(null),O=Yu(r),[F,A]=f.useState(!1),D=f.useRef(!1);f.useEffect(()=>{if(x)return cp(x)},[x]),lp();const P=f.useCallback(I=>{const[q,...te]=O().map(fe=>fe.ref.current),[ce]=te.slice(-1),me=document.activeElement;for(const fe of I)if(fe===me||(fe==null||fe.scrollIntoView({block:"nearest"}),fe===q&&S&&(S.scrollTop=0),fe===ce&&S&&(S.scrollTop=S.scrollHeight),fe==null||fe.focus(),document.activeElement!==me))return},[O,S]),T=f.useCallback(()=>P([E,x]),[P,E,x]);f.useEffect(()=>{F&&T()},[F,T]);const{onOpenChange:C,triggerPointerDownPosRef:k}=y;f.useEffect(()=>{if(x){let I={x:0,y:0};const q=ce=>{var me,fe;I={x:Math.abs(Math.round(ce.pageX)-(((me=k.current)==null?void 0:me.x)??0)),y:Math.abs(Math.round(ce.pageY)-(((fe=k.current)==null?void 0:fe.y)??0))}},te=ce=>{I.x<=10&&I.y<=10?ce.preventDefault():x.contains(ce.target)||C(!1),document.removeEventListener("pointermove",q),k.current=null};return k.current!==null&&(document.addEventListener("pointermove",q),document.addEventListener("pointerup",te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",q),document.removeEventListener("pointerup",te,{capture:!0})}}},[x,C,k]),f.useEffect(()=>{const I=()=>C(!1);return window.addEventListener("blur",I),window.addEventListener("resize",I),()=>{window.removeEventListener("blur",I),window.removeEventListener("resize",I)}},[C]);const[$,U]=d1(I=>{const q=O().filter(me=>!me.disabled),te=q.find(me=>me.ref.current===document.activeElement),ce=h1(q,I,te);ce&&setTimeout(()=>ce.ref.current.focus())}),V=f.useCallback((I,q,te)=>{const ce=!D.current&&!te;(y.value!==void 0&&y.value===q||ce)&&(M(I),ce&&(D.current=!0))},[y.value]),L=f.useCallback(()=>x==null?void 0:x.focus(),[x]),J=f.useCallback((I,q,te)=>{const ce=!D.current&&!te;(y.value!==void 0&&y.value===q||ce)&&z(I)},[y.value]),ne=n==="popper"?_f:YN,ie=ne===_f?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:d,collisionBoundary:m,collisionPadding:v,sticky:b,hideWhenDetached:g,avoidCollisions:w}:{};return s.jsx(qN,{scope:r,content:x,viewport:S,onViewportChange:N,itemRefCallback:V,selectedItem:E,onItemLeave:L,itemTextRefCallback:J,focusSelectedItem:T,selectedItemText:R,position:n,isPositioned:F,searchRef:$,children:s.jsx(Uu,{as:sL,allowPinchZoom:!0,children:s.jsx(Lu,{asChild:!0,trapped:y.open,onMountAutoFocus:I=>{I.preventDefault()},onUnmountAutoFocus:X(o,I=>{var q;(q=y.trigger)==null||q.focus({preventScroll:!0}),I.preventDefault()}),children:s.jsx(ga,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:I=>I.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:s.jsx(ne,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:I=>I.preventDefault(),...p,...ie,onPlaced:()=>A(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...p.style},onKeyDown:X(p.onKeyDown,I=>{const q=I.ctrlKey||I.altKey||I.metaKey;if(I.key==="Tab"&&I.preventDefault(),!q&&I.key.length===1&&U(I.key),["ArrowUp","ArrowDown","Home","End"].includes(I.key)){let ce=O().filter(me=>!me.disabled).map(me=>me.ref.current);if(["ArrowUp","End"].includes(I.key)&&(ce=ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(I.key)){const me=I.target,fe=ce.indexOf(me);ce=ce.slice(fe+1)}setTimeout(()=>P(ce)),I.preventDefault()}})})})})})})});GN.displayName=nL;var oL="SelectItemAlignedPosition",YN=f.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...o}=e,a=gs(Xs,r),i=ys(Xs,r),[l,c]=f.useState(null),[u,h]=f.useState(null),d=ye(t,_=>h(_)),m=Yu(r),v=f.useRef(!1),b=f.useRef(!0),{viewport:g,selectedItem:w,selectedItemText:p,focusSelectedItem:y}=i,x=f.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&g&&w&&p){const _=a.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),M=a.valueNode.getBoundingClientRect(),R=p.getBoundingClientRect();if(a.dir!=="rtl"){const me=R.left-E.left,fe=M.left-me,Ie=_.left-fe,se=_.width+Ie,ue=Math.max(se,E.width),Ce=window.innerWidth-br,$e=bf(fe,[br,Math.max(br,Ce-ue)]);l.style.minWidth=se+"px",l.style.left=$e+"px"}else{const me=E.right-R.right,fe=window.innerWidth-M.right-me,Ie=window.innerWidth-_.right-fe,se=_.width+Ie,ue=Math.max(se,E.width),Ce=window.innerWidth-br,$e=bf(fe,[br,Math.max(br,Ce-ue)]);l.style.minWidth=se+"px",l.style.right=$e+"px"}const z=m(),O=window.innerHeight-br*2,F=g.scrollHeight,A=window.getComputedStyle(u),D=parseInt(A.borderTopWidth,10),P=parseInt(A.paddingTop,10),T=parseInt(A.borderBottomWidth,10),C=parseInt(A.paddingBottom,10),k=D+P+F+C+T,$=Math.min(w.offsetHeight*5,k),U=window.getComputedStyle(g),V=parseInt(U.paddingTop,10),L=parseInt(U.paddingBottom,10),J=_.top+_.height/2-br,ne=O-J,ie=w.offsetHeight/2,I=w.offsetTop+ie,q=D+P+I,te=k-q;if(q<=J){const me=z.length>0&&w===z[z.length-1].ref.current;l.style.bottom="0px";const fe=u.clientHeight-g.offsetTop-g.offsetHeight,Ie=Math.max(ne,ie+(me?L:0)+fe+T),se=q+Ie;l.style.height=se+"px"}else{const me=z.length>0&&w===z[0].ref.current;l.style.top="0px";const Ie=Math.max(J,D+g.offsetTop+(me?V:0)+ie)+te;l.style.height=Ie+"px",g.scrollTop=q-J+g.offsetTop}l.style.margin=`${br}px 0`,l.style.minHeight=$+"px",l.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>v.current=!0)}},[m,a.trigger,a.valueNode,l,u,g,w,p,a.dir,n]);ct(()=>x(),[x]);const[j,S]=f.useState();ct(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const N=f.useCallback(_=>{_&&b.current===!0&&(x(),y==null||y(),b.current=!1)},[x,y]);return s.jsx(iL,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:N,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:s.jsx(ae.div,{...o,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});YN.displayName=oL;var aL="SelectPopperPosition",_f=f.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:o=br,...a}=e,i=Qu(r);return s.jsx(Wm,{...i,...a,ref:t,align:n,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});_f.displayName=aL;var[iL,Rp]=Ra(Xs,{}),Cf="SelectViewport",QN=f.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...o}=e,a=ys(Cf,r),i=Rp(Cf,r),l=ye(t,a.onViewportChange),c=f.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Gu.Slot,{scope:r,children:s.jsx(ae.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:X(o.onScroll,u=>{const h=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&d){const v=Math.abs(c.current-h.scrollTop);if(v>0){const b=window.innerHeight-br*2,g=parseFloat(d.style.minHeight),w=parseFloat(d.style.height),p=Math.max(g,w);if(p<b){const y=p+v,x=Math.min(b,y),j=y-x;d.style.height=x+"px",d.style.bottom==="0px"&&(h.scrollTop=j>0?j:0,d.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});QN.displayName=Cf;var JN="SelectGroup",[lL,cL]=Ra(JN),uL=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=Yr();return s.jsx(lL,{scope:r,id:o,children:s.jsx(ae.div,{role:"group","aria-labelledby":o,...n,ref:t})})});uL.displayName=JN;var XN="SelectLabel",ZN=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=cL(XN,r);return s.jsx(ae.div,{id:o.id,...n,ref:t})});ZN.displayName=XN;var Yc="SelectItem",[dL,e1]=Ra(Yc),t1=f.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:o=!1,textValue:a,...i}=e,l=gs(Yc,r),c=ys(Yc,r),u=l.value===n,[h,d]=f.useState(a??""),[m,v]=f.useState(!1),b=ye(t,y=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,y,n,o)}),g=Yr(),w=f.useRef("touch"),p=()=>{o||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(dL,{scope:r,value:n,disabled:o,textId:g,isSelected:u,onItemTextChange:f.useCallback(y=>{d(x=>x||((y==null?void 0:y.textContent)??"").trim())},[]),children:s.jsx(Gu.ItemSlot,{scope:r,value:n,disabled:o,textValue:h,children:s.jsx(ae.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...i,ref:b,onFocus:X(i.onFocus,()=>v(!0)),onBlur:X(i.onBlur,()=>v(!1)),onClick:X(i.onClick,()=>{w.current!=="mouse"&&p()}),onPointerUp:X(i.onPointerUp,()=>{w.current==="mouse"&&p()}),onPointerDown:X(i.onPointerDown,y=>{w.current=y.pointerType}),onPointerMove:X(i.onPointerMove,y=>{var x;w.current=y.pointerType,o?(x=c.onItemLeave)==null||x.call(c):w.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:X(i.onPointerLeave,y=>{var x;y.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:X(i.onKeyDown,y=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&y.key===" "||(Q5.includes(y.key)&&p(),y.key===" "&&y.preventDefault())})})})})});t1.displayName=Yc;var ei="SelectItemText",r1=f.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,...a}=e,i=gs(ei,r),l=ys(ei,r),c=e1(ei,r),u=eL(ei,r),[h,d]=f.useState(null),m=ye(t,p=>d(p),c.onItemTextChange,p=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,p,c.value,c.disabled)}),v=h==null?void 0:h.textContent,b=f.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=u;return ct(()=>(g(b),()=>w(b)),[g,w,b]),s.jsxs(s.Fragment,{children:[s.jsx(ae.span,{id:c.textId,...a,ref:m}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?to.createPortal(a.children,i.valueNode):null]})});r1.displayName=ei;var n1="SelectItemIndicator",s1=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return e1(n1,r).isSelected?s.jsx(ae.span,{"aria-hidden":!0,...n,ref:t}):null});s1.displayName=n1;var kf="SelectScrollUpButton",o1=f.forwardRef((e,t)=>{const r=ys(kf,e.__scopeSelect),n=Rp(kf,e.__scopeSelect),[o,a]=f.useState(!1),i=ye(t,n.onScrollButtonChange);return ct(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),o?s.jsx(i1,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});o1.displayName=kf;var Ef="SelectScrollDownButton",a1=f.forwardRef((e,t)=>{const r=ys(Ef,e.__scopeSelect),n=Rp(Ef,e.__scopeSelect),[o,a]=f.useState(!1),i=ye(t,n.onScrollButtonChange);return ct(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;a(h)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),o?s.jsx(i1,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});a1.displayName=Ef;var i1=f.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...o}=e,a=ys("SelectScrollButton",r),i=f.useRef(null),l=Yu(r),c=f.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return f.useEffect(()=>()=>c(),[c]),ct(()=>{var h;const u=l().find(d=>d.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),s.jsx(ae.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:X(o.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:X(o.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:X(o.onPointerLeave,()=>{c()})})}),hL="SelectSeparator",l1=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(ae.div,{"aria-hidden":!0,...n,ref:t})});l1.displayName=hL;var Pf="SelectArrow",fL=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=Qu(r),a=gs(Pf,r),i=ys(Pf,r);return a.open&&i.position==="popper"?s.jsx(Vm,{...o,...n,ref:t}):null});fL.displayName=Pf;var mL="SelectBubbleInput",c1=f.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const o=f.useRef(null),a=ye(n,o),i=kp(t);return f.useEffect(()=>{const l=o.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&h){const d=new Event("change",{bubbles:!0});h.call(l,t),l.dispatchEvent(d)}},[i,t]),s.jsx(ae.select,{...r,style:{...Qw,...r.style},ref:a,defaultValue:t})});c1.displayName=mL;function u1(e){return e===""||e===void 0}function d1(e){const t=qe(e),r=f.useRef(""),n=f.useRef(0),o=f.useCallback(i=>{const l=r.current+i;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=f.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,o,a]}function h1(e,t,r){const o=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=pL(e,Math.max(a,0));o.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(o.toLowerCase()));return c!==r?c:void 0}function pL(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var gL=UN,f1=zN,yL=BN,xL=WN,vL=VN,m1=KN,wL=QN,p1=ZN,g1=t1,bL=r1,jL=s1,y1=o1,x1=a1,v1=l1;const vx=gL,wx=yL,Tf=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(f1,{ref:n,className:le("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(xL,{asChild:!0,children:s.jsx(v0,{className:"h-4 w-4 opacity-50"})})]}));Tf.displayName=f1.displayName;const w1=f.forwardRef(({className:e,...t},r)=>s.jsx(y1,{ref:r,className:le("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(cE,{className:"h-4 w-4"})}));w1.displayName=y1.displayName;const b1=f.forwardRef(({className:e,...t},r)=>s.jsx(x1,{ref:r,className:le("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(v0,{className:"h-4 w-4"})}));b1.displayName=x1.displayName;const Rf=f.forwardRef(({className:e,children:t,position:r="popper",...n},o)=>s.jsx(vL,{children:s.jsxs(m1,{ref:o,className:le("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(w1,{}),s.jsx(wL,{className:le("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(b1,{})]})}));Rf.displayName=m1.displayName;const SL=f.forwardRef(({className:e,...t},r)=>s.jsx(p1,{ref:r,className:le("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));SL.displayName=p1.displayName;const Af=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(g1,{ref:n,className:le("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(jL,{children:s.jsx(Qt,{className:"h-4 w-4"})})}),s.jsx(bL,{children:t})]}));Af.displayName=g1.displayName;const NL=f.forwardRef(({className:e,...t},r)=>s.jsx(v1,{ref:r,className:le("-mx-1 my-1 h-px bg-muted",e),...t}));NL.displayName=v1.displayName;const _L=()=>{const{toast:e}=At(),[t,r]=f.useState("closure"),[n,o]=f.useState("romantic"),[a,i]=f.useState(""),[l,c]=f.useState([]),[u,h]=f.useState(!1),d=[{value:"closure",label:"Closure Messages"},{value:"no_contact",label:"No-Contact Replies"},{value:"boundary",label:"Boundary-Setting Texts"},{value:"miss_you_response",label:'"I Miss You" Responses'},{value:"apologetic",label:"Apologetic Messages"},{value:"rejection",label:"Rejection Messages"},{value:"reconciliation",label:"Reconciliation Attempts"},{value:"angry_response",label:"Angry/Upset Responses"},{value:"moving_on",label:"Moving On Messages"},{value:"check_in",label:"Check-In Messages"},{value:"birthday_holiday",label:"Birthday/Holiday Messages"},{value:"neutral_reply",label:"Neutral Responses"},{value:"custom",label:"Improve My Message"}],m=[{value:"romantic",label:"Ex-Partner"},{value:"boyfriend",label:"Boyfriend"},{value:"girlfriend",label:"Girlfriend"},{value:"dating",label:"Someone You Dated"},{value:"talking_stage",label:"Talking Stage"},{value:"friend",label:"Ex-Friend"},{value:"situationship",label:"Situationship"},{value:"fwb",label:"Friends with Benefits"},{value:"hookup",label:"Hookup/Casual"}],v=async()=>{if(t==="custom"&&!a.trim()){e({title:"Please enter your message",description:"Type the message you'd like help improving.",variant:"destructive"});return}h(!0);try{const{data:w,error:p}=await K.functions.invoke("suggest-text",{body:{messageType:t,relationship:n,userMessage:a.trim()}});if(p)throw p;c(w.suggestions),e({title:"Suggestions Generated",description:"Here are some thoughtful message options for you."})}catch(w){console.error("Generation error:",w),e({title:"Generation Failed",description:"There was an error generating suggestions. Please try again.",variant:"destructive"})}finally{h(!1)}},b=async w=>{try{await navigator.clipboard.writeText(w),e({title:"Copied to clipboard",description:"Message copied successfully!"})}catch{e({title:"Copy failed",description:"Unable to copy to clipboard.",variant:"destructive"})}},g=w=>{switch(w){case"gentle":return"bg-green-100 text-green-800 border-green-200";case"firm":return"bg-red-100 text-red-800 border-red-200";case"neutral":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(vu,{className:"w-5 h-5"}),"Text Suggestion Helper"]})}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Message Type"}),s.jsxs(vx,{value:t,onValueChange:r,children:[s.jsx(Tf,{children:s.jsx(wx,{})}),s.jsx(Rf,{children:d.map(w=>s.jsx(Af,{value:w.value,children:w.label},w.value))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Relationship Type"}),s.jsxs(vx,{value:n,onValueChange:o,children:[s.jsx(Tf,{children:s.jsx(wx,{})}),s.jsx(Rf,{children:m.map(w=>s.jsx(Af,{value:w.value,children:w.label},w.value))})]})]})]}),t==="custom"&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Your Message (to improve)"}),s.jsx(Sn,{placeholder:"Type the message you want help improving...",value:a,onChange:w=>i(w.target.value),rows:3})]}),s.jsx(H,{onClick:v,disabled:u,className:"w-full",children:u?s.jsxs(s.Fragment,{children:[s.jsx(pn,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating Suggestions..."]}):"Generate Message Suggestions"})]})]}),l.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Suggested Messages"}),l.map((w,p)=>s.jsxs(W,{children:[s.jsx(Z,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(je,{className:g(w.tone),children:[w.tone.charAt(0).toUpperCase()+w.tone.slice(1)," Tone"]}),s.jsxs(H,{variant:"outline",size:"sm",onClick:()=>b(w.message),children:[s.jsx(hE,{className:"w-4 h-4 mr-2"}),"Copy"]})]})}),s.jsx(Q,{children:s.jsxs("p",{className:"text-muted-foreground italic",children:['"',w.message,'"']})})]},p))]})]})},CL=()=>{var g,w;const{user:e,isPremium:t}=Te(),[r,n]=f.useState(null),[o,a]=f.useState([]),[i,l]=f.useState(!1),[c,u]=f.useState(!1),[h,d]=f.useState("current");f.useEffect(()=>{e&&t&&m()},[e,t]);const m=async()=>{if(e){l(!0);try{const y=await fetch(`https://heartlift-launch.emergent.host/api/insights/reports/${e.id}`);if(y.ok){const x=await y.json();x&&x.length>0&&(n(x[0]),a(x))}}catch(p){console.error("Error loading reports:",p)}finally{l(!1)}}},v=async()=>{if(e){u(!0);try{we.info("Analyzing your conversations and generating personalised insights...");const p="https://heartlift-launch.emergent.host",y=await fetch(`${p}/api/ai/insights`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e.id})});if(!y.ok){const S=await y.text();throw console.error("Backend error response:",S),new Error(`Failed to generate insights: ${y.statusText}`)}const x=await y.json();console.log("Received insights from backend:",x);const j=await fetch(`${p}/api/insights/save`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e.id,insights:x,conversation_count:x.conversationCount||0,mood_entries_analyzed:x.moodEntriesAnalyzed||0,attachment_style:x.attachmentStyle||"exploring",healing_progress_score:x.healingProgressScore||65,analysis_period_start:new Date(Date.now()-30*24*60*60*1e3).toISOString(),analysis_period_end:new Date().toISOString()})});if(j.ok){const S=await j.json();console.log("Report saved successfully:",S),n(S),await m(),we.success("Your personalised insights are ready and saved!")}else{console.error("Failed to save report");const S={id:`temp-${Date.now()}`,report_type:"comprehensive",insights:x,conversation_count:x.conversationCount||0,mood_entries_analyzed:x.moodEntriesAnalyzed||0,attachment_style:x.attachmentStyle||"exploring",healing_progress_score:x.healingProgressScore||65,analysis_period_start:new Date(Date.now()-30*24*60*60*1e3).toISOString(),analysis_period_end:new Date().toISOString(),created_at:new Date().toISOString()};n(S),we.success("Your personalised insights are ready!")}}catch(p){console.error("Error generating insights:",p),we.error(`Failed to generate insights: ${p instanceof Error?p.message:"Unknown error"}`)}finally{u(!1)}}},b=p=>{var N,_,E,M,R,z;const y=`
Personal Relationship Insights Report
Generated: ${new Date(p.created_at).toLocaleDateString()}
Analysis Period: ${new Date(p.analysis_period_start).toLocaleDateString()} - ${new Date(p.analysis_period_end).toLocaleDateString()}

ATTACHMENT STYLE: ${p.attachment_style}
HEALING PROGRESS: ${p.healing_progress_score}%

DATA ANALYSED:
 ${p.conversation_count} conversations
 ${p.mood_entries_analysed} mood tracking entries

INSIGHTS SUMMARY:

COMMUNICATION STYLE: ${p.insights.communicationStyle||"Not analysed"}

KEY INSIGHTS:
Strengths:
${(((N=p.insights.keyInsights)==null?void 0:N.strengths)||[]).map(O=>` ${O}`).join(`
`)}

Areas for Growth:
${(((_=p.insights.keyInsights)==null?void 0:_.areasForGrowth)||[]).map(O=>` ${O}`).join(`
`)}

Progress Signs:
${(((E=p.insights.keyInsights)==null?void 0:E.progressSigns)||[]).map(O=>` ${O}`).join(`
`)}

MOOD TRENDS:
Pattern: ${((M=p.insights.moodTrends)==null?void 0:M.pattern)||"Not analysed"}
Triggers: ${(((R=p.insights.moodTrends)==null?void 0:R.triggers)||[]).join(", ")}
Improvements: ${(((z=p.insights.moodTrends)==null?void 0:z.improvements)||[]).join(", ")}

PERSONALISED RECOMMENDATIONS:
${(p.insights.personalisedRecommendations||[]).map(O=>`${O.category}: ${O.recommendation}
Why: ${O.why}
`).join(`
`)}

NEXT STEPS:
${(p.insights.nextSteps||[]).map(O=>` ${O}`).join(`
`)}

This report was generated by AI analysis of your conversations with HeartLift coaches and mood tracking data.
    `,x=new Blob([y],{type:"text/plain"}),j=URL.createObjectURL(x),S=document.createElement("a");S.href=j,S.download=`heartlift-insights-${new Date(p.created_at).toISOString().split("T")[0]}.txt`,document.body.appendChild(S),S.click(),document.body.removeChild(S),URL.revokeObjectURL(j),we.success("Report downloaded!")};return t?s.jsx("div",{className:"space-y-4 sm:space-y-6 px-4 sm:px-0",children:s.jsxs(W,{children:[s.jsxs(Z,{className:"p-4 sm:p-6",children:[s.jsxs(ee,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[s.jsx(Wr,{className:"w-5 h-5 text-primary"}),"Personalised Insights & Reports"]}),s.jsx(He,{className:"text-sm sm:text-base",children:"AI-powered analysis of your relationship patterns and emotional growth"})]}),s.jsxs(Q,{className:"p-4 sm:p-6 pt-0",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 mb-4 sm:mb-6",children:[s.jsxs(H,{onClick:v,disabled:c,className:"flex items-center justify-center gap-2 w-full sm:w-auto",size:"lg",children:[s.jsx(qs,{className:`w-4 h-4 ${c?"animate-spin":""}`}),c?"Generating...":"Generate New Insights"]}),r&&s.jsxs(H,{variant:"outline",onClick:()=>b(r),className:"flex items-center justify-center gap-2 w-full sm:w-auto",size:"lg",children:[s.jsx(Tc,{className:"w-4 h-4"}),"Download Report"]})]}),i&&s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(qs,{className:"w-6 h-6 animate-spin text-primary"})}),s.jsxs(vp,{value:h,onValueChange:d,className:"w-full",children:[s.jsxs(Hu,{className:"grid w-full grid-cols-2",children:[s.jsx(hn,{value:"current",children:"Current Report"}),s.jsx(hn,{value:"history",children:"Report History"})]}),s.jsx(fn,{value:"current",className:"space-y-4",children:r&&!i?s.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[s.jsxs(W,{children:[s.jsx(Z,{className:"pb-3 p-4 sm:p-6",children:s.jsxs(ee,{className:"text-base sm:text-lg flex items-center gap-2",children:[s.jsx(he,{className:"w-4 h-4 text-pink-500"}),"Attachment Style"]})}),s.jsx(Q,{className:"p-4 sm:p-6 pt-0",children:s.jsx("p",{className:"font-medium text-primary text-sm sm:text-base",children:r.attachment_style})})]}),s.jsxs(W,{children:[s.jsx(Z,{className:"pb-3 p-4 sm:p-6",children:s.jsxs(ee,{className:"text-base sm:text-lg flex items-center gap-2",children:[s.jsx(la,{className:"w-4 h-4 text-green-500"}),"Healing Progress"]})}),s.jsx(Q,{className:"p-4 sm:p-6 pt-0",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex-1 bg-secondary rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-primary to-primary-glow h-2 rounded-full transition-all duration-500",style:{width:`${r.healing_progress_score}%`}})}),s.jsxs("span",{className:"font-medium text-sm sm:text-base",children:[r.healing_progress_score,"%"]})]})})]}),s.jsxs(W,{className:"lg:col-span-2 bg-gradient-to-br from-primary/5 via-primary/3 to-background border-primary/20",children:[s.jsx(Z,{className:"pb-3 p-4 sm:p-6",children:s.jsxs(ee,{className:"text-base sm:text-lg flex items-center gap-2",children:[s.jsx(Wr,{className:"w-4 h-4 text-purple-500"}),"Analysis Details"]})}),s.jsx(Q,{className:"p-4 sm:p-6 pt-0",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex flex-col items-center p-4 rounded-xl bg-background/50 backdrop-blur-sm border",children:[s.jsx(ft,{className:"w-6 h-6 text-primary mb-2"}),s.jsx("span",{className:"text-2xl font-bold text-primary",children:r.conversation_count}),s.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:"Conversations Analysed"})]}),s.jsxs("div",{className:"flex flex-col items-center p-4 rounded-xl bg-background/50 backdrop-blur-sm border",children:[s.jsx(he,{className:"w-6 h-6 text-pink-500 mb-2"}),s.jsx("span",{className:"text-2xl font-bold text-pink-500",children:r.mood_entries_analyzed}),s.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:"Mood Entries"})]})]})})]}),s.jsxs(W,{className:"lg:col-span-2",children:[s.jsx(Z,{className:"pb-3 p-4 sm:p-6",children:s.jsx(ee,{className:"text-base sm:text-lg",children:"Emotional Patterns"})}),s.jsx(Q,{className:"p-4 sm:p-6 pt-0",children:s.jsx("ul",{className:"space-y-2 sm:space-y-3",children:(r.insights.emotionalPatterns||[]).map((p,y)=>s.jsxs("li",{className:"flex items-start gap-3 p-2 rounded-lg bg-muted/30",children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-primary rounded-full mt-2 flex-shrink-0"}),s.jsx("span",{className:"text-sm sm:text-base leading-relaxed",children:p})]},y))})})]}),s.jsxs(W,{className:"lg:col-span-2",children:[s.jsx(Z,{className:"pb-3 p-4 sm:p-6",children:s.jsx(ee,{className:"text-base sm:text-lg",children:"Key Insights"})}),s.jsxs(Q,{className:"space-y-4 p-4 sm:p-6 pt-0",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2 text-green-600 text-sm sm:text-base",children:"Strengths"}),s.jsx("ul",{className:"space-y-2",children:(((g=r.insights.keyInsights)==null?void 0:g.strengths)||[]).map((p,y)=>s.jsxs("li",{className:"text-sm sm:text-base p-2 rounded-lg bg-green-50 flex items-start gap-2",children:[s.jsx(ia,{className:"w-3 h-3 sm:w-4 sm:h-4 mt-0.5 text-green-500 flex-shrink-0"}),s.jsx("span",{className:"leading-relaxed",children:p})]},y))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2 text-orange-600 text-sm sm:text-base",children:"Areas for Growth"}),s.jsx("ul",{className:"space-y-2",children:(((w=r.insights.keyInsights)==null?void 0:w.areasForGrowth)||[]).map((p,y)=>s.jsxs("li",{className:"text-sm sm:text-base p-2 rounded-lg bg-orange-50 flex items-start gap-2",children:[s.jsx(kt,{className:"w-3 h-3 sm:w-4 sm:h-4 mt-0.5 text-orange-500 flex-shrink-0"}),s.jsx("span",{className:"leading-relaxed",children:p})]},y))})]})]})]}),s.jsxs(W,{className:"lg:col-span-2",children:[s.jsx(Z,{className:"pb-3 p-4 sm:p-6",children:s.jsx(ee,{className:"text-base sm:text-lg",children:"Personalised Recommendations"})}),s.jsx(Q,{className:"p-4 sm:p-6 pt-0",children:s.jsx("div",{className:"space-y-3 sm:space-y-4",children:(r.insights.personalizedRecommendations||r.insights.personalisedRecommendations||[]).map((p,y)=>s.jsxs("div",{className:"border rounded-lg p-3 sm:p-4 bg-muted/20",children:[s.jsx("div",{className:"flex items-center gap-2 mb-2",children:s.jsx(je,{variant:"outline",className:"text-xs sm:text-sm",children:p.category})}),s.jsx("p",{className:"font-medium mb-2 text-sm sm:text-base leading-relaxed",children:p.recommendation}),s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground leading-relaxed",children:p.why})]},y))})})]}),s.jsxs(W,{className:"lg:col-span-2",children:[s.jsx(Z,{className:"pb-3 p-4 sm:p-6",children:s.jsxs(ee,{className:"text-base sm:text-lg flex items-center gap-2",children:[s.jsx(ft,{className:"w-4 h-4 text-blue-500"}),"Analysis Details"]})}),s.jsx(Q,{className:"p-4 sm:p-6 pt-0",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm sm:text-base",children:[s.jsxs("div",{className:"p-3 rounded-lg bg-muted/30 text-center sm:text-left",children:[s.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"Conversations Analysed"}),s.jsx("p",{className:"font-medium text-lg sm:text-xl",children:r.conversation_count})]}),s.jsxs("div",{className:"p-3 rounded-lg bg-muted/30 text-center sm:text-left",children:[s.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"Mood Entries"}),s.jsx("p",{className:"font-medium text-lg sm:text-xl",children:r.mood_entries_analysed})]}),s.jsxs("div",{className:"p-3 rounded-lg bg-muted/30 text-center sm:text-left",children:[s.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"Generated"}),s.jsx("p",{className:"font-medium text-lg sm:text-xl",children:new Date(r.created_at).toLocaleDateString()})]})]})})]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Wr,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:'No insights generated yet. Click "Generate New Insights" to create your personalised report based on your conversations with coaches.'})]})}),s.jsx(fn,{value:"history",className:"space-y-4",children:o&&o.length>0?s.jsx("div",{className:"space-y-4",children:o.map(p=>s.jsx(W,{className:"bg-gradient-to-br from-primary/5 to-background hover:shadow-lg transition-shadow border-primary/10",children:s.jsx(Z,{className:"pb-3",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-start justify-between gap-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs(ee,{className:"text-lg flex items-center gap-2",children:[s.jsx(Wr,{className:"w-5 h-5 text-primary"}),"Report from ",new Date(p.created_at).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]}),s.jsxs(He,{className:"flex flex-wrap items-center gap-3 mt-3",children:[s.jsxs("span",{className:"flex items-center gap-1.5 px-2 py-1 bg-background/50 rounded-lg",children:[s.jsx($o,{className:"w-3 h-3 text-blue-500"}),s.jsxs("span",{className:"text-xs",children:[p.conversation_count," chats"]})]}),s.jsxs("span",{className:"flex items-center gap-1.5 px-2 py-1 bg-background/50 rounded-lg",children:[s.jsx(he,{className:"w-3 h-3 text-pink-500"}),s.jsxs("span",{className:"text-xs",children:[p.mood_entries_analyzed," moods"]})]}),s.jsx(je,{variant:"outline",className:"capitalize",children:p.attachment_style})]})]})}),s.jsxs("div",{className:"space-y-3 p-3 bg-background/30 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(la,{className:"w-4 h-4 text-green-500"}),s.jsxs("span",{className:"text-sm font-medium",children:["Progress: ",p.healing_progress_score,"%"]})]}),s.jsxs("div",{className:"flex gap-2 w-full",children:[s.jsxs(H,{variant:"outline",size:"sm",onClick:()=>b(p),className:"h-9 flex-1",children:[s.jsx(Tc,{className:"w-3 h-3 mr-1.5"}),"Download"]}),s.jsx(H,{variant:"default",size:"sm",onClick:()=>{n(p),d("current")},className:"h-9 flex-1",children:"View Details"})]})]})]})})},p.id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ft,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No report history available."})]})})]})]})]})}):s.jsxs(W,{children:[s.jsxs(Z,{children:[s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Wr,{className:"w-5 h-5"}),"Personalised Insights & Reports"]}),s.jsx(He,{children:"Unlock deep analysis of your relationship patterns and emotional growth"})]}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"Premium feature - Get personalised insights based on your conversations and mood data."}),s.jsx(H,{variant:"warm",onClick:()=>{const p=window.location.pathname+window.location.search;window.location.href=`/premium-purchase?from=${encodeURIComponent(p)}`},children:"Upgrade to Premium"})]})]})};function kL(){const{user:e}=Te(),[t,r]=f.useState(""),[n,o]=f.useState(!1),[a,i]=f.useState(null),[l,c]=f.useState([]),[u,h]=f.useState(!1),[d,m]=f.useState(0),[v,b]=f.useState(!1),[g,w]=f.useState(!0);f.useEffect(()=>{e!=null&&e.id&&p()},[e==null?void 0:e.id]);const p=async()=>{if(e!=null&&e.id)try{const R=new Date;R.setHours(0,0,0,0);const{count:z}=await K.from("heart_visions").select("*",{count:"exact",head:!0}).eq("user_id",e.id).gte("created_at",R.toISOString());m(z||0)}catch(R){console.error("Error loading daily count:",R)}},y=async(R=!1)=>{if(e!=null&&e.id)try{b(!0);const z=R?l.length:0,O=6,{data:F,error:A}=await K.from("heart_visions").select("id, image_url, caption, prompt, created_at").eq("user_id",e.id).order("created_at",{ascending:!1}).range(z,z+O-1);if(A){console.error("Error loading gallery:",A);return}if(F){const D=F.map(P=>({id:P.id,url:P.image_url,caption:P.caption||"",prompt:P.prompt,timestamp:new Date(P.created_at).getTime()}));c(R?P=>[...P,...D]:D),w(F.length===O)}}catch(z){console.error("Error loading gallery:",z)}finally{b(!1)}},x=()=>{var R;return(R=e==null?void 0:e.user_metadata)!=null&&R.full_name?e.user_metadata.full_name.split(" ")[0]:"friend"},j=async()=>{if(!t.trim()){we.error("Please enter what you'd like to visualise");return}if(d>=2){we.error("You've reached your daily limit of 2 images. Come back tomorrow to create more!");return}o(!0),i(null);try{const z=await fetch("https://heartlift-launch.emergent.host/api/ai/heart-vision",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:t.trim(),user_name:x()})});if(!z.ok){const A=await z.json().catch(()=>({}));throw new Error(A.detail||`Failed to generate image: ${z.statusText}`)}const O=await z.json();if(!(O!=null&&O.image_base64))throw new Error("No image data in response");const F=`data:image/png;base64,${O.image_base64}`;i({url:F,caption:O.caption}),m(A=>A+1),we.success("Your vision has been created!")}catch(R){console.error("Error generating image:",R),we.error(R instanceof Error?R.message:"Unable to generate your vision. Please try again.")}finally{o(!1)}},S=[`Here's what that feeling might look like, ${x()}.`,"This image reflects your intention beautifully.","Take a moment with this  does it capture your emotion?",`Beautiful, ${x()}. Let this vision guide your heart.`,"Your feelings, visualised. What do you notice?"],N=()=>S[Math.floor(Math.random()*S.length)],_=async()=>{if(!a||!t||!(e!=null&&e.id))return;const{data:R,error:z}=await K.from("heart_visions").insert({user_id:e.id,image_url:a.url,prompt:t,caption:a.caption}).select().single();if(z){console.error("Error saving vision:",z),we.error("Failed to save vision");return}if(R){const O={id:R.id,url:R.image_url,caption:R.caption,prompt:R.prompt,timestamp:new Date(R.created_at).getTime()};c([O,...l]),we.success("Vision saved to gallery!")}},E=async R=>{const{error:z}=await K.from("heart_visions").delete().eq("id",R);if(z){console.error("Error deleting vision:",z),we.error("Failed to remove vision");return}c(l.filter(O=>O.id!==R)),we.success("Vision removed from gallery")},M=()=>{r(""),i(null)};return s.jsxs(W,{children:[s.jsx(Z,{className:"space-y-4 pb-4",children:s.jsxs("div",{className:"flex items-start gap-3 sm:items-center",children:[s.jsx("div",{className:"p-2 rounded-full bg-gradient-to-r from-primary to-primary-glow shrink-0",children:s.jsx(tc,{className:"w-5 h-5 text-primary-foreground"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ee,{className:"text-xl sm:text-2xl",children:"HeartVisions"}),s.jsxs(He,{className:"text-sm sm:text-base leading-relaxed",children:["Create your own emotional visuals. Type what you'd like to see, and HeartVisions will generate a personalised image that captures your feelings or intentions.",s.jsxs("span",{className:"block mt-2 text-xs font-medium",children:["You get 2 images per day  ",d,"/2 used today"]})]})]})]})}),s.jsxs(Q,{className:"space-y-6",children:[s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsxs(H,{onClick:()=>h(!1),variant:u?"outline":"default",size:"sm",children:[s.jsx(tc,{className:"w-4 h-4 mr-2"}),"Create"]}),s.jsxs(H,{onClick:()=>{h(!0),y()},variant:u?"default":"outline",size:"sm",children:[s.jsx(ey,{className:"w-4 h-4 mr-2"}),"Gallery"]})]}),u?s.jsxs("div",{className:"space-y-4",children:[l.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(ey,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:"No saved visions yet"}),s.jsx("p",{className:"text-sm",children:"Create and save your first vision to see it here"})]}):s.jsx("div",{className:"grid gap-4",children:l.map(R=>s.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-start gap-2",children:[s.jsxs("p",{className:"text-sm text-muted-foreground italic flex-1",children:['"',R.prompt,'"']}),s.jsx(H,{onClick:()=>E(R.id),variant:"ghost",size:"sm",className:"shrink-0",children:"Remove"})]}),s.jsx("div",{className:"rounded-lg overflow-hidden border shadow-lg",children:s.jsx("img",{src:R.url,alt:R.prompt,className:"w-full h-auto"})}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("p",{className:"text-xs text-muted-foreground",children:[new Date(R.timestamp).toLocaleDateString()," at"," ",new Date(R.timestamp).toLocaleTimeString()]}),s.jsxs(H,{onClick:async()=>{try{if("Capacitor"in window){const{Filesystem:z,Directory:O}=await Ys(async()=>{const{Filesystem:k,Directory:$}=await import("./index-DLdEx3Wb.js");return{Filesystem:k,Directory:$}},__vite__mapDeps([0,1])),{Share:F}=await Ys(async()=>{const{Share:k}=await import("./index-DEJtgVhO.js");return{Share:k}},__vite__mapDeps([2,1])),D=await(await fetch(R.url)).blob(),P=await new Promise(k=>{const $=new FileReader;$.onloadend=()=>k($.result),$.readAsDataURL(D)}),T=`heartvision-${new Date(R.timestamp).getTime()}.png`,C=await z.writeFile({path:T,data:P,directory:O.Cache});await F.share({title:"Save HeartVision",text:"Save this image to your photos",url:C.uri,dialogTitle:"Save to Photos"}),we({title:"Image ready!",description:"Tap 'Save Image' to add to your photos"})}else{const O=await(await fetch(R.url)).blob(),F=window.URL.createObjectURL(O),A=document.createElement("a");A.href=F,A.download=`heartvision-${new Date(R.timestamp).getTime()}.png`,document.body.appendChild(A),A.click(),document.body.removeChild(A),window.URL.revokeObjectURL(F),we({title:"Downloaded!",description:"Image saved to downloads"})}}catch(z){console.error("Download error:",z),we({title:"Download failed",description:"Please try again",variant:"destructive"})}},variant:"outline",size:"sm",className:"gap-2",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),s.jsx("polyline",{points:"7 10 12 15 17 10"}),s.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Download"]})]})]},R.id))}),l.length>0&&g&&s.jsx("div",{className:"flex justify-center mt-6",children:s.jsx(H,{onClick:()=>y(!0),disabled:v,variant:"outline",className:"w-full max-w-xs",children:v?"Loading...":"Load More Images"})})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{htmlFor:"vision-prompt",className:"text-sm font-medium block",children:"What would you like to visualise today?"}),s.jsx(Sn,{id:"vision-prompt",placeholder:"a peaceful sunrise over calm water",value:t,onChange:R=>r(R.target.value),className:"min-h-[100px] resize-none",disabled:n})]}),s.jsx(H,{onClick:j,disabled:n||!t.trim(),className:"w-full",size:"lg",children:n?s.jsxs(s.Fragment,{children:[s.jsx(pn,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating your vision..."]}):s.jsxs(s.Fragment,{children:[s.jsx(tc,{className:"w-4 h-4 mr-2"}),"Generate Vision"]})})]}),n&&s.jsx("div",{className:"space-y-4 animate-in fade-in duration-500",children:s.jsxs("div",{className:"p-8 rounded-lg bg-muted/50 border text-center",children:[s.jsx(pn,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-primary"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:"Generating your image"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Creating a visual that captures your feelings..."})]})}),a&&!n&&s.jsxs("div",{className:"space-y-4 animate-in fade-in duration-500",children:[s.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border",children:[s.jsx("p",{className:"text-sm text-muted-foreground italic mb-3",children:a.caption||N()}),s.jsx("div",{className:"rounded-lg overflow-hidden border shadow-lg",children:s.jsx("img",{src:a.url,alt:"Your emotional vision",className:"w-full h-auto"})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs(H,{onClick:_,variant:"outline",className:"flex-1",size:"lg",children:[s.jsx(he,{className:"w-4 h-4 mr-2"}),"Save to Gallery"]}),s.jsxs(H,{onClick:M,variant:"default",className:"flex-1",size:"lg",children:[s.jsx(qs,{className:"w-4 h-4 mr-2"}),"Generate Another"]})]})]})]})]})]})}function EL(){const{user:e,isPremium:t,unlockPremium:r}=Te(),n=nt(),[o,a]=f.useState("quiz");return f.useEffect(()=>{const i=localStorage.getItem("isPremium");console.log("[AdvancedTools]  Syncing with localStorage on mount..."),console.log("[AdvancedTools] localStorage isPremium:",i),console.log("[AdvancedTools] Context isPremium:",t),i==="true"&&!t&&(console.log("[AdvancedTools]  MISMATCH DETECTED - localStorage is true but context is false"),console.log("[AdvancedTools]  FIXING: Calling unlockPremium() to sync context..."),r())},[t,r]),e?t?s.jsx("div",{className:"min-h-screen bg-gradient-subtle",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("div",{className:"mt-4 mb-8",children:s.jsxs(H,{variant:"outline",onClick:()=>n("/?tab=coaches",{replace:!0}),className:"flex items-center gap-2",children:[s.jsx(mr,{className:"w-4 h-4"}),"Coaches"]})}),s.jsx(W,{className:"mb-8 overflow-hidden border-2 shadow-xl",children:s.jsxs("div",{className:"bg-gradient-to-br from-primary/10 via-primary/5 to-background p-8 text-center space-y-6",children:[s.jsx("div",{className:"flex items-center justify-center gap-2",children:s.jsx("div",{className:"p-4 rounded-2xl bg-gradient-to-r from-primary to-primary-glow shadow-2xl animate-pulse",children:s.jsx(Pe,{className:"w-12 h-12 text-primary-foreground"})})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx("h1",{className:"text-4xl sm:text-5xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"Advanced Tools"}),s.jsx(je,{variant:"default",className:"bg-gradient-to-r from-primary to-primary-glow text-primary-foreground px-4 py-1 text-sm",children:"Premium"})]}),s.jsx("p",{className:"text-xl font-semibold text-foreground",children:"Unlock deeper insights into your relationship patterns"})]}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"Discover your attachment style, analyse conversations, get personalised text suggestions, and access guided programs designed to help you build healthier, more fulfilling relationships."})]})}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 mb-8",children:[s.jsxs(H,{variant:o==="quiz"?"default":"outline",onClick:()=>a("quiz"),className:"h-auto py-4 flex flex-col items-center gap-2 hover:scale-105 transition-transform",children:[s.jsx(he,{className:"w-6 h-6"}),s.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Attachment Quiz"})]}),s.jsxs(H,{variant:o==="analyser"?"default":"outline",onClick:()=>a("analyser"),className:"h-auto py-4 flex flex-col items-center gap-2 hover:scale-105 transition-transform",children:[s.jsx(Jr,{className:"w-6 h-6"}),s.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Conversation Analyser"})]}),s.jsxs(H,{variant:o==="suggestions"?"default":"outline",onClick:()=>a("suggestions"),className:"h-auto py-4 flex flex-col items-center gap-2 hover:scale-105 transition-transform",children:[s.jsx(ec,{className:"w-6 h-6"}),s.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Text Helper"})]}),s.jsxs(H,{variant:o==="insights"?"default":"outline",onClick:()=>a("insights"),className:"h-auto py-4 flex flex-col items-center gap-2 hover:scale-105 transition-transform",children:[s.jsx(Wr,{className:"w-6 h-6"}),s.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Insights & Reports"})]}),s.jsxs(H,{variant:o==="programs"?"default":"outline",onClick:()=>a("programs"),className:"h-auto py-4 flex flex-col items-center gap-2 hover:scale-105 transition-transform",children:[s.jsx(ir,{className:"w-6 h-6"}),s.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Guided Programs"})]}),s.jsxs(H,{variant:o==="heartvisions"?"default":"outline",onClick:()=>a("heartvisions"),className:"h-auto py-4 flex flex-col items-center gap-2 hover:scale-105 transition-transform",children:[s.jsx(tc,{className:"w-6 h-6"}),s.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"HeartVisions"})]})]}),s.jsxs("div",{className:"max-w-4xl mx-auto",children:[o==="quiz"&&s.jsx(K5,{}),o==="analyser"&&s.jsx(G5,{}),o==="suggestions"&&s.jsx(_L,{}),o==="insights"&&s.jsx(CL,{}),o==="programs"&&s.jsx(q5,{}),o==="heartvisions"&&s.jsx(kL,{})]})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-subtle flex items-center justify-center p-4",children:s.jsxs(W,{className:"p-8 text-center max-w-md mx-auto",children:[s.jsx(Pe,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Premium Required"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Upgrade to premium to access advanced psychological tools and insights."}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(H,{variant:"outline",onClick:()=>window.location.href="/",children:"Return to Home"}),s.jsx(H,{variant:"warm",onClick:()=>{const i=window.location.pathname+window.location.search;window.location.href=`/premium-purchase?from=${encodeURIComponent(i)}`},children:"Upgrade to Premium"})]})]})}):s.jsx(kb,{to:"/auth",replace:!0})}const PL=Xi("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ju=f.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:le(PL({variant:t}),e),...r}));Ju.displayName="Alert";const TL=f.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:le("mb-1 font-medium leading-none tracking-tight",e),...t}));TL.displayName="AlertTitle";const Xu=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:le("text-sm [&_p]:leading-relaxed",e),...t}));Xu.displayName="AlertDescription";var RL=Object.defineProperty,AL=Object.defineProperties,IL=Object.getOwnPropertyDescriptors,Qc=Object.getOwnPropertySymbols,j1=Object.prototype.hasOwnProperty,S1=Object.prototype.propertyIsEnumerable,bx=(e,t,r)=>t in e?RL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,OL=(e,t)=>{for(var r in t||(t={}))j1.call(t,r)&&bx(e,r,t[r]);if(Qc)for(var r of Qc(t))S1.call(t,r)&&bx(e,r,t[r]);return e},ML=(e,t)=>AL(e,IL(t)),DL=(e,t)=>{var r={};for(var n in e)j1.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Qc)for(var n of Qc(e))t.indexOf(n)<0&&S1.call(e,n)&&(r[n]=e[n]);return r};function LL(e){let t=setTimeout(e,0),r=setTimeout(e,10),n=setTimeout(e,50);return[t,r,n]}function $L(e){let t=f.useRef();return f.useEffect(()=>{t.current=e}),t.current}var UL=18,N1=40,FL=`${N1}px`,zL=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function HL({containerRef:e,inputRef:t,pushPasswordManagerStrategy:r,isFocused:n}){let[o,a]=f.useState(!1),[i,l]=f.useState(!1),[c,u]=f.useState(!1),h=f.useMemo(()=>r==="none"?!1:(r==="increase-width"||r==="experimental-no-flickering")&&o&&i,[o,i,r]),d=f.useCallback(()=>{let m=e.current,v=t.current;if(!m||!v||c||r==="none")return;let b=m,g=b.getBoundingClientRect().left+b.offsetWidth,w=b.getBoundingClientRect().top+b.offsetHeight/2,p=g-UL,y=w;document.querySelectorAll(zL).length===0&&document.elementFromPoint(p,y)===m||(a(!0),u(!0))},[e,t,c,r]);return f.useEffect(()=>{let m=e.current;if(!m||r==="none")return;function v(){let g=window.innerWidth-m.getBoundingClientRect().right;l(g>=N1)}v();let b=setInterval(v,1e3);return()=>{clearInterval(b)}},[e,r]),f.useEffect(()=>{let m=n||document.activeElement===t.current;if(r==="none"||!m)return;let v=setTimeout(d,0),b=setTimeout(d,2e3),g=setTimeout(d,5e3),w=setTimeout(()=>{u(!0)},6e3);return()=>{clearTimeout(v),clearTimeout(b),clearTimeout(g),clearTimeout(w)}},[t,n,r,d]),{hasPWMBadge:o,willPushPWMBadge:h,PWM_BADGE_SPACE_WIDTH:FL}}var _1=f.createContext({}),C1=f.forwardRef((e,t)=>{var r=e,{value:n,onChange:o,maxLength:a,textAlign:i="left",pattern:l,placeholder:c,inputMode:u="numeric",onComplete:h,pushPasswordManagerStrategy:d="increase-width",pasteTransformer:m,containerClassName:v,noScriptCSSFallback:b=BL,render:g,children:w}=r,p=DL(r,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),y,x,j,S,N;let[_,E]=f.useState(typeof p.defaultValue=="string"?p.defaultValue:""),M=n??_,R=$L(M),z=f.useCallback(se=>{o==null||o(se),E(se)},[o]),O=f.useMemo(()=>l?typeof l=="string"?new RegExp(l):l:null,[l]),F=f.useRef(null),A=f.useRef(null),D=f.useRef({value:M,onChange:z,isIOS:typeof window<"u"&&((x=(y=window==null?void 0:window.CSS)==null?void 0:y.supports)==null?void 0:x.call(y,"-webkit-touch-callout","none"))}),P=f.useRef({prev:[(j=F.current)==null?void 0:j.selectionStart,(S=F.current)==null?void 0:S.selectionEnd,(N=F.current)==null?void 0:N.selectionDirection]});f.useImperativeHandle(t,()=>F.current,[]),f.useEffect(()=>{let se=F.current,ue=A.current;if(!se||!ue)return;D.current.value!==se.value&&D.current.onChange(se.value),P.current.prev=[se.selectionStart,se.selectionEnd,se.selectionDirection];function Ce(){if(document.activeElement!==se){V(null),J(null);return}let be=se.selectionStart,St=se.selectionEnd,oo=se.selectionDirection,Oe=se.maxLength,Mt=se.value,gr=P.current.prev,Mr=-1,Wt=-1,tn;if(Mt.length!==0&&be!==null&&St!==null){let al=be===St,Cn=be===Mt.length&&Mt.length<Oe;if(al&&!Cn){let rn=be;if(rn===0)Mr=0,Wt=1,tn="forward";else if(rn===Oe)Mr=rn-1,Wt=rn,tn="backward";else if(Oe>1&&Mt.length>1){let Ia=0;if(gr[0]!==null&&gr[1]!==null){tn=rn<gr[1]?"backward":"forward";let il=gr[0]===gr[1]&&gr[0]<Oe;tn==="backward"&&!il&&(Ia=-1)}Mr=Ia+rn,Wt=Ia+rn+1}}Mr!==-1&&Wt!==-1&&Mr!==Wt&&F.current.setSelectionRange(Mr,Wt,tn)}let Aa=Mr!==-1?Mr:be,ao=Wt!==-1?Wt:St,_n=tn??oo;V(Aa),J(ao),P.current.prev=[Aa,ao,_n]}if(document.addEventListener("selectionchange",Ce,{capture:!0}),Ce(),document.activeElement===se&&$(!0),!document.getElementById("input-otp-style")){let be=document.createElement("style");if(be.id="input-otp-style",document.head.appendChild(be),be.sheet){let St="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";Ka(be.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),Ka(be.sheet,`[data-input-otp]:autofill { ${St} }`),Ka(be.sheet,`[data-input-otp]:-webkit-autofill { ${St} }`),Ka(be.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),Ka(be.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let $e=()=>{ue&&ue.style.setProperty("--root-height",`${se.clientHeight}px`)};$e();let ut=new ResizeObserver($e);return ut.observe(se),()=>{document.removeEventListener("selectionchange",Ce,{capture:!0}),ut.disconnect()}},[]);let[T,C]=f.useState(!1),[k,$]=f.useState(!1),[U,V]=f.useState(null),[L,J]=f.useState(null);f.useEffect(()=>{LL(()=>{var se,ue,Ce,$e;(se=F.current)==null||se.dispatchEvent(new Event("input"));let ut=(ue=F.current)==null?void 0:ue.selectionStart,be=(Ce=F.current)==null?void 0:Ce.selectionEnd,St=($e=F.current)==null?void 0:$e.selectionDirection;ut!==null&&be!==null&&(V(ut),J(be),P.current.prev=[ut,be,St])})},[M,k]),f.useEffect(()=>{R!==void 0&&M!==R&&R.length<a&&M.length===a&&(h==null||h(M))},[a,h,R,M]);let ne=HL({containerRef:A,inputRef:F,pushPasswordManagerStrategy:d,isFocused:k}),ie=f.useCallback(se=>{let ue=se.currentTarget.value.slice(0,a);if(ue.length>0&&O&&!O.test(ue)){se.preventDefault();return}typeof R=="string"&&ue.length<R.length&&document.dispatchEvent(new Event("selectionchange")),z(ue)},[a,z,R,O]),I=f.useCallback(()=>{var se;if(F.current){let ue=Math.min(F.current.value.length,a-1),Ce=F.current.value.length;(se=F.current)==null||se.setSelectionRange(ue,Ce),V(ue),J(Ce)}$(!0)},[a]),q=f.useCallback(se=>{var ue,Ce;let $e=F.current;if(!m&&(!D.current.isIOS||!se.clipboardData||!$e))return;let ut=se.clipboardData.getData("text/plain"),be=m?m(ut):ut;se.preventDefault();let St=(ue=F.current)==null?void 0:ue.selectionStart,oo=(Ce=F.current)==null?void 0:Ce.selectionEnd,Oe=(St!==oo?M.slice(0,St)+be+M.slice(oo):M.slice(0,St)+be+M.slice(St)).slice(0,a);if(Oe.length>0&&O&&!O.test(Oe))return;$e.value=Oe,z(Oe);let Mt=Math.min(Oe.length,a-1),gr=Oe.length;$e.setSelectionRange(Mt,gr),V(Mt),J(gr)},[a,z,O,M]),te=f.useMemo(()=>({position:"relative",cursor:p.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[p.disabled]),ce=f.useMemo(()=>({position:"absolute",inset:0,width:ne.willPushPWMBadge?`calc(100% + ${ne.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:ne.willPushPWMBadge?`inset(0 ${ne.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:i,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[ne.PWM_BADGE_SPACE_WIDTH,ne.willPushPWMBadge,i]),me=f.useMemo(()=>f.createElement("input",ML(OL({autoComplete:p.autoComplete||"one-time-code"},p),{"data-input-otp":!0,"data-input-otp-placeholder-shown":M.length===0||void 0,"data-input-otp-mss":U,"data-input-otp-mse":L,inputMode:u,pattern:O==null?void 0:O.source,"aria-placeholder":c,style:ce,maxLength:a,value:M,ref:F,onPaste:se=>{var ue;q(se),(ue=p.onPaste)==null||ue.call(p,se)},onChange:ie,onMouseOver:se=>{var ue;C(!0),(ue=p.onMouseOver)==null||ue.call(p,se)},onMouseLeave:se=>{var ue;C(!1),(ue=p.onMouseLeave)==null||ue.call(p,se)},onFocus:se=>{var ue;I(),(ue=p.onFocus)==null||ue.call(p,se)},onBlur:se=>{var ue;$(!1),(ue=p.onBlur)==null||ue.call(p,se)}})),[ie,I,q,u,ce,a,L,U,p,O==null?void 0:O.source,M]),fe=f.useMemo(()=>({slots:Array.from({length:a}).map((se,ue)=>{var Ce;let $e=k&&U!==null&&L!==null&&(U===L&&ue===U||ue>=U&&ue<L),ut=M[ue]!==void 0?M[ue]:null,be=M[0]!==void 0?null:(Ce=c==null?void 0:c[ue])!=null?Ce:null;return{char:ut,placeholderChar:be,isActive:$e,hasFakeCaret:$e&&ut===null}}),isFocused:k,isHovering:!p.disabled&&T}),[k,T,a,L,U,p.disabled,M]),Ie=f.useMemo(()=>g?g(fe):f.createElement(_1.Provider,{value:fe},w),[w,fe,g]);return f.createElement(f.Fragment,null,b!==null&&f.createElement("noscript",null,f.createElement("style",null,b)),f.createElement("div",{ref:A,"data-input-otp-container":!0,style:te,className:v},Ie,f.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},me)))});C1.displayName="Input";function Ka(e,t){try{e.insertRule(t)}catch{console.error("input-otp could not insert CSS rule:",t)}}var BL=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const k1=f.forwardRef(({className:e,containerClassName:t,...r},n)=>s.jsx(C1,{ref:n,containerClassName:le("flex items-center gap-2 has-[:disabled]:opacity-50",t),className:le("disabled:cursor-not-allowed",e),...r}));k1.displayName="InputOTP";const E1=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:le("flex items-center",e),...t}));E1.displayName="InputOTPGroup";const Ns=f.forwardRef(({index:e,className:t,...r},n)=>{const o=f.useContext(_1),{char:a,hasFakeCaret:i,isActive:l}=o.slots[e];return s.jsxs("div",{ref:n,className:le("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",l&&"z-10 ring-2 ring-ring ring-offset-background",t),...r,children:[a,i&&s.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})})]})});Ns.displayName="InputOTPSlot";const WL=f.forwardRef(({...e},t)=>s.jsx("div",{ref:t,role:"separator",...e,children:s.jsx(mE,{})}));WL.displayName="InputOTPSeparator";const VL=()=>{const e=nt(),[t]=Pu(),[r,n]=f.useState("request"),[o,a]=f.useState(""),[i,l]=f.useState(""),[c,u]=f.useState(""),[h,d]=f.useState(""),[m,v]=f.useState(!1),[b,g]=f.useState(""),[w,p]=f.useState(!1);f.useEffect(()=>{const S=t.get("email");S&&(a(decodeURIComponent(S)),n("verify"))},[t]);const y=async S=>{S.preventDefault(),g(""),v(!0);try{const N=`${window.location.origin}/password-reset`,{error:_}=await K.auth.resetPasswordForEmail(o,{redirectTo:N});if(_)throw _;we.success("Verification code sent to your email"),n("verify")}catch(N){console.error("Send code error:",N),g(N.message||"Failed to send code. Please try again.")}finally{v(!1)}},x=async S=>{S.preventDefault(),g(""),v(!0);try{const{error:N}=await K.auth.verifyOtp({email:o,token:i,type:"recovery"});if(N)throw N;we.success("Code verified. Set your new password."),n("reset")}catch(N){console.error("Verify code error:",N),g(N.message||"Invalid or expired code. Please try again.")}finally{v(!1)}},j=async S=>{if(S.preventDefault(),g(""),c!==h){g("Passwords do not match");return}if(c.length<6){g("Password must be at least 6 characters long");return}v(!0);try{const{error:N}=await K.auth.updateUser({password:c});if(N)throw N;p(!0),we.success("Password updated successfully!"),setTimeout(()=>{e("/")},2e3)}catch(N){console.error("Password reset error:",N),g(N.message||"Failed to update password. Please try again.")}finally{v(!1)}};return w?s.jsx("div",{className:"min-h-screen bg-gradient-subtle flex items-center justify-center p-4",children:s.jsx(W,{className:"w-full max-w-md",children:s.jsxs(Q,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(Ks,{className:"w-16 h-16 text-green-500 mb-4"}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Password Updated!"}),s.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Your password has been successfully updated. You will be redirected to the homepage shortly."})]})})}):s.jsx("div",{className:"min-h-screen bg-gradient-subtle flex items-center justify-center p-4",children:s.jsxs(W,{className:"w-full max-w-md",children:[s.jsxs(Z,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-3 rounded-full bg-primary/10",children:s.jsx(he,{className:"w-8 h-8 text-primary"})})}),s.jsx(ee,{className:"text-2xl",children:"Reset Your Password"}),s.jsxs(He,{children:[r==="request"&&"Enter your email to get a verification code",r==="verify"&&"Enter the 6-digit code we sent to your email",r==="reset"&&"Set a new password for your account"]})]}),s.jsxs(Q,{children:[b&&s.jsxs(Ju,{variant:"destructive",className:"mb-4",children:[s.jsx(b0,{className:"h-4 w-4"}),s.jsx(Xu,{children:b})]}),r==="request"&&s.jsxs("form",{onSubmit:y,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"email",children:"Email"}),s.jsx(it,{id:"email",type:"email",placeholder:"you@example.com",value:o,onChange:S=>a(S.target.value),required:!0,disabled:m})]}),s.jsxs(H,{type:"submit",className:"w-full",disabled:m||!o,children:[m&&s.jsx(pn,{className:"mr-2 h-4 w-4 animate-spin"}),"Send Code"]}),s.jsx("div",{className:"text-center",children:s.jsx(H,{type:"button",variant:"link",onClick:()=>e("/"),className:"text-sm",children:"Back to Home"})})]}),r==="verify"&&s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"email",children:"Email"}),s.jsx(it,{id:"email",type:"email",placeholder:"you@example.com",value:o,onChange:S=>a(S.target.value),required:!0,disabled:m})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{children:"Verification Code"}),s.jsx(k1,{maxLength:6,value:i,onChange:l,children:s.jsxs(E1,{children:[s.jsx(Ns,{index:0}),s.jsx(Ns,{index:1}),s.jsx(Ns,{index:2}),s.jsx(Ns,{index:3}),s.jsx(Ns,{index:4}),s.jsx(Ns,{index:5})]})})]}),s.jsxs(H,{type:"submit",className:"w-full",disabled:m||!o||i.length!==6,children:[m&&s.jsx(pn,{className:"mr-2 h-4 w-4 animate-spin"}),"Verify Code"]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(H,{type:"button",variant:"ghost",onClick:()=>n("request"),children:"Back"}),s.jsx(H,{type:"button",variant:"link",onClick:async()=>{v(!0),g("");try{const S=`${window.location.origin}/password-reset`,{error:N}=await K.auth.resetPasswordForEmail(o,{redirectTo:S});if(N)throw N;we.success("Code resent")}catch(S){g(S.message||"Failed to resend code")}finally{v(!1)}},children:"Resend Code"})]})]}),r==="reset"&&s.jsxs("form",{onSubmit:j,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"password",children:"New Password"}),s.jsx(it,{id:"password",type:"password",placeholder:"Enter your new password",value:c,onChange:S=>u(S.target.value),required:!0,minLength:6,disabled:m})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"confirmPassword",children:"Confirm Password"}),s.jsx(it,{id:"confirmPassword",type:"password",placeholder:"Confirm your new password",value:h,onChange:S=>d(S.target.value),required:!0,minLength:6,disabled:m})]}),s.jsxs(H,{type:"submit",className:"w-full",disabled:m||!c||!h,children:[m&&s.jsx(pn,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Password"]}),s.jsx("div",{className:"text-center",children:s.jsx(H,{type:"button",variant:"link",onClick:()=>e("/"),className:"text-sm",children:"Back to Home"})})]})]})]})})};function KL(){const[e,t]=f.useState(""),[r,n]=f.useState(""),[o,a]=f.useState(!1),[i,l]=f.useState(""),[c,u]=f.useState(!1),h=nt(),[d]=Pu();f.useEffect(()=>{const v=d.get("access_token"),b=d.get("refresh_token");(!v||!b)&&l("Invalid or expired reset link. Please request a new password reset.")},[d]);const m=async v=>{if(v.preventDefault(),l(""),e!==r){l("Passwords do not match");return}if(e.length<6){l("Password must be at least 6 characters long");return}a(!0);try{const b=d.get("access_token"),g=d.get("refresh_token");if(!b||!g)throw new Error("Invalid reset link");const{error:w}=await K.auth.setSession({access_token:b,refresh_token:g});if(w)throw w;const{error:p}=await K.auth.updateUser({password:e});if(p)throw p;await K.auth.signOut(),u(!0),we.success("Password updated successfully!"),setTimeout(()=>{h("/auth")},2e3)}catch(b){console.error("Password reset error:",b),l(b.message||"Failed to reset password. Please try again."),we.error("Failed to reset password")}finally{a(!1)}};return c?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-accent/5 flex items-center justify-center p-4",children:s.jsx(W,{className:"w-full max-w-md",children:s.jsxs(Z,{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(he,{className:"w-8 h-8 text-primary"})}),s.jsx(ee,{className:"text-2xl font-bold",children:"Password Updated!"}),s.jsx(He,{children:"Your password has been successfully updated. You'll be redirected to sign in shortly."})]})})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-accent/5 flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.jsxs(H,{variant:"ghost",onClick:()=>h("/"),className:"mb-4",children:[s.jsx(mr,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),s.jsxs(W,{children:[s.jsxs(Z,{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(he,{className:"w-8 h-8 text-primary"})}),s.jsx(ee,{className:"text-2xl font-bold",children:"HeartLift"}),s.jsx(He,{children:"Create your new password"})]}),s.jsx(Q,{children:s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[i&&s.jsx(Ju,{variant:"destructive",children:s.jsx(Xu,{children:i})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"password",children:"New Password"}),s.jsx(it,{id:"password",type:"password",value:e,onChange:v=>t(v.target.value),required:!0,minLength:6,disabled:o,placeholder:"Enter your new password"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"confirmPassword",children:"Confirm New Password"}),s.jsx(it,{id:"confirmPassword",type:"password",value:r,onChange:v=>n(v.target.value),required:!0,minLength:6,disabled:o,placeholder:"Confirm your new password"})]}),s.jsx(H,{type:"submit",className:"w-full",disabled:o||!e||!r,children:o?"Updating Password...":"Update Password"})]})})]})]})})}function qL(){const[e,t]=f.useState(""),[r,n]=f.useState(!1),[o,a]=f.useState(""),[i,l]=f.useState(!1),[c,u]=f.useState(!1),h=nt(),[d]=Pu(),m=d.get("email");f.useEffect(()=>{m||h("/auth")},[m,h]);const v=async g=>{if(g.preventDefault(),a(""),e.length!==6){a("Please enter a 6-digit verification code");return}n(!0);try{const{error:w}=await K.auth.verifyOtp({email:m,token:e,type:"signup"});if(w)throw w;l(!0),we.success("Email verified successfully! You're now signed in."),setTimeout(()=>{h("/")},2e3)}catch(w){console.error("Verification error:",w),a(w.message||"Failed to verify email. Please try again."),we.error("Failed to verify email")}finally{n(!1)}},b=async()=>{if(m){u(!0),a("");try{const{error:g}=await K.auth.resend({type:"signup",email:m});if(g)throw g;we.success("Verification code resent!")}catch(g){console.error("Resend error:",g),a(g.message||"Failed to resend code. Please try again."),we.error("Failed to resend code")}finally{u(!1)}}};return i?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-accent/5 flex items-center justify-center p-4",children:s.jsx(W,{className:"w-full max-w-md",children:s.jsxs(Z,{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(he,{className:"w-8 h-8 text-primary"})}),s.jsx(ee,{className:"text-2xl font-bold",children:"Email Verified!"}),s.jsx(He,{children:"Your email has been successfully verified and you're now signed in!"})]})})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-accent/5 flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.jsxs(H,{variant:"ghost",onClick:()=>h("/auth"),className:"mb-4",children:[s.jsx(mr,{className:"w-4 h-4 mr-2"}),"Back to Sign In"]}),s.jsxs(W,{children:[s.jsxs(Z,{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(he,{className:"w-8 h-8 text-primary"})}),s.jsx(ee,{className:"text-2xl font-bold",children:"Verify Your Email"}),s.jsxs(He,{children:["We've sent a 6-digit verification code to ",m]})]}),s.jsx(Q,{children:s.jsxs("form",{onSubmit:v,className:"space-y-4",children:[o&&s.jsx(Ju,{variant:"destructive",children:s.jsx(Xu,{children:o})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Je,{htmlFor:"code",children:"Verification Code"}),s.jsx(it,{id:"code",type:"text",value:e,onChange:g=>t(g.target.value.replace(/\D/g,"").slice(0,6)),required:!0,maxLength:6,disabled:r,placeholder:"Enter 6-digit code",className:"text-center text-lg tracking-widest"})]}),s.jsx(H,{type:"submit",className:"w-full",disabled:r||e.length!==6,children:r?"Verifying...":"Verify Email"}),s.jsx("div",{className:"text-center",children:s.jsx(H,{type:"button",variant:"ghost",size:"sm",onClick:b,disabled:c,className:"text-sm text-muted-foreground hover:text-primary",children:c?"Sending...":"Didn't receive the code? Resend"})})]})})]})]})})}const GL=()=>{const e=nt();return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-muted to-secondary",children:s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[s.jsx("div",{className:"flex items-center gap-4 mb-8",children:s.jsxs(H,{variant:"ghost",size:"sm",onClick:()=>e("/"),className:"flex items-center gap-2",children:[s.jsx(mr,{className:"w-4 h-4"}),"Back to Home"]})}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"p-4 rounded-full bg-gradient-to-r from-primary to-primary-glow shadow-lg",children:s.jsx(aa,{className:"w-8 h-8 text-primary-foreground"})})}),s.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"HeartLift Privacy Policy"}),s.jsx("p",{className:"text-lg text-muted-foreground",children:"Your privacy and emotional wellbeing are our top priorities"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Effective Date: 29/10/2025 | Last Updated: 29/10/2025"})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Rc,{className:"w-5 h-5 text-primary"}),"Data We Collect"]})}),s.jsx(Q,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Account Information"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[s.jsx("li",{children:"Name, email, and password (stored via Supabase authentication)"}),s.jsx("li",{children:"User preferences and selected AI coach"}),s.jsx("li",{children:"Premium subscription status"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Chat & Conversation Data"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[s.jsx("li",{children:"Your messages and AI coach responses (stored in Supabase)"}),s.jsx("li",{children:"Conversation timestamps and session IDs"}),s.jsx("li",{children:"Selected coach preferences and conversation history"}),s.jsx("li",{children:"Messages persist across sessions until you refresh or start a new day"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Daily Reflections & Personal Data"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[s.jsx("li",{children:"Daily reflection entries (stored in Supabase)"}),s.jsx("li",{children:"Coaches chatted with, conversation ratings, helpful moments, areas for improvement"}),s.jsx("li",{children:"Used by AI coaches to personalize future conversations"}),s.jsx("li",{children:"You can view and access all past reflections anytime"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Quiz & Assessment Data"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[s.jsx("li",{children:"Attachment style quiz responses and results (stored in Supabase)"}),s.jsx("li",{children:"Quiz analysis, attachment style classifications, and personalized recommendations"}),s.jsx("li",{children:"Quiz completion dates and historical results"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Insights & Reports"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[s.jsx("li",{children:"Generated personalized insights reports (stored in Supabase)"}),s.jsx("li",{children:"Analysis of emotional patterns, communication styles, and relationship goals"}),s.jsx("li",{children:"Healing progress scores and personalized recommendations"}),s.jsx("li",{children:"All past reports accessible anytime through your account"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Usage Tracking Data (Free Users)"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[s.jsx("li",{children:"Daily message count to enforce 10 message limit (stored in Supabase)"}),s.jsx("li",{children:"Automatically resets at midnight UTC"}),s.jsx("li",{children:"Retained for 7 days, then automatically deleted"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Technical Data"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[s.jsx("li",{children:"Device information, operating system, app version"}),s.jsx("li",{children:"IP address and usage analytics (for improving service)"}),s.jsx("li",{children:"Error logs and performance metrics"})]})]})]})})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(Jr,{className:"w-5 h-5 text-primary"}),"How We Use Your Data"]})}),s.jsxs(Q,{className:"space-y-4",children:[s.jsx("p",{children:"We use your information to:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Provide personalised AI coaching:"})," Your daily reflections are accessed by AI coaches to tailor conversations to what you want to explore and work on"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Track attachment styles:"})," Quiz results help provide personalized insights and recommendations"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Generate insights reports:"})," Analyze your conversations, mood entries, and reflections to create comprehensive personalized reports"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Enforce usage limits:"})," Track message counts for free users (10 messages/day, resets at midnight UTC)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Improve our app and AI systems:"})," Only anonymized data is used for service improvements"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Communicate important updates:"})," Security alerts, policy changes, and feature announcements"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Provide crisis support:"})," AI coaches detect sensitive topics and redirect to appropriate helplines (UK Samaritans, National Domestic Abuse Helpline, etc.)"]})]}),s.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mt-4",children:[s.jsx("p",{className:"font-semibold text-amber-800",children:"Important Note on Personalization:"}),s.jsx("p",{className:"text-sm text-amber-700 mt-2",children:"When you fill out daily reflections, your AI coaches can access your last 3 reflections to personalize conversations based on what you want to explore. This helps coaches naturally weave in topics you're working on without you having to repeat yourself."})]}),s.jsx("p",{className:"font-semibold text-primary mt-4",children:"Your chat data and reflections will NEVER be shared with third parties, sold, or used for advertising."})]})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(fE,{className:"w-5 h-5 text-primary"}),"Data Storage & Security"]})}),s.jsx(Q,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Storage Infrastructure:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Supabase (PostgreSQL):"})," User authentication, chat conversations, quiz results"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Supabase (PostgreSQL):"})," All application data including authentication, conversations, daily reflections, insights reports, usage tracking, HeartVisions gallery, and quiz results"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"OpenAI API:"})," AI coach responses processed via OpenAI GPT-4o-mini (conversation data is NOT stored by OpenAI)"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Security Measures:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Encryption:"})," Data is encrypted both in transit (SSL/TLS) and at rest"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Access Control:"})," Only you can access your account via secure authentication"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Row Level Security (RLS):"})," Supabase enforces strict data isolation between users"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Password Protection:"})," Leaked password protection prevents use of compromised passwords"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"API Security:"})," Backend APIs use secure authentication and rate limiting"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Data Processing:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[s.jsx("li",{children:"AI processing happens server-side through our FastAPI backend"}),s.jsx("li",{children:"Conversation context (last 5 messages) sent to AI for continuity"}),s.jsx("li",{children:"Your recent reflections (last 3) shared with AI coaches for personalization"}),s.jsx("li",{children:"No data is stored on your device except session tokens"})]})]})]})})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(ft,{className:"w-5 h-5 text-primary"}),"Data Retention"]})}),s.jsxs(Q,{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Chat Conversations:"}),s.jsx("p",{className:"text-sm",children:"Retained until you refresh the page or start a new day. Stored persistently in database to maintain conversation context across sessions."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Daily Reflections:"}),s.jsx("p",{className:"text-sm",children:"Retained indefinitely to allow you to track your personal journey. You can view all past reflections anytime."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Quiz Results:"}),s.jsx("p",{className:"text-sm",children:"Retained indefinitely so you can review your attachment style history and track changes over time."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Insights Reports:"}),s.jsx("p",{className:"text-sm",children:"Retained indefinitely so you can track your personal growth journey. You can view all past insights reports anytime."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Usage Tracking Data:"}),s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"Automatically deleted after 7 days."})," Only used to enforce daily message limits for free users."]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Account Information:"}),s.jsx("p",{className:"text-sm",children:"Retained until you delete your account. After deletion, all personal data is permanently removed within 30 days."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Technical & Analytics Data:"}),s.jsx("p",{className:"text-sm",children:"Retained 612 months, anonymized where possible."})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4",children:[s.jsx("p",{className:"font-semibold text-blue-800",children:"Your Data Control:"}),s.jsx("p",{className:"text-sm text-blue-700 mt-2",children:"Users can request deletion of any data at any time by contacting support@heart-lift.com. Account deletion removes all associated data permanently within 30 days."})]})]})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(vE,{className:"w-5 h-5 text-primary"}),"International Data Transfers"]})}),s.jsx(Q,{children:s.jsx("p",{children:"By using HeartLift, you consent to your data being stored and processed in the United Kingdom, which may have different data protection laws than your location."})})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(aa,{className:"w-5 h-5 text-primary"}),"Age Restrictions"]})}),s.jsx(Q,{children:s.jsxs("p",{children:["HeartLift is intended for users ",s.jsx("strong",{children:"13 years and older"}),". We do not knowingly collect personal data from children under 13."]})})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(SE,{className:"w-5 h-5 text-primary"}),"Your Rights"]})}),s.jsxs(Q,{className:"space-y-4",children:[s.jsx("p",{children:"You have full control over your personal data:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Access:"})," Request a copy of your stored data"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Deletion:"})," Request deletion of your account and all data"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Portability:"})," Export your data in a readable format"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Correction:"})," Update or correct inaccurate information"]})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-4",children:["To exercise these rights, contact us at"," ",s.jsx("a",{href:"mailto:support@heart-lift.com",className:"text-primary hover:text-primary/80 underline",children:"support@heart-lift.com"})]})]})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(IE,{className:"w-5 h-5 text-amber-500"}),"Sensitive Data & Safety"]})}),s.jsxs(Q,{className:"space-y-4",children:[s.jsx("p",{className:"font-semibold",children:"Our AI coaches provide guidance but cannot replace professional help. They do NOT provide support for:"}),s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:s.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm text-amber-700",children:[s.jsx("li",{children:"Suicide or self-harm"}),s.jsx("li",{children:"Drug or substance abuse"}),s.jsx("li",{children:"Domestic abuse or violence"}),s.jsx("li",{children:"Child abuse"}),s.jsx("li",{children:"Sexual assault or trauma"}),s.jsx("li",{children:"Eating disorders"}),s.jsx("li",{children:"Severe mental health crises"})]})}),s.jsxs("p",{className:"text-sm mt-2",children:[s.jsx("strong",{children:"When these topics are detected,"})," our AI coaches immediately stop and provide crisis helpline resources instead of attempting to provide support."]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-3",children:[s.jsx("h4",{className:"font-semibold mb-2 text-blue-800",children:"Emergency Resources (UK):"}),s.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Samaritans:"})," 116 123 (24/7, free to call)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Crisis Text Line UK:"})," Text SHOUT to 85258"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"National Domestic Abuse Helpline:"})," 0808 2000 247"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Rape Crisis England & Wales:"})," 0808 500 2222"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"FRANK (Drug Support):"})," 0300 123 6600"]})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-3",children:[s.jsx("h4",{className:"font-semibold mb-2 text-blue-800",children:"Emergency Resources (US):"}),s.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"National Suicide Prevention Lifeline:"})," 988 or 1-800-273-8255"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Crisis Text Line:"})," Text HOME to 741741"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"National Domestic Violence Hotline:"})," 1-800-799-7233"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"RAINN Sexual Assault Hotline:"})," 1-800-656-4673"]})]})]})]})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(dE,{className:"w-5 h-5 text-primary"}),"Cookies & Analytics"]})}),s.jsx(Q,{children:s.jsx("p",{children:"We may use cookies and analytics to improve your experience. This data is anonymized and cannot identify you personally."})})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsxs(ee,{className:"flex items-center gap-2",children:[s.jsx(gE,{className:"w-5 h-5 text-primary"}),"Policy Updates"]})}),s.jsx(Q,{children:s.jsx("p",{children:"We may update this Privacy Policy occasionally. Significant changes will be communicated via in-app notifications or email. We encourage you to review this page periodically."})})]}),s.jsxs(W,{children:[s.jsx(Z,{children:s.jsx(ee,{children:"Contact Us"})}),s.jsxs(Q,{children:[s.jsx("p",{children:"For questions about this Privacy Policy or your data:"}),s.jsxs("p",{className:"mt-2",children:[s.jsx("strong",{children:"Email:"})," ",s.jsx("a",{href:"mailto:support@heart-lift.com",className:"text-primary hover:text-primary/80 underline",children:"support@heart-lift.com"})]})]})]})]})]})})};function YL(){const e=nt();return s.jsx("div",{className:"min-h-screen py-16 px-4 bg-gradient-to-br from-background via-muted to-secondary",children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs(H,{variant:"gentle",onClick:()=>e(-1),className:"mb-4",children:[s.jsx(mr,{className:"w-4 h-4 mr-2"}),"Back"]}),s.jsxs(W,{className:"shadow-gentle",children:[s.jsxs(Z,{children:[s.jsx(ee,{className:"text-3xl font-bold bg-gradient-to-r from-primary to-primary-glow bg-clip-text text-transparent",children:"Terms of Service"}),s.jsx("p",{className:"text-muted-foreground",children:"Last updated: 29/10/2025"})]}),s.jsxs(Q,{className:"prose prose-slate dark:prose-invert max-w-none space-y-8",children:[s.jsxs("section",{className:"pb-4 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"1. Acceptance of Terms"}),s.jsxs("p",{className:"text-base leading-relaxed",children:["By accessing or using ",s.jsx("strong",{children:"HeartLift"}),' ("the Service"), you ',s.jsx("strong",{children:"agree to be bound"}),' by these Terms of Service ("Terms"). If you do not agree, ',s.jsx("strong",{children:"please do not use the Service"}),"."]})]}),s.jsxs("section",{className:"pb-4 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"2. Service Description"}),s.jsxs("p",{className:"text-base leading-relaxed mb-4",children:["HeartLift provides ",s.jsx("strong",{children:"relationship wellbeing tools"})," and ",s.jsx("strong",{children:"AI-powered coaching experiences"})," to support users with relationships, breakups, and emotional growth. Features may include:"]}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-4",children:[s.jsx("li",{className:"text-base",children:"AI-powered relationship and emotional wellbeing coaching with 4 distinct coach personalities"}),s.jsx("li",{className:"text-base",children:"Daily attachment style quizzes with AI-generated questions"}),s.jsx("li",{className:"text-base",children:"Personalised insights reports analyzing your emotional patterns and growth"}),s.jsx("li",{className:"text-base",children:"Daily reflection tracking to help coaches personalize conversations"}),s.jsx("li",{className:"text-base",children:"Conversation history that persists across sessions"}),s.jsx("li",{className:"text-base",children:"Emotional wellness resources and crisis support redirection"}),s.jsx("li",{className:"text-base",children:"Free tier: 10 messages per day (resets at midnight UTC)"}),s.jsx("li",{className:"text-base",children:"Premium features for unlimited messaging and additional tools"})]}),s.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/30 p-5 rounded-lg mt-4",children:[s.jsx("p",{className:"font-bold text-lg mb-2 text-amber-900 dark:text-amber-200",children:" Important Disclaimer"}),s.jsxs("p",{className:"text-base leading-relaxed text-foreground",children:["HeartLift's AI coaches are ",s.jsx("strong",{children:"virtual wellbeing companions"}),". They are ",s.jsx("strong",{children:"NOT licensed therapists or medical professionals"}),". All guidance is for ",s.jsx("strong",{children:"informational and self-development purposes only"})," and should ",s.jsx("strong",{children:"NOT be considered therapy, counselling, or medical advice"}),"."]})]})]}),s.jsxs("section",{className:"pb-4 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"3. Service Limitations and Crisis Support"}),s.jsxs("p",{className:"font-bold text-lg text-foreground mb-3",children:[" HeartLift ",s.jsx("strong",{children:"does NOT provide"})," professional mental health or crisis support. Our AI coaches ",s.jsx("strong",{children:"cannot and do not assist"})," with:"]}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-destructive font-semibold text-base mb-4",children:[s.jsx("li",{children:"Suicide ideation or self-harm"}),s.jsx("li",{children:"Child abuse or child safety concerns"}),s.jsx("li",{children:"Domestic violence or abuse situations"}),s.jsx("li",{children:"Drug or substance misuse"}),s.jsx("li",{children:"Sexual assault or trauma"}),s.jsx("li",{children:"Eating disorders"}),s.jsx("li",{children:"Clinical mental health conditions requiring professional treatment"})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[s.jsx("p",{className:"font-semibold text-blue-800 mb-2",children:"Automatic Crisis Detection:"}),s.jsx("p",{className:"text-sm text-blue-700",children:"Our AI coaches are programmed to detect crisis situations and immediately redirect users to appropriate professional helplines rather than attempting to provide support. This is a safety feature to ensure you get proper care when needed."})]}),s.jsxs("div",{className:"bg-destructive/15 p-6 rounded-lg border-2 border-destructive/40 mt-4",children:[s.jsx("p",{className:"font-bold text-xl mb-4 text-destructive",children:" Crisis Resources"}),s.jsxs("p",{className:"font-bold text-base mb-3 text-foreground",children:["If you are in crisis or feel unsafe, ",s.jsx("strong",{className:"underline",children:"DO NOT use HeartLift"}),". Instead, contact your local emergency services or a trusted helpline:"]}),s.jsxs("ul",{className:"list-none space-y-3 text-base",children:[s.jsxs("li",{className:"bg-background/50 p-3 rounded-md",children:[s.jsx("strong",{className:"text-foreground",children:"UK:"})," ",s.jsx("span",{className:"font-bold text-destructive",children:"999"})," (Emergency Services) / Samaritans at ",s.jsx("span",{className:"font-bold text-destructive",children:"116 123"})]}),s.jsxs("li",{className:"bg-background/50 p-3 rounded-md",children:[s.jsx("strong",{className:"text-foreground",children:"US:"})," ",s.jsx("span",{className:"font-bold text-destructive",children:"911"})," (Emergency Services) / ",s.jsx("span",{className:"font-bold text-destructive",children:"988"})," Suicide & Crisis Lifeline"]}),s.jsxs("li",{className:"bg-background/50 p-3 rounded-md",children:[s.jsx("strong",{className:"text-foreground",children:"Child Protection (UK):"})," NSPCC  ",s.jsx("span",{className:"font-bold text-destructive",children:"0808 800 5000"})]})]})]})]}),s.jsxs("section",{className:"pb-4 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"4. User Conduct and Prohibited Content"}),s.jsx("p",{className:"text-base leading-relaxed mb-3 font-medium",children:"You agree to:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-base mb-4",children:[s.jsxs("li",{children:["Provide ",s.jsx("strong",{children:"accurate, truthful information"})," when using the Service"]}),s.jsxs("li",{children:["Use HeartLift only for ",s.jsx("strong",{children:"lawful, personal, and non-commercial purposes"})]}),s.jsxs("li",{children:["Avoid ",s.jsx("strong",{children:"harmful, abusive, or inappropriate behavior"})]}),s.jsx("li",{children:"Respect the limits of our AI wellbeing tools"}),s.jsxs("li",{children:[s.jsx("strong",{children:"Seek professional help when needed"})," for serious mental health or crisis situations"]}),s.jsxs("li",{children:["Understand that ",s.jsx("strong",{children:"daily reflections are accessed by AI coaches"})," to personalize your experience"]}),s.jsxs("li",{children:["Accept that ",s.jsx("strong",{children:"conversation history persists across sessions"})," until refresh or new day"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Free tier users:"})," Respect the 10 messages per day limit (resets at midnight UTC)"]})]}),s.jsxs("div",{className:"bg-red-50 border border-red-300 rounded-lg p-5 mt-4",children:[s.jsx("p",{className:"font-bold text-lg mb-3 text-red-800",children:" Prohibited Content (Age 13+)"}),s.jsxs("p",{className:"text-base leading-relaxed text-red-900 mb-3",children:["HeartLift is designed for ages ",s.jsx("strong",{children:"13 and older"})," and focuses on ",s.jsx("strong",{children:"emotional wellbeing and relationship support"}),". The following content is ",s.jsx("strong",{children:"strictly prohibited"}),":"]}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-base text-red-900",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Sexually explicit messages"}),", sexual acts, fantasies, or explicit descriptions"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Inappropriate romantic or sexual advances"})," toward AI coaches"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Sexual health questions"})," (STIs, contraception, etc.) - Please consult NHS Sexual Health Services or your healthcare provider"]}),s.jsxs("li",{children:["Any content that would be ",s.jsx("strong",{children:"inappropriate for ages 13+"})]}),s.jsx("li",{children:"Harassment, threats, or abusive language"}),s.jsx("li",{children:"Illegal activities or content"})]}),s.jsxs("p",{className:"text-base leading-relaxed text-red-900 mt-3 font-semibold",children:["AI coaches will ",s.jsx("strong",{children:"immediately stop and redirect"})," if you attempt to engage in prohibited content. Repeated violations may result in ",s.jsx("strong",{children:"account suspension or termination"}),"."]})]})]}),s.jsxs("section",{className:"pb-4 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"5. Eligibility"}),s.jsxs("p",{className:"text-base leading-relaxed mb-3",children:["You must be ",s.jsx("strong",{children:"at least 13 years old"})," to use HeartLift. By using the Service, you ",s.jsx("strong",{children:"confirm that you meet this age requirement"}),"."]}),s.jsxs("p",{className:"text-base leading-relaxed",children:["HeartLift is ",s.jsx("strong",{children:"not directed at children under 13"}),", and we do ",s.jsx("strong",{children:"not knowingly collect personal data"})," from anyone under this age. If we become aware that a user under 13 has registered, we will take steps to delete their information promptly."]})]}),s.jsxs("section",{className:"pb-4 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"6. Payment and Subscriptions"}),s.jsxs("p",{className:"text-base leading-relaxed mb-4",children:["Certain features of HeartLift require a ",s.jsx("strong",{children:"paid subscription"}),". Payments are securely processed through ",s.jsx("strong",{children:"Apple's In-App Purchase (IAP) system"}),"."]}),s.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-5 mb-4",children:[s.jsx("h3",{className:"text-xl font-bold mb-3 text-foreground",children:"HeartLift Premium Subscription"}),s.jsxs("ul",{className:"space-y-2 text-base",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Subscription Name:"})," HeartLift Premium"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Price:"})," 11.99 per month (GBP)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Length:"})," 1 month (auto-renewable)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Benefits:"}),s.jsxs("ul",{className:"list-disc pl-6 mt-2 space-y-1",children:[s.jsx("li",{children:"Unlimited messages with all AI coaches"}),s.jsx("li",{children:"Access to Personalized Insights & Reports"}),s.jsx("li",{children:"HeartVisions AI image generation"}),s.jsx("li",{children:"Advanced attachment style analysis"}),s.jsx("li",{children:"Priority support"})]})]})]})]}),s.jsx("h3",{className:"text-lg font-bold mb-3 text-foreground",children:"Subscription Terms:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-base",children:[s.jsx("li",{children:"Payment will be charged to your Apple ID account at confirmation of purchase"}),s.jsxs("li",{children:["Subscriptions ",s.jsx("strong",{children:"automatically renew"})," unless cancelled at least ",s.jsx("strong",{children:"24 hours before the end of the current period"})]}),s.jsxs("li",{children:["Your account will be charged for renewal ",s.jsx("strong",{children:"within 24 hours prior to the end"})," of the current billing period"]}),s.jsxs("li",{children:["You may ",s.jsx("strong",{children:"manage or cancel your subscription"})," at any time by going to your device's Account Settings  Subscriptions after purchase"]}),s.jsx("li",{children:"Any unused portion of a free trial period, if offered, will be forfeited when you purchase a subscription"}),s.jsxs("li",{children:[s.jsx("strong",{children:"No refunds:"})," Refunds are not provided for any unused portion of the subscription term, except where required by law"]})]}),s.jsxs("p",{className:"text-base leading-relaxed mt-4",children:["For more information on managing subscriptions, visit: ",s.jsx("a",{href:"https://support.apple.com/en-us/HT202039",target:"_blank",rel:"noopener noreferrer",className:"text-primary underline hover:text-primary-glow",children:"Apple Support - Manage Subscriptions"})]})]}),s.jsxs("section",{className:"pb-4 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"7. Intellectual Property"}),s.jsxs("p",{className:"text-base leading-relaxed",children:["All content, features, designs, and functionality of HeartLift are ",s.jsx("strong",{children:"owned by us or our licensors"})," and are ",s.jsx("strong",{children:"protected by copyright, trademark, and other intellectual property laws"}),". You may ",s.jsx("strong",{children:"not reproduce, distribute, or modify"})," any part of the Service without written permission."]}),s.jsxs("p",{className:"text-base leading-relaxed mt-2",children:[s.jsx("strong",{children:" 2025 HeartLift."})," All rights reserved."]})]}),s.jsxs("section",{className:"pb-4 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"8. Limitation of Liability"}),s.jsxs("p",{className:"text-base leading-relaxed mb-3",children:["HeartLift provides wellbeing guidance and digital support tools. We ",s.jsx("strong",{children:"make no guarantees regarding accuracy or outcomes"}),"and are ",s.jsx("strong",{children:"not liable for any loss, harm, or decision"})," made based on the information provided."]}),s.jsxs("p",{className:"text-base leading-relaxed font-medium",children:["The Service is provided ",s.jsx("strong",{children:'"as is"'})," and ",s.jsx("strong",{children:'"as available"'}),", without warranties of any kind."]})]}),s.jsxs("section",{className:"pb-4 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"9. Data Collection and Usage"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-base leading-relaxed",children:"By using HeartLift, you acknowledge and agree that:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-base",children:[s.jsxs("li",{children:["Your ",s.jsx("strong",{children:"daily reflections are stored"})," and accessed by AI coaches to personalize future conversations"]}),s.jsxs("li",{children:["Your ",s.jsx("strong",{children:"conversation history is retained"})," until you refresh the page or start a new day"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Quiz results and analyses"})," are stored indefinitely for you to review your personal growth"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Insights reports"})," are generated from your conversations and reflections, stored indefinitely for you to track your journey"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Free users:"})," Message counts are tracked daily (automatically deleted after 7 days)"]}),s.jsxs("li",{children:["Your data is stored securely in ",s.jsx("strong",{children:"Supabase"}),", which includes authentication, conversations, quizzes, reflections, insights reports, usage tracking, and all user-generated content"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"AI processing:"})," Your messages and recent reflections are sent to OpenAI GPT-4o-mini for generating coach responses (not stored by OpenAI)"]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4",children:[s.jsx("p",{className:"font-semibold text-blue-800 mb-2",children:"Personalization Feature:"}),s.jsx("p",{className:"text-sm text-blue-700",children:"To provide personalized coaching, your AI coaches can access your last 3 daily reflections. This helps them understand what you're working on and naturally weave those topics into conversations. This feature enhances your experience but requires sharing your reflection data with the AI system."})]}),s.jsxs("p",{className:"text-base leading-relaxed font-medium mt-4",children:["For complete details on how we collect, use, store, and protect your data, please review our",s.jsx("strong",{children:" Privacy Policy"}),"."]})]})]}),s.jsxs("section",{className:"pb-4 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"10. Privacy"}),s.jsxs("p",{className:"text-base leading-relaxed",children:[s.jsx("strong",{children:"Your privacy is important to us."})," Please review our Privacy Policy to understand how we collect, use, and protect your personal information."]})]}),s.jsxs("section",{className:"pb-4 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"11. Termination"}),s.jsxs("p",{className:"text-base leading-relaxed",children:["We reserve the right to ",s.jsx("strong",{children:"suspend or terminate your account"}),", at our discretion and without notice, if you ",s.jsx("strong",{children:"violate these Terms or misuse the Service"}),"."]})]}),s.jsxs("section",{className:"pb-4 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"12. Changes to Terms"}),s.jsxs("p",{className:"text-base leading-relaxed",children:["We may ",s.jsx("strong",{children:"update these Terms from time to time"}),'. The latest version will always be posted on this page with a revised "last updated" date. ',s.jsx("strong",{children:"Continued use of the Service after changes are posted constitutes acceptance of those changes."})]})]}),s.jsxs("section",{className:"pb-4 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"13. Governing Law"}),s.jsxs("p",{className:"text-base leading-relaxed",children:["These Terms are governed by and construed in accordance with the ",s.jsx("strong",{children:"laws of the United Kingdom"}),", without regard to its conflict of law principles."]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"14. Contact Information"}),s.jsxs("p",{className:"text-base leading-relaxed",children:["For questions, feedback, or support, please contact us at:"," ",s.jsx("a",{href:"mailto:support@heart-lift.com",className:"text-primary hover:underline font-semibold",children:"support@heart-lift.com"})]})]})]})]})]})})}const QL=()=>{const e=rr();return f.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),s.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},JL=new iR,XL=()=>{const{isAppReady:e,initializeApp:t}=Te();return f.useEffect(()=>{const r=async()=>{var n;if(document.visibilityState==="visible"){console.log("[App]  App resumed - checking auth session...");try{const{data:{session:o},error:a}=await K.auth.getSession();console.log(" Auth Session Check:",{hasSession:!!o,userId:(n=o==null?void 0:o.user)==null?void 0:n.id,expiresAt:o==null?void 0:o.expires_at,sessionError:a==null?void 0:a.message}),o||console.error(" NO SESSION on app resume!")}catch(o){console.error(" Session check failed:",o)}try{await t()}catch(o){console.error("[App]  Error reinitializing on resume:",o)}}};return document.addEventListener("visibilitychange",r),()=>{document.removeEventListener("visibilitychange",r)}},[t]),e?s.jsx(lA,{children:s.jsxs(eA,{children:[s.jsx(Nt,{path:"/",element:s.jsx(g5,{})}),s.jsx(Nt,{path:"/auth",element:s.jsx(S5,{})}),s.jsx(Nt,{path:"/premium-success",element:s.jsx(N5,{})}),s.jsx(Nt,{path:"/premium-purchase",element:s.jsx(_5,{})}),s.jsx(Nt,{path:"/healing-kit-purchase",element:s.jsx(C5,{})}),s.jsx(Nt,{path:"/subscription-management",element:s.jsx(k5,{})}),s.jsx(Nt,{path:"/healing-kit",element:s.jsx(O5,{})}),s.jsx(Nt,{path:"/advanced-tools",element:s.jsx(EL,{})}),s.jsx(Nt,{path:"/password-reset",element:s.jsx(VL,{})}),s.jsx(Nt,{path:"/reset-password",element:s.jsx(KL,{})}),s.jsx(Nt,{path:"/verify-email",element:s.jsx(qL,{})}),s.jsx(Nt,{path:"/privacy-policy",element:s.jsx(GL,{})}),s.jsx(Nt,{path:"/terms-of-service",element:s.jsx(YL,{})}),s.jsx(Nt,{path:"*",element:s.jsx(QL,{})})]})}):s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-secondary/30 to-accent/30",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"w-16 h-16 mx-auto border-4 border-primary border-t-transparent rounded-full animate-spin"}),s.jsx("p",{className:"text-lg font-semibold text-foreground",children:"Loading HeartLift..."})]})})},ZL=()=>s.jsx(cR,{client:JL,children:s.jsx(OT,{children:s.jsxs(Y4,{children:[s.jsx(xP,{}),s.jsx(QP,{}),s.jsx(XL,{})]})})});Vw(document.getElementById("root")).render(s.jsx(ZL,{}));export{Ys as _};
