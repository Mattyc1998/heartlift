const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-D3DHscpS.js","assets/index-D5mZt9S9.js","assets/index-C3XPwrPc.js"])))=>i.map(i=>d[i]);
var m_=Object.defineProperty;var og=e=>{throw TypeError(e)};var p_=(e,t,r)=>t in e?m_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var fd=(e,t,r)=>p_(e,typeof t!="symbol"?t+"":t,r),md=(e,t,r)=>t.has(e)||og("Cannot "+r);var F=(e,t,r)=>(md(e,t,"read from private field"),r?r.call(e):t.get(e)),Ee=(e,t,r)=>t.has(e)?og("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ye=(e,t,r,n)=>(md(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),jt=(e,t,r)=>(md(e,t,"access private method"),r);var vl=(e,t,r,n)=>({set _(s){ye(e,t,s,r)},get _(){return F(e,t,n)}});function g_(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var gr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ox(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function y_(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var ax={exports:{}},au={},ix={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ji=Symbol.for("react.element"),v_=Symbol.for("react.portal"),x_=Symbol.for("react.fragment"),w_=Symbol.for("react.strict_mode"),b_=Symbol.for("react.profiler"),j_=Symbol.for("react.provider"),N_=Symbol.for("react.context"),S_=Symbol.for("react.forward_ref"),__=Symbol.for("react.suspense"),E_=Symbol.for("react.memo"),C_=Symbol.for("react.lazy"),ag=Symbol.iterator;function k_(e){return e===null||typeof e!="object"?null:(e=ag&&e[ag]||e["@@iterator"],typeof e=="function"?e:null)}var lx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cx=Object.assign,ux={};function va(e,t,r){this.props=e,this.context=t,this.refs=ux,this.updater=r||lx}va.prototype.isReactComponent={};va.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};va.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function dx(){}dx.prototype=va.prototype;function Xf(e,t,r){this.props=e,this.context=t,this.refs=ux,this.updater=r||lx}var Zf=Xf.prototype=new dx;Zf.constructor=Xf;cx(Zf,va.prototype);Zf.isPureReactComponent=!0;var ig=Array.isArray,hx=Object.prototype.hasOwnProperty,em={current:null},fx={key:!0,ref:!0,__self:!0,__source:!0};function mx(e,t,r){var n,s={},a=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)hx.call(t,n)&&!fx.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Ji,type:e,key:a,ref:i,props:s,_owner:em.current}}function P_(e,t){return{$$typeof:Ji,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function tm(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ji}function R_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var lg=/\/+/g;function pd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?R_(""+e.key):t.toString(36)}function Yl(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Ji:case v_:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+pd(i,0):n,ig(s)?(r="",e!=null&&(r=e.replace(lg,"$&/")+"/"),Yl(s,t,r,"",function(u){return u})):s!=null&&(tm(s)&&(s=P_(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(lg,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",ig(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+pd(a,l);i+=Yl(a,t,r,c,s)}else if(c=k_(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+pd(a,l++),i+=Yl(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function xl(e,t,r){if(e==null)return e;var n=[],s=0;return Yl(e,n,"","",function(a){return t.call(r,a,s++)}),n}function T_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Dt={current:null},Ql={transition:null},I_={ReactCurrentDispatcher:Dt,ReactCurrentBatchConfig:Ql,ReactCurrentOwner:em};function px(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:xl,forEach:function(e,t,r){xl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return xl(e,function(){t++}),t},toArray:function(e){return xl(e,function(t){return t})||[]},only:function(e){if(!tm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_e.Component=va;_e.Fragment=x_;_e.Profiler=b_;_e.PureComponent=Xf;_e.StrictMode=w_;_e.Suspense=__;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I_;_e.act=px;_e.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=cx({},e.props),s=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=em.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)hx.call(t,c)&&!fx.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Ji,type:e.type,key:s,ref:a,props:n,_owner:i}};_e.createContext=function(e){return e={$$typeof:N_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:j_,_context:e},e.Consumer=e};_e.createElement=mx;_e.createFactory=function(e){var t=mx.bind(null,e);return t.type=e,t};_e.createRef=function(){return{current:null}};_e.forwardRef=function(e){return{$$typeof:S_,render:e}};_e.isValidElement=tm;_e.lazy=function(e){return{$$typeof:C_,_payload:{_status:-1,_result:e},_init:T_}};_e.memo=function(e,t){return{$$typeof:E_,type:e,compare:t===void 0?null:t}};_e.startTransition=function(e){var t=Ql.transition;Ql.transition={};try{e()}finally{Ql.transition=t}};_e.unstable_act=px;_e.useCallback=function(e,t){return Dt.current.useCallback(e,t)};_e.useContext=function(e){return Dt.current.useContext(e)};_e.useDebugValue=function(){};_e.useDeferredValue=function(e){return Dt.current.useDeferredValue(e)};_e.useEffect=function(e,t){return Dt.current.useEffect(e,t)};_e.useId=function(){return Dt.current.useId()};_e.useImperativeHandle=function(e,t,r){return Dt.current.useImperativeHandle(e,t,r)};_e.useInsertionEffect=function(e,t){return Dt.current.useInsertionEffect(e,t)};_e.useLayoutEffect=function(e,t){return Dt.current.useLayoutEffect(e,t)};_e.useMemo=function(e,t){return Dt.current.useMemo(e,t)};_e.useReducer=function(e,t,r){return Dt.current.useReducer(e,t,r)};_e.useRef=function(e){return Dt.current.useRef(e)};_e.useState=function(e){return Dt.current.useState(e)};_e.useSyncExternalStore=function(e,t,r){return Dt.current.useSyncExternalStore(e,t,r)};_e.useTransition=function(){return Dt.current.useTransition()};_e.version="18.3.1";ix.exports=_e;var f=ix.exports;const K=ox(f),rm=g_({__proto__:null,default:K},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_=f,O_=Symbol.for("react.element"),D_=Symbol.for("react.fragment"),M_=Object.prototype.hasOwnProperty,L_=A_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$_={key:!0,ref:!0,__self:!0,__source:!0};function gx(e,t,r){var n,s={},a=null,i=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)M_.call(t,n)&&!$_.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:O_,type:e,key:a,ref:i,props:s,_owner:L_.current}}au.Fragment=D_;au.jsx=gx;au.jsxs=gx;ax.exports=au;var o=ax.exports,yx={exports:{}},sr={},vx={exports:{}},xx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,P){var U=C.length;C.push(P);e:for(;0<U;){var $=U-1>>>1,V=C[$];if(0<s(V,P))C[$]=P,C[U]=V,U=$;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var P=C[0],U=C.pop();if(U!==P){C[0]=U;e:for(var $=0,V=C.length,M=V>>>1;$<M;){var X=2*($+1)-1,oe=C[X],ue=X+1,T=C[ue];if(0>s(oe,U))ue<V&&0>s(T,oe)?(C[$]=T,C[ue]=U,$=ue):(C[$]=oe,C[X]=U,$=X);else if(ue<V&&0>s(T,U))C[$]=T,C[ue]=U,$=ue;else break e}}return P}function s(C,P){var U=C.sortIndex-P.sortIndex;return U!==0?U:C.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,h=null,m=3,y=!1,b=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(C){for(var P=r(u);P!==null;){if(P.callback===null)n(u);else if(P.startTime<=C)n(u),P.sortIndex=P.expirationTime,t(c,P);else break;P=r(u)}}function j(C){if(g=!1,x(C),!b)if(r(c)!==null)b=!0,D(N);else{var P=r(u);P!==null&&O(j,P.startTime-C)}}function N(C,P){b=!1,g&&(g=!1,p(E),E=-1),y=!0;var U=m;try{for(x(P),h=r(c);h!==null&&(!(h.expirationTime>P)||C&&!z());){var $=h.callback;if(typeof $=="function"){h.callback=null,m=h.priorityLevel;var V=$(h.expirationTime<=P);P=e.unstable_now(),typeof V=="function"?h.callback=V:h===r(c)&&n(c),x(P)}else n(c);h=r(c)}if(h!==null)var M=!0;else{var X=r(u);X!==null&&O(j,X.startTime-P),M=!1}return M}finally{h=null,m=U,y=!1}}var S=!1,_=null,E=-1,I=5,k=-1;function z(){return!(e.unstable_now()-k<I)}function A(){if(_!==null){var C=e.unstable_now();k=C;var P=!0;try{P=_(!0,C)}finally{P?L():(S=!1,_=null)}}else S=!1}var L;if(typeof v=="function")L=function(){v(A)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,B=R.port2;R.port1.onmessage=A,L=function(){B.postMessage(null)}}else L=function(){w(A,0)};function D(C){_=C,S||(S=!0,L())}function O(C,P){E=w(function(){C(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){b||y||(b=!0,D(N))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(C){switch(m){case 1:case 2:case 3:var P=3;break;default:P=m}var U=m;m=P;try{return C()}finally{m=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,P){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var U=m;m=C;try{return P()}finally{m=U}},e.unstable_scheduleCallback=function(C,P,U){var $=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?$+U:$):U=$,C){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=U+V,C={id:d++,callback:P,priorityLevel:C,startTime:U,expirationTime:V,sortIndex:-1},U>$?(C.sortIndex=U,t(u,C),r(c)===null&&C===r(u)&&(g?(p(E),E=-1):g=!0,O(j,U-$))):(C.sortIndex=V,t(c,C),b||y||(b=!0,D(N))),C},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(C){var P=m;return function(){var U=m;m=P;try{return C.apply(this,arguments)}finally{m=U}}}})(xx);vx.exports=xx;var U_=vx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_=f,nr=U_;function q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wx=new Set,gi={};function oo(e,t){sa(e,t),sa(e+"Capture",t)}function sa(e,t){for(gi[e]=t,e=0;e<t.length;e++)wx.add(t[e])}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hh=Object.prototype.hasOwnProperty,z_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cg={},ug={};function H_(e){return hh.call(ug,e)?!0:hh.call(cg,e)?!1:z_.test(e)?ug[e]=!0:(cg[e]=!0,!1)}function B_(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function W_(e,t,r,n){if(t===null||typeof t>"u"||B_(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Mt(e,t,r,n,s,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xt[e]=new Mt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xt[t]=new Mt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xt[e]=new Mt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xt[e]=new Mt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xt[e]=new Mt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xt[e]=new Mt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xt[e]=new Mt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xt[e]=new Mt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xt[e]=new Mt(e,5,!1,e.toLowerCase(),null,!1,!1)});var nm=/[\-:]([a-z])/g;function sm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(nm,sm);xt[t]=new Mt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(nm,sm);xt[t]=new Mt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(nm,sm);xt[t]=new Mt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xt[e]=new Mt(e,1,!1,e.toLowerCase(),null,!1,!1)});xt.xlinkHref=new Mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xt[e]=new Mt(e,1,!1,e.toLowerCase(),null,!0,!0)});function om(e,t,r,n){var s=xt.hasOwnProperty(t)?xt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(W_(t,r,s,n)&&(r=null),n||s===null?H_(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Pn=F_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wl=Symbol.for("react.element"),Eo=Symbol.for("react.portal"),Co=Symbol.for("react.fragment"),am=Symbol.for("react.strict_mode"),fh=Symbol.for("react.profiler"),bx=Symbol.for("react.provider"),jx=Symbol.for("react.context"),im=Symbol.for("react.forward_ref"),mh=Symbol.for("react.suspense"),ph=Symbol.for("react.suspense_list"),lm=Symbol.for("react.memo"),Fn=Symbol.for("react.lazy"),Nx=Symbol.for("react.offscreen"),dg=Symbol.iterator;function Ma(e){return e===null||typeof e!="object"?null:(e=dg&&e[dg]||e["@@iterator"],typeof e=="function"?e:null)}var Ge=Object.assign,gd;function Ya(e){if(gd===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);gd=t&&t[1]||""}return`
`+gd+e}var yd=!1;function vd(e,t){if(!e||yd)return"";yd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),i=s.length-1,l=a.length-1;1<=i&&0<=l&&s[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==a[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{yd=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ya(e):""}function V_(e){switch(e.tag){case 5:return Ya(e.type);case 16:return Ya("Lazy");case 13:return Ya("Suspense");case 19:return Ya("SuspenseList");case 0:case 2:case 15:return e=vd(e.type,!1),e;case 11:return e=vd(e.type.render,!1),e;case 1:return e=vd(e.type,!0),e;default:return""}}function gh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Co:return"Fragment";case Eo:return"Portal";case fh:return"Profiler";case am:return"StrictMode";case mh:return"Suspense";case ph:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case jx:return(e.displayName||"Context")+".Consumer";case bx:return(e._context.displayName||"Context")+".Provider";case im:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case lm:return t=e.displayName||null,t!==null?t:gh(e.type)||"Memo";case Fn:t=e._payload,e=e._init;try{return gh(e(t))}catch{}}return null}function q_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gh(t);case 8:return t===am?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ds(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function G_(e){var t=Sx(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bl(e){e._valueTracker||(e._valueTracker=G_(e))}function _x(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Sx(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function pc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function yh(e,t){var r=t.checked;return Ge({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function hg(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ds(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ex(e,t){t=t.checked,t!=null&&om(e,"checked",t,!1)}function vh(e,t){Ex(e,t);var r=ds(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xh(e,t.type,r):t.hasOwnProperty("defaultValue")&&xh(e,t.type,ds(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fg(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function xh(e,t,r){(t!=="number"||pc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Qa=Array.isArray;function $o(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ds(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function wh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(q(91));return Ge({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function mg(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(q(92));if(Qa(r)){if(1<r.length)throw Error(q(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ds(r)}}function Cx(e,t){var r=ds(t.value),n=ds(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function pg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function kx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?kx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var jl,Px=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(jl=jl||document.createElement("div"),jl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=jl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function yi(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ni={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},K_=["Webkit","ms","Moz","O"];Object.keys(ni).forEach(function(e){K_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ni[t]=ni[e]})});function Rx(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ni.hasOwnProperty(e)&&ni[e]?(""+t).trim():t+"px"}function Tx(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Rx(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Y_=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jh(e,t){if(t){if(Y_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(q(62))}}function Nh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sh=null;function cm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _h=null,Uo=null,Fo=null;function gg(e){if(e=el(e)){if(typeof _h!="function")throw Error(q(280));var t=e.stateNode;t&&(t=du(t),_h(e.stateNode,e.type,t))}}function Ix(e){Uo?Fo?Fo.push(e):Fo=[e]:Uo=e}function Ax(){if(Uo){var e=Uo,t=Fo;if(Fo=Uo=null,gg(e),t)for(e=0;e<t.length;e++)gg(t[e])}}function Ox(e,t){return e(t)}function Dx(){}var xd=!1;function Mx(e,t,r){if(xd)return e(t,r);xd=!0;try{return Ox(e,t,r)}finally{xd=!1,(Uo!==null||Fo!==null)&&(Dx(),Ax())}}function vi(e,t){var r=e.stateNode;if(r===null)return null;var n=du(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(q(231,t,typeof r));return r}var Eh=!1;if(bn)try{var La={};Object.defineProperty(La,"passive",{get:function(){Eh=!0}}),window.addEventListener("test",La,La),window.removeEventListener("test",La,La)}catch{Eh=!1}function Q_(e,t,r,n,s,a,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var si=!1,gc=null,yc=!1,Ch=null,J_={onError:function(e){si=!0,gc=e}};function X_(e,t,r,n,s,a,i,l,c){si=!1,gc=null,Q_.apply(J_,arguments)}function Z_(e,t,r,n,s,a,i,l,c){if(X_.apply(this,arguments),si){if(si){var u=gc;si=!1,gc=null}else throw Error(q(198));yc||(yc=!0,Ch=u)}}function ao(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Lx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function yg(e){if(ao(e)!==e)throw Error(q(188))}function eE(e){var t=e.alternate;if(!t){if(t=ao(e),t===null)throw Error(q(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return yg(s),e;if(a===n)return yg(s),t;a=a.sibling}throw Error(q(188))}if(r.return!==n.return)r=s,n=a;else{for(var i=!1,l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i)throw Error(q(189))}}if(r.alternate!==n)throw Error(q(190))}if(r.tag!==3)throw Error(q(188));return r.stateNode.current===r?e:t}function $x(e){return e=eE(e),e!==null?Ux(e):null}function Ux(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ux(e);if(t!==null)return t;e=e.sibling}return null}var Fx=nr.unstable_scheduleCallback,vg=nr.unstable_cancelCallback,tE=nr.unstable_shouldYield,rE=nr.unstable_requestPaint,Qe=nr.unstable_now,nE=nr.unstable_getCurrentPriorityLevel,um=nr.unstable_ImmediatePriority,zx=nr.unstable_UserBlockingPriority,vc=nr.unstable_NormalPriority,sE=nr.unstable_LowPriority,Hx=nr.unstable_IdlePriority,iu=null,Xr=null;function oE(e){if(Xr&&typeof Xr.onCommitFiberRoot=="function")try{Xr.onCommitFiberRoot(iu,e,void 0,(e.current.flags&128)===128)}catch{}}var Ar=Math.clz32?Math.clz32:lE,aE=Math.log,iE=Math.LN2;function lE(e){return e>>>=0,e===0?32:31-(aE(e)/iE|0)|0}var Nl=64,Sl=4194304;function Ja(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~s;l!==0?n=Ja(l):(a&=i,a!==0&&(n=Ja(a)))}else i=r&~s,i!==0?n=Ja(i):a!==0&&(n=Ja(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ar(t),s=1<<r,n|=e[r],t&=~s;return n}function cE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uE(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-Ar(a),l=1<<i,c=s[i];c===-1?(!(l&r)||l&n)&&(s[i]=cE(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function kh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Bx(){var e=Nl;return Nl<<=1,!(Nl&4194240)&&(Nl=64),e}function wd(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Xi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ar(t),e[t]=r}function dE(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Ar(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function dm(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ar(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Te=0;function Wx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Vx,hm,qx,Gx,Kx,Ph=!1,_l=[],ts=null,rs=null,ns=null,xi=new Map,wi=new Map,Hn=[],hE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xg(e,t){switch(e){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":xi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wi.delete(t.pointerId)}}function $a(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=el(t),t!==null&&hm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function fE(e,t,r,n,s){switch(t){case"focusin":return ts=$a(ts,e,t,r,n,s),!0;case"dragenter":return rs=$a(rs,e,t,r,n,s),!0;case"mouseover":return ns=$a(ns,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return xi.set(a,$a(xi.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,wi.set(a,$a(wi.get(a)||null,e,t,r,n,s)),!0}return!1}function Yx(e){var t=Os(e.target);if(t!==null){var r=ao(t);if(r!==null){if(t=r.tag,t===13){if(t=Lx(r),t!==null){e.blockedOn=t,Kx(e.priority,function(){qx(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Rh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Sh=n,r.target.dispatchEvent(n),Sh=null}else return t=el(r),t!==null&&hm(t),e.blockedOn=r,!1;t.shift()}return!0}function wg(e,t,r){Jl(e)&&r.delete(t)}function mE(){Ph=!1,ts!==null&&Jl(ts)&&(ts=null),rs!==null&&Jl(rs)&&(rs=null),ns!==null&&Jl(ns)&&(ns=null),xi.forEach(wg),wi.forEach(wg)}function Ua(e,t){e.blockedOn===t&&(e.blockedOn=null,Ph||(Ph=!0,nr.unstable_scheduleCallback(nr.unstable_NormalPriority,mE)))}function bi(e){function t(s){return Ua(s,e)}if(0<_l.length){Ua(_l[0],e);for(var r=1;r<_l.length;r++){var n=_l[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ts!==null&&Ua(ts,e),rs!==null&&Ua(rs,e),ns!==null&&Ua(ns,e),xi.forEach(t),wi.forEach(t),r=0;r<Hn.length;r++)n=Hn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Hn.length&&(r=Hn[0],r.blockedOn===null);)Yx(r),r.blockedOn===null&&Hn.shift()}var zo=Pn.ReactCurrentBatchConfig,wc=!0;function pE(e,t,r,n){var s=Te,a=zo.transition;zo.transition=null;try{Te=1,fm(e,t,r,n)}finally{Te=s,zo.transition=a}}function gE(e,t,r,n){var s=Te,a=zo.transition;zo.transition=null;try{Te=4,fm(e,t,r,n)}finally{Te=s,zo.transition=a}}function fm(e,t,r,n){if(wc){var s=Rh(e,t,r,n);if(s===null)Rd(e,t,n,bc,r),xg(e,n);else if(fE(s,e,t,r,n))n.stopPropagation();else if(xg(e,n),t&4&&-1<hE.indexOf(e)){for(;s!==null;){var a=el(s);if(a!==null&&Vx(a),a=Rh(e,t,r,n),a===null&&Rd(e,t,n,bc,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else Rd(e,t,n,null,r)}}var bc=null;function Rh(e,t,r,n){if(bc=null,e=cm(n),e=Os(e),e!==null)if(t=ao(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Lx(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bc=e,null}function Qx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nE()){case um:return 1;case zx:return 4;case vc:case sE:return 16;case Hx:return 536870912;default:return 16}default:return 16}}var Jn=null,mm=null,Xl=null;function Jx(){if(Xl)return Xl;var e,t=mm,r=t.length,n,s="value"in Jn?Jn.value:Jn.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[a-n];n++);return Xl=s.slice(e,1<n?1-n:void 0)}function Zl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function El(){return!0}function bg(){return!1}function or(e){function t(r,n,s,a,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?El:bg,this.isPropagationStopped=bg,this}return Ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=El)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=El)},persist:function(){},isPersistent:El}),t}var xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pm=or(xa),Zi=Ge({},xa,{view:0,detail:0}),yE=or(Zi),bd,jd,Fa,lu=Ge({},Zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fa&&(Fa&&e.type==="mousemove"?(bd=e.screenX-Fa.screenX,jd=e.screenY-Fa.screenY):jd=bd=0,Fa=e),bd)},movementY:function(e){return"movementY"in e?e.movementY:jd}}),jg=or(lu),vE=Ge({},lu,{dataTransfer:0}),xE=or(vE),wE=Ge({},Zi,{relatedTarget:0}),Nd=or(wE),bE=Ge({},xa,{animationName:0,elapsedTime:0,pseudoElement:0}),jE=or(bE),NE=Ge({},xa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),SE=or(NE),_E=Ge({},xa,{data:0}),Ng=or(_E),EE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=kE[e])?!!t[e]:!1}function gm(){return PE}var RE=Ge({},Zi,{key:function(e){if(e.key){var t=EE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?CE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gm,charCode:function(e){return e.type==="keypress"?Zl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),TE=or(RE),IE=Ge({},lu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sg=or(IE),AE=Ge({},Zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gm}),OE=or(AE),DE=Ge({},xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),ME=or(DE),LE=Ge({},lu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$E=or(LE),UE=[9,13,27,32],ym=bn&&"CompositionEvent"in window,oi=null;bn&&"documentMode"in document&&(oi=document.documentMode);var FE=bn&&"TextEvent"in window&&!oi,Xx=bn&&(!ym||oi&&8<oi&&11>=oi),_g=" ",Eg=!1;function Zx(e,t){switch(e){case"keyup":return UE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ew(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ko=!1;function zE(e,t){switch(e){case"compositionend":return ew(t);case"keypress":return t.which!==32?null:(Eg=!0,_g);case"textInput":return e=t.data,e===_g&&Eg?null:e;default:return null}}function HE(e,t){if(ko)return e==="compositionend"||!ym&&Zx(e,t)?(e=Jx(),Xl=mm=Jn=null,ko=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xx&&t.locale!=="ko"?null:t.data;default:return null}}var BE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!BE[e.type]:t==="textarea"}function tw(e,t,r,n){Ix(n),t=jc(t,"onChange"),0<t.length&&(r=new pm("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ai=null,ji=null;function WE(e){hw(e,0)}function cu(e){var t=To(e);if(_x(t))return e}function VE(e,t){if(e==="change")return t}var rw=!1;if(bn){var Sd;if(bn){var _d="oninput"in document;if(!_d){var kg=document.createElement("div");kg.setAttribute("oninput","return;"),_d=typeof kg.oninput=="function"}Sd=_d}else Sd=!1;rw=Sd&&(!document.documentMode||9<document.documentMode)}function Pg(){ai&&(ai.detachEvent("onpropertychange",nw),ji=ai=null)}function nw(e){if(e.propertyName==="value"&&cu(ji)){var t=[];tw(t,ji,e,cm(e)),Mx(WE,t)}}function qE(e,t,r){e==="focusin"?(Pg(),ai=t,ji=r,ai.attachEvent("onpropertychange",nw)):e==="focusout"&&Pg()}function GE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cu(ji)}function KE(e,t){if(e==="click")return cu(t)}function YE(e,t){if(e==="input"||e==="change")return cu(t)}function QE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dr=typeof Object.is=="function"?Object.is:QE;function Ni(e,t){if(Dr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!hh.call(t,s)||!Dr(e[s],t[s]))return!1}return!0}function Rg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tg(e,t){var r=Rg(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Rg(r)}}function sw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ow(){for(var e=window,t=pc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=pc(e.document)}return t}function vm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function JE(e){var t=ow(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&sw(r.ownerDocument.documentElement,r)){if(n!==null&&vm(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=Tg(r,a);var i=Tg(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var XE=bn&&"documentMode"in document&&11>=document.documentMode,Po=null,Th=null,ii=null,Ih=!1;function Ig(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ih||Po==null||Po!==pc(n)||(n=Po,"selectionStart"in n&&vm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ii&&Ni(ii,n)||(ii=n,n=jc(Th,"onSelect"),0<n.length&&(t=new pm("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Po)))}function Cl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ro={animationend:Cl("Animation","AnimationEnd"),animationiteration:Cl("Animation","AnimationIteration"),animationstart:Cl("Animation","AnimationStart"),transitionend:Cl("Transition","TransitionEnd")},Ed={},aw={};bn&&(aw=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function uu(e){if(Ed[e])return Ed[e];if(!Ro[e])return e;var t=Ro[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in aw)return Ed[e]=t[r];return e}var iw=uu("animationend"),lw=uu("animationiteration"),cw=uu("animationstart"),uw=uu("transitionend"),dw=new Map,Ag="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ps(e,t){dw.set(e,t),oo(t,[e])}for(var Cd=0;Cd<Ag.length;Cd++){var kd=Ag[Cd],ZE=kd.toLowerCase(),eC=kd[0].toUpperCase()+kd.slice(1);ps(ZE,"on"+eC)}ps(iw,"onAnimationEnd");ps(lw,"onAnimationIteration");ps(cw,"onAnimationStart");ps("dblclick","onDoubleClick");ps("focusin","onFocus");ps("focusout","onBlur");ps(uw,"onTransitionEnd");sa("onMouseEnter",["mouseout","mouseover"]);sa("onMouseLeave",["mouseout","mouseover"]);sa("onPointerEnter",["pointerout","pointerover"]);sa("onPointerLeave",["pointerout","pointerover"]);oo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oo("onBeforeInput",["compositionend","keypress","textInput","paste"]);oo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xa));function Og(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Z_(n,t,void 0,e),e.currentTarget=null}function hw(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;Og(s,l,u),a=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;Og(s,l,u),a=c}}}if(yc)throw e=Ch,yc=!1,Ch=null,e}function $e(e,t){var r=t[Lh];r===void 0&&(r=t[Lh]=new Set);var n=e+"__bubble";r.has(n)||(fw(t,e,2,!1),r.add(n))}function Pd(e,t,r){var n=0;t&&(n|=4),fw(r,e,n,t)}var kl="_reactListening"+Math.random().toString(36).slice(2);function Si(e){if(!e[kl]){e[kl]=!0,wx.forEach(function(r){r!=="selectionchange"&&(tC.has(r)||Pd(r,!1,e),Pd(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[kl]||(t[kl]=!0,Pd("selectionchange",!1,t))}}function fw(e,t,r,n){switch(Qx(t)){case 1:var s=pE;break;case 4:s=gE;break;default:s=fm}r=s.bind(null,t,r,e),s=void 0,!Eh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Rd(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=Os(l),i===null)return;if(c=i.tag,c===5||c===6){n=a=i;continue e}l=l.parentNode}}n=n.return}Mx(function(){var u=a,d=cm(r),h=[];e:{var m=dw.get(e);if(m!==void 0){var y=pm,b=e;switch(e){case"keypress":if(Zl(r)===0)break e;case"keydown":case"keyup":y=TE;break;case"focusin":b="focus",y=Nd;break;case"focusout":b="blur",y=Nd;break;case"beforeblur":case"afterblur":y=Nd;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=jg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=xE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=OE;break;case iw:case lw:case cw:y=jE;break;case uw:y=ME;break;case"scroll":y=yE;break;case"wheel":y=$E;break;case"copy":case"cut":case"paste":y=SE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Sg}var g=(t&4)!==0,w=!g&&e==="scroll",p=g?m!==null?m+"Capture":null:m;g=[];for(var v=u,x;v!==null;){x=v;var j=x.stateNode;if(x.tag===5&&j!==null&&(x=j,p!==null&&(j=vi(v,p),j!=null&&g.push(_i(v,j,x)))),w)break;v=v.return}0<g.length&&(m=new y(m,b,null,r,d),h.push({event:m,listeners:g}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&r!==Sh&&(b=r.relatedTarget||r.fromElement)&&(Os(b)||b[jn]))break e;if((y||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,y?(b=r.relatedTarget||r.toElement,y=u,b=b?Os(b):null,b!==null&&(w=ao(b),b!==w||b.tag!==5&&b.tag!==6)&&(b=null)):(y=null,b=u),y!==b)){if(g=jg,j="onMouseLeave",p="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=Sg,j="onPointerLeave",p="onPointerEnter",v="pointer"),w=y==null?m:To(y),x=b==null?m:To(b),m=new g(j,v+"leave",y,r,d),m.target=w,m.relatedTarget=x,j=null,Os(d)===u&&(g=new g(p,v+"enter",b,r,d),g.target=x,g.relatedTarget=w,j=g),w=j,y&&b)t:{for(g=y,p=b,v=0,x=g;x;x=mo(x))v++;for(x=0,j=p;j;j=mo(j))x++;for(;0<v-x;)g=mo(g),v--;for(;0<x-v;)p=mo(p),x--;for(;v--;){if(g===p||p!==null&&g===p.alternate)break t;g=mo(g),p=mo(p)}g=null}else g=null;y!==null&&Dg(h,m,y,g,!1),b!==null&&w!==null&&Dg(h,w,b,g,!0)}}e:{if(m=u?To(u):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var N=VE;else if(Cg(m))if(rw)N=YE;else{N=GE;var S=qE}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=KE);if(N&&(N=N(e,u))){tw(h,N,r,d);break e}S&&S(e,m,u),e==="focusout"&&(S=m._wrapperState)&&S.controlled&&m.type==="number"&&xh(m,"number",m.value)}switch(S=u?To(u):window,e){case"focusin":(Cg(S)||S.contentEditable==="true")&&(Po=S,Th=u,ii=null);break;case"focusout":ii=Th=Po=null;break;case"mousedown":Ih=!0;break;case"contextmenu":case"mouseup":case"dragend":Ih=!1,Ig(h,r,d);break;case"selectionchange":if(XE)break;case"keydown":case"keyup":Ig(h,r,d)}var _;if(ym)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ko?Zx(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(Xx&&r.locale!=="ko"&&(ko||E!=="onCompositionStart"?E==="onCompositionEnd"&&ko&&(_=Jx()):(Jn=d,mm="value"in Jn?Jn.value:Jn.textContent,ko=!0)),S=jc(u,E),0<S.length&&(E=new Ng(E,e,null,r,d),h.push({event:E,listeners:S}),_?E.data=_:(_=ew(r),_!==null&&(E.data=_)))),(_=FE?zE(e,r):HE(e,r))&&(u=jc(u,"onBeforeInput"),0<u.length&&(d=new Ng("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=_))}hw(h,t)})}function _i(e,t,r){return{instance:e,listener:t,currentTarget:r}}function jc(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=vi(e,r),a!=null&&n.unshift(_i(e,a,s)),a=vi(e,t),a!=null&&n.push(_i(e,a,s))),e=e.return}return n}function mo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Dg(e,t,r,n,s){for(var a=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=vi(r,a),c!=null&&i.unshift(_i(r,c,l))):s||(c=vi(r,a),c!=null&&i.push(_i(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var rC=/\r\n?/g,nC=/\u0000|\uFFFD/g;function Mg(e){return(typeof e=="string"?e:""+e).replace(rC,`
`).replace(nC,"")}function Pl(e,t,r){if(t=Mg(t),Mg(e)!==t&&r)throw Error(q(425))}function Nc(){}var Ah=null,Oh=null;function Dh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Mh=typeof setTimeout=="function"?setTimeout:void 0,sC=typeof clearTimeout=="function"?clearTimeout:void 0,Lg=typeof Promise=="function"?Promise:void 0,oC=typeof queueMicrotask=="function"?queueMicrotask:typeof Lg<"u"?function(e){return Lg.resolve(null).then(e).catch(aC)}:Mh;function aC(e){setTimeout(function(){throw e})}function Td(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),bi(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);bi(t)}function ss(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function $g(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var wa=Math.random().toString(36).slice(2),Kr="__reactFiber$"+wa,Ei="__reactProps$"+wa,jn="__reactContainer$"+wa,Lh="__reactEvents$"+wa,iC="__reactListeners$"+wa,lC="__reactHandles$"+wa;function Os(e){var t=e[Kr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[jn]||r[Kr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=$g(e);e!==null;){if(r=e[Kr])return r;e=$g(e)}return t}e=r,r=e.parentNode}return null}function el(e){return e=e[Kr]||e[jn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function To(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function du(e){return e[Ei]||null}var $h=[],Io=-1;function gs(e){return{current:e}}function Fe(e){0>Io||(e.current=$h[Io],$h[Io]=null,Io--)}function Ae(e,t){Io++,$h[Io]=e.current,e.current=t}var hs={},Et=gs(hs),qt=gs(!1),qs=hs;function oa(e,t){var r=e.type.contextTypes;if(!r)return hs;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Gt(e){return e=e.childContextTypes,e!=null}function Sc(){Fe(qt),Fe(Et)}function Ug(e,t,r){if(Et.current!==hs)throw Error(q(168));Ae(Et,t),Ae(qt,r)}function mw(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(q(108,q_(e)||"Unknown",s));return Ge({},r,n)}function _c(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hs,qs=Et.current,Ae(Et,e),Ae(qt,qt.current),!0}function Fg(e,t,r){var n=e.stateNode;if(!n)throw Error(q(169));r?(e=mw(e,t,qs),n.__reactInternalMemoizedMergedChildContext=e,Fe(qt),Fe(Et),Ae(Et,e)):Fe(qt),Ae(qt,r)}var fn=null,hu=!1,Id=!1;function pw(e){fn===null?fn=[e]:fn.push(e)}function cC(e){hu=!0,pw(e)}function ys(){if(!Id&&fn!==null){Id=!0;var e=0,t=Te;try{var r=fn;for(Te=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}fn=null,hu=!1}catch(s){throw fn!==null&&(fn=fn.slice(e+1)),Fx(um,ys),s}finally{Te=t,Id=!1}}return null}var Ao=[],Oo=0,Ec=null,Cc=0,cr=[],ur=0,Gs=null,pn=1,gn="";function Cs(e,t){Ao[Oo++]=Cc,Ao[Oo++]=Ec,Ec=e,Cc=t}function gw(e,t,r){cr[ur++]=pn,cr[ur++]=gn,cr[ur++]=Gs,Gs=e;var n=pn;e=gn;var s=32-Ar(n)-1;n&=~(1<<s),r+=1;var a=32-Ar(t)+s;if(30<a){var i=s-s%5;a=(n&(1<<i)-1).toString(32),n>>=i,s-=i,pn=1<<32-Ar(t)+s|r<<s|n,gn=a+e}else pn=1<<a|r<<s|n,gn=e}function xm(e){e.return!==null&&(Cs(e,1),gw(e,1,0))}function wm(e){for(;e===Ec;)Ec=Ao[--Oo],Ao[Oo]=null,Cc=Ao[--Oo],Ao[Oo]=null;for(;e===Gs;)Gs=cr[--ur],cr[ur]=null,gn=cr[--ur],cr[ur]=null,pn=cr[--ur],cr[ur]=null}var tr=null,er=null,He=!1,Ir=null;function yw(e,t){var r=hr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function zg(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tr=e,er=ss(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tr=e,er=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Gs!==null?{id:pn,overflow:gn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=hr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,tr=e,er=null,!0):!1;default:return!1}}function Uh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Fh(e){if(He){var t=er;if(t){var r=t;if(!zg(e,t)){if(Uh(e))throw Error(q(418));t=ss(r.nextSibling);var n=tr;t&&zg(e,t)?yw(n,r):(e.flags=e.flags&-4097|2,He=!1,tr=e)}}else{if(Uh(e))throw Error(q(418));e.flags=e.flags&-4097|2,He=!1,tr=e}}}function Hg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tr=e}function Rl(e){if(e!==tr)return!1;if(!He)return Hg(e),He=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Dh(e.type,e.memoizedProps)),t&&(t=er)){if(Uh(e))throw vw(),Error(q(418));for(;t;)yw(e,t),t=ss(t.nextSibling)}if(Hg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){er=ss(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}er=null}}else er=tr?ss(e.stateNode.nextSibling):null;return!0}function vw(){for(var e=er;e;)e=ss(e.nextSibling)}function aa(){er=tr=null,He=!1}function bm(e){Ir===null?Ir=[e]:Ir.push(e)}var uC=Pn.ReactCurrentBatchConfig;function za(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(q(309));var n=r.stateNode}if(!n)throw Error(q(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=s.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(q(284));if(!r._owner)throw Error(q(290,e))}return e}function Tl(e,t){throw e=Object.prototype.toString.call(t),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Bg(e){var t=e._init;return t(e._payload)}function xw(e){function t(p,v){if(e){var x=p.deletions;x===null?(p.deletions=[v],p.flags|=16):x.push(v)}}function r(p,v){if(!e)return null;for(;v!==null;)t(p,v),v=v.sibling;return null}function n(p,v){for(p=new Map;v!==null;)v.key!==null?p.set(v.key,v):p.set(v.index,v),v=v.sibling;return p}function s(p,v){return p=ls(p,v),p.index=0,p.sibling=null,p}function a(p,v,x){return p.index=x,e?(x=p.alternate,x!==null?(x=x.index,x<v?(p.flags|=2,v):x):(p.flags|=2,v)):(p.flags|=1048576,v)}function i(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,v,x,j){return v===null||v.tag!==6?(v=Ud(x,p.mode,j),v.return=p,v):(v=s(v,x),v.return=p,v)}function c(p,v,x,j){var N=x.type;return N===Co?d(p,v,x.props.children,j,x.key):v!==null&&(v.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Fn&&Bg(N)===v.type)?(j=s(v,x.props),j.ref=za(p,v,x),j.return=p,j):(j=ac(x.type,x.key,x.props,null,p.mode,j),j.ref=za(p,v,x),j.return=p,j)}function u(p,v,x,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=Fd(x,p.mode,j),v.return=p,v):(v=s(v,x.children||[]),v.return=p,v)}function d(p,v,x,j,N){return v===null||v.tag!==7?(v=Vs(x,p.mode,j,N),v.return=p,v):(v=s(v,x),v.return=p,v)}function h(p,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Ud(""+v,p.mode,x),v.return=p,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case wl:return x=ac(v.type,v.key,v.props,null,p.mode,x),x.ref=za(p,null,v),x.return=p,x;case Eo:return v=Fd(v,p.mode,x),v.return=p,v;case Fn:var j=v._init;return h(p,j(v._payload),x)}if(Qa(v)||Ma(v))return v=Vs(v,p.mode,x,null),v.return=p,v;Tl(p,v)}return null}function m(p,v,x,j){var N=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return N!==null?null:l(p,v,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case wl:return x.key===N?c(p,v,x,j):null;case Eo:return x.key===N?u(p,v,x,j):null;case Fn:return N=x._init,m(p,v,N(x._payload),j)}if(Qa(x)||Ma(x))return N!==null?null:d(p,v,x,j,null);Tl(p,x)}return null}function y(p,v,x,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return p=p.get(x)||null,l(v,p,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case wl:return p=p.get(j.key===null?x:j.key)||null,c(v,p,j,N);case Eo:return p=p.get(j.key===null?x:j.key)||null,u(v,p,j,N);case Fn:var S=j._init;return y(p,v,x,S(j._payload),N)}if(Qa(j)||Ma(j))return p=p.get(x)||null,d(v,p,j,N,null);Tl(v,j)}return null}function b(p,v,x,j){for(var N=null,S=null,_=v,E=v=0,I=null;_!==null&&E<x.length;E++){_.index>E?(I=_,_=null):I=_.sibling;var k=m(p,_,x[E],j);if(k===null){_===null&&(_=I);break}e&&_&&k.alternate===null&&t(p,_),v=a(k,v,E),S===null?N=k:S.sibling=k,S=k,_=I}if(E===x.length)return r(p,_),He&&Cs(p,E),N;if(_===null){for(;E<x.length;E++)_=h(p,x[E],j),_!==null&&(v=a(_,v,E),S===null?N=_:S.sibling=_,S=_);return He&&Cs(p,E),N}for(_=n(p,_);E<x.length;E++)I=y(_,p,E,x[E],j),I!==null&&(e&&I.alternate!==null&&_.delete(I.key===null?E:I.key),v=a(I,v,E),S===null?N=I:S.sibling=I,S=I);return e&&_.forEach(function(z){return t(p,z)}),He&&Cs(p,E),N}function g(p,v,x,j){var N=Ma(x);if(typeof N!="function")throw Error(q(150));if(x=N.call(x),x==null)throw Error(q(151));for(var S=N=null,_=v,E=v=0,I=null,k=x.next();_!==null&&!k.done;E++,k=x.next()){_.index>E?(I=_,_=null):I=_.sibling;var z=m(p,_,k.value,j);if(z===null){_===null&&(_=I);break}e&&_&&z.alternate===null&&t(p,_),v=a(z,v,E),S===null?N=z:S.sibling=z,S=z,_=I}if(k.done)return r(p,_),He&&Cs(p,E),N;if(_===null){for(;!k.done;E++,k=x.next())k=h(p,k.value,j),k!==null&&(v=a(k,v,E),S===null?N=k:S.sibling=k,S=k);return He&&Cs(p,E),N}for(_=n(p,_);!k.done;E++,k=x.next())k=y(_,p,E,k.value,j),k!==null&&(e&&k.alternate!==null&&_.delete(k.key===null?E:k.key),v=a(k,v,E),S===null?N=k:S.sibling=k,S=k);return e&&_.forEach(function(A){return t(p,A)}),He&&Cs(p,E),N}function w(p,v,x,j){if(typeof x=="object"&&x!==null&&x.type===Co&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case wl:e:{for(var N=x.key,S=v;S!==null;){if(S.key===N){if(N=x.type,N===Co){if(S.tag===7){r(p,S.sibling),v=s(S,x.props.children),v.return=p,p=v;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Fn&&Bg(N)===S.type){r(p,S.sibling),v=s(S,x.props),v.ref=za(p,S,x),v.return=p,p=v;break e}r(p,S);break}else t(p,S);S=S.sibling}x.type===Co?(v=Vs(x.props.children,p.mode,j,x.key),v.return=p,p=v):(j=ac(x.type,x.key,x.props,null,p.mode,j),j.ref=za(p,v,x),j.return=p,p=j)}return i(p);case Eo:e:{for(S=x.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){r(p,v.sibling),v=s(v,x.children||[]),v.return=p,p=v;break e}else{r(p,v);break}else t(p,v);v=v.sibling}v=Fd(x,p.mode,j),v.return=p,p=v}return i(p);case Fn:return S=x._init,w(p,v,S(x._payload),j)}if(Qa(x))return b(p,v,x,j);if(Ma(x))return g(p,v,x,j);Tl(p,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(r(p,v.sibling),v=s(v,x),v.return=p,p=v):(r(p,v),v=Ud(x,p.mode,j),v.return=p,p=v),i(p)):r(p,v)}return w}var ia=xw(!0),ww=xw(!1),kc=gs(null),Pc=null,Do=null,jm=null;function Nm(){jm=Do=Pc=null}function Sm(e){var t=kc.current;Fe(kc),e._currentValue=t}function zh(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ho(e,t){Pc=e,jm=Do=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Vt=!0),e.firstContext=null)}function yr(e){var t=e._currentValue;if(jm!==e)if(e={context:e,memoizedValue:t,next:null},Do===null){if(Pc===null)throw Error(q(308));Do=e,Pc.dependencies={lanes:0,firstContext:e}}else Do=Do.next=e;return t}var Ds=null;function _m(e){Ds===null?Ds=[e]:Ds.push(e)}function bw(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,_m(t)):(r.next=s.next,s.next=r),t.interleaved=r,Nn(e,n)}function Nn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var zn=!1;function Em(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function os(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ke&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Nn(e,r)}return s=n.interleaved,s===null?(t.next=t,_m(n)):(t.next=s.next,s.next=t),n.interleaved=t,Nn(e,r)}function ec(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,dm(e,r)}}function Wg(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=i:a=a.next=i,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Rc(e,t,r,n){var s=e.updateQueue;zn=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=s.baseState;i=0,d=u=c=null,l=a;do{var m=l.lane,y=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,g=l;switch(m=t,y=r,g.tag){case 1:if(b=g.payload,typeof b=="function"){h=b.call(y,h,m);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=g.payload,m=typeof b=="function"?b.call(y,h,m):b,m==null)break e;h=Ge({},h,m);break e;case 2:zn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=y,c=h):d=d.next=y,i|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Ys|=i,e.lanes=i,e.memoizedState=h}}function Vg(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(q(191,s));s.call(n)}}}var tl={},Zr=gs(tl),Ci=gs(tl),ki=gs(tl);function Ms(e){if(e===tl)throw Error(q(174));return e}function Cm(e,t){switch(Ae(ki,t),Ae(Ci,e),Ae(Zr,tl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bh(t,e)}Fe(Zr),Ae(Zr,t)}function la(){Fe(Zr),Fe(Ci),Fe(ki)}function Nw(e){Ms(ki.current);var t=Ms(Zr.current),r=bh(t,e.type);t!==r&&(Ae(Ci,e),Ae(Zr,r))}function km(e){Ci.current===e&&(Fe(Zr),Fe(Ci))}var We=gs(0);function Tc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ad=[];function Pm(){for(var e=0;e<Ad.length;e++)Ad[e]._workInProgressVersionPrimary=null;Ad.length=0}var tc=Pn.ReactCurrentDispatcher,Od=Pn.ReactCurrentBatchConfig,Ks=0,Ve=null,st=null,ct=null,Ic=!1,li=!1,Pi=0,dC=0;function Nt(){throw Error(q(321))}function Rm(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Dr(e[r],t[r]))return!1;return!0}function Tm(e,t,r,n,s,a){if(Ks=a,Ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,tc.current=e===null||e.memoizedState===null?pC:gC,e=r(n,s),li){a=0;do{if(li=!1,Pi=0,25<=a)throw Error(q(301));a+=1,ct=st=null,t.updateQueue=null,tc.current=yC,e=r(n,s)}while(li)}if(tc.current=Ac,t=st!==null&&st.next!==null,Ks=0,ct=st=Ve=null,Ic=!1,t)throw Error(q(300));return e}function Im(){var e=Pi!==0;return Pi=0,e}function Br(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Ve.memoizedState=ct=e:ct=ct.next=e,ct}function vr(){if(st===null){var e=Ve.alternate;e=e!==null?e.memoizedState:null}else e=st.next;var t=ct===null?Ve.memoizedState:ct.next;if(t!==null)ct=t,st=e;else{if(e===null)throw Error(q(310));st=e,e={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},ct===null?Ve.memoizedState=ct=e:ct=ct.next=e}return ct}function Ri(e,t){return typeof t=="function"?t(e):t}function Dd(e){var t=vr(),r=t.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=e;var n=st,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=i=null,c=null,u=a;do{var d=u.lane;if((Ks&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,i=n):c=c.next=h,Ve.lanes|=d,Ys|=d}u=u.next}while(u!==null&&u!==a);c===null?i=n:c.next=l,Dr(n,t.memoizedState)||(Vt=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,Ve.lanes|=a,Ys|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Md(e){var t=vr(),r=t.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);Dr(a,t.memoizedState)||(Vt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Sw(){}function _w(e,t){var r=Ve,n=vr(),s=t(),a=!Dr(n.memoizedState,s);if(a&&(n.memoizedState=s,Vt=!0),n=n.queue,Am(kw.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||ct!==null&&ct.memoizedState.tag&1){if(r.flags|=2048,Ti(9,Cw.bind(null,r,n,s,t),void 0,null),dt===null)throw Error(q(349));Ks&30||Ew(r,t,s)}return s}function Ew(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ve.updateQueue,t===null?(t={lastEffect:null,stores:null},Ve.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Cw(e,t,r,n){t.value=r,t.getSnapshot=n,Pw(t)&&Rw(e)}function kw(e,t,r){return r(function(){Pw(t)&&Rw(e)})}function Pw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Dr(e,r)}catch{return!0}}function Rw(e){var t=Nn(e,1);t!==null&&Or(t,e,1,-1)}function qg(e){var t=Br();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:e},t.queue=e,e=e.dispatch=mC.bind(null,Ve,e),[t.memoizedState,e]}function Ti(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ve.updateQueue,t===null?(t={lastEffect:null,stores:null},Ve.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Tw(){return vr().memoizedState}function rc(e,t,r,n){var s=Br();Ve.flags|=e,s.memoizedState=Ti(1|t,r,void 0,n===void 0?null:n)}function fu(e,t,r,n){var s=vr();n=n===void 0?null:n;var a=void 0;if(st!==null){var i=st.memoizedState;if(a=i.destroy,n!==null&&Rm(n,i.deps)){s.memoizedState=Ti(t,r,a,n);return}}Ve.flags|=e,s.memoizedState=Ti(1|t,r,a,n)}function Gg(e,t){return rc(8390656,8,e,t)}function Am(e,t){return fu(2048,8,e,t)}function Iw(e,t){return fu(4,2,e,t)}function Aw(e,t){return fu(4,4,e,t)}function Ow(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Dw(e,t,r){return r=r!=null?r.concat([e]):null,fu(4,4,Ow.bind(null,t,e),r)}function Om(){}function Mw(e,t){var r=vr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Rm(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Lw(e,t){var r=vr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Rm(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function $w(e,t,r){return Ks&21?(Dr(r,t)||(r=Bx(),Ve.lanes|=r,Ys|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Vt=!0),e.memoizedState=r)}function hC(e,t){var r=Te;Te=r!==0&&4>r?r:4,e(!0);var n=Od.transition;Od.transition={};try{e(!1),t()}finally{Te=r,Od.transition=n}}function Uw(){return vr().memoizedState}function fC(e,t,r){var n=is(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Fw(e))zw(t,r);else if(r=bw(e,t,r,n),r!==null){var s=Ot();Or(r,e,n,s),Hw(r,t,n)}}function mC(e,t,r){var n=is(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Fw(e))zw(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,r);if(s.hasEagerState=!0,s.eagerState=l,Dr(l,i)){var c=t.interleaved;c===null?(s.next=s,_m(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=bw(e,t,s,n),r!==null&&(s=Ot(),Or(r,e,n,s),Hw(r,t,n))}}function Fw(e){var t=e.alternate;return e===Ve||t!==null&&t===Ve}function zw(e,t){li=Ic=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Hw(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,dm(e,r)}}var Ac={readContext:yr,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useInsertionEffect:Nt,useLayoutEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useMutableSource:Nt,useSyncExternalStore:Nt,useId:Nt,unstable_isNewReconciler:!1},pC={readContext:yr,useCallback:function(e,t){return Br().memoizedState=[e,t===void 0?null:t],e},useContext:yr,useEffect:Gg,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,rc(4194308,4,Ow.bind(null,t,e),r)},useLayoutEffect:function(e,t){return rc(4194308,4,e,t)},useInsertionEffect:function(e,t){return rc(4,2,e,t)},useMemo:function(e,t){var r=Br();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Br();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=fC.bind(null,Ve,e),[n.memoizedState,e]},useRef:function(e){var t=Br();return e={current:e},t.memoizedState=e},useState:qg,useDebugValue:Om,useDeferredValue:function(e){return Br().memoizedState=e},useTransition:function(){var e=qg(!1),t=e[0];return e=hC.bind(null,e[1]),Br().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ve,s=Br();if(He){if(r===void 0)throw Error(q(407));r=r()}else{if(r=t(),dt===null)throw Error(q(349));Ks&30||Ew(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,Gg(kw.bind(null,n,a,e),[e]),n.flags|=2048,Ti(9,Cw.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Br(),t=dt.identifierPrefix;if(He){var r=gn,n=pn;r=(n&~(1<<32-Ar(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Pi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=dC++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gC={readContext:yr,useCallback:Mw,useContext:yr,useEffect:Am,useImperativeHandle:Dw,useInsertionEffect:Iw,useLayoutEffect:Aw,useMemo:Lw,useReducer:Dd,useRef:Tw,useState:function(){return Dd(Ri)},useDebugValue:Om,useDeferredValue:function(e){var t=vr();return $w(t,st.memoizedState,e)},useTransition:function(){var e=Dd(Ri)[0],t=vr().memoizedState;return[e,t]},useMutableSource:Sw,useSyncExternalStore:_w,useId:Uw,unstable_isNewReconciler:!1},yC={readContext:yr,useCallback:Mw,useContext:yr,useEffect:Am,useImperativeHandle:Dw,useInsertionEffect:Iw,useLayoutEffect:Aw,useMemo:Lw,useReducer:Md,useRef:Tw,useState:function(){return Md(Ri)},useDebugValue:Om,useDeferredValue:function(e){var t=vr();return st===null?t.memoizedState=e:$w(t,st.memoizedState,e)},useTransition:function(){var e=Md(Ri)[0],t=vr().memoizedState;return[e,t]},useMutableSource:Sw,useSyncExternalStore:_w,useId:Uw,unstable_isNewReconciler:!1};function Er(e,t){if(e&&e.defaultProps){t=Ge({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Hh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ge({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var mu={isMounted:function(e){return(e=e._reactInternals)?ao(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ot(),s=is(e),a=xn(n,s);a.payload=t,r!=null&&(a.callback=r),t=os(e,a,s),t!==null&&(Or(t,e,s,n),ec(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ot(),s=is(e),a=xn(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=os(e,a,s),t!==null&&(Or(t,e,s,n),ec(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ot(),n=is(e),s=xn(r,n);s.tag=2,t!=null&&(s.callback=t),t=os(e,s,n),t!==null&&(Or(t,e,n,r),ec(t,e,n))}};function Kg(e,t,r,n,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,i):t.prototype&&t.prototype.isPureReactComponent?!Ni(r,n)||!Ni(s,a):!0}function Bw(e,t,r){var n=!1,s=hs,a=t.contextType;return typeof a=="object"&&a!==null?a=yr(a):(s=Gt(t)?qs:Et.current,n=t.contextTypes,a=(n=n!=null)?oa(e,s):hs),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=mu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Yg(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&mu.enqueueReplaceState(t,t.state,null)}function Bh(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Em(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=yr(a):(a=Gt(t)?qs:Et.current,s.context=oa(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Hh(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&mu.enqueueReplaceState(s,s.state,null),Rc(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ca(e,t){try{var r="",n=t;do r+=V_(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Ld(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Wh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var vC=typeof WeakMap=="function"?WeakMap:Map;function Ww(e,t,r){r=xn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Dc||(Dc=!0,ef=n),Wh(e,t)},r}function Vw(e,t,r){r=xn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Wh(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Wh(e,t),typeof n!="function"&&(as===null?as=new Set([this]):as.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Qg(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new vC;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=IC.bind(null,e,t,r),t.then(e,e))}function Jg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Xg(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=xn(-1,1),t.tag=2,os(r,t,1))),r.lanes|=1),e)}var xC=Pn.ReactCurrentOwner,Vt=!1;function Tt(e,t,r,n){t.child=e===null?ww(t,null,r,n):ia(t,e.child,r,n)}function Zg(e,t,r,n,s){r=r.render;var a=t.ref;return Ho(t,s),n=Tm(e,t,r,n,a,s),r=Im(),e!==null&&!Vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Sn(e,t,s)):(He&&r&&xm(t),t.flags|=1,Tt(e,t,n,s),t.child)}function ey(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!Hm(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,qw(e,t,a,n,s)):(e=ac(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var i=a.memoizedProps;if(r=r.compare,r=r!==null?r:Ni,r(i,n)&&e.ref===t.ref)return Sn(e,t,s)}return t.flags|=1,e=ls(a,n),e.ref=t.ref,e.return=t,t.child=e}function qw(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(Ni(a,n)&&e.ref===t.ref)if(Vt=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(Vt=!0);else return t.lanes=e.lanes,Sn(e,t,s)}return Vh(e,t,r,n,s)}function Gw(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(Lo,Xt),Xt|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ae(Lo,Xt),Xt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Ae(Lo,Xt),Xt|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Ae(Lo,Xt),Xt|=n;return Tt(e,t,s,r),t.child}function Kw(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Vh(e,t,r,n,s){var a=Gt(r)?qs:Et.current;return a=oa(t,a),Ho(t,s),r=Tm(e,t,r,n,a,s),n=Im(),e!==null&&!Vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Sn(e,t,s)):(He&&n&&xm(t),t.flags|=1,Tt(e,t,r,s),t.child)}function ty(e,t,r,n,s){if(Gt(r)){var a=!0;_c(t)}else a=!1;if(Ho(t,s),t.stateNode===null)nc(e,t),Bw(t,r,n),Bh(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=yr(u):(u=Gt(r)?qs:Et.current,u=oa(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Yg(t,i,n,u),zn=!1;var m=t.memoizedState;i.state=m,Rc(t,n,i,s),c=t.memoizedState,l!==n||m!==c||qt.current||zn?(typeof d=="function"&&(Hh(t,r,d,n),c=t.memoizedState),(l=zn||Kg(t,r,l,n,m,c,u))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,jw(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Er(t.type,l),i.props=u,h=t.pendingProps,m=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=yr(c):(c=Gt(r)?qs:Et.current,c=oa(t,c));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==h||m!==c)&&Yg(t,i,n,c),zn=!1,m=t.memoizedState,i.state=m,Rc(t,n,i,s);var b=t.memoizedState;l!==h||m!==b||qt.current||zn?(typeof y=="function"&&(Hh(t,r,y,n),b=t.memoizedState),(u=zn||Kg(t,r,u,n,m,b,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,b,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,b,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),i.props=n,i.state=b,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return qh(e,t,r,n,a,s)}function qh(e,t,r,n,s,a){Kw(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&Fg(t,r,!1),Sn(e,t,a);n=t.stateNode,xC.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=ia(t,e.child,null,a),t.child=ia(t,null,l,a)):Tt(e,t,l,a),t.memoizedState=n.state,s&&Fg(t,r,!0),t.child}function Yw(e){var t=e.stateNode;t.pendingContext?Ug(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ug(e,t.context,!1),Cm(e,t.containerInfo)}function ry(e,t,r,n,s){return aa(),bm(s),t.flags|=256,Tt(e,t,r,n),t.child}var Gh={dehydrated:null,treeContext:null,retryLane:0};function Kh(e){return{baseLanes:e,cachePool:null,transitions:null}}function Qw(e,t,r){var n=t.pendingProps,s=We.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ae(We,s&1),e===null)return Fh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,a?(n=t.mode,a=t.child,i={mode:"hidden",children:i},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=yu(i,n,0,null),e=Vs(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Kh(r),t.memoizedState=Gh,e):Dm(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return wC(e,t,i,n,l,s,r);if(a){a=n.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ls(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=ls(l,a):(a=Vs(a,i,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,i=e.child.memoizedState,i=i===null?Kh(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~r,t.memoizedState=Gh,n}return a=e.child,e=a.sibling,n=ls(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Dm(e,t){return t=yu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Il(e,t,r,n){return n!==null&&bm(n),ia(t,e.child,null,r),e=Dm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wC(e,t,r,n,s,a,i){if(r)return t.flags&256?(t.flags&=-257,n=Ld(Error(q(422))),Il(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=yu({mode:"visible",children:n.children},s,0,null),a=Vs(a,s,i,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&ia(t,e.child,null,i),t.child.memoizedState=Kh(i),t.memoizedState=Gh,a);if(!(t.mode&1))return Il(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(q(419)),n=Ld(a,n,void 0),Il(e,t,i,n)}if(l=(i&e.childLanes)!==0,Vt||l){if(n=dt,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Nn(e,s),Or(n,e,s,-1))}return zm(),n=Ld(Error(q(421))),Il(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=AC.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,er=ss(s.nextSibling),tr=t,He=!0,Ir=null,e!==null&&(cr[ur++]=pn,cr[ur++]=gn,cr[ur++]=Gs,pn=e.id,gn=e.overflow,Gs=t),t=Dm(t,n.children),t.flags|=4096,t)}function ny(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),zh(e.return,t,r)}function $d(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function Jw(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(Tt(e,t,n.children,r),n=We.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ny(e,r,t);else if(e.tag===19)ny(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ae(We,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Tc(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),$d(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Tc(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}$d(t,!0,r,null,a);break;case"together":$d(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function nc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Sn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ys|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(q(153));if(t.child!==null){for(e=t.child,r=ls(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ls(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function bC(e,t,r){switch(t.tag){case 3:Yw(t),aa();break;case 5:Nw(t);break;case 1:Gt(t.type)&&_c(t);break;case 4:Cm(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Ae(kc,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ae(We,We.current&1),t.flags|=128,null):r&t.child.childLanes?Qw(e,t,r):(Ae(We,We.current&1),e=Sn(e,t,r),e!==null?e.sibling:null);Ae(We,We.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Jw(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ae(We,We.current),n)break;return null;case 22:case 23:return t.lanes=0,Gw(e,t,r)}return Sn(e,t,r)}var Xw,Yh,Zw,e0;Xw=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Yh=function(){};Zw=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ms(Zr.current);var a=null;switch(r){case"input":s=yh(e,s),n=yh(e,n),a=[];break;case"select":s=Ge({},s,{value:void 0}),n=Ge({},n,{value:void 0}),a=[];break;case"textarea":s=wh(e,s),n=wh(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Nc)}jh(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(gi.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(gi.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&$e("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};e0=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ha(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function St(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function jC(e,t,r){var n=t.pendingProps;switch(wm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(t),null;case 1:return Gt(t.type)&&Sc(),St(t),null;case 3:return n=t.stateNode,la(),Fe(qt),Fe(Et),Pm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Rl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ir!==null&&(nf(Ir),Ir=null))),Yh(e,t),St(t),null;case 5:km(t);var s=Ms(ki.current);if(r=t.type,e!==null&&t.stateNode!=null)Zw(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(q(166));return St(t),null}if(e=Ms(Zr.current),Rl(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Kr]=t,n[Ei]=a,e=(t.mode&1)!==0,r){case"dialog":$e("cancel",n),$e("close",n);break;case"iframe":case"object":case"embed":$e("load",n);break;case"video":case"audio":for(s=0;s<Xa.length;s++)$e(Xa[s],n);break;case"source":$e("error",n);break;case"img":case"image":case"link":$e("error",n),$e("load",n);break;case"details":$e("toggle",n);break;case"input":hg(n,a),$e("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},$e("invalid",n);break;case"textarea":mg(n,a),$e("invalid",n)}jh(r,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Pl(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Pl(n.textContent,l,e),s=["children",""+l]):gi.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&$e("scroll",n)}switch(r){case"input":bl(n),fg(n,a,!0);break;case"textarea":bl(n),pg(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Nc)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kx(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Kr]=t,e[Ei]=n,Xw(e,t,!1,!1),t.stateNode=e;e:{switch(i=Nh(r,n),r){case"dialog":$e("cancel",e),$e("close",e),s=n;break;case"iframe":case"object":case"embed":$e("load",e),s=n;break;case"video":case"audio":for(s=0;s<Xa.length;s++)$e(Xa[s],e);s=n;break;case"source":$e("error",e),s=n;break;case"img":case"image":case"link":$e("error",e),$e("load",e),s=n;break;case"details":$e("toggle",e),s=n;break;case"input":hg(e,n),s=yh(e,n),$e("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Ge({},n,{value:void 0}),$e("invalid",e);break;case"textarea":mg(e,n),s=wh(e,n),$e("invalid",e);break;default:s=n}jh(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?Tx(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Px(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&yi(e,c):typeof c=="number"&&yi(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(gi.hasOwnProperty(a)?c!=null&&a==="onScroll"&&$e("scroll",e):c!=null&&om(e,a,c,i))}switch(r){case"input":bl(e),fg(e,n,!1);break;case"textarea":bl(e),pg(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ds(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?$o(e,!!n.multiple,a,!1):n.defaultValue!=null&&$o(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Nc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return St(t),null;case 6:if(e&&t.stateNode!=null)e0(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(q(166));if(r=Ms(ki.current),Ms(Zr.current),Rl(t)){if(n=t.stateNode,r=t.memoizedProps,n[Kr]=t,(a=n.nodeValue!==r)&&(e=tr,e!==null))switch(e.tag){case 3:Pl(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Pl(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Kr]=t,t.stateNode=n}return St(t),null;case 13:if(Fe(We),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(He&&er!==null&&t.mode&1&&!(t.flags&128))vw(),aa(),t.flags|=98560,a=!1;else if(a=Rl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(q(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(q(317));a[Kr]=t}else aa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;St(t),a=!1}else Ir!==null&&(nf(Ir),Ir=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||We.current&1?ot===0&&(ot=3):zm())),t.updateQueue!==null&&(t.flags|=4),St(t),null);case 4:return la(),Yh(e,t),e===null&&Si(t.stateNode.containerInfo),St(t),null;case 10:return Sm(t.type._context),St(t),null;case 17:return Gt(t.type)&&Sc(),St(t),null;case 19:if(Fe(We),a=t.memoizedState,a===null)return St(t),null;if(n=(t.flags&128)!==0,i=a.rendering,i===null)if(n)Ha(a,!1);else{if(ot!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Tc(e),i!==null){for(t.flags|=128,Ha(a,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ae(We,We.current&1|2),t.child}e=e.sibling}a.tail!==null&&Qe()>ua&&(t.flags|=128,n=!0,Ha(a,!1),t.lanes=4194304)}else{if(!n)if(e=Tc(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ha(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!He)return St(t),null}else 2*Qe()-a.renderingStartTime>ua&&r!==1073741824&&(t.flags|=128,n=!0,Ha(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(r=a.last,r!==null?r.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Qe(),t.sibling=null,r=We.current,Ae(We,n?r&1|2:r&1),t):(St(t),null);case 22:case 23:return Fm(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Xt&1073741824&&(St(t),t.subtreeFlags&6&&(t.flags|=8192)):St(t),null;case 24:return null;case 25:return null}throw Error(q(156,t.tag))}function NC(e,t){switch(wm(t),t.tag){case 1:return Gt(t.type)&&Sc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return la(),Fe(qt),Fe(Et),Pm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return km(t),null;case 13:if(Fe(We),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(q(340));aa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Fe(We),null;case 4:return la(),null;case 10:return Sm(t.type._context),null;case 22:case 23:return Fm(),null;case 24:return null;default:return null}}var Al=!1,_t=!1,SC=typeof WeakSet=="function"?WeakSet:Set,se=null;function Mo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ye(e,t,n)}else r.current=null}function Qh(e,t,r){try{r()}catch(n){Ye(e,t,n)}}var sy=!1;function _C(e,t){if(Ah=wc,e=ow(),vm(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var y;h!==r||s!==0&&h.nodeType!==3||(l=i+s),h!==a||n!==0&&h.nodeType!==3||(c=i+n),h.nodeType===3&&(i+=h.nodeValue.length),(y=h.firstChild)!==null;)m=h,h=y;for(;;){if(h===e)break t;if(m===r&&++u===s&&(l=i),m===a&&++d===n&&(c=i),(y=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=y}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Oh={focusedElem:e,selectionRange:r},wc=!1,se=t;se!==null;)if(t=se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,se=e;else for(;se!==null;){t=se;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var g=b.memoizedProps,w=b.memoizedState,p=t.stateNode,v=p.getSnapshotBeforeUpdate(t.elementType===t.type?g:Er(t.type,g),w);p.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(j){Ye(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,se=e;break}se=t.return}return b=sy,sy=!1,b}function ci(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Qh(t,r,a)}s=s.next}while(s!==n)}}function pu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Jh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function t0(e){var t=e.alternate;t!==null&&(e.alternate=null,t0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kr],delete t[Ei],delete t[Lh],delete t[iC],delete t[lC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function r0(e){return e.tag===5||e.tag===3||e.tag===4}function oy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||r0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Nc));else if(n!==4&&(e=e.child,e!==null))for(Xh(e,t,r),e=e.sibling;e!==null;)Xh(e,t,r),e=e.sibling}function Zh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Zh(e,t,r),e=e.sibling;e!==null;)Zh(e,t,r),e=e.sibling}var gt=null,Rr=!1;function An(e,t,r){for(r=r.child;r!==null;)n0(e,t,r),r=r.sibling}function n0(e,t,r){if(Xr&&typeof Xr.onCommitFiberUnmount=="function")try{Xr.onCommitFiberUnmount(iu,r)}catch{}switch(r.tag){case 5:_t||Mo(r,t);case 6:var n=gt,s=Rr;gt=null,An(e,t,r),gt=n,Rr=s,gt!==null&&(Rr?(e=gt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):gt.removeChild(r.stateNode));break;case 18:gt!==null&&(Rr?(e=gt,r=r.stateNode,e.nodeType===8?Td(e.parentNode,r):e.nodeType===1&&Td(e,r),bi(e)):Td(gt,r.stateNode));break;case 4:n=gt,s=Rr,gt=r.stateNode.containerInfo,Rr=!0,An(e,t,r),gt=n,Rr=s;break;case 0:case 11:case 14:case 15:if(!_t&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Qh(r,t,i),s=s.next}while(s!==n)}An(e,t,r);break;case 1:if(!_t&&(Mo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ye(r,t,l)}An(e,t,r);break;case 21:An(e,t,r);break;case 22:r.mode&1?(_t=(n=_t)||r.memoizedState!==null,An(e,t,r),_t=n):An(e,t,r);break;default:An(e,t,r)}}function ay(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new SC),t.forEach(function(n){var s=OC.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Nr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:gt=l.stateNode,Rr=!1;break e;case 3:gt=l.stateNode.containerInfo,Rr=!0;break e;case 4:gt=l.stateNode.containerInfo,Rr=!0;break e}l=l.return}if(gt===null)throw Error(q(160));n0(a,i,s),gt=null,Rr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ye(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)s0(t,e),t=t.sibling}function s0(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Nr(t,e),zr(e),n&4){try{ci(3,e,e.return),pu(3,e)}catch(g){Ye(e,e.return,g)}try{ci(5,e,e.return)}catch(g){Ye(e,e.return,g)}}break;case 1:Nr(t,e),zr(e),n&512&&r!==null&&Mo(r,r.return);break;case 5:if(Nr(t,e),zr(e),n&512&&r!==null&&Mo(r,r.return),e.flags&32){var s=e.stateNode;try{yi(s,"")}catch(g){Ye(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,i=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Ex(s,a),Nh(l,i);var u=Nh(l,a);for(i=0;i<c.length;i+=2){var d=c[i],h=c[i+1];d==="style"?Tx(s,h):d==="dangerouslySetInnerHTML"?Px(s,h):d==="children"?yi(s,h):om(s,d,h,u)}switch(l){case"input":vh(s,a);break;case"textarea":Cx(s,a);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var y=a.value;y!=null?$o(s,!!a.multiple,y,!1):m!==!!a.multiple&&(a.defaultValue!=null?$o(s,!!a.multiple,a.defaultValue,!0):$o(s,!!a.multiple,a.multiple?[]:"",!1))}s[Ei]=a}catch(g){Ye(e,e.return,g)}}break;case 6:if(Nr(t,e),zr(e),n&4){if(e.stateNode===null)throw Error(q(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(g){Ye(e,e.return,g)}}break;case 3:if(Nr(t,e),zr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{bi(t.containerInfo)}catch(g){Ye(e,e.return,g)}break;case 4:Nr(t,e),zr(e);break;case 13:Nr(t,e),zr(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||($m=Qe())),n&4&&ay(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(_t=(u=_t)||d,Nr(t,e),_t=u):Nr(t,e),zr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(se=e,d=e.child;d!==null;){for(h=se=d;se!==null;){switch(m=se,y=m.child,m.tag){case 0:case 11:case 14:case 15:ci(4,m,m.return);break;case 1:Mo(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(g){Ye(n,r,g)}}break;case 5:Mo(m,m.return);break;case 22:if(m.memoizedState!==null){ly(h);continue}}y!==null?(y.return=m,se=y):ly(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Rx("display",i))}catch(g){Ye(e,e.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Ye(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Nr(t,e),zr(e),n&4&&ay(e);break;case 21:break;default:Nr(t,e),zr(e)}}function zr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(r0(r)){var n=r;break e}r=r.return}throw Error(q(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(yi(s,""),n.flags&=-33);var a=oy(e);Zh(e,a,s);break;case 3:case 4:var i=n.stateNode.containerInfo,l=oy(e);Xh(e,l,i);break;default:throw Error(q(161))}}catch(c){Ye(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function EC(e,t,r){se=e,o0(e)}function o0(e,t,r){for(var n=(e.mode&1)!==0;se!==null;){var s=se,a=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||Al;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||_t;l=Al;var u=_t;if(Al=i,(_t=c)&&!u)for(se=s;se!==null;)i=se,c=i.child,i.tag===22&&i.memoizedState!==null?cy(s):c!==null?(c.return=i,se=c):cy(s);for(;a!==null;)se=a,o0(a),a=a.sibling;se=s,Al=l,_t=u}iy(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,se=a):iy(e)}}function iy(e){for(;se!==null;){var t=se;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_t||pu(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!_t)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Er(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Vg(t,a,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Vg(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&bi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}_t||t.flags&512&&Jh(t)}catch(m){Ye(t,t.return,m)}}if(t===e){se=null;break}if(r=t.sibling,r!==null){r.return=t.return,se=r;break}se=t.return}}function ly(e){for(;se!==null;){var t=se;if(t===e){se=null;break}var r=t.sibling;if(r!==null){r.return=t.return,se=r;break}se=t.return}}function cy(e){for(;se!==null;){var t=se;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{pu(4,t)}catch(c){Ye(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Ye(t,s,c)}}var a=t.return;try{Jh(t)}catch(c){Ye(t,a,c)}break;case 5:var i=t.return;try{Jh(t)}catch(c){Ye(t,i,c)}}}catch(c){Ye(t,t.return,c)}if(t===e){se=null;break}var l=t.sibling;if(l!==null){l.return=t.return,se=l;break}se=t.return}}var CC=Math.ceil,Oc=Pn.ReactCurrentDispatcher,Mm=Pn.ReactCurrentOwner,mr=Pn.ReactCurrentBatchConfig,ke=0,dt=null,rt=null,vt=0,Xt=0,Lo=gs(0),ot=0,Ii=null,Ys=0,gu=0,Lm=0,ui=null,Bt=null,$m=0,ua=1/0,dn=null,Dc=!1,ef=null,as=null,Ol=!1,Xn=null,Mc=0,di=0,tf=null,sc=-1,oc=0;function Ot(){return ke&6?Qe():sc!==-1?sc:sc=Qe()}function is(e){return e.mode&1?ke&2&&vt!==0?vt&-vt:uC.transition!==null?(oc===0&&(oc=Bx()),oc):(e=Te,e!==0||(e=window.event,e=e===void 0?16:Qx(e.type)),e):1}function Or(e,t,r,n){if(50<di)throw di=0,tf=null,Error(q(185));Xi(e,r,n),(!(ke&2)||e!==dt)&&(e===dt&&(!(ke&2)&&(gu|=r),ot===4&&Bn(e,vt)),Kt(e,n),r===1&&ke===0&&!(t.mode&1)&&(ua=Qe()+500,hu&&ys()))}function Kt(e,t){var r=e.callbackNode;uE(e,t);var n=xc(e,e===dt?vt:0);if(n===0)r!==null&&vg(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&vg(r),t===1)e.tag===0?cC(uy.bind(null,e)):pw(uy.bind(null,e)),oC(function(){!(ke&6)&&ys()}),r=null;else{switch(Wx(n)){case 1:r=um;break;case 4:r=zx;break;case 16:r=vc;break;case 536870912:r=Hx;break;default:r=vc}r=f0(r,a0.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function a0(e,t){if(sc=-1,oc=0,ke&6)throw Error(q(327));var r=e.callbackNode;if(Bo()&&e.callbackNode!==r)return null;var n=xc(e,e===dt?vt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Lc(e,n);else{t=n;var s=ke;ke|=2;var a=l0();(dt!==e||vt!==t)&&(dn=null,ua=Qe()+500,Ws(e,t));do try{RC();break}catch(l){i0(e,l)}while(!0);Nm(),Oc.current=a,ke=s,rt!==null?t=0:(dt=null,vt=0,t=ot)}if(t!==0){if(t===2&&(s=kh(e),s!==0&&(n=s,t=rf(e,s))),t===1)throw r=Ii,Ws(e,0),Bn(e,n),Kt(e,Qe()),r;if(t===6)Bn(e,n);else{if(s=e.current.alternate,!(n&30)&&!kC(s)&&(t=Lc(e,n),t===2&&(a=kh(e),a!==0&&(n=a,t=rf(e,a))),t===1))throw r=Ii,Ws(e,0),Bn(e,n),Kt(e,Qe()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(q(345));case 2:ks(e,Bt,dn);break;case 3:if(Bn(e,n),(n&130023424)===n&&(t=$m+500-Qe(),10<t)){if(xc(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ot(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Mh(ks.bind(null,e,Bt,dn),t);break}ks(e,Bt,dn);break;case 4:if(Bn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-Ar(n);a=1<<i,i=t[i],i>s&&(s=i),n&=~a}if(n=s,n=Qe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*CC(n/1960))-n,10<n){e.timeoutHandle=Mh(ks.bind(null,e,Bt,dn),n);break}ks(e,Bt,dn);break;case 5:ks(e,Bt,dn);break;default:throw Error(q(329))}}}return Kt(e,Qe()),e.callbackNode===r?a0.bind(null,e):null}function rf(e,t){var r=ui;return e.current.memoizedState.isDehydrated&&(Ws(e,t).flags|=256),e=Lc(e,t),e!==2&&(t=Bt,Bt=r,t!==null&&nf(t)),e}function nf(e){Bt===null?Bt=e:Bt.push.apply(Bt,e)}function kC(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!Dr(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bn(e,t){for(t&=~Lm,t&=~gu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ar(t),n=1<<r;e[r]=-1,t&=~n}}function uy(e){if(ke&6)throw Error(q(327));Bo();var t=xc(e,0);if(!(t&1))return Kt(e,Qe()),null;var r=Lc(e,t);if(e.tag!==0&&r===2){var n=kh(e);n!==0&&(t=n,r=rf(e,n))}if(r===1)throw r=Ii,Ws(e,0),Bn(e,t),Kt(e,Qe()),r;if(r===6)throw Error(q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ks(e,Bt,dn),Kt(e,Qe()),null}function Um(e,t){var r=ke;ke|=1;try{return e(t)}finally{ke=r,ke===0&&(ua=Qe()+500,hu&&ys())}}function Qs(e){Xn!==null&&Xn.tag===0&&!(ke&6)&&Bo();var t=ke;ke|=1;var r=mr.transition,n=Te;try{if(mr.transition=null,Te=1,e)return e()}finally{Te=n,mr.transition=r,ke=t,!(ke&6)&&ys()}}function Fm(){Xt=Lo.current,Fe(Lo)}function Ws(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,sC(r)),rt!==null)for(r=rt.return;r!==null;){var n=r;switch(wm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Sc();break;case 3:la(),Fe(qt),Fe(Et),Pm();break;case 5:km(n);break;case 4:la();break;case 13:Fe(We);break;case 19:Fe(We);break;case 10:Sm(n.type._context);break;case 22:case 23:Fm()}r=r.return}if(dt=e,rt=e=ls(e.current,null),vt=Xt=t,ot=0,Ii=null,Lm=gu=Ys=0,Bt=ui=null,Ds!==null){for(t=0;t<Ds.length;t++)if(r=Ds[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var i=a.next;a.next=s,n.next=i}r.pending=n}Ds=null}return e}function i0(e,t){do{var r=rt;try{if(Nm(),tc.current=Ac,Ic){for(var n=Ve.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ic=!1}if(Ks=0,ct=st=Ve=null,li=!1,Pi=0,Mm.current=null,r===null||r.return===null){ot=1,Ii=t,rt=null;break}e:{var a=e,i=r.return,l=r,c=t;if(t=vt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Jg(i);if(y!==null){y.flags&=-257,Xg(y,i,l,a,t),y.mode&1&&Qg(a,u,t),t=y,c=u;var b=t.updateQueue;if(b===null){var g=new Set;g.add(c),t.updateQueue=g}else b.add(c);break e}else{if(!(t&1)){Qg(a,u,t),zm();break e}c=Error(q(426))}}else if(He&&l.mode&1){var w=Jg(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Xg(w,i,l,a,t),bm(ca(c,l));break e}}a=c=ca(c,l),ot!==4&&(ot=2),ui===null?ui=[a]:ui.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var p=Ww(a,c,t);Wg(a,p);break e;case 1:l=c;var v=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(as===null||!as.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=Vw(a,l,t);Wg(a,j);break e}}a=a.return}while(a!==null)}u0(r)}catch(N){t=N,rt===r&&r!==null&&(rt=r=r.return);continue}break}while(!0)}function l0(){var e=Oc.current;return Oc.current=Ac,e===null?Ac:e}function zm(){(ot===0||ot===3||ot===2)&&(ot=4),dt===null||!(Ys&268435455)&&!(gu&268435455)||Bn(dt,vt)}function Lc(e,t){var r=ke;ke|=2;var n=l0();(dt!==e||vt!==t)&&(dn=null,Ws(e,t));do try{PC();break}catch(s){i0(e,s)}while(!0);if(Nm(),ke=r,Oc.current=n,rt!==null)throw Error(q(261));return dt=null,vt=0,ot}function PC(){for(;rt!==null;)c0(rt)}function RC(){for(;rt!==null&&!tE();)c0(rt)}function c0(e){var t=h0(e.alternate,e,Xt);e.memoizedProps=e.pendingProps,t===null?u0(e):rt=t,Mm.current=null}function u0(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=NC(r,t),r!==null){r.flags&=32767,rt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ot=6,rt=null;return}}else if(r=jC(r,t,Xt),r!==null){rt=r;return}if(t=t.sibling,t!==null){rt=t;return}rt=t=e}while(t!==null);ot===0&&(ot=5)}function ks(e,t,r){var n=Te,s=mr.transition;try{mr.transition=null,Te=1,TC(e,t,r,n)}finally{mr.transition=s,Te=n}return null}function TC(e,t,r,n){do Bo();while(Xn!==null);if(ke&6)throw Error(q(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(q(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(dE(e,a),e===dt&&(rt=dt=null,vt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ol||(Ol=!0,f0(vc,function(){return Bo(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=mr.transition,mr.transition=null;var i=Te;Te=1;var l=ke;ke|=4,Mm.current=null,_C(e,r),s0(r,e),JE(Oh),wc=!!Ah,Oh=Ah=null,e.current=r,EC(r),rE(),ke=l,Te=i,mr.transition=a}else e.current=r;if(Ol&&(Ol=!1,Xn=e,Mc=s),a=e.pendingLanes,a===0&&(as=null),oE(r.stateNode),Kt(e,Qe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Dc)throw Dc=!1,e=ef,ef=null,e;return Mc&1&&e.tag!==0&&Bo(),a=e.pendingLanes,a&1?e===tf?di++:(di=0,tf=e):di=0,ys(),null}function Bo(){if(Xn!==null){var e=Wx(Mc),t=mr.transition,r=Te;try{if(mr.transition=null,Te=16>e?16:e,Xn===null)var n=!1;else{if(e=Xn,Xn=null,Mc=0,ke&6)throw Error(q(331));var s=ke;for(ke|=4,se=e.current;se!==null;){var a=se,i=a.child;if(se.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(se=u;se!==null;){var d=se;switch(d.tag){case 0:case 11:case 15:ci(8,d,a)}var h=d.child;if(h!==null)h.return=d,se=h;else for(;se!==null;){d=se;var m=d.sibling,y=d.return;if(t0(d),d===u){se=null;break}if(m!==null){m.return=y,se=m;break}se=y}}}var b=a.alternate;if(b!==null){var g=b.child;if(g!==null){b.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}se=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,se=i;else e:for(;se!==null;){if(a=se,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ci(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,se=p;break e}se=a.return}}var v=e.current;for(se=v;se!==null;){i=se;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,se=x;else e:for(i=v;se!==null;){if(l=se,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:pu(9,l)}}catch(N){Ye(l,l.return,N)}if(l===i){se=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,se=j;break e}se=l.return}}if(ke=s,ys(),Xr&&typeof Xr.onPostCommitFiberRoot=="function")try{Xr.onPostCommitFiberRoot(iu,e)}catch{}n=!0}return n}finally{Te=r,mr.transition=t}}return!1}function dy(e,t,r){t=ca(r,t),t=Ww(e,t,1),e=os(e,t,1),t=Ot(),e!==null&&(Xi(e,1,t),Kt(e,t))}function Ye(e,t,r){if(e.tag===3)dy(e,e,r);else for(;t!==null;){if(t.tag===3){dy(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(as===null||!as.has(n))){e=ca(r,e),e=Vw(t,e,1),t=os(t,e,1),e=Ot(),t!==null&&(Xi(t,1,e),Kt(t,e));break}}t=t.return}}function IC(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ot(),e.pingedLanes|=e.suspendedLanes&r,dt===e&&(vt&r)===r&&(ot===4||ot===3&&(vt&130023424)===vt&&500>Qe()-$m?Ws(e,0):Lm|=r),Kt(e,t)}function d0(e,t){t===0&&(e.mode&1?(t=Sl,Sl<<=1,!(Sl&130023424)&&(Sl=4194304)):t=1);var r=Ot();e=Nn(e,t),e!==null&&(Xi(e,t,r),Kt(e,r))}function AC(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),d0(e,r)}function OC(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(q(314))}n!==null&&n.delete(t),d0(e,r)}var h0;h0=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||qt.current)Vt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Vt=!1,bC(e,t,r);Vt=!!(e.flags&131072)}else Vt=!1,He&&t.flags&1048576&&gw(t,Cc,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;nc(e,t),e=t.pendingProps;var s=oa(t,Et.current);Ho(t,r),s=Tm(null,t,n,e,s,r);var a=Im();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Gt(n)?(a=!0,_c(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Em(t),s.updater=mu,t.stateNode=s,s._reactInternals=t,Bh(t,n,e,r),t=qh(null,t,n,!0,a,r)):(t.tag=0,He&&a&&xm(t),Tt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(nc(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=MC(n),e=Er(n,e),s){case 0:t=Vh(null,t,n,e,r);break e;case 1:t=ty(null,t,n,e,r);break e;case 11:t=Zg(null,t,n,e,r);break e;case 14:t=ey(null,t,n,Er(n.type,e),r);break e}throw Error(q(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Er(n,s),Vh(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Er(n,s),ty(e,t,n,s,r);case 3:e:{if(Yw(t),e===null)throw Error(q(387));n=t.pendingProps,a=t.memoizedState,s=a.element,jw(e,t),Rc(t,n,null,r);var i=t.memoizedState;if(n=i.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=ca(Error(q(423)),t),t=ry(e,t,n,r,s);break e}else if(n!==s){s=ca(Error(q(424)),t),t=ry(e,t,n,r,s);break e}else for(er=ss(t.stateNode.containerInfo.firstChild),tr=t,He=!0,Ir=null,r=ww(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(aa(),n===s){t=Sn(e,t,r);break e}Tt(e,t,n,r)}t=t.child}return t;case 5:return Nw(t),e===null&&Fh(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,Dh(n,s)?i=null:a!==null&&Dh(n,a)&&(t.flags|=32),Kw(e,t),Tt(e,t,i,r),t.child;case 6:return e===null&&Fh(t),null;case 13:return Qw(e,t,r);case 4:return Cm(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ia(t,null,n,r):Tt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Er(n,s),Zg(e,t,n,s,r);case 7:return Tt(e,t,t.pendingProps,r),t.child;case 8:return Tt(e,t,t.pendingProps.children,r),t.child;case 12:return Tt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,Ae(kc,n._currentValue),n._currentValue=i,a!==null)if(Dr(a.value,i)){if(a.children===s.children&&!qt.current){t=Sn(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=xn(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),zh(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(q(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),zh(i,r,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}Tt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Ho(t,r),s=yr(s),n=n(s),t.flags|=1,Tt(e,t,n,r),t.child;case 14:return n=t.type,s=Er(n,t.pendingProps),s=Er(n.type,s),ey(e,t,n,s,r);case 15:return qw(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Er(n,s),nc(e,t),t.tag=1,Gt(n)?(e=!0,_c(t)):e=!1,Ho(t,r),Bw(t,n,s),Bh(t,n,s,r),qh(null,t,n,!0,e,r);case 19:return Jw(e,t,r);case 22:return Gw(e,t,r)}throw Error(q(156,t.tag))};function f0(e,t){return Fx(e,t)}function DC(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(e,t,r,n){return new DC(e,t,r,n)}function Hm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function MC(e){if(typeof e=="function")return Hm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===im)return 11;if(e===lm)return 14}return 2}function ls(e,t){var r=e.alternate;return r===null?(r=hr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ac(e,t,r,n,s,a){var i=2;if(n=e,typeof e=="function")Hm(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Co:return Vs(r.children,s,a,t);case am:i=8,s|=8;break;case fh:return e=hr(12,r,t,s|2),e.elementType=fh,e.lanes=a,e;case mh:return e=hr(13,r,t,s),e.elementType=mh,e.lanes=a,e;case ph:return e=hr(19,r,t,s),e.elementType=ph,e.lanes=a,e;case Nx:return yu(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bx:i=10;break e;case jx:i=9;break e;case im:i=11;break e;case lm:i=14;break e;case Fn:i=16,n=null;break e}throw Error(q(130,e==null?e:typeof e,""))}return t=hr(i,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function Vs(e,t,r,n){return e=hr(7,e,n,t),e.lanes=r,e}function yu(e,t,r,n){return e=hr(22,e,n,t),e.elementType=Nx,e.lanes=r,e.stateNode={isHidden:!1},e}function Ud(e,t,r){return e=hr(6,e,null,t),e.lanes=r,e}function Fd(e,t,r){return t=hr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function LC(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wd(0),this.expirationTimes=wd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wd(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Bm(e,t,r,n,s,a,i,l,c){return e=new LC(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=hr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Em(a),e}function $C(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Eo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function m0(e){if(!e)return hs;e=e._reactInternals;e:{if(ao(e)!==e||e.tag!==1)throw Error(q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Gt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(q(171))}if(e.tag===1){var r=e.type;if(Gt(r))return mw(e,r,t)}return t}function p0(e,t,r,n,s,a,i,l,c){return e=Bm(r,n,!0,e,s,a,i,l,c),e.context=m0(null),r=e.current,n=Ot(),s=is(r),a=xn(n,s),a.callback=t??null,os(r,a,s),e.current.lanes=s,Xi(e,s,n),Kt(e,n),e}function vu(e,t,r,n){var s=t.current,a=Ot(),i=is(s);return r=m0(r),t.context===null?t.context=r:t.pendingContext=r,t=xn(a,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=os(s,t,i),e!==null&&(Or(e,s,i,a),ec(e,s,i)),i}function $c(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Wm(e,t){hy(e,t),(e=e.alternate)&&hy(e,t)}function UC(){return null}var g0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Vm(e){this._internalRoot=e}xu.prototype.render=Vm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(q(409));vu(e,t,null,null)};xu.prototype.unmount=Vm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qs(function(){vu(null,e,null,null)}),t[jn]=null}};function xu(e){this._internalRoot=e}xu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Gx();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Hn.length&&t!==0&&t<Hn[r].priority;r++);Hn.splice(r,0,e),r===0&&Yx(e)}};function qm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fy(){}function FC(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=$c(i);a.call(u)}}var i=p0(t,n,e,0,null,!1,!1,"",fy);return e._reactRootContainer=i,e[jn]=i.current,Si(e.nodeType===8?e.parentNode:e),Qs(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=$c(c);l.call(u)}}var c=Bm(e,0,!1,null,null,!1,!1,"",fy);return e._reactRootContainer=c,e[jn]=c.current,Si(e.nodeType===8?e.parentNode:e),Qs(function(){vu(t,c,r,n)}),c}function bu(e,t,r,n,s){var a=r._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var l=s;s=function(){var c=$c(i);l.call(c)}}vu(t,i,e,s)}else i=FC(r,t,e,s,n);return $c(i)}Vx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ja(t.pendingLanes);r!==0&&(dm(t,r|1),Kt(t,Qe()),!(ke&6)&&(ua=Qe()+500,ys()))}break;case 13:Qs(function(){var n=Nn(e,1);if(n!==null){var s=Ot();Or(n,e,1,s)}}),Wm(e,1)}};hm=function(e){if(e.tag===13){var t=Nn(e,134217728);if(t!==null){var r=Ot();Or(t,e,134217728,r)}Wm(e,134217728)}};qx=function(e){if(e.tag===13){var t=is(e),r=Nn(e,t);if(r!==null){var n=Ot();Or(r,e,t,n)}Wm(e,t)}};Gx=function(){return Te};Kx=function(e,t){var r=Te;try{return Te=e,t()}finally{Te=r}};_h=function(e,t,r){switch(t){case"input":if(vh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=du(n);if(!s)throw Error(q(90));_x(n),vh(n,s)}}}break;case"textarea":Cx(e,r);break;case"select":t=r.value,t!=null&&$o(e,!!r.multiple,t,!1)}};Ox=Um;Dx=Qs;var zC={usingClientEntryPoint:!1,Events:[el,To,du,Ix,Ax,Um]},Ba={findFiberByHostInstance:Os,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HC={bundleType:Ba.bundleType,version:Ba.version,rendererPackageName:Ba.rendererPackageName,rendererConfig:Ba.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$x(e),e===null?null:e.stateNode},findFiberByHostInstance:Ba.findFiberByHostInstance||UC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dl.isDisabled&&Dl.supportsFiber)try{iu=Dl.inject(HC),Xr=Dl}catch{}}sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zC;sr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qm(t))throw Error(q(200));return $C(e,t,null,r)};sr.createRoot=function(e,t){if(!qm(e))throw Error(q(299));var r=!1,n="",s=g0;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Bm(e,1,!1,null,null,r,!1,n,s),e[jn]=t.current,Si(e.nodeType===8?e.parentNode:e),new Vm(t)};sr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=$x(t),e=e===null?null:e.stateNode,e};sr.flushSync=function(e){return Qs(e)};sr.hydrate=function(e,t,r){if(!wu(t))throw Error(q(200));return bu(null,e,t,!0,r)};sr.hydrateRoot=function(e,t,r){if(!qm(e))throw Error(q(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",i=g0;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=p0(t,null,e,1,r??null,s,!1,a,i),e[jn]=t.current,Si(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new xu(t)};sr.render=function(e,t,r){if(!wu(t))throw Error(q(200));return bu(null,e,t,!1,r)};sr.unmountComponentAtNode=function(e){if(!wu(e))throw Error(q(40));return e._reactRootContainer?(Qs(function(){bu(null,null,e,!1,function(){e._reactRootContainer=null,e[jn]=null})}),!0):!1};sr.unstable_batchedUpdates=Um;sr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!wu(r))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return bu(e,t,r,!1,n)};sr.version="18.3.1-next-f1338f8080-20240426";function y0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(y0)}catch(e){console.error(e)}}y0(),yx.exports=sr;var io=yx.exports;const v0=ox(io);var x0,my=io;x0=my.createRoot,my.hydrateRoot;const BC=1,WC=1e6;let zd=0;function VC(){return zd=(zd+1)%Number.MAX_SAFE_INTEGER,zd.toString()}const Hd=new Map,py=e=>{if(Hd.has(e))return;const t=setTimeout(()=>{Hd.delete(e),hi({type:"REMOVE_TOAST",toastId:e})},WC);Hd.set(e,t)},qC=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,BC)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?py(r):e.toasts.forEach(n=>{py(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},ic=[];let lc={toasts:[]};function hi(e){lc=qC(lc,e),ic.forEach(t=>{t(lc)})}function GC({...e}){const t=VC(),r=s=>hi({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>hi({type:"DISMISS_TOAST",toastId:t});return hi({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function Lt(){const[e,t]=f.useState(lc);return f.useEffect(()=>(ic.push(t),()=>{const r=ic.indexOf(t);r>-1&&ic.splice(r,1)}),[e]),{...e,toast:GC,dismiss:r=>hi({type:"DISMISS_TOAST",toastId:r})}}function Q(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function gy(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ju(...e){return t=>{let r=!1;const n=e.map(s=>{const a=gy(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():gy(e[s],null)}}}}function xe(...e){return f.useCallback(ju(...e),e)}function KC(e,t){const r=f.createContext(t),n=a=>{const{children:i,...l}=a,c=f.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function s(a){const i=f.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function $t(e,t=[]){let r=[];function n(a,i){const l=f.createContext(i),c=r.length;r=[...r,i];const u=h=>{var p;const{scope:m,children:y,...b}=h,g=((p=m==null?void 0:m[e])==null?void 0:p[c])||l,w=f.useMemo(()=>b,Object.values(b));return o.jsx(g.Provider,{value:w,children:y})};u.displayName=a+"Provider";function d(h,m){var g;const y=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,b=f.useContext(y);if(b)return b;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(i=>f.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return f.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,YC(s,...t)]}function YC(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Js(e){const t=JC(e),r=f.forwardRef((n,s)=>{const{children:a,...i}=n,l=f.Children.toArray(a),c=l.find(ZC);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...i,ref:s,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(t,{...i,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}var QC=Js("Slot");function JC(e){const t=f.forwardRef((r,n)=>{const{children:s,...a}=r;if(f.isValidElement(s)){const i=tk(s),l=ek(a,s.props);return s.type!==f.Fragment&&(l.ref=n?ju(n,i):i),f.cloneElement(s,l)}return f.Children.count(s)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var w0=Symbol("radix.slottable");function XC(e){const t=({children:r})=>o.jsx(o.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=w0,t}function ZC(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===w0}function ek(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function tk(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Nu(e){const t=e+"CollectionProvider",[r,n]=$t(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:w,children:p}=g,v=K.useRef(null),x=K.useRef(new Map).current;return o.jsx(s,{scope:w,itemMap:x,collectionRef:v,children:p})};i.displayName=t;const l=e+"CollectionSlot",c=Js(l),u=K.forwardRef((g,w)=>{const{scope:p,children:v}=g,x=a(l,p),j=xe(w,x.collectionRef);return o.jsx(c,{ref:j,children:v})});u.displayName=l;const d=e+"CollectionItemSlot",h="data-radix-collection-item",m=Js(d),y=K.forwardRef((g,w)=>{const{scope:p,children:v,...x}=g,j=K.useRef(null),N=xe(w,j),S=a(d,p);return K.useEffect(()=>(S.itemMap.set(j,{ref:j,...x}),()=>void S.itemMap.delete(j))),o.jsx(m,{[h]:"",ref:N,children:v})});y.displayName=d;function b(g){const w=a(e+"CollectionConsumer",g);return K.useCallback(()=>{const v=w.collectionRef.current;if(!v)return[];const x=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((S,_)=>x.indexOf(S.ref.current)-x.indexOf(_.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:i,Slot:u,ItemSlot:y},b,n]}var rk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ae=rk.reduce((e,t)=>{const r=Js(`Primitive.${t}`),n=f.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Gm(e,t){e&&io.flushSync(()=>e.dispatchEvent(t))}function Je(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function nk(e,t=globalThis==null?void 0:globalThis.document){const r=Je(e);f.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var sk="DismissableLayer",sf="dismissableLayer.update",ok="dismissableLayer.pointerDownOutside",ak="dismissableLayer.focusOutside",yy,b0=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ba=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=f.useContext(b0),[d,h]=f.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=f.useState({}),b=xe(t,_=>h(_)),g=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),p=g.indexOf(w),v=d?g.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,j=v>=p,N=lk(_=>{const E=_.target,I=[...u.branches].some(k=>k.contains(E));!j||I||(s==null||s(_),i==null||i(_),_.defaultPrevented||l==null||l())},m),S=ck(_=>{const E=_.target;[...u.branches].some(k=>k.contains(E))||(a==null||a(_),i==null||i(_),_.defaultPrevented||l==null||l())},m);return nk(_=>{v===u.layers.size-1&&(n==null||n(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},m),f.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(yy=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),vy(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=yy)}},[d,m,r,u]),f.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),vy())},[d,u]),f.useEffect(()=>{const _=()=>y({});return document.addEventListener(sf,_),()=>document.removeEventListener(sf,_)},[]),o.jsx(ae.div,{...c,ref:b,style:{pointerEvents:x?j?"auto":"none":void 0,...e.style},onFocusCapture:Q(e.onFocusCapture,S.onFocusCapture),onBlurCapture:Q(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Q(e.onPointerDownCapture,N.onPointerDownCapture)})});ba.displayName=sk;var ik="DismissableLayerBranch",j0=f.forwardRef((e,t)=>{const r=f.useContext(b0),n=f.useRef(null),s=xe(t,n);return f.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),o.jsx(ae.div,{...e,ref:s})});j0.displayName=ik;function lk(e,t=globalThis==null?void 0:globalThis.document){const r=Je(e),n=f.useRef(!1),s=f.useRef(()=>{});return f.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){N0(ok,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function ck(e,t=globalThis==null?void 0:globalThis.document){const r=Je(e),n=f.useRef(!1);return f.useEffect(()=>{const s=a=>{a.target&&!n.current&&N0(ak,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function vy(){const e=new CustomEvent(sf);document.dispatchEvent(e)}function N0(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Gm(s,a):s.dispatchEvent(a)}var uk=ba,dk=j0,ft=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},hk="Portal",rl=f.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=f.useState(!1);ft(()=>a(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?v0.createPortal(o.jsx(ae.div,{...n,ref:t}),i):null});rl.displayName=hk;function fk(e,t){return f.useReducer((r,n)=>t[r][n]??r,e)}var wt=e=>{const{present:t,children:r}=e,n=mk(t),s=typeof r=="function"?r({present:n.isPresent}):f.Children.only(r),a=xe(n.ref,pk(s));return typeof r=="function"||n.isPresent?f.cloneElement(s,{ref:a}):null};wt.displayName="Presence";function mk(e){const[t,r]=f.useState(),n=f.useRef(null),s=f.useRef(e),a=f.useRef("none"),i=e?"mounted":"unmounted",[l,c]=fk(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const u=Ml(n.current);a.current=l==="mounted"?u:"none"},[l]),ft(()=>{const u=n.current,d=s.current;if(d!==e){const m=a.current,y=Ml(u);e?c("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),ft(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=y=>{const g=Ml(n.current).includes(CSS.escape(y.animationName));if(y.target===t&&g&&(c("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},m=y=>{y.target===t&&(a.current=Ml(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:f.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Ml(e){return(e==null?void 0:e.animationName)||"none"}function pk(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var gk=rm[" useInsertionEffect ".trim().toString()]||ft;function _n({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,a,i]=yk({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=f.useRef(e!==void 0);f.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=f.useCallback(d=>{var h;if(l){const m=vk(d)?d(e):d;m!==e&&((h=i.current)==null||h.call(i,m))}else a(d)},[l,e,a,i]);return[c,u]}function yk({defaultProp:e,onChange:t}){const[r,n]=f.useState(e),s=f.useRef(r),a=f.useRef(t);return gk(()=>{a.current=t},[t]),f.useEffect(()=>{var i;s.current!==r&&((i=a.current)==null||i.call(a,r),s.current=r)},[r,s]),[r,n,a]}function vk(e){return typeof e=="function"}var S0=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),xk="VisuallyHidden",Su=f.forwardRef((e,t)=>o.jsx(ae.span,{...e,ref:t,style:{...S0,...e.style}}));Su.displayName=xk;var wk=Su,Km="ToastProvider",[Ym,bk,jk]=Nu("Toast"),[_0]=$t("Toast",[jk]),[Nk,_u]=_0(Km),E0=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:i}=e,[l,c]=f.useState(null),[u,d]=f.useState(0),h=f.useRef(!1),m=f.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Km}\`. Expected non-empty \`string\`.`),o.jsx(Ym.Provider,{scope:t,children:o.jsx(Nk,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:f.useCallback(()=>d(y=>y+1),[]),onToastRemove:f.useCallback(()=>d(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:i})})};E0.displayName=Km;var C0="ToastViewport",Sk=["F8"],of="toast.viewportPause",af="toast.viewportResume",k0=f.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=Sk,label:s="Notifications ({hotkey})",...a}=e,i=_u(C0,r),l=bk(r),c=f.useRef(null),u=f.useRef(null),d=f.useRef(null),h=f.useRef(null),m=xe(t,h,i.onViewportChange),y=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=i.toastCount>0;f.useEffect(()=>{const w=p=>{var x;n.length!==0&&n.every(j=>p[j]||p.code===j)&&((x=h.current)==null||x.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),f.useEffect(()=>{const w=c.current,p=h.current;if(b&&w&&p){const v=()=>{if(!i.isClosePausedRef.current){const S=new CustomEvent(of);p.dispatchEvent(S),i.isClosePausedRef.current=!0}},x=()=>{if(i.isClosePausedRef.current){const S=new CustomEvent(af);p.dispatchEvent(S),i.isClosePausedRef.current=!1}},j=S=>{!w.contains(S.relatedTarget)&&x()},N=()=>{w.contains(document.activeElement)||x()};return w.addEventListener("focusin",v),w.addEventListener("focusout",j),w.addEventListener("pointermove",v),w.addEventListener("pointerleave",N),window.addEventListener("blur",v),window.addEventListener("focus",x),()=>{w.removeEventListener("focusin",v),w.removeEventListener("focusout",j),w.removeEventListener("pointermove",v),w.removeEventListener("pointerleave",N),window.removeEventListener("blur",v),window.removeEventListener("focus",x)}}},[b,i.isClosePausedRef]);const g=f.useCallback(({tabbingDirection:w})=>{const v=l().map(x=>{const j=x.ref.current,N=[j,...Lk(j)];return w==="forwards"?N:N.reverse()});return(w==="forwards"?v.reverse():v).flat()},[l]);return f.useEffect(()=>{const w=h.current;if(w){const p=v=>{var N,S,_;const x=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!x){const E=document.activeElement,I=v.shiftKey;if(v.target===w&&I){(N=u.current)==null||N.focus();return}const A=g({tabbingDirection:I?"backwards":"forwards"}),L=A.findIndex(R=>R===E);Bd(A.slice(L+1))?v.preventDefault():I?(S=u.current)==null||S.focus():(_=d.current)==null||_.focus()}};return w.addEventListener("keydown",p),()=>w.removeEventListener("keydown",p)}},[l,g]),o.jsxs(dk,{ref:c,role:"region","aria-label":s.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&o.jsx(lf,{ref:u,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"forwards"});Bd(w)}}),o.jsx(Ym.Slot,{scope:r,children:o.jsx(ae.ol,{tabIndex:-1,...a,ref:m})}),b&&o.jsx(lf,{ref:d,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"backwards"});Bd(w)}})]})});k0.displayName=C0;var P0="ToastFocusProxy",lf=f.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,a=_u(P0,r);return o.jsx(Su,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&n()}})});lf.displayName=P0;var nl="Toast",_k="toast.swipeStart",Ek="toast.swipeMove",Ck="toast.swipeCancel",kk="toast.swipeEnd",R0=f.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:a,...i}=e,[l,c]=_n({prop:n,defaultProp:s??!0,onChange:a,caller:nl});return o.jsx(wt,{present:r||l,children:o.jsx(Tk,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:Je(e.onPause),onResume:Je(e.onResume),onSwipeStart:Q(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Q(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Q(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Q(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});R0.displayName=nl;var[Pk,Rk]=_0(nl,{onClose(){}}),Tk=f.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:a,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:y,...b}=e,g=_u(nl,r),[w,p]=f.useState(null),v=xe(t,R=>p(R)),x=f.useRef(null),j=f.useRef(null),N=s||g.duration,S=f.useRef(0),_=f.useRef(N),E=f.useRef(0),{onToastAdd:I,onToastRemove:k}=g,z=Je(()=>{var B;(w==null?void 0:w.contains(document.activeElement))&&((B=g.viewport)==null||B.focus()),i()}),A=f.useCallback(R=>{!R||R===1/0||(window.clearTimeout(E.current),S.current=new Date().getTime(),E.current=window.setTimeout(z,R))},[z]);f.useEffect(()=>{const R=g.viewport;if(R){const B=()=>{A(_.current),u==null||u()},D=()=>{const O=new Date().getTime()-S.current;_.current=_.current-O,window.clearTimeout(E.current),c==null||c()};return R.addEventListener(of,D),R.addEventListener(af,B),()=>{R.removeEventListener(of,D),R.removeEventListener(af,B)}}},[g.viewport,N,c,u,A]),f.useEffect(()=>{a&&!g.isClosePausedRef.current&&A(N)},[a,N,g.isClosePausedRef,A]),f.useEffect(()=>(I(),()=>k()),[I,k]);const L=f.useMemo(()=>w?L0(w):null,[w]);return g.viewport?o.jsxs(o.Fragment,{children:[L&&o.jsx(Ik,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:L}),o.jsx(Pk,{scope:r,onClose:z,children:io.createPortal(o.jsx(Ym.ItemSlot,{scope:r,children:o.jsx(uk,{asChild:!0,onEscapeKeyDown:Q(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||z(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(ae.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...b,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Q(e.onKeyDown,R=>{R.key==="Escape"&&(l==null||l(R.nativeEvent),R.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,z()))}),onPointerDown:Q(e.onPointerDown,R=>{R.button===0&&(x.current={x:R.clientX,y:R.clientY})}),onPointerMove:Q(e.onPointerMove,R=>{if(!x.current)return;const B=R.clientX-x.current.x,D=R.clientY-x.current.y,O=!!j.current,C=["left","right"].includes(g.swipeDirection),P=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,U=C?P(0,B):0,$=C?0:P(0,D),V=R.pointerType==="touch"?10:2,M={x:U,y:$},X={originalEvent:R,delta:M};O?(j.current=M,Ll(Ek,h,X,{discrete:!1})):xy(M,g.swipeDirection,V)?(j.current=M,Ll(_k,d,X,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(B)>V||Math.abs(D)>V)&&(x.current=null)}),onPointerUp:Q(e.onPointerUp,R=>{const B=j.current,D=R.target;if(D.hasPointerCapture(R.pointerId)&&D.releasePointerCapture(R.pointerId),j.current=null,x.current=null,B){const O=R.currentTarget,C={originalEvent:R,delta:B};xy(B,g.swipeDirection,g.swipeThreshold)?Ll(kk,y,C,{discrete:!0}):Ll(Ck,m,C,{discrete:!0}),O.addEventListener("click",P=>P.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),Ik=e=>{const{__scopeToast:t,children:r,...n}=e,s=_u(nl,t),[a,i]=f.useState(!1),[l,c]=f.useState(!1);return Dk(()=>i(!0)),f.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(rl,{asChild:!0,children:o.jsx(Su,{...n,children:a&&o.jsxs(o.Fragment,{children:[s.label," ",r]})})})},Ak="ToastTitle",T0=f.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(ae.div,{...n,ref:t})});T0.displayName=Ak;var Ok="ToastDescription",I0=f.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(ae.div,{...n,ref:t})});I0.displayName=Ok;var A0="ToastAction",O0=f.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?o.jsx(M0,{altText:r,asChild:!0,children:o.jsx(Qm,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${A0}\`. Expected non-empty \`string\`.`),null)});O0.displayName=A0;var D0="ToastClose",Qm=f.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=Rk(D0,r);return o.jsx(M0,{asChild:!0,children:o.jsx(ae.button,{type:"button",...n,ref:t,onClick:Q(e.onClick,s.onClose)})})});Qm.displayName=D0;var M0=f.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return o.jsx(ae.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function L0(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),Mk(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...L0(n))}}),t}function Ll(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Gm(s,a):s.dispatchEvent(a)}var xy=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),a=n>s;return t==="left"||t==="right"?a&&n>r:!a&&s>r};function Dk(e=()=>{}){const t=Je(e);ft(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function Mk(e){return e.nodeType===e.ELEMENT_NODE}function Lk(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Bd(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var $k=E0,$0=k0,U0=R0,F0=T0,z0=I0,H0=O0,B0=Qm;function W0(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=W0(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function V0(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=W0(e))&&(n&&(n+=" "),n+=t);return n}const wy=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,by=V0,sl=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return by(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,i=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],h=a==null?void 0:a[u];if(d===null)return null;const m=wy(d)||wy(h);return s[u][m]}),l=r&&Object.entries(r).reduce((u,d)=>{let[h,m]=d;return m===void 0||(u[h]=m),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:h,className:m,...y}=d;return Object.entries(y).every(b=>{let[g,w]=b;return Array.isArray(w)?w.includes({...a,...l}[g]):{...a,...l}[g]===w})?[...u,h,m]:u},[]);return by(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),q0=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:i,...l},c)=>f.createElement("svg",{ref:c,...Fk,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:q0("lucide",s),...l},[...i.map(([u,d])=>f.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=(e,t)=>{const r=f.forwardRef(({className:n,...s},a)=>f.createElement(zk,{ref:a,iconNode:t,className:q0(`lucide-${Uk(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=re("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=re("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=re("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=re("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=re("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=re("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=re("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=re("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=re("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=re("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=re("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=re("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=re("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=re("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=re("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=re("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=re("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=re("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=re("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=re("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=re("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=re("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=re("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=re("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=re("Flower2",[["path",{d:"M12 5a3 3 0 1 1 3 3m-3-3a3 3 0 1 0-3 3m3-3v1M9 8a3 3 0 1 0 3 3M9 8h1m5 0a3 3 0 1 1-3 3m3-3h-1m-2 3v-1",key:"3pnvol"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M12 10v12",key:"6ubwww"}],["path",{d:"M12 22c4.2 0 7-1.667 7-5-4.2 0-7 1.667-7 5Z",key:"9hd38g"}],["path",{d:"M12 22c-4.2 0-7-1.667-7-5 4.2 0 7 1.667 7 5Z",key:"ufn41s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=re("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=re("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=re("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=re("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=re("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=re("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=re("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=re("Laugh",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M18 13a6 6 0 0 1-6 5 6 6 0 0 1-6-5h12Z",key:"b2q4dd"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=re("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=re("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=re("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=re("Meh",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15",key:"1xb1d9"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=re("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=re("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=re("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=re("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=re("Rainbow",[["path",{d:"M22 17a10 10 0 0 0-20 0",key:"ozegv"}],["path",{d:"M6 17a6 6 0 0 1 12 0",key:"5giftw"}],["path",{d:"M10 17a2 2 0 0 1 4 0",key:"gnsikk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=re("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=re("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=re("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=re("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=re("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=re("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=re("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=re("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=re("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=re("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=re("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=re("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=re("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=re("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=re("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Jm="-",xP=e=>{const t=bP(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(Jm);return l[0]===""&&l.length!==1&&l.shift(),Z0(l,t)||wP(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},Z0=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?Z0(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(Jm);return(i=t.validators.find(({validator:l})=>l(a)))==null?void 0:i.classGroupId},Sy=/^\[(.+)\]$/,wP=e=>{if(Sy.test(e)){const t=Sy.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},bP=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return NP(Object.entries(e.classGroups),r).forEach(([a,i])=>{uf(i,n,a,t)}),n},uf=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:_y(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(jP(s)){uf(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,i])=>{uf(i,_y(t,a),r,n)})})},_y=(e,t)=>{let r=e;return t.split(Jm).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},jP=e=>e.isThemeGetter,NP=(e,t)=>t?e.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([i,l])=>[t+i,l])):a);return[r,s]}):e,SP=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(a,i)=>{r.set(a,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let i=r.get(a);if(i!==void 0)return i;if((i=n.get(a))!==void 0)return s(a,i),i},set(a,i){r.has(a)?r.set(a,i):s(a,i)}}},eb="!",_P=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],a=t.length,i=l=>{const c=[];let u=0,d=0,h;for(let w=0;w<l.length;w++){let p=l[w];if(u===0){if(p===s&&(n||l.slice(w,w+a)===t)){c.push(l.slice(d,w)),d=w+a;continue}if(p==="/"){h=w;continue}}p==="["?u++:p==="]"&&u--}const m=c.length===0?l:l.substring(d),y=m.startsWith(eb),b=y?m.substring(1):m,g=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:b,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:i}):i},EP=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},CP=e=>({cache:SP(e.cacheSize),parseClassName:_P(e),...xP(e)}),kP=/\s+/,PP=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,a=[],i=e.trim().split(kP);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:y}=r(u);let b=!!y,g=n(b?m.substring(0,y):m);if(!g){if(!b){l=u+(l.length>0?" "+l:l);continue}if(g=n(m),!g){l=u+(l.length>0?" "+l:l);continue}b=!1}const w=EP(d).join(":"),p=h?w+eb:w,v=p+g;if(a.includes(v))continue;a.push(v);const x=s(g,b);for(let j=0;j<x.length;++j){const N=x[j];a.push(p+N)}l=u+(l.length>0?" "+l:l)}return l};function RP(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=tb(t))&&(n&&(n+=" "),n+=r);return n}const tb=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=tb(e[n]))&&(r&&(r+=" "),r+=t);return r};function TP(e,...t){let r,n,s,a=i;function i(c){const u=t.reduce((d,h)=>h(d),e());return r=CP(u),n=r.cache.get,s=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=PP(c,r);return s(c,d),d}return function(){return a(RP.apply(null,arguments))}}const Le=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},rb=/^\[(?:([a-z-]+):)?(.+)\]$/i,IP=/^\d+\/\d+$/,AP=new Set(["px","full","screen"]),OP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,DP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,MP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,LP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$P=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,cn=e=>Vo(e)||AP.has(e)||IP.test(e),On=e=>ja(e,"length",qP),Vo=e=>!!e&&!Number.isNaN(Number(e)),Wd=e=>ja(e,"number",Vo),Wa=e=>!!e&&Number.isInteger(Number(e)),UP=e=>e.endsWith("%")&&Vo(e.slice(0,-1)),be=e=>rb.test(e),Dn=e=>OP.test(e),FP=new Set(["length","size","percentage"]),zP=e=>ja(e,FP,nb),HP=e=>ja(e,"position",nb),BP=new Set(["image","url"]),WP=e=>ja(e,BP,KP),VP=e=>ja(e,"",GP),Va=()=>!0,ja=(e,t,r)=>{const n=rb.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},qP=e=>DP.test(e)&&!MP.test(e),nb=()=>!1,GP=e=>LP.test(e),KP=e=>$P.test(e),YP=()=>{const e=Le("colors"),t=Le("spacing"),r=Le("blur"),n=Le("brightness"),s=Le("borderColor"),a=Le("borderRadius"),i=Le("borderSpacing"),l=Le("borderWidth"),c=Le("contrast"),u=Le("grayscale"),d=Le("hueRotate"),h=Le("invert"),m=Le("gap"),y=Le("gradientColorStops"),b=Le("gradientColorStopPositions"),g=Le("inset"),w=Le("margin"),p=Le("opacity"),v=Le("padding"),x=Le("saturate"),j=Le("scale"),N=Le("sepia"),S=Le("skew"),_=Le("space"),E=Le("translate"),I=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto",be,t],A=()=>[be,t],L=()=>["",cn,On],R=()=>["auto",Vo,be],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],D=()=>["solid","dashed","dotted","double","none"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],C=()=>["start","end","center","between","around","evenly","stretch"],P=()=>["","0",be],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[Vo,be];return{cacheSize:500,separator:":",theme:{colors:[Va],spacing:[cn,On],blur:["none","",Dn,be],brightness:$(),borderColor:[e],borderRadius:["none","","full",Dn,be],borderSpacing:A(),borderWidth:L(),contrast:$(),grayscale:P(),hueRotate:$(),invert:P(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[UP,On],inset:z(),margin:z(),opacity:$(),padding:A(),saturate:$(),scale:$(),sepia:P(),skew:$(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",be]}],container:["container"],columns:[{columns:[Dn]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),be]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Wa,be]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",be]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",Wa,be]}],"grid-cols":[{"grid-cols":[Va]}],"col-start-end":[{col:["auto",{span:["full",Wa,be]},be]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[Va]}],"row-start-end":[{row:["auto",{span:[Wa,be]},be]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",be]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",be]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...C()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...C(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...C(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",be,t]}],"min-w":[{"min-w":[be,t,"min","max","fit"]}],"max-w":[{"max-w":[be,t,"none","full","min","max","fit","prose",{screen:[Dn]},Dn]}],h:[{h:[be,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[be,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[be,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[be,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Dn,On]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Wd]}],"font-family":[{font:[Va]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",be]}],"line-clamp":[{"line-clamp":["none",Vo,Wd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",cn,be]}],"list-image":[{"list-image":["none",be]}],"list-style-type":[{list:["none","disc","decimal",be]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...D(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",cn,On]}],"underline-offset":[{"underline-offset":["auto",cn,be]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),HP]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",zP]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},WP]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...D(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:D()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...D()]}],"outline-offset":[{"outline-offset":[cn,be]}],"outline-w":[{outline:[cn,On]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[cn,On]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Dn,VP]}],"shadow-color":[{shadow:[Va]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...O(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Dn,be]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[x]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",be]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",be]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",be]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Wa,be]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",be]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",be]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",be]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[cn,On,Wd]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},QP=TP(YP);function ie(...e){return QP(V0(e))}const JP=$k,sb=f.forwardRef(({className:e,...t},r)=>o.jsx($0,{ref:r,className:ie("fixed top-12 left-1/2 -translate-x-1/2 z-[100] flex max-h-screen w-[calc(100%-2rem)] max-w-md flex-col gap-2 sm:top-4 sm:left-auto sm:right-4 sm:translate-x-0",e),...t}));sb.displayName=$0.displayName;const XP=sl("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ob=f.forwardRef(({className:e,variant:t,...r},n)=>o.jsx(U0,{ref:n,className:ie(XP({variant:t}),e),...r}));ob.displayName=U0.displayName;const ZP=f.forwardRef(({className:e,...t},r)=>o.jsx(H0,{ref:r,className:ie("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));ZP.displayName=H0.displayName;const ab=f.forwardRef(({className:e,...t},r)=>o.jsx(B0,{ref:r,className:ie("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(Pu,{className:"h-4 w-4"})}));ab.displayName=B0.displayName;const ib=f.forwardRef(({className:e,...t},r)=>o.jsx(F0,{ref:r,className:ie("text-sm font-semibold",e),...t}));ib.displayName=F0.displayName;const lb=f.forwardRef(({className:e,...t},r)=>o.jsx(z0,{ref:r,className:ie("text-sm opacity-90",e),...t}));lb.displayName=z0.displayName;function e2(){const{toasts:e}=Lt();return o.jsxs(JP,{children:[e.map(function({id:t,title:r,description:n,action:s,...a}){return o.jsxs(ob,{...a,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(ib,{children:r}),n&&o.jsx(lb,{children:n})]}),s,o.jsx(ab,{})]},t)}),o.jsx(sb,{})]})}var Ey=["light","dark"],t2="(prefers-color-scheme: dark)",r2=f.createContext(void 0),n2={setTheme:e=>{},themes:[]},s2=()=>{var e;return(e=f.useContext(r2))!=null?e:n2};f.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:a,value:i,attrs:l,nonce:c})=>{let u=a==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=s?Ey.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(b,g=!1,w=!0)=>{let p=i?i[b]:b,v=g?b+"|| ''":`'${p}'`,x="";return s&&w&&!g&&Ey.includes(b)&&(x+=`d.style.colorScheme = '${b}';`),r==="class"?g||p?x+=`c.add(${v})`:x+="null":p&&(x+=`d[s](n,${v})`),x},y=e?`!function(){${d}${m(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${t2}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}${u?"":"else{"+m(a,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}else{${m(a,!1,!1)};}${h}}catch(t){}}();`;return f.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:y}})});function o2(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const a2=e=>{switch(e){case"success":return c2;case"info":return d2;case"warning":return u2;case"error":return h2;default:return null}},i2=Array(12).fill(0),l2=({visible:e,className:t})=>K.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},K.createElement("div",{className:"sonner-spinner"},i2.map((r,n)=>K.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),c2=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),u2=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),d2=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),h2=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),f2=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},K.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),K.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),m2=()=>{const[e,t]=K.useState(document.hidden);return K.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let df=1;class p2{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...s}=t,a=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:df++,i=this.toasts.find(c=>c.id===a),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(c=>c.id===a?(this.publish({...c,...t,id:a,title:n}),{...c,...t,id:a,dismissible:l,title:n}):c):this.addToast({title:n,...s,dismissible:l,id:a}),a},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let a=n!==void 0,i;const l=s.then(async u=>{if(i=["resolve",u],K.isValidElement(u))a=!1,this.create({id:n,type:"default",message:u});else if(y2(u)&&!u.ok){a=!1;const h=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,m=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,b=typeof h=="object"&&!K.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:m,...b})}else if(u instanceof Error){a=!1;const h=typeof r.error=="function"?await r.error(u):r.error,m=typeof r.description=="function"?await r.description(u):r.description,b=typeof h=="object"&&!K.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:m,...b})}else if(r.success!==void 0){a=!1;const h=typeof r.success=="function"?await r.success(u):r.success,m=typeof r.description=="function"?await r.description(u):r.description,b=typeof h=="object"&&!K.isValidElement(h)?h:{message:h};this.create({id:n,type:"success",description:m,...b})}}).catch(async u=>{if(i=["reject",u],r.error!==void 0){a=!1;const d=typeof r.error=="function"?await r.error(u):r.error,h=typeof r.description=="function"?await r.description(u):r.description,y=typeof d=="object"&&!K.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:h,...y})}}).finally(()=>{a&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),c=()=>new Promise((u,d)=>l.then(()=>i[0]==="reject"?d(i[1]):u(i[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||df++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Ht=new p2,g2=(e,t)=>{const r=(t==null?void 0:t.id)||df++;return Ht.addToast({title:e,...t,id:r}),r},y2=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",v2=g2,x2=()=>Ht.toasts,w2=()=>Ht.getActiveToasts(),Ne=Object.assign(v2,{success:Ht.success,info:Ht.info,warning:Ht.warning,error:Ht.error,custom:Ht.custom,message:Ht.message,promise:Ht.promise,dismiss:Ht.dismiss,loading:Ht.loading},{getHistory:x2,getToasts:w2});o2("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function $l(e){return e.label!==void 0}const b2=3,j2="24px",N2="16px",Cy=4e3,S2=356,_2=14,E2=45,C2=200;function Hr(...e){return e.filter(Boolean).join(" ")}function k2(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const P2=e=>{var t,r,n,s,a,i,l,c,u;const{invert:d,toast:h,unstyled:m,interacting:y,setHeights:b,visibleToasts:g,heights:w,index:p,toasts:v,expanded:x,removeToast:j,defaultRichColors:N,closeButton:S,style:_,cancelButtonStyle:E,actionButtonStyle:I,className:k="",descriptionClassName:z="",duration:A,position:L,gap:R,expandByDefault:B,classNames:D,icons:O,closeButtonAriaLabel:C="Close toast"}=e,[P,U]=K.useState(null),[$,V]=K.useState(null),[M,X]=K.useState(!1),[oe,ue]=K.useState(!1),[T,G]=K.useState(!1),[te,le]=K.useState(!1),[ge,me]=K.useState(!1),[De,ne]=K.useState(0),[ce,Pe]=K.useState(0),ze=K.useRef(h.duration||A||Cy),mt=K.useRef(null),je=K.useRef(null),Ct=p===0,ho=p+1<=g,Me=h.type,Ft=h.dismissible!==!1,wr=h.className||"",Fr=h.descriptionClassName||"",Yt=K.useMemo(()=>w.findIndex(we=>we.toastId===h.id)||0,[w,h.id]),an=K.useMemo(()=>{var we;return(we=h.closeButton)!=null?we:S},[h.closeButton,S]),Oa=K.useMemo(()=>h.duration||A||Cy,[h.duration,A]),fo=K.useRef(0),Rn=K.useRef(0),ml=K.useRef(0),Tn=K.useRef(null),[ln,Da]=L.split("-"),pl=K.useMemo(()=>w.reduce((we,it,bt)=>bt>=Yt?we:we+it.height,0),[w,Yt]),tg=m2(),d_=h.invert||d,hd=Me==="loading";Rn.current=K.useMemo(()=>Yt*R+pl,[Yt,pl]),K.useEffect(()=>{ze.current=Oa},[Oa]),K.useEffect(()=>{X(!0)},[]),K.useEffect(()=>{const we=je.current;if(we){const it=we.getBoundingClientRect().height;return Pe(it),b(bt=>[{toastId:h.id,height:it,position:h.position},...bt]),()=>b(bt=>bt.filter(Qt=>Qt.toastId!==h.id))}},[b,h.id]),K.useLayoutEffect(()=>{if(!M)return;const we=je.current,it=we.style.height;we.style.height="auto";const bt=we.getBoundingClientRect().height;we.style.height=it,Pe(bt),b(Qt=>Qt.find(pt=>pt.toastId===h.id)?Qt.map(pt=>pt.toastId===h.id?{...pt,height:bt}:pt):[{toastId:h.id,height:bt,position:h.position},...Qt])},[M,h.title,h.description,b,h.id,h.jsx,h.action,h.cancel]);const In=K.useCallback(()=>{ue(!0),ne(Rn.current),b(we=>we.filter(it=>it.toastId!==h.id)),setTimeout(()=>{j(h)},C2)},[h,j,b,Rn]);K.useEffect(()=>{if(h.promise&&Me==="loading"||h.duration===1/0||h.type==="loading")return;let we;return x||y||tg?(()=>{if(ml.current<fo.current){const Qt=new Date().getTime()-fo.current;ze.current=ze.current-Qt}ml.current=new Date().getTime()})():(()=>{ze.current!==1/0&&(fo.current=new Date().getTime(),we=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),In()},ze.current))})(),()=>clearTimeout(we)},[x,y,h,Me,tg,In]),K.useEffect(()=>{h.delete&&(In(),h.onDismiss==null||h.onDismiss.call(h,h))},[In,h.delete]);function h_(){var we;if(O!=null&&O.loading){var it;return K.createElement("div",{className:Hr(D==null?void 0:D.loader,h==null||(it=h.classNames)==null?void 0:it.loader,"sonner-loader"),"data-visible":Me==="loading"},O.loading)}return K.createElement(l2,{className:Hr(D==null?void 0:D.loader,h==null||(we=h.classNames)==null?void 0:we.loader),visible:Me==="loading"})}const f_=h.icon||(O==null?void 0:O[Me])||a2(Me);var rg,ng;return K.createElement("li",{tabIndex:0,ref:je,className:Hr(k,wr,D==null?void 0:D.toast,h==null||(t=h.classNames)==null?void 0:t.toast,D==null?void 0:D.default,D==null?void 0:D[Me],h==null||(r=h.classNames)==null?void 0:r[Me]),"data-sonner-toast":"","data-rich-colors":(rg=h.richColors)!=null?rg:N,"data-styled":!(h.jsx||h.unstyled||m),"data-mounted":M,"data-promise":!!h.promise,"data-swiped":ge,"data-removed":oe,"data-visible":ho,"data-y-position":ln,"data-x-position":Da,"data-index":p,"data-front":Ct,"data-swiping":T,"data-dismissible":Ft,"data-type":Me,"data-invert":d_,"data-swipe-out":te,"data-swipe-direction":$,"data-expanded":!!(x||B&&M),"data-testid":h.testId,style:{"--index":p,"--toasts-before":p,"--z-index":v.length-p,"--offset":`${oe?De:Rn.current}px`,"--initial-height":B?"auto":`${ce}px`,..._,...h.style},onDragEnd:()=>{G(!1),U(null),Tn.current=null},onPointerDown:we=>{we.button!==2&&(hd||!Ft||(mt.current=new Date,ne(Rn.current),we.target.setPointerCapture(we.pointerId),we.target.tagName!=="BUTTON"&&(G(!0),Tn.current={x:we.clientX,y:we.clientY})))},onPointerUp:()=>{var we,it,bt;if(te||!Ft)return;Tn.current=null;const Qt=Number(((we=je.current)==null?void 0:we.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),gl=Number(((it=je.current)==null?void 0:it.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),pt=new Date().getTime()-((bt=mt.current)==null?void 0:bt.getTime()),ir=P==="x"?Qt:gl,yl=Math.abs(ir)/pt;if(Math.abs(ir)>=E2||yl>.11){ne(Rn.current),h.onDismiss==null||h.onDismiss.call(h,h),V(P==="x"?Qt>0?"right":"left":gl>0?"down":"up"),In(),le(!0);return}else{var br,jr;(br=je.current)==null||br.style.setProperty("--swipe-amount-x","0px"),(jr=je.current)==null||jr.style.setProperty("--swipe-amount-y","0px")}me(!1),G(!1),U(null)},onPointerMove:we=>{var it,bt,Qt;if(!Tn.current||!Ft||((it=window.getSelection())==null?void 0:it.toString().length)>0)return;const pt=we.clientY-Tn.current.y,ir=we.clientX-Tn.current.x;var yl;const br=(yl=e.swipeDirections)!=null?yl:k2(L);!P&&(Math.abs(ir)>1||Math.abs(pt)>1)&&U(Math.abs(ir)>Math.abs(pt)?"x":"y");let jr={x:0,y:0};const sg=Ss=>1/(1.5+Math.abs(Ss)/20);if(P==="y"){if(br.includes("top")||br.includes("bottom"))if(br.includes("top")&&pt<0||br.includes("bottom")&&pt>0)jr.y=pt;else{const Ss=pt*sg(pt);jr.y=Math.abs(Ss)<Math.abs(pt)?Ss:pt}}else if(P==="x"&&(br.includes("left")||br.includes("right")))if(br.includes("left")&&ir<0||br.includes("right")&&ir>0)jr.x=ir;else{const Ss=ir*sg(ir);jr.x=Math.abs(Ss)<Math.abs(ir)?Ss:ir}(Math.abs(jr.x)>0||Math.abs(jr.y)>0)&&me(!0),(bt=je.current)==null||bt.style.setProperty("--swipe-amount-x",`${jr.x}px`),(Qt=je.current)==null||Qt.style.setProperty("--swipe-amount-y",`${jr.y}px`)}},an&&!h.jsx&&Me!=="loading"?K.createElement("button",{"aria-label":C,"data-disabled":hd,"data-close-button":!0,onClick:hd||!Ft?()=>{}:()=>{In(),h.onDismiss==null||h.onDismiss.call(h,h)},className:Hr(D==null?void 0:D.closeButton,h==null||(n=h.classNames)==null?void 0:n.closeButton)},(ng=O==null?void 0:O.close)!=null?ng:f2):null,(Me||h.icon||h.promise)&&h.icon!==null&&((O==null?void 0:O[Me])!==null||h.icon)?K.createElement("div",{"data-icon":"",className:Hr(D==null?void 0:D.icon,h==null||(s=h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||h_():null,h.type!=="loading"?f_:null):null,K.createElement("div",{"data-content":"",className:Hr(D==null?void 0:D.content,h==null||(a=h.classNames)==null?void 0:a.content)},K.createElement("div",{"data-title":"",className:Hr(D==null?void 0:D.title,h==null||(i=h.classNames)==null?void 0:i.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?K.createElement("div",{"data-description":"",className:Hr(z,Fr,D==null?void 0:D.description,h==null||(l=h.classNames)==null?void 0:l.description)},typeof h.description=="function"?h.description():h.description):null),K.isValidElement(h.cancel)?h.cancel:h.cancel&&$l(h.cancel)?K.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||E,onClick:we=>{$l(h.cancel)&&Ft&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,we),In())},className:Hr(D==null?void 0:D.cancelButton,h==null||(c=h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,K.isValidElement(h.action)?h.action:h.action&&$l(h.action)?K.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||I,onClick:we=>{$l(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,we),!we.defaultPrevented&&In())},className:Hr(D==null?void 0:D.actionButton,h==null||(u=h.classNames)==null?void 0:u.actionButton)},h.action.label):null)};function ky(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function R2(e,t){const r={};return[e,t].forEach((n,s)=>{const a=s===1,i=a?"--mobile-offset":"--offset",l=a?N2:j2;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${i}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${i}-${u}`]=l:r[`${i}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}const T2=K.forwardRef(function(t,r){const{id:n,invert:s,position:a="bottom-right",hotkey:i=["altKey","KeyT"],expand:l,closeButton:c,className:u,offset:d,mobileOffset:h,theme:m="light",richColors:y,duration:b,style:g,visibleToasts:w=b2,toastOptions:p,dir:v=ky(),gap:x=_2,icons:j,containerAriaLabel:N="Notifications"}=t,[S,_]=K.useState([]),E=K.useMemo(()=>n?S.filter(M=>M.toasterId===n):S.filter(M=>!M.toasterId),[S,n]),I=K.useMemo(()=>Array.from(new Set([a].concat(E.filter(M=>M.position).map(M=>M.position)))),[E,a]),[k,z]=K.useState([]),[A,L]=K.useState(!1),[R,B]=K.useState(!1),[D,O]=K.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),C=K.useRef(null),P=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=K.useRef(null),$=K.useRef(!1),V=K.useCallback(M=>{_(X=>{var oe;return(oe=X.find(ue=>ue.id===M.id))!=null&&oe.delete||Ht.dismiss(M.id),X.filter(({id:ue})=>ue!==M.id)})},[]);return K.useEffect(()=>Ht.subscribe(M=>{if(M.dismiss){requestAnimationFrame(()=>{_(X=>X.map(oe=>oe.id===M.id?{...oe,delete:!0}:oe))});return}setTimeout(()=>{v0.flushSync(()=>{_(X=>{const oe=X.findIndex(ue=>ue.id===M.id);return oe!==-1?[...X.slice(0,oe),{...X[oe],...M},...X.slice(oe+1)]:[M,...X]})})})}),[S]),K.useEffect(()=>{if(m!=="system"){O(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?O("dark"):O("light")),typeof window>"u")return;const M=window.matchMedia("(prefers-color-scheme: dark)");try{M.addEventListener("change",({matches:X})=>{O(X?"dark":"light")})}catch{M.addListener(({matches:oe})=>{try{O(oe?"dark":"light")}catch(ue){console.error(ue)}})}},[m]),K.useEffect(()=>{S.length<=1&&L(!1)},[S]),K.useEffect(()=>{const M=X=>{var oe;if(i.every(G=>X[G]||X.code===G)){var T;L(!0),(T=C.current)==null||T.focus()}X.code==="Escape"&&(document.activeElement===C.current||(oe=C.current)!=null&&oe.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[i]),K.useEffect(()=>{if(C.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,$.current=!1)}},[C.current]),K.createElement("section",{ref:r,"aria-label":`${N} ${P}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((M,X)=>{var oe;const[ue,T]=M.split("-");return E.length?K.createElement("ol",{key:M,dir:v==="auto"?ky():v,tabIndex:-1,ref:C,className:u,"data-sonner-toaster":!0,"data-sonner-theme":D,"data-y-position":ue,"data-x-position":T,style:{"--front-toast-height":`${((oe=k[0])==null?void 0:oe.height)||0}px`,"--width":`${S2}px`,"--gap":`${x}px`,...g,...R2(d,h)},onBlur:G=>{$.current&&!G.currentTarget.contains(G.relatedTarget)&&($.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||$.current||($.current=!0,U.current=G.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{R||L(!1)},onDragEnd:()=>L(!1),onPointerDown:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||B(!0)},onPointerUp:()=>B(!1)},E.filter(G=>!G.position&&X===0||G.position===M).map((G,te)=>{var le,ge;return K.createElement(P2,{key:G.id,icons:j,index:te,toast:G,defaultRichColors:y,duration:(le=p==null?void 0:p.duration)!=null?le:b,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:s,visibleToasts:w,closeButton:(ge=p==null?void 0:p.closeButton)!=null?ge:c,interacting:R,position:M,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,closeButtonAriaLabel:p==null?void 0:p.closeButtonAriaLabel,removeToast:V,toasts:E.filter(me=>me.position==G.position),heights:k.filter(me=>me.position==G.position),setHeights:z,expandByDefault:l,gap:x,expanded:A,swipeDirections:t.swipeDirections})})):null}))}),I2=({...e})=>{const{theme:t="system"}=s2();return o.jsx(T2,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var A2=rm[" useId ".trim().toString()]||(()=>{}),O2=0;function en(e){const[t,r]=f.useState(A2());return ft(()=>{r(n=>n??String(O2++))},[e]),t?`radix-${t}`:""}const D2=["top","right","bottom","left"],fs=Math.min,Zt=Math.max,zc=Math.round,Ul=Math.floor,tn=e=>({x:e,y:e}),M2={left:"right",right:"left",bottom:"top",top:"bottom"},L2={start:"end",end:"start"};function hf(e,t,r){return Zt(e,fs(t,r))}function En(e,t){return typeof e=="function"?e(t):e}function Cn(e){return e.split("-")[0]}function Na(e){return e.split("-")[1]}function Xm(e){return e==="x"?"y":"x"}function Zm(e){return e==="y"?"height":"width"}const $2=new Set(["top","bottom"]);function Jr(e){return $2.has(Cn(e))?"y":"x"}function ep(e){return Xm(Jr(e))}function U2(e,t,r){r===void 0&&(r=!1);const n=Na(e),s=ep(e),a=Zm(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=Hc(i)),[i,Hc(i)]}function F2(e){const t=Hc(e);return[ff(e),t,ff(t)]}function ff(e){return e.replace(/start|end/g,t=>L2[t])}const Py=["left","right"],Ry=["right","left"],z2=["top","bottom"],H2=["bottom","top"];function B2(e,t,r){switch(e){case"top":case"bottom":return r?t?Ry:Py:t?Py:Ry;case"left":case"right":return t?z2:H2;default:return[]}}function W2(e,t,r,n){const s=Na(e);let a=B2(Cn(e),r==="start",n);return s&&(a=a.map(i=>i+"-"+s),t&&(a=a.concat(a.map(ff)))),a}function Hc(e){return e.replace(/left|right|bottom|top/g,t=>M2[t])}function V2(e){return{top:0,right:0,bottom:0,left:0,...e}}function cb(e){return typeof e!="number"?V2(e):{top:e,right:e,bottom:e,left:e}}function Bc(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Ty(e,t,r){let{reference:n,floating:s}=e;const a=Jr(t),i=ep(t),l=Zm(i),c=Cn(t),u=a==="y",d=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,m=n[l]/2-s[l]/2;let y;switch(c){case"top":y={x:d,y:n.y-s.height};break;case"bottom":y={x:d,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:h};break;case"left":y={x:n.x-s.width,y:h};break;default:y={x:n.x,y:n.y}}switch(Na(t)){case"start":y[i]-=m*(r&&u?-1:1);break;case"end":y[i]+=m*(r&&u?-1:1);break}return y}const q2=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:i}=r,l=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=Ty(u,n,c),m=n,y={},b=0;for(let g=0;g<l.length;g++){const{name:w,fn:p}=l[g],{x:v,y:x,data:j,reset:N}=await p({x:d,y:h,initialPlacement:n,placement:m,strategy:s,middlewareData:y,rects:u,platform:i,elements:{reference:e,floating:t}});d=v??d,h=x??h,y={...y,[w]:{...y[w],...j}},N&&b<=50&&(b++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(u=N.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):N.rects),{x:d,y:h}=Ty(u,m,c)),g=-1)}return{x:d,y:h,placement:m,strategy:s,middlewareData:y}};async function Oi(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:m=!1,padding:y=0}=En(t,e),b=cb(y),w=l[m?h==="floating"?"reference":"floating":h],p=Bc(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(w)))==null||r?w:w.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),v=h==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,x=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),j=await(a.isElement==null?void 0:a.isElement(x))?await(a.getScale==null?void 0:a.getScale(x))||{x:1,y:1}:{x:1,y:1},N=Bc(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:x,strategy:c}):v);return{top:(p.top-N.top+b.top)/j.y,bottom:(N.bottom-p.bottom+b.bottom)/j.y,left:(p.left-N.left+b.left)/j.x,right:(N.right-p.right+b.right)/j.x}}const G2=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=En(e,t)||{};if(u==null)return{};const h=cb(d),m={x:r,y:n},y=ep(s),b=Zm(y),g=await i.getDimensions(u),w=y==="y",p=w?"top":"left",v=w?"bottom":"right",x=w?"clientHeight":"clientWidth",j=a.reference[b]+a.reference[y]-m[y]-a.floating[b],N=m[y]-a.reference[y],S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let _=S?S[x]:0;(!_||!await(i.isElement==null?void 0:i.isElement(S)))&&(_=l.floating[x]||a.floating[b]);const E=j/2-N/2,I=_/2-g[b]/2-1,k=fs(h[p],I),z=fs(h[v],I),A=k,L=_-g[b]-z,R=_/2-g[b]/2+E,B=hf(A,R,L),D=!c.arrow&&Na(s)!=null&&R!==B&&a.reference[b]/2-(R<A?k:z)-g[b]/2<0,O=D?R<A?R-A:R-L:0;return{[y]:m[y]+O,data:{[y]:B,centerOffset:R-B-O,...D&&{alignmentOffset:O}},reset:D}}}),K2=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:g=!0,...w}=En(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const p=Cn(s),v=Jr(l),x=Cn(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=m||(x||!g?[Hc(l)]:F2(l)),S=b!=="none";!m&&S&&N.push(...W2(l,g,b,j));const _=[l,...N],E=await Oi(t,w),I=[];let k=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&I.push(E[p]),h){const R=U2(s,i,j);I.push(E[R[0]],E[R[1]])}if(k=[...k,{placement:s,overflows:I}],!I.every(R=>R<=0)){var z,A;const R=(((z=a.flip)==null?void 0:z.index)||0)+1,B=_[R];if(B&&(!(h==="alignment"?v!==Jr(B):!1)||k.every(C=>Jr(C.placement)===v?C.overflows[0]>0:!0)))return{data:{index:R,overflows:k},reset:{placement:B}};let D=(A=k.filter(O=>O.overflows[0]<=0).sort((O,C)=>O.overflows[1]-C.overflows[1])[0])==null?void 0:A.placement;if(!D)switch(y){case"bestFit":{var L;const O=(L=k.filter(C=>{if(S){const P=Jr(C.placement);return P===v||P==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(P=>P>0).reduce((P,U)=>P+U,0)]).sort((C,P)=>C[1]-P[1])[0])==null?void 0:L[0];O&&(D=O);break}case"initialPlacement":D=l;break}if(s!==D)return{reset:{placement:D}}}return{}}}};function Iy(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ay(e){return D2.some(t=>e[t]>=0)}const Y2=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=En(e,t);switch(n){case"referenceHidden":{const a=await Oi(t,{...s,elementContext:"reference"}),i=Iy(a,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Ay(i)}}}case"escaped":{const a=await Oi(t,{...s,altBoundary:!0}),i=Iy(a,r.floating);return{data:{escapedOffsets:i,escaped:Ay(i)}}}default:return{}}}}},ub=new Set(["left","top"]);async function Q2(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=Cn(r),l=Na(r),c=Jr(r)==="y",u=ub.has(i)?-1:1,d=a&&c?-1:1,h=En(t,e);let{mainAxis:m,crossAxis:y,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof b=="number"&&(y=l==="end"?b*-1:b),c?{x:y*d,y:m*u}:{x:m*u,y:y*d}}const J2=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:i,middlewareData:l}=t,c=await Q2(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:i}}}}},X2=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:l={fn:w=>{let{x:p,y:v}=w;return{x:p,y:v}}},...c}=En(e,t),u={x:r,y:n},d=await Oi(t,c),h=Jr(Cn(s)),m=Xm(h);let y=u[m],b=u[h];if(a){const w=m==="y"?"top":"left",p=m==="y"?"bottom":"right",v=y+d[w],x=y-d[p];y=hf(v,y,x)}if(i){const w=h==="y"?"top":"left",p=h==="y"?"bottom":"right",v=b+d[w],x=b-d[p];b=hf(v,b,x)}const g=l.fn({...t,[m]:y,[h]:b});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[m]:a,[h]:i}}}}}},Z2=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:a,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=En(e,t),d={x:r,y:n},h=Jr(s),m=Xm(h);let y=d[m],b=d[h];const g=En(l,t),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const x=m==="y"?"height":"width",j=a.reference[m]-a.floating[x]+w.mainAxis,N=a.reference[m]+a.reference[x]-w.mainAxis;y<j?y=j:y>N&&(y=N)}if(u){var p,v;const x=m==="y"?"width":"height",j=ub.has(Cn(s)),N=a.reference[h]-a.floating[x]+(j&&((p=i.offset)==null?void 0:p[h])||0)+(j?0:w.crossAxis),S=a.reference[h]+a.reference[x]+(j?0:((v=i.offset)==null?void 0:v[h])||0)-(j?w.crossAxis:0);b<N?b=N:b>S&&(b=S)}return{[m]:y,[h]:b}}}},eR=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:a,platform:i,elements:l}=t,{apply:c=()=>{},...u}=En(e,t),d=await Oi(t,u),h=Cn(s),m=Na(s),y=Jr(s)==="y",{width:b,height:g}=a.floating;let w,p;h==="top"||h==="bottom"?(w=h,p=m===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(p=h,w=m==="end"?"top":"bottom");const v=g-d.top-d.bottom,x=b-d.left-d.right,j=fs(g-d[w],v),N=fs(b-d[p],x),S=!t.middlewareData.shift;let _=j,E=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=x),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(_=v),S&&!m){const k=Zt(d.left,0),z=Zt(d.right,0),A=Zt(d.top,0),L=Zt(d.bottom,0);y?E=b-2*(k!==0||z!==0?k+z:Zt(d.left,d.right)):_=g-2*(A!==0||L!==0?A+L:Zt(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:_});const I=await i.getDimensions(l.floating);return b!==I.width||g!==I.height?{reset:{rects:!0}}:{}}}};function Ru(){return typeof window<"u"}function Sa(e){return db(e)?(e.nodeName||"").toLowerCase():"#document"}function rr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function sn(e){var t;return(t=(db(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function db(e){return Ru()?e instanceof Node||e instanceof rr(e).Node:!1}function Mr(e){return Ru()?e instanceof Element||e instanceof rr(e).Element:!1}function nn(e){return Ru()?e instanceof HTMLElement||e instanceof rr(e).HTMLElement:!1}function Oy(e){return!Ru()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof rr(e).ShadowRoot}const tR=new Set(["inline","contents"]);function ol(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Lr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!tR.has(s)}const rR=new Set(["table","td","th"]);function nR(e){return rR.has(Sa(e))}const sR=[":popover-open",":modal"];function Tu(e){return sR.some(t=>{try{return e.matches(t)}catch{return!1}})}const oR=["transform","translate","scale","rotate","perspective"],aR=["transform","translate","scale","rotate","perspective","filter"],iR=["paint","layout","strict","content"];function tp(e){const t=rp(),r=Mr(e)?Lr(e):e;return oR.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||aR.some(n=>(r.willChange||"").includes(n))||iR.some(n=>(r.contain||"").includes(n))}function lR(e){let t=ms(e);for(;nn(t)&&!ma(t);){if(tp(t))return t;if(Tu(t))return null;t=ms(t)}return null}function rp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const cR=new Set(["html","body","#document"]);function ma(e){return cR.has(Sa(e))}function Lr(e){return rr(e).getComputedStyle(e)}function Iu(e){return Mr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ms(e){if(Sa(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Oy(e)&&e.host||sn(e);return Oy(t)?t.host:t}function hb(e){const t=ms(e);return ma(t)?e.ownerDocument?e.ownerDocument.body:e.body:nn(t)&&ol(t)?t:hb(t)}function Di(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=hb(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),i=rr(s);if(a){const l=mf(i);return t.concat(i,i.visualViewport||[],ol(s)?s:[],l&&r?Di(l):[])}return t.concat(s,Di(s,[],r))}function mf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function fb(e){const t=Lr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=nn(e),a=s?e.offsetWidth:r,i=s?e.offsetHeight:n,l=zc(r)!==a||zc(n)!==i;return l&&(r=a,n=i),{width:r,height:n,$:l}}function np(e){return Mr(e)?e:e.contextElement}function qo(e){const t=np(e);if(!nn(t))return tn(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=fb(t);let i=(a?zc(r.width):r.width)/n,l=(a?zc(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const uR=tn(0);function mb(e){const t=rr(e);return!rp()||!t.visualViewport?uR:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function dR(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==rr(e)?!1:t}function eo(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=np(e);let i=tn(1);t&&(n?Mr(n)&&(i=qo(n)):i=qo(e));const l=dR(a,r,n)?mb(a):tn(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,h=s.height/i.y;if(a){const m=rr(a),y=n&&Mr(n)?rr(n):n;let b=m,g=mf(b);for(;g&&n&&y!==b;){const w=qo(g),p=g.getBoundingClientRect(),v=Lr(g),x=p.left+(g.clientLeft+parseFloat(v.paddingLeft))*w.x,j=p.top+(g.clientTop+parseFloat(v.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,h*=w.y,c+=x,u+=j,b=rr(g),g=mf(b)}}return Bc({width:d,height:h,x:c,y:u})}function Au(e,t){const r=Iu(e).scrollLeft;return t?t.left+r:eo(sn(e)).left+r}function pb(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Au(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function hR(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",i=sn(n),l=t?Tu(t.floating):!1;if(n===i||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=tn(1);const d=tn(0),h=nn(n);if((h||!h&&!a)&&((Sa(n)!=="body"||ol(i))&&(c=Iu(n)),nn(n))){const y=eo(n);u=qo(n),d.x=y.x+n.clientLeft,d.y=y.y+n.clientTop}const m=i&&!h&&!a?pb(i,c):tn(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:r.y*u.y-c.scrollTop*u.y+d.y+m.y}}function fR(e){return Array.from(e.getClientRects())}function mR(e){const t=sn(e),r=Iu(e),n=e.ownerDocument.body,s=Zt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Zt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+Au(e);const l=-r.scrollTop;return Lr(n).direction==="rtl"&&(i+=Zt(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:i,y:l}}const Dy=25;function pR(e,t){const r=rr(e),n=sn(e),s=r.visualViewport;let a=n.clientWidth,i=n.clientHeight,l=0,c=0;if(s){a=s.width,i=s.height;const d=rp();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=Au(n);if(u<=0){const d=n.ownerDocument,h=d.body,m=getComputedStyle(h),y=d.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,b=Math.abs(n.clientWidth-h.clientWidth-y);b<=Dy&&(a-=b)}else u<=Dy&&(a+=u);return{width:a,height:i,x:l,y:c}}const gR=new Set(["absolute","fixed"]);function yR(e,t){const r=eo(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=nn(e)?qo(e):tn(1),i=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=n*a.y;return{width:i,height:l,x:c,y:u}}function My(e,t,r){let n;if(t==="viewport")n=pR(e,r);else if(t==="document")n=mR(sn(e));else if(Mr(t))n=yR(t,r);else{const s=mb(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Bc(n)}function gb(e,t){const r=ms(e);return r===t||!Mr(r)||ma(r)?!1:Lr(r).position==="fixed"||gb(r,t)}function vR(e,t){const r=t.get(e);if(r)return r;let n=Di(e,[],!1).filter(l=>Mr(l)&&Sa(l)!=="body"),s=null;const a=Lr(e).position==="fixed";let i=a?ms(e):e;for(;Mr(i)&&!ma(i);){const l=Lr(i),c=tp(i);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&gR.has(s.position)||ol(i)&&!c&&gb(e,i))?n=n.filter(d=>d!==i):s=l,i=ms(i)}return t.set(e,n),n}function xR(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?Tu(t)?[]:vR(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,d)=>{const h=My(t,d,s);return u.top=Zt(h.top,u.top),u.right=fs(h.right,u.right),u.bottom=fs(h.bottom,u.bottom),u.left=Zt(h.left,u.left),u},My(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function wR(e){const{width:t,height:r}=fb(e);return{width:t,height:r}}function bR(e,t,r){const n=nn(t),s=sn(t),a=r==="fixed",i=eo(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=tn(0);function u(){c.x=Au(s)}if(n||!n&&!a)if((Sa(t)!=="body"||ol(s))&&(l=Iu(t)),n){const y=eo(t,!0,a,t);c.x=y.x+t.clientLeft,c.y=y.y+t.clientTop}else s&&u();a&&!n&&s&&u();const d=s&&!n&&!a?pb(s,l):tn(0),h=i.left+l.scrollLeft-c.x-d.x,m=i.top+l.scrollTop-c.y-d.y;return{x:h,y:m,width:i.width,height:i.height}}function Vd(e){return Lr(e).position==="static"}function Ly(e,t){if(!nn(e)||Lr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return sn(e)===r&&(r=r.ownerDocument.body),r}function yb(e,t){const r=rr(e);if(Tu(e))return r;if(!nn(e)){let s=ms(e);for(;s&&!ma(s);){if(Mr(s)&&!Vd(s))return s;s=ms(s)}return r}let n=Ly(e,t);for(;n&&nR(n)&&Vd(n);)n=Ly(n,t);return n&&ma(n)&&Vd(n)&&!tp(n)?r:n||lR(e)||r}const jR=async function(e){const t=this.getOffsetParent||yb,r=this.getDimensions,n=await r(e.floating);return{reference:bR(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function NR(e){return Lr(e).direction==="rtl"}const SR={convertOffsetParentRelativeRectToViewportRelativeRect:hR,getDocumentElement:sn,getClippingRect:xR,getOffsetParent:yb,getElementRects:jR,getClientRects:fR,getDimensions:wR,getScale:qo,isElement:Mr,isRTL:NR};function vb(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function _R(e,t){let r=null,n;const s=sn(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:h,width:m,height:y}=u;if(l||t(),!m||!y)return;const b=Ul(h),g=Ul(s.clientWidth-(d+m)),w=Ul(s.clientHeight-(h+y)),p=Ul(d),x={rootMargin:-b+"px "+-g+"px "+-w+"px "+-p+"px",threshold:Zt(0,fs(1,c))||1};let j=!0;function N(S){const _=S[0].intersectionRatio;if(_!==c){if(!j)return i();_?i(!1,_):n=setTimeout(()=>{i(!1,1e-7)},1e3)}_===1&&!vb(u,e.getBoundingClientRect())&&i(),j=!1}try{r=new IntersectionObserver(N,{...x,root:s.ownerDocument})}catch{r=new IntersectionObserver(N,x)}r.observe(e)}return i(!0),a}function ER(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=np(e),d=s||a?[...u?Di(u):[],...Di(t)]:[];d.forEach(p=>{s&&p.addEventListener("scroll",r,{passive:!0}),a&&p.addEventListener("resize",r)});const h=u&&l?_R(u,r):null;let m=-1,y=null;i&&(y=new ResizeObserver(p=>{let[v]=p;v&&v.target===u&&y&&(y.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var x;(x=y)==null||x.observe(t)})),r()}),u&&!c&&y.observe(u),y.observe(t));let b,g=c?eo(e):null;c&&w();function w(){const p=eo(e);g&&!vb(g,p)&&r(),g=p,b=requestAnimationFrame(w)}return r(),()=>{var p;d.forEach(v=>{s&&v.removeEventListener("scroll",r),a&&v.removeEventListener("resize",r)}),h==null||h(),(p=y)==null||p.disconnect(),y=null,c&&cancelAnimationFrame(b)}}const CR=J2,kR=X2,PR=K2,RR=eR,TR=Y2,$y=G2,IR=Z2,AR=(e,t,r)=>{const n=new Map,s={platform:SR,...r},a={...s.platform,_c:n};return q2(e,t,{...s,platform:a})};var OR=typeof document<"u",DR=function(){},dc=OR?f.useLayoutEffect:DR;function Wc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Wc(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!Wc(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function xb(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Uy(e,t){const r=xb(e);return Math.round(t*r)/r}function qd(e){const t=f.useRef(e);return dc(()=>{t.current=e}),t}function MR(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=f.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,y]=f.useState(n);Wc(m,n)||y(n);const[b,g]=f.useState(null),[w,p]=f.useState(null),v=f.useCallback(C=>{C!==S.current&&(S.current=C,g(C))},[]),x=f.useCallback(C=>{C!==_.current&&(_.current=C,p(C))},[]),j=a||b,N=i||w,S=f.useRef(null),_=f.useRef(null),E=f.useRef(d),I=c!=null,k=qd(c),z=qd(s),A=qd(u),L=f.useCallback(()=>{if(!S.current||!_.current)return;const C={placement:t,strategy:r,middleware:m};z.current&&(C.platform=z.current),AR(S.current,_.current,C).then(P=>{const U={...P,isPositioned:A.current!==!1};R.current&&!Wc(E.current,U)&&(E.current=U,io.flushSync(()=>{h(U)}))})},[m,t,r,z,A]);dc(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,h(C=>({...C,isPositioned:!1})))},[u]);const R=f.useRef(!1);dc(()=>(R.current=!0,()=>{R.current=!1}),[]),dc(()=>{if(j&&(S.current=j),N&&(_.current=N),j&&N){if(k.current)return k.current(j,N,L);L()}},[j,N,L,k,I]);const B=f.useMemo(()=>({reference:S,floating:_,setReference:v,setFloating:x}),[v,x]),D=f.useMemo(()=>({reference:j,floating:N}),[j,N]),O=f.useMemo(()=>{const C={position:r,left:0,top:0};if(!D.floating)return C;const P=Uy(D.floating,d.x),U=Uy(D.floating,d.y);return l?{...C,transform:"translate("+P+"px, "+U+"px)",...xb(D.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:P,top:U}},[r,l,D.floating,d.x,d.y]);return f.useMemo(()=>({...d,update:L,refs:B,elements:D,floatingStyles:O}),[d,L,B,D,O])}const LR=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?$y({element:n.current,padding:s}).fn(r):{}:n?$y({element:n,padding:s}).fn(r):{}}}},$R=(e,t)=>({...CR(e),options:[e,t]}),UR=(e,t)=>({...kR(e),options:[e,t]}),FR=(e,t)=>({...IR(e),options:[e,t]}),zR=(e,t)=>({...PR(e),options:[e,t]}),HR=(e,t)=>({...RR(e),options:[e,t]}),BR=(e,t)=>({...TR(e),options:[e,t]}),WR=(e,t)=>({...LR(e),options:[e,t]});var VR="Arrow",wb=f.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return o.jsx(ae.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});wb.displayName=VR;var qR=wb;function sp(e){const[t,r]=f.useState(void 0);return ft(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var op="Popper",[bb,_a]=$t(op),[GR,jb]=bb(op),Nb=e=>{const{__scopePopper:t,children:r}=e,[n,s]=f.useState(null);return o.jsx(GR,{scope:t,anchor:n,onAnchorChange:s,children:r})};Nb.displayName=op;var Sb="PopperAnchor",_b=f.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=jb(Sb,r),i=f.useRef(null),l=xe(t,i),c=f.useRef(null);return f.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||i.current,u!==c.current&&a.onAnchorChange(c.current)}),n?null:o.jsx(ae.div,{...s,ref:l})});_b.displayName=Sb;var ap="PopperContent",[KR,YR]=bb(ap),Eb=f.forwardRef((e,t)=>{var T,G,te,le,ge,me;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:y="optimized",onPlaced:b,...g}=e,w=jb(ap,r),[p,v]=f.useState(null),x=xe(t,De=>v(De)),[j,N]=f.useState(null),S=sp(j),_=(S==null?void 0:S.width)??0,E=(S==null?void 0:S.height)??0,I=n+(a!=="center"?"-"+a:""),k=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},z=Array.isArray(u)?u:[u],A=z.length>0,L={padding:k,boundary:z.filter(JR),altBoundary:A},{refs:R,floatingStyles:B,placement:D,isPositioned:O,middlewareData:C}=MR({strategy:"fixed",placement:I,whileElementsMounted:(...De)=>ER(...De,{animationFrame:y==="always"}),elements:{reference:w.anchor},middleware:[$R({mainAxis:s+E,alignmentAxis:i}),c&&UR({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?FR():void 0,...L}),c&&zR({...L}),HR({...L,apply:({elements:De,rects:ne,availableWidth:ce,availableHeight:Pe})=>{const{width:ze,height:mt}=ne.reference,je=De.floating.style;je.setProperty("--radix-popper-available-width",`${ce}px`),je.setProperty("--radix-popper-available-height",`${Pe}px`),je.setProperty("--radix-popper-anchor-width",`${ze}px`),je.setProperty("--radix-popper-anchor-height",`${mt}px`)}}),j&&WR({element:j,padding:l}),XR({arrowWidth:_,arrowHeight:E}),m&&BR({strategy:"referenceHidden",...L})]}),[P,U]=Pb(D),$=Je(b);ft(()=>{O&&($==null||$())},[O,$]);const V=(T=C.arrow)==null?void 0:T.x,M=(G=C.arrow)==null?void 0:G.y,X=((te=C.arrow)==null?void 0:te.centerOffset)!==0,[oe,ue]=f.useState();return ft(()=>{p&&ue(window.getComputedStyle(p).zIndex)},[p]),o.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:O?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:oe,"--radix-popper-transform-origin":[(le=C.transformOrigin)==null?void 0:le.x,(ge=C.transformOrigin)==null?void 0:ge.y].join(" "),...((me=C.hide)==null?void 0:me.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(KR,{scope:r,placedSide:P,onArrowChange:N,arrowX:V,arrowY:M,shouldHideArrow:X,children:o.jsx(ae.div,{"data-side":P,"data-align":U,...g,ref:x,style:{...g.style,animation:O?void 0:"none"}})})})});Eb.displayName=ap;var Cb="PopperArrow",QR={top:"bottom",right:"left",bottom:"top",left:"right"},kb=f.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=YR(Cb,n),i=QR[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(qR,{...s,ref:r,style:{...s.style,display:"block"}})})});kb.displayName=Cb;function JR(e){return e!==null}var XR=e=>({name:"transformOrigin",options:e,fn(t){var w,p,v;const{placement:r,rects:n,middlewareData:s}=t,i=((w=s.arrow)==null?void 0:w.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=Pb(r),h={start:"0%",center:"50%",end:"100%"}[d],m=(((p=s.arrow)==null?void 0:p.x)??0)+l/2,y=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let b="",g="";return u==="bottom"?(b=i?h:`${m}px`,g=`${-c}px`):u==="top"?(b=i?h:`${m}px`,g=`${n.floating.height+c}px`):u==="right"?(b=`${-c}px`,g=i?h:`${y}px`):u==="left"&&(b=`${n.floating.width+c}px`,g=i?h:`${y}px`),{data:{x:b,y:g}}}});function Pb(e){const[t,r="center"]=e.split("-");return[t,r]}var Rb=Nb,ip=_b,lp=Eb,cp=kb,[Ou]=$t("Tooltip",[_a]),up=_a(),Tb="TooltipProvider",ZR=700,Fy="tooltip.open",[eT,Ib]=Ou(Tb),Ab=e=>{const{__scopeTooltip:t,delayDuration:r=ZR,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=e,i=f.useRef(!0),l=f.useRef(!1),c=f.useRef(0);return f.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(eT,{scope:t,isOpenDelayedRef:i,delayDuration:r,onOpen:f.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:f.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:a})};Ab.displayName=Tb;var Ob="Tooltip",[L$,Du]=Ou(Ob),pf="TooltipTrigger",tT=f.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Du(pf,r),a=Ib(pf,r),i=up(r),l=f.useRef(null),c=xe(t,l,s.onTriggerChange),u=f.useRef(!1),d=f.useRef(!1),h=f.useCallback(()=>u.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),o.jsx(ip,{asChild:!0,...i,children:o.jsx(ae.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:Q(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Q(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Q(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Q(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:Q(e.onBlur,s.onClose),onClick:Q(e.onClick,s.onClose)})})});tT.displayName=pf;var rT="TooltipPortal",[$$,nT]=Ou(rT,{forceMount:void 0}),pa="TooltipContent",Db=f.forwardRef((e,t)=>{const r=nT(pa,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...a}=e,i=Du(pa,e.__scopeTooltip);return o.jsx(wt,{present:n||i.open,children:i.disableHoverableContent?o.jsx(Mb,{side:s,...a,ref:t}):o.jsx(sT,{side:s,...a,ref:t})})}),sT=f.forwardRef((e,t)=>{const r=Du(pa,e.__scopeTooltip),n=Ib(pa,e.__scopeTooltip),s=f.useRef(null),a=xe(t,s),[i,l]=f.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:h}=n,m=f.useCallback(()=>{l(null),h(!1)},[h]),y=f.useCallback((b,g)=>{const w=b.currentTarget,p={x:b.clientX,y:b.clientY},v=cT(p,w.getBoundingClientRect()),x=uT(p,v),j=dT(g.getBoundingClientRect()),N=fT([...x,...j]);l(N),h(!0)},[h]);return f.useEffect(()=>()=>m(),[m]),f.useEffect(()=>{if(c&&d){const b=w=>y(w,d),g=w=>y(w,c);return c.addEventListener("pointerleave",b),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",b),d.removeEventListener("pointerleave",g)}}},[c,d,y,m]),f.useEffect(()=>{if(i){const b=g=>{const w=g.target,p={x:g.clientX,y:g.clientY},v=(c==null?void 0:c.contains(w))||(d==null?void 0:d.contains(w)),x=!hT(p,i);v?m():x&&(m(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,d,i,u,m]),o.jsx(Mb,{...e,ref:a})}),[oT,aT]=Ou(Ob,{isInside:!1}),iT=XC("TooltipContent"),Mb=f.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:i,...l}=e,c=Du(pa,r),u=up(r),{onClose:d}=c;return f.useEffect(()=>(document.addEventListener(Fy,d),()=>document.removeEventListener(Fy,d)),[d]),f.useEffect(()=>{if(c.trigger){const h=m=>{const y=m.target;y!=null&&y.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),o.jsx(ba,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:o.jsxs(lp,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(iT,{children:n}),o.jsx(oT,{scope:r,isInside:!0,children:o.jsx(wk,{id:c.contentId,role:"tooltip",children:s||n})})]})})});Db.displayName=pa;var Lb="TooltipArrow",lT=f.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=up(r);return aT(Lb,r).isInside?null:o.jsx(cp,{...s,...n,ref:t})});lT.displayName=Lb;function cT(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function uT(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function dT(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function hT(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a],c=t[i],u=l.x,d=l.y,h=c.x,m=c.y;d>n!=m>n&&r<(h-u)*(n-d)/(m-d)+u&&(s=!s)}return s}function fT(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),mT(t)}function mT(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const a=t[t.length-1],i=t[t.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const a=r[r.length-1],i=r[r.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var pT=Ab,$b=Db;const gT=pT,yT=f.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx($b,{ref:n,sideOffset:t,className:ie("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));yT.displayName=$b.displayName;var Mu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},vT={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Vn,Jf,Qv,xT=(Qv=class{constructor(){Ee(this,Vn,vT);Ee(this,Jf,!1)}setTimeoutProvider(e){ye(this,Vn,e)}setTimeout(e,t){return F(this,Vn).setTimeout(e,t)}clearTimeout(e){F(this,Vn).clearTimeout(e)}setInterval(e,t){return F(this,Vn).setInterval(e,t)}clearInterval(e){F(this,Vn).clearInterval(e)}},Vn=new WeakMap,Jf=new WeakMap,Qv),gf=new xT;function wT(e){setTimeout(e,0)}var Lu=typeof window>"u"||"Deno"in globalThis;function Cr(){}function bT(e,t){return typeof e=="function"?e(t):e}function jT(e){return typeof e=="number"&&e>=0&&e!==1/0}function NT(e,t){return Math.max(e+(t||0)-Date.now(),0)}function yf(e,t){return typeof e=="function"?e(t):e}function ST(e,t){return typeof e=="function"?e(t):e}function zy(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==dp(i,t.options))return!1}else if(!Li(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function Hy(e,t){const{exact:r,status:n,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Mi(t.options.mutationKey)!==Mi(a))return!1}else if(!Li(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function dp(e,t){return((t==null?void 0:t.queryKeyHashFn)||Mi)(e)}function Mi(e){return JSON.stringify(e,(t,r)=>vf(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Li(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Li(e[r],t[r])):!1}var _T=Object.prototype.hasOwnProperty;function Ub(e,t){if(e===t)return e;const r=By(e)&&By(t);if(!r&&!(vf(e)&&vf(t)))return t;const s=(r?e:Object.keys(e)).length,a=r?t:Object.keys(t),i=a.length,l=r?new Array(i):{};let c=0;for(let u=0;u<i;u++){const d=r?u:a[u],h=e[d],m=t[d];if(h===m){l[d]=h,(r?u<s:_T.call(e,d))&&c++;continue}if(h===null||m===null||typeof h!="object"||typeof m!="object"){l[d]=m;continue}const y=Ub(h,m);l[d]=y,y===h&&c++}return s===i&&c===s?e:l}function By(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function vf(e){if(!Wy(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Wy(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Wy(e){return Object.prototype.toString.call(e)==="[object Object]"}function ET(e){return new Promise(t=>{gf.setTimeout(t,e)})}function CT(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Ub(e,t):t}function kT(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function PT(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var hp=Symbol();function Fb(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===hp?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var $s,qn,Qo,Jv,RT=(Jv=class extends Mu{constructor(){super();Ee(this,$s);Ee(this,qn);Ee(this,Qo);ye(this,Qo,t=>{if(!Lu&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){F(this,qn)||this.setEventListener(F(this,Qo))}onUnsubscribe(){var t;this.hasListeners()||((t=F(this,qn))==null||t.call(this),ye(this,qn,void 0))}setEventListener(t){var r;ye(this,Qo,t),(r=F(this,qn))==null||r.call(this),ye(this,qn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){F(this,$s)!==t&&(ye(this,$s,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof F(this,$s)=="boolean"?F(this,$s):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},$s=new WeakMap,qn=new WeakMap,Qo=new WeakMap,Jv),zb=new RT;function TT(){let e,t;const r=new Promise((s,a)=>{e=s,t=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var IT=wT;function AT(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=IT;const a=l=>{t?e.push(l):s(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var At=AT(),Jo,Gn,Xo,Xv,OT=(Xv=class extends Mu{constructor(){super();Ee(this,Jo,!0);Ee(this,Gn);Ee(this,Xo);ye(this,Xo,t=>{if(!Lu&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){F(this,Gn)||this.setEventListener(F(this,Xo))}onUnsubscribe(){var t;this.hasListeners()||((t=F(this,Gn))==null||t.call(this),ye(this,Gn,void 0))}setEventListener(t){var r;ye(this,Xo,t),(r=F(this,Gn))==null||r.call(this),ye(this,Gn,t(this.setOnline.bind(this)))}setOnline(t){F(this,Jo)!==t&&(ye(this,Jo,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return F(this,Jo)}},Jo=new WeakMap,Gn=new WeakMap,Xo=new WeakMap,Xv),Vc=new OT;function DT(e){return Math.min(1e3*2**e,3e4)}function Hb(e){return(e??"online")==="online"?Vc.isOnline():!0}var xf=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Bb(e){let t=!1,r=0,n;const s=TT(),a=()=>s.status!=="pending",i=g=>{var w;if(!a()){const p=new xf(g);m(p),(w=e.onCancel)==null||w.call(e,p)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>zb.isFocused()&&(e.networkMode==="always"||Vc.isOnline())&&e.canRun(),d=()=>Hb(e.networkMode)&&e.canRun(),h=g=>{a()||(n==null||n(),s.resolve(g))},m=g=>{a()||(n==null||n(),s.reject(g))},y=()=>new Promise(g=>{var w;n=p=>{(a()||u())&&g(p)},(w=e.onPause)==null||w.call(e)}).then(()=>{var g;n=void 0,a()||(g=e.onContinue)==null||g.call(e)}),b=()=>{if(a())return;let g;const w=r===0?e.initialPromise:void 0;try{g=w??e.fn()}catch(p){g=Promise.reject(p)}Promise.resolve(g).then(h).catch(p=>{var S;if(a())return;const v=e.retry??(Lu?0:3),x=e.retryDelay??DT,j=typeof x=="function"?x(r,p):x,N=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,p);if(t||!N){m(p);return}r++,(S=e.onFail)==null||S.call(e,r,p),ET(j).then(()=>u()?void 0:y()).then(()=>{t?m(p):b()})})};return{promise:s,status:()=>s.status,cancel:i,continue:()=>(n==null||n(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?b():y().then(b),s)}}var Us,Zv,Wb=(Zv=class{constructor(){Ee(this,Us)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),jT(this.gcTime)&&ye(this,Us,gf.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Lu?1/0:5*60*1e3))}clearGcTimeout(){F(this,Us)&&(gf.clearTimeout(F(this,Us)),ye(this,Us,void 0))}},Us=new WeakMap,Zv),Fs,Zo,lr,zs,lt,Ki,Hs,kr,un,ex,MT=(ex=class extends Wb{constructor(t){super();Ee(this,kr);Ee(this,Fs);Ee(this,Zo);Ee(this,lr);Ee(this,zs);Ee(this,lt);Ee(this,Ki);Ee(this,Hs);ye(this,Hs,!1),ye(this,Ki,t.defaultOptions),this.setOptions(t.options),this.observers=[],ye(this,zs,t.client),ye(this,lr,F(this,zs).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ye(this,Fs,Vy(this.options)),this.state=t.state??F(this,Fs),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=F(this,lt))==null?void 0:t.promise}setOptions(t){if(this.options={...F(this,Ki),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Vy(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),ye(this,Fs,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,lr).remove(this)}setData(t,r){const n=CT(this.state.data,t,this.options);return jt(this,kr,un).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){jt(this,kr,un).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=F(this,lt))==null?void 0:n.promise;return(s=F(this,lt))==null||s.cancel(t),r?r.then(Cr).catch(Cr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,Fs))}isActive(){return this.observers.some(t=>ST(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===hp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>yf(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!NT(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=F(this,lt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=F(this,lt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),F(this,lr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(F(this,lt)&&(F(this,Hs)?F(this,lt).cancel({revert:!0}):F(this,lt).cancelRetry()),this.scheduleGc()),F(this,lr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||jt(this,kr,un).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,h,m,y,b,g,w,p,v,x;if(this.state.fetchStatus!=="idle"&&((c=F(this,lt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(F(this,lt))return F(this,lt).continueRetry(),F(this,lt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(N=>N.options.queryFn);j&&this.setOptions(j.options)}const n=new AbortController,s=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(ye(this,Hs,!0),n.signal)})},a=()=>{const j=Fb(this.options,r),S=(()=>{const _={client:F(this,zs),queryKey:this.queryKey,meta:this.meta};return s(_),_})();return ye(this,Hs,!1),this.options.persister?this.options.persister(j,S,this):j(S)},l=(()=>{const j={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:F(this,zs),state:this.state,fetchFn:a};return s(j),j})();(u=this.options.behavior)==null||u.onFetch(l,this),ye(this,Zo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&jt(this,kr,un).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),ye(this,lt,Bb({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:j=>{j instanceof xf&&j.revert&&this.setState({...F(this,Zo),fetchStatus:"idle"}),n.abort()},onFail:(j,N)=>{jt(this,kr,un).call(this,{type:"failed",failureCount:j,error:N})},onPause:()=>{jt(this,kr,un).call(this,{type:"pause"})},onContinue:()=>{jt(this,kr,un).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await F(this,lt).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(y=(m=F(this,lr).config).onSuccess)==null||y.call(m,j,this),(g=(b=F(this,lr).config).onSettled)==null||g.call(b,j,this.state.error,this),j}catch(j){if(j instanceof xf){if(j.silent)return F(this,lt).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw jt(this,kr,un).call(this,{type:"error",error:j}),(p=(w=F(this,lr).config).onError)==null||p.call(w,j,this),(x=(v=F(this,lr).config).onSettled)==null||x.call(v,this.state.data,j,this),j}finally{this.scheduleGc()}}},Fs=new WeakMap,Zo=new WeakMap,lr=new WeakMap,zs=new WeakMap,lt=new WeakMap,Ki=new WeakMap,Hs=new WeakMap,kr=new WeakSet,un=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...LT(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ye(this,Zo,t.manual?s:void 0),s;case"error":const a=t.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),At.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),F(this,lr).notify({query:this,type:"updated",action:t})})},ex);function LT(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Hb(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Vy(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function qy(e){return{onFetch:(t,r)=>{var d,h,m,y,b;const n=t.options,s=(m=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,a=((y=t.state.data)==null?void 0:y.pages)||[],i=((b=t.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const w=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},p=Fb(t.options,t.fetchOptions),v=async(x,j,N)=>{if(g)return Promise.reject();if(j==null&&x.pages.length)return Promise.resolve(x);const _=(()=>{const z={client:t.client,queryKey:t.queryKey,pageParam:j,direction:N?"backward":"forward",meta:t.options.meta};return w(z),z})(),E=await p(_),{maxPages:I}=t.options,k=N?PT:kT;return{pages:k(x.pages,E,I),pageParams:k(x.pageParams,j,I)}};if(s&&a.length){const x=s==="backward",j=x?$T:Gy,N={pages:a,pageParams:i},S=j(n,N);l=await v(N,S,x)}else{const x=e??a.length;do{const j=c===0?i[0]??n.initialPageParam:Gy(n,l);if(c>0&&j==null)break;l=await v(l,j),c++}while(c<x)}return l};t.options.persister?t.fetchFn=()=>{var g,w;return(w=(g=t.options).persister)==null?void 0:w.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Gy(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function $T(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Yi,Vr,Rt,Bs,qr,Ln,tx,UT=(tx=class extends Wb{constructor(t){super();Ee(this,qr);Ee(this,Yi);Ee(this,Vr);Ee(this,Rt);Ee(this,Bs);ye(this,Yi,t.client),this.mutationId=t.mutationId,ye(this,Rt,t.mutationCache),ye(this,Vr,[]),this.state=t.state||FT(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){F(this,Vr).includes(t)||(F(this,Vr).push(t),this.clearGcTimeout(),F(this,Rt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ye(this,Vr,F(this,Vr).filter(r=>r!==t)),this.scheduleGc(),F(this,Rt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){F(this,Vr).length||(this.state.status==="pending"?this.scheduleGc():F(this,Rt).remove(this))}continue(){var t;return((t=F(this,Bs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,l,c,u,d,h,m,y,b,g,w,p,v,x,j,N,S,_,E,I;const r=()=>{jt(this,qr,Ln).call(this,{type:"continue"})},n={client:F(this,Yi),meta:this.options.meta,mutationKey:this.options.mutationKey};ye(this,Bs,Bb({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(k,z)=>{jt(this,qr,Ln).call(this,{type:"failed",failureCount:k,error:z})},onPause:()=>{jt(this,qr,Ln).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,Rt).canRun(this)}));const s=this.state.status==="pending",a=!F(this,Bs).canStart();try{if(s)r();else{jt(this,qr,Ln).call(this,{type:"pending",variables:t,isPaused:a}),await((l=(i=F(this,Rt).config).onMutate)==null?void 0:l.call(i,t,this,n));const z=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));z!==this.state.context&&jt(this,qr,Ln).call(this,{type:"pending",context:z,variables:t,isPaused:a})}const k=await F(this,Bs).start();return await((h=(d=F(this,Rt).config).onSuccess)==null?void 0:h.call(d,k,t,this.state.context,this,n)),await((y=(m=this.options).onSuccess)==null?void 0:y.call(m,k,t,this.state.context,n)),await((g=(b=F(this,Rt).config).onSettled)==null?void 0:g.call(b,k,null,this.state.variables,this.state.context,this,n)),await((p=(w=this.options).onSettled)==null?void 0:p.call(w,k,null,t,this.state.context,n)),jt(this,qr,Ln).call(this,{type:"success",data:k}),k}catch(k){try{throw await((x=(v=F(this,Rt).config).onError)==null?void 0:x.call(v,k,t,this.state.context,this,n)),await((N=(j=this.options).onError)==null?void 0:N.call(j,k,t,this.state.context,n)),await((_=(S=F(this,Rt).config).onSettled)==null?void 0:_.call(S,void 0,k,this.state.variables,this.state.context,this,n)),await((I=(E=this.options).onSettled)==null?void 0:I.call(E,void 0,k,t,this.state.context,n)),k}finally{jt(this,qr,Ln).call(this,{type:"error",error:k})}}finally{F(this,Rt).runNext(this)}}},Yi=new WeakMap,Vr=new WeakMap,Rt=new WeakMap,Bs=new WeakMap,qr=new WeakSet,Ln=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),At.batch(()=>{F(this,Vr).forEach(n=>{n.onMutationUpdate(t)}),F(this,Rt).notify({mutation:this,type:"updated",action:t})})},tx);function FT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var mn,Pr,Qi,rx,zT=(rx=class extends Mu{constructor(t={}){super();Ee(this,mn);Ee(this,Pr);Ee(this,Qi);this.config=t,ye(this,mn,new Set),ye(this,Pr,new Map),ye(this,Qi,0)}build(t,r,n){const s=new UT({client:t,mutationCache:this,mutationId:++vl(this,Qi)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){F(this,mn).add(t);const r=Fl(t);if(typeof r=="string"){const n=F(this,Pr).get(r);n?n.push(t):F(this,Pr).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(F(this,mn).delete(t)){const r=Fl(t);if(typeof r=="string"){const n=F(this,Pr).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&F(this,Pr).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Fl(t);if(typeof r=="string"){const n=F(this,Pr).get(r),s=n==null?void 0:n.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=Fl(t);if(typeof r=="string"){const s=(n=F(this,Pr).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){At.batch(()=>{F(this,mn).forEach(t=>{this.notify({type:"removed",mutation:t})}),F(this,mn).clear(),F(this,Pr).clear()})}getAll(){return Array.from(F(this,mn))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Hy(r,n))}findAll(t={}){return this.getAll().filter(r=>Hy(t,r))}notify(t){At.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return At.batch(()=>Promise.all(t.map(r=>r.continue().catch(Cr))))}},mn=new WeakMap,Pr=new WeakMap,Qi=new WeakMap,rx);function Fl(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Gr,nx,HT=(nx=class extends Mu{constructor(t={}){super();Ee(this,Gr);this.config=t,ye(this,Gr,new Map)}build(t,r,n){const s=r.queryKey,a=r.queryHash??dp(s,r);let i=this.get(a);return i||(i=new MT({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){F(this,Gr).has(t.queryHash)||(F(this,Gr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=F(this,Gr).get(t.queryHash);r&&(t.destroy(),r===t&&F(this,Gr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){At.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return F(this,Gr).get(t)}getAll(){return[...F(this,Gr).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>zy(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>zy(t,n)):r}notify(t){At.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){At.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){At.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Gr=new WeakMap,nx),Ke,Kn,Yn,ea,ta,Qn,ra,na,sx,BT=(sx=class{constructor(e={}){Ee(this,Ke);Ee(this,Kn);Ee(this,Yn);Ee(this,ea);Ee(this,ta);Ee(this,Qn);Ee(this,ra);Ee(this,na);ye(this,Ke,e.queryCache||new HT),ye(this,Kn,e.mutationCache||new zT),ye(this,Yn,e.defaultOptions||{}),ye(this,ea,new Map),ye(this,ta,new Map),ye(this,Qn,0)}mount(){vl(this,Qn)._++,F(this,Qn)===1&&(ye(this,ra,zb.subscribe(async e=>{e&&(await this.resumePausedMutations(),F(this,Ke).onFocus())})),ye(this,na,Vc.subscribe(async e=>{e&&(await this.resumePausedMutations(),F(this,Ke).onOnline())})))}unmount(){var e,t;vl(this,Qn)._--,F(this,Qn)===0&&((e=F(this,ra))==null||e.call(this),ye(this,ra,void 0),(t=F(this,na))==null||t.call(this),ye(this,na,void 0))}isFetching(e){return F(this,Ke).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return F(this,Kn).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=F(this,Ke).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=F(this,Ke).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(yf(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return F(this,Ke).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=F(this,Ke).get(n.queryHash),a=s==null?void 0:s.state.data,i=bT(t,a);if(i!==void 0)return F(this,Ke).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return At.batch(()=>F(this,Ke).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=F(this,Ke).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=F(this,Ke);At.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=F(this,Ke);return At.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=At.batch(()=>F(this,Ke).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Cr).catch(Cr)}invalidateQueries(e,t={}){return At.batch(()=>(F(this,Ke).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=At.batch(()=>F(this,Ke).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(Cr)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Cr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=F(this,Ke).build(this,t);return r.isStaleByTime(yf(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Cr).catch(Cr)}fetchInfiniteQuery(e){return e.behavior=qy(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Cr).catch(Cr)}ensureInfiniteQueryData(e){return e.behavior=qy(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Vc.isOnline()?F(this,Kn).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,Ke)}getMutationCache(){return F(this,Kn)}getDefaultOptions(){return F(this,Yn)}setDefaultOptions(e){ye(this,Yn,e)}setQueryDefaults(e,t){F(this,ea).set(Mi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...F(this,ea).values()],r={};return t.forEach(n=>{Li(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){F(this,ta).set(Mi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...F(this,ta).values()],r={};return t.forEach(n=>{Li(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...F(this,Yn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=dp(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===hp&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...F(this,Yn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){F(this,Ke).clear(),F(this,Kn).clear()}},Ke=new WeakMap,Kn=new WeakMap,Yn=new WeakMap,ea=new WeakMap,ta=new WeakMap,Qn=new WeakMap,ra=new WeakMap,na=new WeakMap,sx),WT=f.createContext(void 0),VT=({client:e,children:t})=>(f.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(WT.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $i(){return $i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$i.apply(this,arguments)}var Zn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Zn||(Zn={}));const Ky="popstate";function qT(e){e===void 0&&(e={});function t(n,s){let{pathname:a,search:i,hash:l}=n.location;return wf("",{pathname:a,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:qc(s)}return KT(t,r,null,e)}function Xe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Vb(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function GT(){return Math.random().toString(36).substr(2,8)}function Yy(e,t){return{usr:e.state,key:e.key,idx:t}}function wf(e,t,r,n){return r===void 0&&(r=null),$i({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ea(t):t,{state:r,key:t&&t.key||n||GT()})}function qc(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ea(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function KT(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,i=s.history,l=Zn.Pop,c=null,u=d();u==null&&(u=0,i.replaceState($i({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function h(){l=Zn.Pop;let w=d(),p=w==null?null:w-u;u=w,c&&c({action:l,location:g.location,delta:p})}function m(w,p){l=Zn.Push;let v=wf(g.location,w,p);u=d()+1;let x=Yy(v,u),j=g.createHref(v);try{i.pushState(x,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(j)}a&&c&&c({action:l,location:g.location,delta:1})}function y(w,p){l=Zn.Replace;let v=wf(g.location,w,p);u=d();let x=Yy(v,u),j=g.createHref(v);i.replaceState(x,"",j),a&&c&&c({action:l,location:g.location,delta:0})}function b(w){let p=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof w=="string"?w:qc(w);return v=v.replace(/ $/,"%20"),Xe(p,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,p)}let g={get action(){return l},get location(){return e(s,i)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Ky,h),c=w,()=>{s.removeEventListener(Ky,h),c=null}},createHref(w){return t(s,w)},createURL:b,encodeLocation(w){let p=b(w);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:m,replace:y,go(w){return i.go(w)}};return g}var Qy;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Qy||(Qy={}));function YT(e,t,r){return r===void 0&&(r="/"),QT(e,t,r)}function QT(e,t,r,n){let s=typeof t=="string"?Ea(t):t,a=fp(s.pathname||"/",r);if(a==null)return null;let i=qb(e);JT(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=cI(a);l=aI(i[c],u)}return l}function qb(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,i,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(Xe(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=cs([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(Xe(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),qb(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:sI(u,a.index),routesMeta:d})};return e.forEach((a,i)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,i);else for(let c of Gb(a.path))s(a,i,c)}),t}function Gb(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let i=Gb(n.join("/")),l=[];return l.push(...i.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function JT(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:oI(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const XT=/^:[\w-]+$/,ZT=3,eI=2,tI=1,rI=10,nI=-2,Jy=e=>e==="*";function sI(e,t){let r=e.split("/"),n=r.length;return r.some(Jy)&&(n+=nI),t&&(n+=eI),r.filter(s=>!Jy(s)).reduce((s,a)=>s+(XT.test(a)?ZT:a===""?tI:rI),n)}function oI(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function aI(e,t,r){let{routesMeta:n}=e,s={},a="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",h=iI({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!h)return null;Object.assign(s,h.params),i.push({params:s,pathname:cs([a,h.pathname]),pathnameBase:fI(cs([a,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(a=cs([a,h.pathnameBase]))}return i}function iI(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=lI(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:m,isOptional:y}=d;if(m==="*"){let g=l[h]||"";i=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const b=l[h];return y&&!b?u[m]=void 0:u[m]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function lI(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Vb(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function cI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Vb(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function fp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function uI(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Ea(e):e;return{pathname:r?r.startsWith("/")?r:dI(r,t):t,search:mI(n),hash:pI(s)}}function dI(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Gd(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hI(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function mp(e,t){let r=hI(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function pp(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Ea(e):(s=$i({},e),Xe(!s.pathname||!s.pathname.includes("?"),Gd("?","pathname","search",s)),Xe(!s.pathname||!s.pathname.includes("#"),Gd("#","pathname","hash",s)),Xe(!s.search||!s.search.includes("#"),Gd("#","search","hash",s)));let a=e===""||s.pathname==="",i=a?"/":s.pathname,l;if(i==null)l=r;else{let h=t.length-1;if(!n&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}l=h>=0?t[h]:"/"}let c=uI(s,l),u=i&&i!=="/"&&i.endsWith("/"),d=(a||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const cs=e=>e.join("/").replace(/\/\/+/g,"/"),fI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),mI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,pI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function gI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Kb=["post","put","patch","delete"];new Set(Kb);const yI=["get",...Kb];new Set(yI);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ui(){return Ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ui.apply(this,arguments)}const gp=f.createContext(null),vI=f.createContext(null),vs=f.createContext(null),$u=f.createContext(null),xs=f.createContext({outlet:null,matches:[],isDataRoute:!1}),Yb=f.createContext(null);function xI(e,t){let{relative:r}=t===void 0?{}:t;Ca()||Xe(!1);let{basename:n,navigator:s}=f.useContext(vs),{hash:a,pathname:i,search:l}=Jb(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:cs([n,i])),s.createHref({pathname:c,search:l,hash:a})}function Ca(){return f.useContext($u)!=null}function ar(){return Ca()||Xe(!1),f.useContext($u).location}function Qb(e){f.useContext(vs).static||f.useLayoutEffect(e)}function at(){let{isDataRoute:e}=f.useContext(xs);return e?II():wI()}function wI(){Ca()||Xe(!1);let e=f.useContext(gp),{basename:t,future:r,navigator:n}=f.useContext(vs),{matches:s}=f.useContext(xs),{pathname:a}=ar(),i=JSON.stringify(mp(s,r.v7_relativeSplatPath)),l=f.useRef(!1);return Qb(()=>{l.current=!0}),f.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=pp(u,JSON.parse(i),a,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:cs([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,i,a,e])}function Jb(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=f.useContext(vs),{matches:s}=f.useContext(xs),{pathname:a}=ar(),i=JSON.stringify(mp(s,n.v7_relativeSplatPath));return f.useMemo(()=>pp(e,JSON.parse(i),a,r==="path"),[e,i,a,r])}function bI(e,t){return jI(e,t)}function jI(e,t,r,n){Ca()||Xe(!1);let{navigator:s}=f.useContext(vs),{matches:a}=f.useContext(xs),i=a[a.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=ar(),d;if(t){var h;let w=typeof t=="string"?Ea(t):t;c==="/"||(h=w.pathname)!=null&&h.startsWith(c)||Xe(!1),d=w}else d=u;let m=d.pathname||"/",y=m;if(c!=="/"){let w=c.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let b=YT(e,{pathname:y}),g=CI(b&&b.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:cs([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:cs([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,r,n);return t&&g?f.createElement($u.Provider,{value:{location:Ui({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Zn.Pop}},g):g}function NI(){let e=TI(),t=gI(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),r?f.createElement("pre",{style:s},r):null,null)}const SI=f.createElement(NI,null);class _I extends f.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?f.createElement(xs.Provider,{value:this.props.routeContext},f.createElement(Yb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function EI(e){let{routeContext:t,match:r,children:n}=e,s=f.useContext(gp);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),f.createElement(xs.Provider,{value:t},n)}function CI(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=i.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Xe(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:y}=r,b=h.route.loader&&m[h.route.id]===void 0&&(!y||y[h.route.id]===void 0);if(h.route.lazy||b){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,h,m)=>{let y,b=!1,g=null,w=null;r&&(y=l&&h.route.id?l[h.route.id]:void 0,g=h.route.errorElement||SI,c&&(u<0&&m===0?(AI("route-fallback"),b=!0,w=null):u===m&&(b=!0,w=h.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,m+1)),v=()=>{let x;return y?x=g:b?x=w:h.route.Component?x=f.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,f.createElement(EI,{match:h,routeContext:{outlet:d,matches:p,isDataRoute:r!=null},children:x})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?f.createElement(_I,{location:r.location,revalidation:r.revalidation,component:g,error:y,children:v(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):v()},null)}var Xb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Xb||{}),Zb=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Zb||{});function kI(e){let t=f.useContext(gp);return t||Xe(!1),t}function PI(e){let t=f.useContext(vI);return t||Xe(!1),t}function RI(e){let t=f.useContext(xs);return t||Xe(!1),t}function ej(e){let t=RI(),r=t.matches[t.matches.length-1];return r.route.id||Xe(!1),r.route.id}function TI(){var e;let t=f.useContext(Yb),r=PI(),n=ej();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function II(){let{router:e}=kI(Xb.UseNavigateStable),t=ej(Zb.UseNavigateStable),r=f.useRef(!1);return Qb(()=>{r.current=!0}),f.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ui({fromRouteId:t},a)))},[e,t])}const Xy={};function AI(e,t,r){Xy[e]||(Xy[e]=!0)}function OI(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function tj(e){let{to:t,replace:r,state:n,relative:s}=e;Ca()||Xe(!1);let{future:a,static:i}=f.useContext(vs),{matches:l}=f.useContext(xs),{pathname:c}=ar(),u=at(),d=pp(t,mp(l,a.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return f.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function Pt(e){Xe(!1)}function DI(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Zn.Pop,navigator:a,static:i=!1,future:l}=e;Ca()&&Xe(!1);let c=t.replace(/^\/*/,"/"),u=f.useMemo(()=>({basename:c,navigator:a,static:i,future:Ui({v7_relativeSplatPath:!1},l)}),[c,l,a,i]);typeof n=="string"&&(n=Ea(n));let{pathname:d="/",search:h="",hash:m="",state:y=null,key:b="default"}=n,g=f.useMemo(()=>{let w=fp(d,c);return w==null?null:{location:{pathname:w,search:h,hash:m,state:y,key:b},navigationType:s}},[c,d,h,m,y,b,s]);return g==null?null:f.createElement(vs.Provider,{value:u},f.createElement($u.Provider,{children:r,value:g}))}function MI(e){let{children:t,location:r}=e;return bI(bf(t),r)}new Promise(()=>{});function bf(e,t){t===void 0&&(t=[]);let r=[];return f.Children.forEach(e,(n,s)=>{if(!f.isValidElement(n))return;let a=[...t,s];if(n.type===f.Fragment){r.push.apply(r,bf(n.props.children,a));return}n.type!==Pt&&Xe(!1),!n.props.index||!n.props.children||Xe(!1);let i={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=bf(n.props.children,a)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jf(){return jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jf.apply(this,arguments)}function LI(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function $I(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function UI(e,t){return e.button===0&&(!t||t==="_self")&&!$I(e)}function Nf(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function FI(e,t){let r=Nf(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(a=>{r.append(s,a)})}),r}const zI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],HI="6";try{window.__reactRouterVersion=HI}catch{}const BI="startTransition",Zy=rm[BI];function WI(e){let{basename:t,children:r,future:n,window:s}=e,a=f.useRef();a.current==null&&(a.current=qT({window:s,v5Compat:!0}));let i=a.current,[l,c]=f.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=f.useCallback(h=>{u&&Zy?Zy(()=>c(h)):c(h)},[c,u]);return f.useLayoutEffect(()=>i.listen(d),[i,d]),f.useEffect(()=>OI(n),[n]),f.createElement(DI,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const VI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gc=f.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:a,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,m=LI(t,zI),{basename:y}=f.useContext(vs),b,g=!1;if(typeof u=="string"&&qI.test(u)&&(b=u,VI))try{let x=new URL(window.location.href),j=u.startsWith("//")?new URL(x.protocol+u):new URL(u),N=fp(j.pathname,y);j.origin===x.origin&&N!=null?u=N+j.search+j.hash:g=!0}catch{}let w=xI(u,{relative:s}),p=GI(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function v(x){n&&n(x),x.defaultPrevented||p(x)}return f.createElement("a",jf({},m,{href:b||w,onClick:g||a?n:v,ref:r,target:c}))});var ev;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ev||(ev={}));var tv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(tv||(tv={}));function GI(e,t){let{target:r,replace:n,state:s,preventScrollReset:a,relative:i,viewTransition:l}=t===void 0?{}:t,c=at(),u=ar(),d=Jb(e,{relative:i});return f.useCallback(h=>{if(UI(h,r)){h.preventDefault();let m=n!==void 0?n:qc(u)===qc(d);c(e,{replace:m,state:s,preventScrollReset:a,relative:i,viewTransition:l})}},[u,c,d,n,s,r,e,a,i,l])}function Uu(e){let t=f.useRef(Nf(e)),r=f.useRef(!1),n=ar(),s=f.useMemo(()=>FI(n.search,r.current?null:t.current),[n.search]),a=at(),i=f.useCallback((l,c)=>{const u=Nf(typeof l=="function"?l(s):l);r.current=!0,a("?"+u,c)},[a,s]);return[s,i]}const KI="modulepreload",YI=function(e){return"/"+e},rv={},to=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=YI(c),c in rv)return;rv[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":KI,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((m,y)=>{h.addEventListener("load",m),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},QI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>to(async()=>{const{default:n}=await Promise.resolve().then(()=>ka);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class yp extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class nv extends yp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class sv extends yp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ov extends yp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Sf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Sf||(Sf={}));var JI=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class XI{constructor(t,{headers:r={},customFetch:n,region:s=Sf.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=QI(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return JI(this,arguments,void 0,function*(r,n={}){var s;try{const{headers:a,method:i,body:l,signal:c}=n;let u={},{region:d}=n;d||(d=this.region);const h=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,h.searchParams.set("forceFunctionRegion",d));let m;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(u["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(u["Content-Type"]="application/json",m=JSON.stringify(l)));const y=yield this.fetch(h.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),a),body:m,signal:c}).catch(p=>{throw p.name==="AbortError"?p:new nv(p)}),b=y.headers.get("x-relay-error");if(b&&b==="true")throw new sv(y);if(!y.ok)throw new ov(y);let g=((s=y.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),w;return g==="application/json"?w=yield y.json():g==="application/octet-stream"?w=yield y.blob():g==="text/event-stream"?w=y:g==="multipart/form-data"?w=yield y.formData():w=yield y.text(),{data:w,error:null,response:y}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new nv(a)}:{data:null,error:a,response:a instanceof ov||a instanceof sv?a.context:void 0}}})}}var Wt={},vp={},Fu={},al={},zu={},Hu={},ZI=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ga=ZI();const eA=ga.fetch,rj=ga.fetch.bind(ga),nj=ga.Headers,tA=ga.Request,rA=ga.Response,ka=Object.freeze(Object.defineProperty({__proto__:null,Headers:nj,Request:tA,Response:rA,default:rj,fetch:eA},Symbol.toStringTag,{value:"Module"})),nA=y_(ka);var Bu={};Object.defineProperty(Bu,"__esModule",{value:!0});let sA=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Bu.default=sA;var sj=gr&&gr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hu,"__esModule",{value:!0});const oA=sj(nA),aA=sj(Bu);let iA=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=oA.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var i,l,c,u;let d=null,h=null,m=null,y=a.status,b=a.statusText;if(a.ok){if(this.method!=="HEAD"){const v=await a.text();v===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((i=this.headers.get("Accept"))===null||i===void 0)&&i.includes("application/vnd.pgrst.plan+text"))?h=v:h=JSON.parse(v))}const w=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),p=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");w&&p&&p.length>1&&(m=parseInt(p[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,m=null,y=406,b="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const w=await a.text();try{d=JSON.parse(w),Array.isArray(d)&&a.status===404&&(h=[],d=null,y=200,b="OK")}catch{a.status===404&&w===""?(y=204,b="No Content"):d={message:w}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,y=200,b="OK"),d&&this.shouldThrowOnError)throw new aA.default(d)}return{error:d,data:h,count:m,status:y,statusText:b}});return this.shouldThrowOnError||(s=s.catch(a=>{var i,l,c;return{error:{message:`${(i=a==null?void 0:a.name)!==null&&i!==void 0?i:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Hu.default=iA;var lA=gr&&gr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zu,"__esModule",{value:!0});const cA=lA(Hu);let uA=class extends cA.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:a=s}={}){const i=a?`${a}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(i,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:a=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};zu.default=uA;var dA=gr&&gr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(al,"__esModule",{value:!0});const hA=dA(zu);let fA=class extends hA.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${i}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};al.default=fA;var mA=gr&&gr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fu,"__esModule",{value:!0});const qa=mA(al);let pA=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(t,r){const{head:n=!1,count:s}=r??{},a=n?"HEAD":"GET";let i=!1;const l=(t??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join("");return this.url.searchParams.set("select",l),s&&this.headers.append("Prefer",`count=${s}`),new qa.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var s;const a="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new qa.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:a=!0}={}){var i;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new qa.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new qa.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new qa.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Fu.default=pA;var oj=gr&&gr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vp,"__esModule",{value:!0});const gA=oj(Fu),yA=oj(al);let vA=class aj{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new gA.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new aj(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:a}={}){var i;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([h,m])=>m!==void 0).map(([h,m])=>[h,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([h,m])=>{c.searchParams.append(h,m)})):(l="POST",u=r);const d=new Headers(this.headers);return a&&d.set("Prefer",`count=${a}`),new yA.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};vp.default=vA;var Pa=gr&&gr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.PostgrestError=Wt.PostgrestBuilder=Wt.PostgrestTransformBuilder=Wt.PostgrestFilterBuilder=Wt.PostgrestQueryBuilder=Wt.PostgrestClient=void 0;const ij=Pa(vp);Wt.PostgrestClient=ij.default;const lj=Pa(Fu);Wt.PostgrestQueryBuilder=lj.default;const cj=Pa(al);Wt.PostgrestFilterBuilder=cj.default;const uj=Pa(zu);Wt.PostgrestTransformBuilder=uj.default;const dj=Pa(Hu);Wt.PostgrestBuilder=dj.default;const hj=Pa(Bu);Wt.PostgrestError=hj.default;var xA=Wt.default={PostgrestClient:ij.default,PostgrestQueryBuilder:lj.default,PostgrestFilterBuilder:cj.default,PostgrestTransformBuilder:uj.default,PostgrestBuilder:dj.default,PostgrestError:hj.default};const{PostgrestClient:wA,PostgrestQueryBuilder:W$,PostgrestFilterBuilder:V$,PostgrestTransformBuilder:q$,PostgrestBuilder:G$,PostgrestError:K$}=xA;class bA{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const jA="2.75.1",NA=`realtime-js/${jA}`,SA="1.0.0",_f=1e4,_A=1e3,EA=100;var fi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(fi||(fi={}));var nt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(nt||(nt={}));var Tr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Tr||(Tr={}));var Ef;(function(e){e.websocket="websocket"})(Ef||(Ef={}));var Is;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Is||(Is={}));class CA{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(t.slice(i,i+s));i=i+s;const c=n.decode(t.slice(i,i+a));i=i+a;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class fj{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ie;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ie||(Ie={}));const av=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,i)=>(a[i]=kA(i,e,t,s),a),{}):{}},kA=(e,t,r,n)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,i=r[e];return a&&!n.includes(a)?mj(a,i):Cf(i)},mj=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return IA(t,r)}switch(e){case Ie.bool:return PA(t);case Ie.float4:case Ie.float8:case Ie.int2:case Ie.int4:case Ie.int8:case Ie.numeric:case Ie.oid:return RA(t);case Ie.json:case Ie.jsonb:return TA(t);case Ie.timestamp:return AA(t);case Ie.abstime:case Ie.date:case Ie.daterange:case Ie.int4range:case Ie.int8range:case Ie.money:case Ie.reltime:case Ie.text:case Ie.time:case Ie.timestamptz:case Ie.timetz:case Ie.tsrange:case Ie.tstzrange:return Cf(t);default:return Cf(t)}},Cf=e=>e,PA=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},RA=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},TA=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},IA=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const i=e.slice(1,r);try{a=JSON.parse("["+i+"]")}catch{a=i?i.split(","):[]}return a.map(l=>mj(t,l))}return e},AA=e=>typeof e=="string"?e.replace(" ","T"):e,pj=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Kd{constructor(t,r,n={},s=_f){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var iv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(iv||(iv={}));class mi{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=mi.syncState(this.state,s,a,i),this.pendingDiffs.forEach(c=>{this.state=mi.syncDiff(this.state,c,a,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=mi.syncDiff(this.state,s,a,i),l())}),this.onJoin((s,a,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:i})}),this.onLeave((s,a,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const h=a[u];if(h){const m=d.map(w=>w.presence_ref),y=h.map(w=>w.presence_ref),b=d.filter(w=>y.indexOf(w.presence_ref)<0),g=h.filter(w=>m.indexOf(w.presence_ref)<0);b.length>0&&(l[u]=b),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(y=>y.presence_ref),m=d.filter(y=>h.indexOf(y.presence_ref)<0);t[l].unshift(...m)}n(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var lv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(lv||(lv={}));var pi;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(pi||(pi={}));var hn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(hn||(hn={}));class xp{constructor(t,r={config:{}},n){var s,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=nt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Kd(this,Tr.join,this.params,this.timeout),this.rejoinTimer=new fj(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=nt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=nt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=nt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Tr.reply,{},(i,l)=>{this._trigger(this._replyEventName(l),i)}),this.presence=new mi(this),this.broadcastEndpointURL=pj(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==nt.closed){const{config:{broadcast:i,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(y=>y.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[pi.PRESENCE]&&this.bindings[pi.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,h={},m={broadcast:i,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(y=>t==null?void 0:t(hn.CHANNEL_ERROR,y)),this._onClose(()=>t==null?void 0:t(hn.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:y})=>{var b;if(this.socket.setAuth(),y===void 0){t==null||t(hn.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,w=(b=g==null?void 0:g.length)!==null&&b!==void 0?b:0,p=[];for(let v=0;v<w;v++){const x=g[v],{filter:{event:j,schema:N,table:S,filter:_}}=x,E=y&&y[v];if(E&&E.event===j&&E.schema===N&&E.table===S&&E.filter===_)p.push(Object.assign(Object.assign({},x),{id:E.id}));else{this.unsubscribe(),this.state=nt.errored,t==null||t(hn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(hn.SUBSCRIBED);return}}).receive("error",y=>{this.state=nt.errored,t==null||t(hn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(hn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===nt.joined&&t===pi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var i,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=nt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Tr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Kd(this,Tr.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=nt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Kd(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>EA){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Tr;if(n&&[l,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let m=this._onMessage(i,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var b,g,w;return((b=y.filter)===null||b===void 0?void 0:b.event)==="*"||((w=(g=y.filter)===null||g===void 0?void 0:g.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===i}).map(y=>y.callback(m,n)):(a=this.bindings[i])===null||a===void 0||a.filter(y=>{var b,g,w,p,v,x;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in y){const j=y.id,N=(b=y.filter)===null||b===void 0?void 0:b.event;return j&&((g=r.ids)===null||g===void 0?void 0:g.includes(j))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(v=(p=y==null?void 0:y.filter)===null||p===void 0?void 0:p.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return j==="*"||j===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===i}).map(y=>{if(typeof m=="object"&&"ids"in m){const b=m.data,{schema:g,table:w,commit_timestamp:p,type:v,errors:x}=b;m=Object.assign(Object.assign({},{schema:g,table:w,commit_timestamp:p,eventType:v,new:{},old:{},errors:x}),this._getPayloadRecords(b))}y.callback(m,n)})}_isClosed(){return this.state===nt.closed}_isJoined(){return this.state===nt.joined}_isJoining(){return this.state===nt.joining}_isLeaving(){return this.state===nt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&xp.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Tr.close,{},t)}_onError(t){this._on(Tr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=nt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=av(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=av(t.columns,t.old_record)),r}}const Yd=()=>{},zl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},OA=[1e3,2e3,5e3,1e4],DA=1e4,MA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class LA{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=_f,this.transport=null,this.heartbeatIntervalMs=zl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Yd,this.ref=0,this.reconnectTimer=null,this.logger=Yd,this.conn=null,this.sendBuffer=[],this.serializer=new CA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...i)=>to(async()=>{const{default:l}=await Promise.resolve().then(()=>ka);return{default:l}},void 0).then(({default:l})=>l(...i)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...i)=>a(...i)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Ef.websocket}`,this.httpEndpoint=pj(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=bA.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:SA}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case fi.connecting:return Is.Connecting;case fi.open:return Is.Open;case fi.closing:return Is.Closing;default:return Is.Closed}}isConnected(){return this.connectionState()===Is.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new xp(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(_A,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},zl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:a,ref:i}=r,l=i?`(${i})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,a,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Tr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([MA],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:NA};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Tr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new fj(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},zl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,a,i,l,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:_f,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:zl.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Yd,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:h=>OA[h-1]||DA,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(h,m)=>m(JSON.stringify(h)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class wp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function et(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class $A extends wp{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class kf extends wp{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var UA=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const gj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>to(async()=>{const{default:n}=await Promise.resolve().then(()=>ka);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},FA=()=>UA(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield to(()=>Promise.resolve().then(()=>ka),void 0)).Response:Response}),Pf=e=>{if(Array.isArray(e))return e.map(r=>Pf(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=Pf(n)}),t},zA=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var lo=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Qd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),HA=(e,t,r)=>lo(void 0,void 0,void 0,function*(){const n=yield FA();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const a=e.status||500,i=(s==null?void 0:s.statusCode)||a+"";t(new $A(Qd(s),a,i))}).catch(s=>{t(new kf(Qd(s),s))}):t(new kf(Qd(e),e))}),BA=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(zA(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function il(e,t,r,n,s,a){return lo(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,BA(t,n,s,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>HA(c,l,n))})})}function Kc(e,t,r,n){return lo(this,void 0,void 0,function*(){return il(e,"GET",t,r,n)})}function Wr(e,t,r,n,s){return lo(this,void 0,void 0,function*(){return il(e,"POST",t,n,s,r)})}function Rf(e,t,r,n,s){return lo(this,void 0,void 0,function*(){return il(e,"PUT",t,n,s,r)})}function WA(e,t,r,n){return lo(this,void 0,void 0,function*(){return il(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function yj(e,t,r,n,s){return lo(this,void 0,void 0,function*(){return il(e,"DELETE",t,n,s,r)})}var VA=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class qA{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return VA(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(et(t))return{data:null,error:t};throw t}})}}var GA=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})},vj;class KA{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[vj]="BlobDownloadBuilder",this.promise=null}asStream(){return new qA(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return GA(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(et(t))return{data:null,error:t};throw t}})}}vj=Symbol.toStringTag;var zt=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const YA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},cv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class QA{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=gj(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return zt(this,void 0,void 0,function*(){try{let a;const i=Object.assign(Object.assign({},cv),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(t=="PUT"?Rf:Wr)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}})}upload(t,r,n){return zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return zt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),i=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:cv.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield Rf(this.fetch,l.toString(),c,{headers:d});return{data:{path:a,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(et(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return zt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const a=yield Wr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+a.url),l=i.searchParams.get("token");if(!l)throw new wp("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}update(t,r,n){return zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return zt(this,void 0,void 0,function*(){try{return{data:yield Wr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}copy(t,r,n){return zt(this,void 0,void 0,function*(){try{return{data:{path:(yield Wr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return zt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield Wr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${i}`)},{data:a,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return zt(this,void 0,void 0,function*(){try{const s=yield Wr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${a}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=a?`?${a}`:"",l=this._getFinalPath(t),c=()=>Kc(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0});return new KA(c,this.shouldThrowOnError)}info(t){return zt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Kc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Pf(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}exists(t){return zt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield WA(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n)&&n instanceof kf){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return zt(this,void 0,void 0,function*(){try{return{data:yield yj(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}list(t,r,n){return zt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},YA),r),{prefix:t||""});return{data:yield Wr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}listV2(t,r){return zt(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Wr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const JA="2.75.1",XA={"X-Client-Info":`storage-js/${JA}`};var po=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class ZA{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const a=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},XA),r),this.fetch=gj(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return po(this,void 0,void 0,function*(){try{return{data:yield Kc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(et(t))return{data:null,error:t};throw t}})}getBucket(t){return po(this,void 0,void 0,function*(){try{return{data:yield Kc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}createBucket(t){return po(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Wr(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return po(this,void 0,void 0,function*(){try{return{data:yield Rf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}emptyBucket(t){return po(this,void 0,void 0,function*(){try{return{data:yield Wr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}deleteBucket(t){return po(this,void 0,void 0,function*(){try{return{data:yield yj(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}}class eO extends ZA{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new QA(this.url,this.headers,t,this.fetch)}}const tO="2.75.1";let ei="";typeof Deno<"u"?ei="deno":typeof document<"u"?ei="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ei="react-native":ei="node";const rO={"X-Client-Info":`supabase-js-${ei}/${tO}`},nO={headers:rO},sO={schema:"public"},oO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},aO={};var iO=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const lO=e=>{let t;return e?t=e:typeof fetch>"u"?t=rj:t=fetch,(...r)=>t(...r)},cO=()=>typeof Headers>"u"?nj:Headers,uO=(e,t,r)=>{const n=lO(r),s=cO();return(a,i)=>iO(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},i),{headers:u}))})};var dO=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function hO(e){return e.endsWith("/")?e:e+"/"}function fO(e,t){var r,n;const{db:s,auth:a,realtime:i,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,m={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>dO(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function mO(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(hO(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const xj="2.75.1",So=30*1e3,Tf=3,Jd=Tf*So,pO="http://localhost:9999",gO="supabase.auth.token",yO={"X-Client-Info":`gotrue-js/${xj}`},If="X-Supabase-Api-Version",wj={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},vO=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,xO=10*60*1e3;class Fi extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function fe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class wO extends Fi{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function bO(e){return fe(e)&&e.name==="AuthApiError"}class As extends Fi{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ws extends Fi{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class $n extends ws{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function jO(e){return fe(e)&&e.name==="AuthSessionMissingError"}class go extends ws{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Hl extends ws{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Bl extends ws{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function NO(e){return fe(e)&&e.name==="AuthImplicitGrantRedirectError"}class uv extends ws{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Af extends ws{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Xd(e){return fe(e)&&e.name==="AuthRetryableFetchError"}class dv extends ws{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Of extends ws{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Yc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),hv=` 	
\r=`.split(""),SO=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<hv.length;t+=1)e[hv[t].charCodeAt(0)]=-2;for(let t=0;t<Yc.length;t+=1)e[Yc[t].charCodeAt(0)]=t;return e})();function fv(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Yc[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Yc[n]),t.queuedBits-=6}}function bj(e,t,r){const n=SO[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function mv(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=i=>{CO(i,n,r)};for(let i=0;i<e.length;i+=1)bj(e.charCodeAt(i),s,a);return t.join("")}function _O(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function EO(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}_O(n,t)}}function CO(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Go(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)bj(e.charCodeAt(s),r,n);return new Uint8Array(t)}function kO(e){const t=[];return EO(e,r=>t.push(r)),new Uint8Array(t)}function Ls(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>fv(s,r,n)),fv(null,r,n),t.join("")}function PO(e){return Math.round(Date.now()/1e3)+e}function RO(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Jt=()=>typeof window<"u"&&typeof document<"u",_s={tested:!1,writable:!1},jj=()=>{if(!Jt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_s.tested)return _s.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),_s.tested=!0,_s.writable=!0}catch{_s.tested=!0,_s.writable=!1}return _s.writable};function TO(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Nj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>to(async()=>{const{default:n}=await Promise.resolve().then(()=>ka);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},IO=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",_o=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Es=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Mn=async(e,t)=>{await e.removeItem(t)};class Wu{constructor(){this.promise=new Wu.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Wu.promiseConstructor=Promise;function Zd(e){const t=e.split(".");if(t.length!==3)throw new Of("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!vO.test(t[n]))throw new Of("JWT not in base64url format");return{header:JSON.parse(mv(t[0])),payload:JSON.parse(mv(t[1])),signature:Go(t[2]),raw:{header:t[0],payload:t[1]}}}async function AO(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function OO(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const i=await e(a);if(!t(a,null,i)){n(i);return}}catch(i){if(!t(a,i)){s(i);return}}})()})}function DO(e){return("0"+e.toString(16)).substr(-2)}function MO(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,DO).join("")}async function LO(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function $O(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await LO(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yo(e,t,r=!1){const n=MO();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await _o(e,`${t}-code-verifier`,s);const a=await $O(n);return[a,n===a?"plain":"s256"]}const UO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function FO(e){const t=e.headers.get(If);if(!t||!t.match(UO))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function zO(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function HO(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const BO=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vo(e){if(!BO.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function eh(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function pv(e){return JSON.parse(JSON.stringify(e))}var WO=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Ps=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),VO=[502,503,504];async function gv(e){var t;if(!IO(e))throw new Af(Ps(e),0);if(VO.includes(e.status))throw new Af(Ps(e),e.status);let r;try{r=await e.json()}catch(a){throw new As(Ps(a),a)}let n;const s=FO(e);if(s&&s.getTime()>=wj["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new dv(Ps(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new $n}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,i)=>a&&typeof i=="string",!0))throw new dv(Ps(r),e.status,r.weak_password.reasons);throw new wO(Ps(r),e.status||500,n)}const qO=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ve(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[If]||(a[If]=wj["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await GO(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function GO(e,t,r,n,s,a){const i=qO(t,n,s,a);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new Af(Ps(c),0)}if(l.ok||await gv(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await gv(c)}}function Sr(e){var t;let r=null;QO(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=PO(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function yv(e){const t=Sr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Wn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function KO(e){return{data:e,error:null}}function YO(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,i=WO(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function vv(e){return e}function QO(e){return e.access_token&&e.refresh_token&&e.expires_in}const th=["global","local","others"];var JO=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class XO{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Nj(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=th[0]){if(th.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${th.join(", ")}`);try{return await ve(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ve(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Wn})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=JO(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ve(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:YO,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(fe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ve(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Wn})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ve(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:vv});if(d.error)throw d.error;const h=await d.json(),m=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,y=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(b=>{const g=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);u[`${w}Page`]=g}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(fe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){vo(t);try{return await ve(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Wn})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){vo(t);try{return await ve(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Wn})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){vo(t);try{return await ve(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Wn})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){vo(t.userId);try{const{data:r,error:n}=await ve(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){vo(t.userId),vo(t.id);try{return{data:await ve(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,a,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ve(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:vv});if(d.error)throw d.error;const h=await d.json(),m=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,y=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(b=>{const g=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);u[`${w}Page`]=g}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(fe(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await ve(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ve(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await ve(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ve(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}}function xv(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const xo={debug:!!(globalThis&&jj()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Sj extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class ZO extends Sj{}async function e4(e,t,r){xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),xo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ZO(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(xo.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function t4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function _j(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function r4(e){return parseInt(e,16)}function n4(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function s4(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:a=new Date,nonce:i,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:m}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=_j(e.address),b=d?`${d}://${n}`:n,g=e.statement?`${e.statement}
`:"",w=`${b} wants you to sign in with your Ethereum account:
${y}

${g}`;let p=`URI: ${h}
Version: ${m}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${a.toISOString()}`;if(s&&(p+=`
Expiration Time: ${s.toISOString()}`),l&&(p+=`
Not Before: ${l.toISOString()}`),c&&(p+=`
Request ID: ${c}`),u){let v=`
Resources:`;for(const x of u){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);v+=`
- ${x}`}p+=v}return`${w}
${p}`}class Ze extends Error{constructor({message:t,code:r,cause:n,name:s}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=s??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Qc extends Ze{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function o4({error:e,options:t}){var r,n,s;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ze({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ze({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ze({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ze({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ze({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ze({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Ze({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ze({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(Cj(i)){if(a.rp.id!==i)return new Ze({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Ze({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ze({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function a4({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ze({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ze({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Cj(n)){if(r.rpId!==n)return new Ze({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ze({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var Ej=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class i4{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const l4=new i4;function c4(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=Ej(e,["challenge","user","excludeCredentials"]),a=Go(t).buffer,i=Object.assign(Object.assign({},r),{id:Go(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:a,user:i});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Go(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function u4(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Ej(e,["challenge","allowCredentials"]),s=Go(t).buffer,a=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const l=r[i];a.allowCredentials[i]=Object.assign(Object.assign({},l),{id:Go(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function d4(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ls(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ls(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function h4(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ls(new Uint8Array(s.authenticatorData)),clientDataJSON:Ls(new Uint8Array(s.clientDataJSON)),signature:Ls(new Uint8Array(s.signature)),userHandle:s.userHandle?Ls(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Cj(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function wv(){var e,t;return!!(Jt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function f4(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Qc("Browser returned unexpected credential type",t)}:{data:null,error:new Qc("Empty credential response",t)}}catch(t){return{data:null,error:o4({error:t,options:e})}}}async function m4(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Qc("Browser returned unexpected credential type",t)}:{data:null,error:new Qc("Empty credential response",t)}}catch(t){return{data:null,error:a4({error:t,options:e})}}}const p4={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},g4={userVerification:"preferred",hints:["security-key"]};function Jc(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const a in s){const i=s[a];if(i!==void 0)if(Array.isArray(i))n[a]=i;else if(r(i))n[a]=i;else if(t(i)){const l=n[a];t(l)?n[a]=Jc(l,i):n[a]=Jc(i)}else n[a]=i}return n}function y4(e,t){return Jc(p4,e,t||{})}function v4(e,t){return Jc(g4,e,t||{})}class x4{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},a){try{const{data:i,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!i)return{data:null,error:l};const c=s??l4.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:u}=i.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(i.webauthn.type){case"create":{const u=y4(i.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:d,error:h}=await f4({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=v4(i.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:d,error:h}=await m4(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(i){return fe(i)?{data:null,error:i}:{data:null,error:new As("Unexpected error in challenge",i)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}},a){if(!r)return{data:null,error:new Fi("rpId is required for WebAuthn authentication")};try{if(!wv())return{data:null,error:new As("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:a});if(!i)return{data:null,error:l};const{webauthn:c}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(i){return fe(i)?{data:null,error:i}:{data:null,error:new As("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s},a){if(!r)return{data:null,error:new Fi("rpId is required for WebAuthn registration")};try{if(!wv())return{data:null,error:new As("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:a});return c?this._verify({factorId:i.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(i){return fe(i)?{data:null,error:i}:{data:null,error:new As("Unexpected error in register",i)}}}}t4();const w4={url:pO,storageKey:gO,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function bv(e,t,r){return await r()}const wo={};class zi{get jwks(){var t,r;return(r=(t=wo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){wo[this.storageKey]=Object.assign(Object.assign({},wo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=wo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){wo[this.storageKey]=Object.assign(Object.assign({},wo[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=zi.nextInstanceID,zi.nextInstanceID+=1,this.instanceID>0&&Jt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},w4),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new XO({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Nj(s.fetch),this.lock=s.lock||bv,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Jt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=e4:this.lock=bv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new x4(this)},this.persistSession?(s.storage?this.storage=s.storage:jj()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=xv(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=xv(this.memoryStorage)),Jt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${xj}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=TO(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Jt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),NO(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return fe(r)?{error:r}:{error:new As("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Sr}),{data:i,error:l}=a;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(fe(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:d,password:h,options:m}=t;let y=null,b=null;this.flowType==="pkce"&&([y,b]=await yo(this.storage,this.storageKey)),a=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:y,code_challenge_method:b},xform:Sr})}else if("phone"in t){const{phone:d,password:h,options:m}=t;a=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Sr})}else throw new Hl("You must provide either an email or phone number and a password");const{data:i,error:l}=a;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(fe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:i,options:l}=t;r=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:yv})}else if("phone"in t){const{phone:a,password:i,options:l}=t;r=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:yv})}else throw new Hl("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new go}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(fe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,a,i,l,c,u,d,h,m;let y,b;if("message"in t)y=t.message,b=t.signature;else{const{chain:g,wallet:w,statement:p,options:v}=t;let x;if(Jt())if(typeof w=="object")x=w;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")x=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=w}const j=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href),N=await x.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=_j(N[0]);let _=(n=v==null?void 0:v.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!_){const I=await x.request({method:"eth_chainId"});_=r4(I)}const E={domain:j.host,address:S,statement:p,uri:j.href,version:"1",chainId:_,nonce:(s=v==null?void 0:v.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(i=(a=v==null?void 0:v.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(l=v==null?void 0:v.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=v==null?void 0:v.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=v==null?void 0:v.signInWithEthereum)===null||d===void 0?void 0:d.resources};y=s4(E),b=await x.request({method:"personal_sign",params:[n4(y),S]})}try{const{data:g,error:w}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:b},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Sr});if(w)throw w;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new go}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:w})}catch(g){if(fe(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(t){var r,n,s,a,i,l,c,u,d,h,m,y;let b,g;if("message"in t)b=t.message,g=t.signature;else{const{chain:w,wallet:p,statement:v,options:x}=t;let j;if(Jt())if(typeof p=="object")j=p;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))j=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=p}const N=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const S=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),v?{statement:v}:null));let _;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")_=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)_=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)b=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),g=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${N.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(s=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((h=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...x.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const S=await j.signMessage(new TextEncoder().encode(b),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=S}}try{const{data:w,error:p}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Ls(g)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Sr});if(p)throw p;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new go}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:p})}catch(w){if(fe(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await Es(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:a,error:i}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Sr});if(await Mn(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new go}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:i})}catch(a){if(fe(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:i}=t,l=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Sr}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new go}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(fe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,a,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await yo(this.storage,this.storageKey));const{error:h}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Hl("You must provide either an email or phone number.")}catch(l){if(fe(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await ve(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:Sr});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(fe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let a=null,i=null;return this.flowType==="pkce"&&([a,i]=await yo(this.storage,this.storageKey)),await ve(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:i}),headers:this.headers,xform:KO})}catch(a){if(fe(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new $n;const{error:s}=await ve(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(fe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:i}=await ve(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:i,error:l}=await ve(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new Hl("You must provide either an email or phone number and a type")}catch(r){if(fe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Es(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Jd:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await Es(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=eh()}if(this.storage.isServer&&t.user){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Wn}):await this._useSession(async r=>{var n,s,a;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $n}:await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:Wn})})}catch(r){if(fe(r))return jO(r)&&(await this._removeSession(),await Mn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new $n;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await yo(this.storage,this.storageKey));const{data:u,error:d}=await ve(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:Wn});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $n;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:i}=Zd(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(fe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new $n;const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(fe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Jt())throw new Bl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Bl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new uv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Bl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new uv("No code detected.");const{data:v,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!i||!u)throw new Bl("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let m=d+h;c&&(m=parseInt(c));const y=m-d;y*1e3<=So&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const b=m-h;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,m,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,m,d);const{data:g,error:w}=await this._getUser(a);if(w)throw w;const p={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:h,expires_at:m,refresh_token:i,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(n){if(fe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Es(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{error:a};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(bO(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Mn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=RO(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await yo(this.storage,this.storageKey,!0));try{return await ve(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(fe(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var i,l,c,u,d;const{data:h,error:m}=a;if(m)throw m;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ve(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Jt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(fe(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:a}}=r;if(s)throw s;const{options:i,provider:l,token:c,access_token:u,nonce:d}=t,h=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Sr}),{data:m,error:y}=h;return y?{data:{user:null,session:null},error:y}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new go}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),{data:m,error:y})}catch(s){if(fe(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:i}=r;if(i)throw i;return await ve(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await OO(async s=>(s>0&&await AO(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ve(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Sr})),(s,a)=>{const i=200*Math.pow(2,s);return a&&Xd(a)&&Date.now()+i-n<So})}catch(n){if(this._debug(r,"error",n),fe(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Jt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Es(this.storage,this.storageKey);if(s&&this.userStorage){let i=await Es(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await _o(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:eh()}else if(s&&!s.user&&!s.user){const i=await Es(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await Mn(this.storage,this.storageKey+"-user"),await _o(this.storage,this.storageKey,s)):s.user=eh()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const a=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Jd;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Jd}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),Xd(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(s.access_token);!l&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new $n;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Wu;const{data:a,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!a.session)throw new $n;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),fe(a)){const i={data:null,error:a};return Xd(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(i),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await _o(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const a=pv(s);await _o(this.storage,this.storageKey,a)}else{const s=pv(r);await _o(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Mn(this.storage,this.storageKey),await Mn(this.storage,this.storageKey+"-code-verifier"),await Mn(this.storage,this.storageKey+"-user"),this.userStorage&&await Mn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Jt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),So);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/So);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${So}ms, refresh threshold is ${Tf} ticks`),s<=Tf&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Sj)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Jt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,i]=await yo(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await ve(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:i}=r;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await ve(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?d4(t.webauthn.credential_response):h4(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await ve(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(fe(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const i=await ve(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:l}=i;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:c4(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:u4(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(fe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(a),a.status==="verified"&&s[a.factor_type].push(a);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Zd(s.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+xO>s)return n;const{data:a,error:i}=await ve(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,n=a.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:y,error:b}=await this.getSession();if(b||!y.session)return{data:null,error:b};n=y.session.access_token}const{header:s,payload:a,signature:i,raw:{header:l,payload:c}}=Zd(n);r!=null&&r.allowExpired||zO(a.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:a,header:s,signature:i},error:null}}const d=HO(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,i,kO(`${l}.${c}`)))throw new Of("Invalid JWT signature");return{data:{claims:a,header:s,signature:i},error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}}}zi.nextInstanceID=0;const b4=zi;class j4 extends b4{constructor(t){super(t)}}var N4=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class S4{constructor(t,r,n){var s,a,i;this.supabaseUrl=t,this.supabaseKey=r;const l=mO(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:sO,realtime:aO,auth:Object.assign(Object.assign({},oO),{storageKey:c}),global:nO},d=fO(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=uO(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new wA(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new eO(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new XI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return N4(this,void 0,void 0,function*(){var t,r;if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:a,storageKey:i,flowType:l,lock:c,debug:u},d,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new j4({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:a,flowType:l,lock:c,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new LA(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const _4=(e,t,r)=>new S4(e,t,r);function E4(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}E4()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const C4="https://hmmimemzznsyilxqakty.supabase.co",k4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhtbWltZW16em5zeWlseHFha3R5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI1MTU2MjgsImV4cCI6MjA2ODA5MTYyOH0.MrfJUkMzIPk12SFGuxWEtdLCVHq55ZWJLqDwOCIA2ZM";console.log(" Supabase client initialized successfully");const J=_4(C4,k4,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,flowType:"pkce"}});function P4(){if(typeof process>"u"){var e=typeof window<"u"?window:{},t=5e3,r=Date.now(),n=!1;e.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-r)+" ms"),n=!0}),setTimeout(function(){!n&&e.cordova&&console.warn("Ionic Native: deviceready did not fire within "+t+"ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},t)}}var Df=function(e,t){return Df=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Df(e,t)};function bp(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Df(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Qr=function(){return Qr=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Qr.apply(this,arguments)};function kj(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function R4(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function Pj(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(a=u[0]&2?s.return:u[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,u[1])).done)return a;switch(s=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],s=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Hi(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Bi(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,a=[],i;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)a.push(s.value)}catch(l){i={error:l}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return a}function Wi(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function Ko(e){return this instanceof Ko?(this.v=e,this):new Ko(e)}function T4(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,a=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",i),s[Symbol.asyncIterator]=function(){return this},s;function i(y){return function(b){return Promise.resolve(b).then(y,h)}}function l(y,b){n[y]&&(s[y]=function(g){return new Promise(function(w,p){a.push([y,g,w,p])>1||c(y,g)})},b&&(s[y]=b(s[y])))}function c(y,b){try{u(n[y](b))}catch(g){m(a[0][3],g)}}function u(y){y.value instanceof Ko?Promise.resolve(y.value.v).then(d,h):m(a[0][2],y)}function d(y){c("next",y)}function h(y){c("throw",y)}function m(y,b){y(b),a.shift(),a.length&&c(a[0][0],a[0][1])}}function I4(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Hi=="function"?Hi(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=e[a]&&function(i){return new Promise(function(l,c){i=e[a](i),s(l,c,i.done,i.value)})}}function s(a,i,l,c){Promise.resolve(c).then(function(u){a({value:u,done:l})},i)}}function Be(e){return typeof e=="function"}function A4(e){var t=function(n){Error.call(n),n.stack=new Error().stack},r=e(t);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var rh=A4(function(e){return function(r){e(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,s){return s+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function jv(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var jp=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,r,n,s,a;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var l=Hi(i),c=l.next();!c.done;c=l.next()){var u=c.value;u.remove(this)}}catch(g){t={error:g}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}else i.remove(this);var d=this.initialTeardown;if(Be(d))try{d()}catch(g){a=g instanceof rh?g.errors:[g]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var m=Hi(h),y=m.next();!y.done;y=m.next()){var b=y.value;try{Nv(b)}catch(g){a=a??[],g instanceof rh?a=Wi(Wi([],Bi(a)),Bi(g.errors)):a.push(g)}}}catch(g){n={error:g}}finally{try{y&&!y.done&&(s=m.return)&&s.call(m)}finally{if(n)throw n.error}}}if(a)throw new rh(a)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)Nv(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(t)}},e.prototype._hasParent=function(t){var r=this._parentage;return r===t||Array.isArray(r)&&r.includes(t)},e.prototype._addParent=function(t){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t},e.prototype._removeParent=function(t){var r=this._parentage;r===t?this._parentage=null:Array.isArray(r)&&jv(r,t)},e.prototype.remove=function(t){var r=this._finalizers;r&&jv(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}();jp.EMPTY;function Rj(e){return e instanceof jp||e&&"closed"in e&&Be(e.remove)&&Be(e.add)&&Be(e.unsubscribe)}function Nv(e){Be(e)?e():e.unsubscribe()}var O4={Promise:void 0},D4={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setTimeout.apply(void 0,Wi([e,t],Bi(r)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function Tj(e){D4.setTimeout(function(){throw e})}function Sv(){}function M4(e){e()}var Np=function(e){bp(t,e);function t(r){var n=e.call(this)||this;return n.isStopped=!1,r?(n.destination=r,Rj(r)&&r.add(n)):n.destination=U4,n}return t.create=function(r,n,s){return new Mf(r,n,s)},t.prototype.next=function(r){this.isStopped||this._next(r)},t.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(r){this.destination.next(r)},t.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(jp),L4=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var r=this.partialObserver;if(r.next)try{r.next(t)}catch(n){Wl(n)}},e.prototype.error=function(t){var r=this.partialObserver;if(r.error)try{r.error(t)}catch(n){Wl(n)}else Wl(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(r){Wl(r)}},e}(),Mf=function(e){bp(t,e);function t(r,n,s){var a=e.call(this)||this,i;return Be(r)||!r?i={next:r??void 0,error:n??void 0,complete:s??void 0}:i=r,a.destination=new L4(i),a}return t}(Np);function Wl(e){Tj(e)}function $4(e){throw e}var U4={closed:!0,next:Sv,error:$4,complete:Sv},Sp=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function F4(e){return e}function z4(e){return e.length===0?F4:e.length===1?e[0]:function(r){return e.reduce(function(n,s){return s(n)},r)}}var bs=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(t,r,n){var s=this,a=B4(t)?t:new Mf(t,r,n);return M4(function(){var i=s,l=i.operator,c=i.source;a.add(l?l.call(a,c):c?s._subscribe(a):s._trySubscribe(a))}),a},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){t.error(r)}},e.prototype.forEach=function(t,r){var n=this;return r=_v(r),new r(function(s,a){var i=new Mf({next:function(l){try{t(l)}catch(c){a(c),i.unsubscribe()}},error:a,complete:s});n.subscribe(i)})},e.prototype._subscribe=function(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)},e.prototype[Sp]=function(){return this},e.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return z4(t)(this)},e.prototype.toPromise=function(t){var r=this;return t=_v(t),new t(function(n,s){var a;r.subscribe(function(i){return a=i},function(i){return s(i)},function(){return n(a)})})},e.create=function(t){return new e(t)},e}();function _v(e){var t;return(t=e??O4.Promise)!==null&&t!==void 0?t:Promise}function H4(e){return e&&Be(e.next)&&Be(e.error)&&Be(e.complete)}function B4(e){return e&&e instanceof Np||H4(e)&&Rj(e)}function W4(e){return Be(e==null?void 0:e.lift)}function Ij(e){return function(t){if(W4(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Lf(e,t,r,n,s){return new V4(e,t,r,n,s)}var V4=function(e){bp(t,e);function t(r,n,s,a,i,l){var c=e.call(this,r)||this;return c.onFinalize=i,c.shouldUnsubscribe=l,c._next=n?function(u){try{n(u)}catch(d){r.error(d)}}:e.prototype._next,c._error=a?function(u){try{a(u)}catch(d){r.error(d)}finally{this.unsubscribe()}}:e.prototype._error,c._complete=s?function(){try{s()}catch(u){r.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,c}return t.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},t}(Np),Aj=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function q4(e){return Be(e==null?void 0:e.then)}function G4(e){return Be(e[Sp])}function K4(e){return Symbol.asyncIterator&&Be(e==null?void 0:e[Symbol.asyncIterator])}function Y4(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Q4(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var J4=Q4();function X4(e){return Be(e==null?void 0:e[J4])}function Z4(e){return T4(this,arguments,function(){var r,n,s,a;return Pj(this,function(i){switch(i.label){case 0:r=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,Ko(r.read())];case 3:return n=i.sent(),s=n.value,a=n.done,a?[4,Ko(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,Ko(s)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function eD(e){return Be(e==null?void 0:e.getReader)}function _p(e){if(e instanceof bs)return e;if(e!=null){if(G4(e))return tD(e);if(Aj(e))return rD(e);if(q4(e))return nD(e);if(K4(e))return Oj(e);if(X4(e))return sD(e);if(eD(e))return oD(e)}throw Y4(e)}function tD(e){return new bs(function(t){var r=e[Sp]();if(Be(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function rD(e){return new bs(function(t){for(var r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}function nD(e){return new bs(function(t){e.then(function(r){t.closed||(t.next(r),t.complete())},function(r){return t.error(r)}).then(null,Tj)})}function sD(e){return new bs(function(t){var r,n;try{for(var s=Hi(e),a=s.next();!a.done;a=s.next()){var i=a.value;if(t.next(i),t.closed)return}}catch(l){r={error:l}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}t.complete()})}function Oj(e){return new bs(function(t){aD(e,t).catch(function(r){return t.error(r)})})}function oD(e){return Oj(Z4(e))}function aD(e,t){var r,n,s,a;return R4(this,void 0,void 0,function(){var i,l;return Pj(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),r=I4(e),c.label=1;case 1:return[4,r.next()];case 2:if(n=c.sent(),!!n.done)return[3,4];if(i=n.value,t.next(i),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return l=c.sent(),s={error:l},[3,11];case 6:return c.trys.push([6,,9,10]),n&&!n.done&&(a=r.return)?[4,a.call(r)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(s)throw s.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function Dj(e,t){return Ij(function(r,n){var s=0;r.subscribe(Lf(n,function(a){n.next(e.call(t,a,s++))}))})}var iD=Array.isArray;function lD(e,t){return iD(t)?e.apply(void 0,Wi([],Bi(t))):e(t)}function cD(e){return Dj(function(t){return lD(e,t)})}function uD(e,t,r,n,s,a,i,l){var c=[],u=0,d=0,h=!1,m=function(){h&&!c.length&&!u&&t.complete()},y=function(g){return u<n?b(g):c.push(g)},b=function(g){u++;var w=!1;_p(r(g,d++)).subscribe(Lf(t,function(p){t.next(p)},function(){w=!0},void 0,function(){if(w)try{u--;for(var p=function(){var v=c.shift();i||b(v)};c.length&&u<n;)p();m()}catch(v){t.error(v)}}))};return e.subscribe(Lf(t,y,function(){h=!0,m()})),function(){}}function Mj(e,t,r){return r===void 0&&(r=1/0),Be(t)?Mj(function(n,s){return Dj(function(a,i){return t(n,a,s,i)})(_p(e(n,s)))},r):(typeof t=="number"&&(r=t),Ij(function(n,s){return uD(n,s,e,r)}))}var dD=["addListener","removeListener"],hD=["addEventListener","removeEventListener"],fD=["on","off"];function $f(e,t,r,n){if(Be(r)&&(n=r,r=void 0),n)return $f(e,t,r).pipe(cD(n));var s=Bi(gD(e)?hD.map(function(l){return function(c){return e[l](t,c,r)}}):mD(e)?dD.map(Ev(e,t)):pD(e)?fD.map(Ev(e,t)):[],2),a=s[0],i=s[1];if(!a&&Aj(e))return Mj(function(l){return $f(l,t,r)})(_p(e));if(!a)throw new TypeError("Invalid event target");return new bs(function(l){var c=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return l.next(1<u.length?u:u[0])};return a(c),function(){return i(c)}})}function Ev(e,t){return function(r){return function(n){return e[r](t,n)}}}function mD(e){return Be(e.addListener)&&Be(e.removeListener)}function pD(e){return Be(e.on)&&Be(e.off)}function gD(e){return Be(e.addEventListener)&&Be(e.removeEventListener)}var yD={error:"cordova_not_available"},vD={error:"plugin_not_installed"};function Lj(e){var t=function(){if(Promise)return new Promise(function(a,i){e(a,i)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")};if(typeof window<"u"&&window.angular){var r=window.document,n=window.angular.element(r.querySelector("[ng-app]")||r.body).injector();if(n){var s=n.get("$q");return s(function(a,i){e(a,i)})}console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return t()}function xD(e,t,r,n){n===void 0&&(n={});var s,a,i=Lj(function(l,c){n.destruct?s=es(e,t,r,n,function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return l(u)},function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return c(u)}):s=es(e,t,r,n,l,c),a=c});return s&&s.error&&(i.catch(function(){}),typeof a=="function"&&a(s.error)),i}function wD(e,t,r,n){return n===void 0&&(n={}),Lj(function(s,a){var i=es(e,t,r,n);i?i.error?a(i.error):i.then&&i.then(s).catch(a):a({error:"unexpected_error"})})}function bD(e,t,r,n){return n===void 0&&(n={}),new bs(function(s){var a;return n.destruct?a=es(e,t,r,n,function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];return s.next(i)},function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];return s.error(i)}):a=es(e,t,r,n,s.next.bind(s),s.error.bind(s)),a&&a.error&&(s.error(a.error),s.complete()),function(){try{if(n.clearFunction)return n.clearWithArgs?es(e,n.clearFunction,r,n,s.next.bind(s),s.error.bind(s)):es(e,n.clearFunction,[])}catch(i){console.warn("Unable to clear the previous observable watch for",e.constructor.getPluginName(),t),console.warn(i)}}})}function jD(e,t){return t=typeof window<"u"&&t?$j(window,t):t||(typeof window<"u"?window:{}),$f(t,e)}function Vu(e,t,r){var n,s;typeof e=="string"?n=e:(n=e.constructor.getPluginRef(),r=e.constructor.getPluginName(),s=e.constructor.getPluginInstallName());var a=qu(n);return!a||t&&typeof a[t]>"u"?typeof window>"u"||!window.cordova?(_D(r,t),yD):(SD(r,s,t),vD):!0}function ND(e,t,r,n){if(t===void 0&&(t={}),t.sync)return e;if(t.callbackOrder==="reverse")e.unshift(n),e.unshift(r);else if(t.callbackStyle==="node")e.push(function(l,c){l?n(l):r(c)});else if(t.callbackStyle==="object"&&t.successName&&t.errorName){var s={};s[t.successName]=r,s[t.errorName]=n,e.push(s)}else if(typeof t.successIndex<"u"||typeof t.errorIndex<"u"){var a=function(){t.successIndex>e.length?e[t.successIndex]=r:e.splice(t.successIndex,0,r)},i=function(){t.errorIndex>e.length?e[t.errorIndex]=n:e.splice(t.errorIndex,0,n)};t.successIndex>t.errorIndex?(i(),a()):(a(),i())}else e.push(r),e.push(n);return e}function es(e,t,r,n,s,a){n===void 0&&(n={}),r=ND(r,n,s,a);var i=Vu(e,t);if(i===!0){var l=qu(e.constructor.getPluginRef());return l[t].apply(l,r)}else return i}function qu(e){return typeof window<"u"?$j(window,e):null}function $j(e,t){for(var r=t.split("."),n=e,s=0;s<r.length;s++){if(!n)return null;n=n[r[s]]}return n}function SD(e,t,r){console.warn(r?"Native: tried calling "+e+"."+r+", but the "+e+" plugin is not installed.":"Native: tried accessing the "+e+" plugin but it's not installed."),t&&console.warn("Install the "+e+" plugin: 'ionic cordova plugin add "+t+"'")}function _D(e,t){typeof process>"u"&&console.warn(t?"Native: tried calling "+e+"."+t+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+e+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}var ED=function(e,t,r){return r===void 0&&(r={}),function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return r.sync?es(e,t,n,r):r.observable?bD(e,t,n,r):r.eventObservable&&r.event?jD(r.event,r.element):r.otherPromise?wD(e,t,n,r):xD(e,t,n,r)}};function CD(e,t){for(var r=t.split("."),n=e,s=0;s<r.length;s++){if(!n)return null;n=n[r[s]]}return n}var kD=function(){function e(){}return e.installed=function(){var t=Vu(this.pluginRef)===!0;return t},e.getPlugin=function(){return typeof window<"u"?CD(window,this.pluginRef):null},e.getPluginName=function(){var t=this.pluginName;return t},e.getPluginRef=function(){var t=this.pluginRef;return t},e.getPluginInstallName=function(){var t=this.plugin;return t},e.getSupportedPlatforms=function(){var t=this.platforms;return t},e.pluginName="",e.pluginRef="",e.plugin="",e.repo="",e.platforms=[],e.install="",e}();function kt(e,t,r,n){return ED(e,t,r).apply(this,n)}function de(e,t){return Vu(e,t)===!0?qu(e.constructor.getPluginRef())[t]:null}function he(e,t,r){Vu(e,t)===!0&&(qu(e.constructor.getPluginRef())[t]=r)}P4();var PD=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),RD=function(e){PD(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getApplicationUsername=function(){return kt(this,"getApplicationUsername",{sync:!0},arguments)},t.prototype.get=function(r){return kt(this,"get",{sync:!0},arguments)},t.prototype.error=function(r){return kt(this,"error",{sync:!0},arguments)},t.prototype.register=function(r){return kt(this,"register",{sync:!0},arguments)},t.prototype.when=function(r,n,s){return kt(this,"when",{sync:!0},arguments)},t.prototype.once=function(r,n,s){return kt(this,"once",{sync:!0},arguments)},t.prototype.off=function(r){return kt(this,"off",{sync:!0},arguments)},t.prototype.order=function(r,n){return kt(this,"order",{sync:!0},arguments)},t.prototype.ready=function(r){return kt(this,"ready",{},arguments)},t.prototype.refresh=function(){return kt(this,"refresh",{sync:!0},arguments)},t.prototype.update=function(){return kt(this,"update",{sync:!0},arguments)},t.prototype.manageSubscriptions=function(){return kt(this,"manageSubscriptions",{sync:!0},arguments)},t.prototype.redeem=function(){return kt(this,"redeem",{sync:!0},arguments)},t.prototype.manageBilling=function(){return kt(this,"manageBilling",{sync:!0},arguments)},t.prototype.launchPriceChangeConfirmationFlow=function(r,n){return kt(this,"launchPriceChangeConfirmationFlow",{sync:!0},arguments)},Object.defineProperty(t.prototype,"QUIET",{get:function(){return de(this,"QUIET")},set:function(r){he(this,"QUIET",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ERROR",{get:function(){return de(this,"ERROR")},set:function(r){he(this,"ERROR",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"WARNING",{get:function(){return de(this,"WARNING")},set:function(r){he(this,"WARNING",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"INFO",{get:function(){return de(this,"INFO")},set:function(r){he(this,"INFO",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"DEBUG",{get:function(){return de(this,"DEBUG")},set:function(r){he(this,"DEBUG",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"verbosity",{get:function(){return de(this,"verbosity")},set:function(r){he(this,"verbosity",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoFinishTransactions",{get:function(){return de(this,"autoFinishTransactions")},set:function(r){he(this,"autoFinishTransactions",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sandbox",{get:function(){return de(this,"sandbox")},set:function(r){he(this,"sandbox",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disableHostedContent",{get:function(){return de(this,"disableHostedContent")},set:function(r){he(this,"disableHostedContent",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"FREE_SUBSCRIPTION",{get:function(){return de(this,"FREE_SUBSCRIPTION")},set:function(r){he(this,"FREE_SUBSCRIPTION",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"PAID_SUBSCRIPTION",{get:function(){return de(this,"PAID_SUBSCRIPTION")},set:function(r){he(this,"PAID_SUBSCRIPTION",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"NON_RENEWING_SUBSCRIPTION",{get:function(){return de(this,"NON_RENEWING_SUBSCRIPTION")},set:function(r){he(this,"NON_RENEWING_SUBSCRIPTION",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"CONSUMABLE",{get:function(){return de(this,"CONSUMABLE")},set:function(r){he(this,"CONSUMABLE",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"NON_CONSUMABLE",{get:function(){return de(this,"NON_CONSUMABLE")},set:function(r){he(this,"NON_CONSUMABLE",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ERR_SETUP",{get:function(){return de(this,"ERR_SETUP")},set:function(r){he(this,"ERR_SETUP",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ERR_LOAD",{get:function(){return de(this,"ERR_LOAD")},set:function(r){he(this,"ERR_LOAD",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ERR_PURCHASE",{get:function(){return de(this,"ERR_PURCHASE")},set:function(r){he(this,"ERR_PURCHASE",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ERR_LOAD_RECEIPTS",{get:function(){return de(this,"ERR_LOAD_RECEIPTS")},set:function(r){he(this,"ERR_LOAD_RECEIPTS",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ERR_CLIENT_INVALID",{get:function(){return de(this,"ERR_CLIENT_INVALID")},set:function(r){he(this,"ERR_CLIENT_INVALID",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ERR_PAYMENT_CANCELLED",{get:function(){return de(this,"ERR_PAYMENT_CANCELLED")},set:function(r){he(this,"ERR_PAYMENT_CANCELLED",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ERR_PAYMENT_INVALID",{get:function(){return de(this,"ERR_PAYMENT_INVALID")},set:function(r){he(this,"ERR_PAYMENT_INVALID",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ERR_PAYMENT_NOT_ALLOWED",{get:function(){return de(this,"ERR_PAYMENT_NOT_ALLOWED")},set:function(r){he(this,"ERR_PAYMENT_NOT_ALLOWED",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ERR_UNKNOWN",{get:function(){return de(this,"ERR_UNKNOWN")},set:function(r){he(this,"ERR_UNKNOWN",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ERR_REFRESH_RECEIPTS",{get:function(){return de(this,"ERR_REFRESH_RECEIPTS")},set:function(r){he(this,"ERR_REFRESH_RECEIPTS",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ERR_INVALID_PRODUCT_ID",{get:function(){return de(this,"ERR_INVALID_PRODUCT_ID")},set:function(r){he(this,"ERR_INVALID_PRODUCT_ID",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ERR_FINISH",{get:function(){return de(this,"ERR_FINISH")},set:function(r){he(this,"ERR_FINISH",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ERR_COMMUNICATION",{get:function(){return de(this,"ERR_COMMUNICATION")},set:function(r){he(this,"ERR_COMMUNICATION",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ERR_SUBSCRIPTIONS_NOT_AVAILABLE",{get:function(){return de(this,"ERR_SUBSCRIPTIONS_NOT_AVAILABLE")},set:function(r){he(this,"ERR_SUBSCRIPTIONS_NOT_AVAILABLE",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ERR_MISSING_TOKEN",{get:function(){return de(this,"ERR_MISSING_TOKEN")},set:function(r){he(this,"ERR_MISSING_TOKEN",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ERR_VERIFICATION_FAILED",{get:function(){return de(this,"ERR_VERIFICATION_FAILED")},set:function(r){he(this,"ERR_VERIFICATION_FAILED",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ERR_BAD_RESPONSE",{get:function(){return de(this,"ERR_BAD_RESPONSE")},set:function(r){he(this,"ERR_BAD_RESPONSE",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ERR_REFRESH",{get:function(){return de(this,"ERR_REFRESH")},set:function(r){he(this,"ERR_REFRESH",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ERR_PAYMENT_EXPIRED",{get:function(){return de(this,"ERR_PAYMENT_EXPIRED")},set:function(r){he(this,"ERR_PAYMENT_EXPIRED",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ERR_DOWNLOAD",{get:function(){return de(this,"ERR_DOWNLOAD")},set:function(r){he(this,"ERR_DOWNLOAD",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ERR_SUBSCRIPTION_UPDATE_NOT_AVAILABLE",{get:function(){return de(this,"ERR_SUBSCRIPTION_UPDATE_NOT_AVAILABLE")},set:function(r){he(this,"ERR_SUBSCRIPTION_UPDATE_NOT_AVAILABLE",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"REGISTERED",{get:function(){return de(this,"REGISTERED")},set:function(r){he(this,"REGISTERED",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"INVALID",{get:function(){return de(this,"INVALID")},set:function(r){he(this,"INVALID",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"VALID",{get:function(){return de(this,"VALID")},set:function(r){he(this,"VALID",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"REQUESTED",{get:function(){return de(this,"REQUESTED")},set:function(r){he(this,"REQUESTED",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"INITIATED",{get:function(){return de(this,"INITIATED")},set:function(r){he(this,"INITIATED",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"APPROVED",{get:function(){return de(this,"APPROVED")},set:function(r){he(this,"APPROVED",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"FINISHED",{get:function(){return de(this,"FINISHED")},set:function(r){he(this,"FINISHED",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"OWNED",{get:function(){return de(this,"OWNED")},set:function(r){he(this,"OWNED",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"DOWNLOADING",{get:function(){return de(this,"DOWNLOADING")},set:function(r){he(this,"DOWNLOADING",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"DOWNLOADED",{get:function(){return de(this,"DOWNLOADED")},set:function(r){he(this,"DOWNLOADED",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"INVALID_PAYLOAD",{get:function(){return de(this,"INVALID_PAYLOAD")},set:function(r){he(this,"INVALID_PAYLOAD",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"CONNECTION_FAILED",{get:function(){return de(this,"CONNECTION_FAILED")},set:function(r){he(this,"CONNECTION_FAILED",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"PURCHASE_EXPIRED",{get:function(){return de(this,"PURCHASE_EXPIRED")},set:function(r){he(this,"PURCHASE_EXPIRED",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"PURCHASE_CONSUMED",{get:function(){return de(this,"PURCHASE_CONSUMED")},set:function(r){he(this,"PURCHASE_CONSUMED",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL_ERROR",{get:function(){return de(this,"INTERNAL_ERROR")},set:function(r){he(this,"INTERNAL_ERROR",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"NEED_MORE_DATA",{get:function(){return de(this,"NEED_MORE_DATA")},set:function(r){he(this,"NEED_MORE_DATA",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"products",{get:function(){return de(this,"products")},set:function(r){he(this,"products",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return de(this,"validator")},set:function(r){he(this,"validator",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"applicationUsername",{get:function(){return de(this,"applicationUsername")},set:function(r){he(this,"applicationUsername",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"log",{get:function(){return de(this,"log")},set:function(r){he(this,"log",r)},enumerable:!1,configurable:!0}),t.pluginName="InAppPurchase2",t.plugin="cordova-plugin-purchase",t.pluginRef="store",t.repo="https://github.com/j3k0/cordova-plugin-purchase",t.platforms=["iOS","Android","Windows"],t.install='ionic cordova plugin add cordova-plugin-purchase --variable BILLING_KEY="<ANDROID_BILLING_KEY>"',t}(kD),Re=new RD;const Ce={PREMIUM_MONTHLY:"com.mattyc.heartlift.premium.monthly",HEALING_KIT:"com.mattyc.heartlift.healingkit"};class TD{constructor(){fd(this,"initialized",!1);fd(this,"userId","")}async initialize(t){if(this.initialized){console.log("Purchase service already initialized");return}try{this.userId=t,Re.register([{id:Ce.PREMIUM_MONTHLY,type:Re.PAID_SUBSCRIPTION},{id:Ce.HEALING_KIT,type:Re.NON_CONSUMABLE}]),Re.when(Ce.PREMIUM_MONTHLY).approved(async r=>{console.log(" Premium subscription approved"),await this.syncToSupabase(!0,!1),r.finish()}),Re.when(Ce.PREMIUM_MONTHLY).cancelled(()=>{console.log(" Premium purchase cancelled during checkout")}),Re.when(Ce.PREMIUM_MONTHLY).error(r=>{console.error(" Premium purchase error:",r)}),Re.when(Ce.PREMIUM_MONTHLY).expired(async()=>{console.log(" Premium subscription expired - revoking access"),await this.cancelSubscriptionInSupabase()}),Re.when(Ce.PREMIUM_MONTHLY).restored(async r=>{console.log(" Premium subscription restored"),await this.syncToSupabase(!0,!1),r.finish()}),Re.when(Ce.HEALING_KIT).approved(async r=>{console.log(" Healing Kit purchase approved"),await this.syncToSupabase(!1,!0),r.finish()}),Re.when(Ce.HEALING_KIT).cancelled(()=>{console.log(" Healing Kit purchase cancelled by user")}),Re.when(Ce.HEALING_KIT).error(r=>{console.error(" Healing Kit purchase error:",r)}),Re.when(Ce.HEALING_KIT).restored(async r=>{console.log(" Healing Kit restored"),await this.syncToSupabase(!1,!0),r.finish()}),Re.refresh(),console.log(" Apple IAP initialized for user:",t),this.initialized=!0}catch(r){throw console.error(" Failed to initialize Apple IAP:",r),r}}async getProducts(){try{if(!this.initialized)throw new Error("Purchase service not initialized");const t=Re.get(Ce.PREMIUM_MONTHLY),r=Re.get(Ce.HEALING_KIT);return console.log(" Products loaded from Apple IAP"),{premium:t,healingKit:r}}catch(t){throw console.error(" Failed to get products:",t),t}}async purchasePremium(){try{if(!this.initialized)throw new Error("Purchase service not initialized");return console.log(" Initiating Apple IAP purchase for:",Ce.PREMIUM_MONTHLY),new Promise((t,r)=>{Re.when(Ce.PREMIUM_MONTHLY).approved(async n=>{var s;console.log(" Premium subscription approved"),await this.syncToSupabase(!0,!1),n.finish(),t({success:!0,platform:"apple",productId:Ce.PREMIUM_MONTHLY,transactionId:(s=n.transaction)==null?void 0:s.id})}),Re.when(Ce.PREMIUM_MONTHLY).cancelled(()=>{console.log("User cancelled purchase"),t(null)}),Re.when(Ce.PREMIUM_MONTHLY).error(n=>{console.error(" Premium purchase failed:",n),r(n)}),Re.order(Ce.PREMIUM_MONTHLY)})}catch(t){throw console.error(" Premium purchase failed:",t),t}}async purchaseHealingKit(){try{if(!this.initialized)throw new Error("Purchase service not initialized");return console.log(" Initiating Apple IAP purchase for:",Ce.HEALING_KIT),new Promise((t,r)=>{Re.when(Ce.HEALING_KIT).approved(async n=>{var s;console.log(" Healing Kit purchased successfully"),await this.syncToSupabase(!1,!0),n.finish(),t({success:!0,platform:"apple",productId:Ce.HEALING_KIT,transactionId:(s=n.transaction)==null?void 0:s.id})}),Re.when(Ce.HEALING_KIT).cancelled(()=>{console.log("User cancelled purchase"),t(null)}),Re.when(Ce.HEALING_KIT).error(n=>{console.error(" Healing Kit purchase failed:",n),r(n)}),Re.order(Ce.HEALING_KIT)})}catch(t){throw console.error(" Healing Kit purchase failed:",t),t}}async checkSubscriptionStatus(){try{if(!this.initialized)throw new Error("Purchase service not initialized");console.log(" Checking subscription status from Apple...");const t=Re.get(Ce.PREMIUM_MONTHLY),r=Re.get(Ce.HEALING_KIT),n=t.owned,s=r.owned;return console.log(" Current Apple IAP status:",{hasPremium:n,hasHealingKit:s}),await this.syncToSupabase(n,s),{hasPremium:n,hasHealingKit:s}}catch(t){return console.error(" Failed to check subscription status:",t),{hasPremium:!1,hasHealingKit:!1}}}async restorePurchases(){var t,r;try{if(!this.initialized)throw new Error("Purchase service not initialized");console.log(" Restoring purchases via Apple IAP..."),Re.restore(),await new Promise(l=>setTimeout(l,2e3));const n=Re.get(Ce.PREMIUM_MONTHLY),s=Re.get(Ce.HEALING_KIT),a=n.owned,i=s.owned;return console.log(" Purchases restored from Apple:",{hasPremium:a,hasHealingKit:i}),(a||i)&&await this.syncToSupabase(a,i),{hasPremium:a,hasHealingKit:i,platform:"revenuecat"}}catch(n){console.error(" Failed to restore purchases:",n);try{console.log(" Falling back to Supabase check...");const{data:{user:s}}=await J.auth.getUser();if(!s)throw new Error("No user logged in");const[a,i]=await Promise.all([J.from("subscribers").select("subscribed").eq("user_id",s.id).single(),J.from("healing_kit_purchases").select("status").eq("user_id",s.id).single()]),l=((t=a.data)==null?void 0:t.subscribed)||!1,c=((r=i.data)==null?void 0:r.status)==="completed";return console.log(" Purchases restored from Supabase fallback:",{hasPremium:l,hasHealingKit:c}),{hasPremium:l,hasHealingKit:c,platform:"supabase"}}catch(s){throw console.error(" Fallback also failed:",s),n}}}async cancelSubscriptionInSupabase(){try{const{data:{user:t}}=await J.auth.getUser();if(!t)throw new Error("No user logged in");console.log(" Subscription expired - revoking premium access in Supabase...");const{error:r}=await J.from("subscribers").update({subscribed:!1,payment_status:"expired",updated_at:new Date().toISOString()}).eq("user_id",t.id);r?console.error(" Failed to update subscription status in Supabase:",r):console.log(" Premium access revoked in Supabase (subscription expired at end of billing period)")}catch(t){console.error(" Error updating subscription status:",t)}}async syncToSupabase(t,r){try{const{data:{user:n}}=await J.auth.getUser();if(!n)throw new Error("No user logged in");if(console.log(" Syncing purchase status to Supabase..."),t){const{error:s}=await J.from("subscribers").upsert({user_id:n.id,email:n.email,plan_type:"premium",subscribed:!0,payment_status:"active",updated_at:new Date().toISOString()},{onConflict:"user_id"});s?console.error(" Failed to update premium in Supabase:",s):console.log(" Premium updated in Supabase")}if(r){const{error:s}=await J.from("healing_kit_purchases").upsert({user_id:n.id,status:"completed",purchased_at:new Date().toISOString()},{onConflict:"user_id"});s?console.error(" Failed to update healing kit in Supabase:",s):console.log(" Healing Kit updated in Supabase")}console.log(" All purchases synced to Supabase")}catch(n){throw console.error(" Failed to sync purchases to Supabase:",n),n}}async checkPurchaseStatus(){var t,r;try{const{data:{user:n}}=await J.auth.getUser();if(!n)return{hasPremium:!1,hasHealingKit:!1};const[s,a]=await Promise.all([J.from("subscribers").select("subscribed").eq("user_id",n.id).single(),J.from("healing_kit_purchases").select("status").eq("user_id",n.id).single()]);return{hasPremium:((t=s.data)==null?void 0:t.subscribed)||!1,hasHealingKit:((r=a.data)==null?void 0:r.status)==="completed"}}catch(n){return console.error(" Failed to check purchase status:",n),{hasPremium:!1,hasHealingKit:!1}}}async buyPremium(){try{if(!this.initialized)throw new Error("Purchase service not initialized");if(console.log(" Initiating premium purchase..."),!Re.get(Ce.PREMIUM_MONTHLY))throw new Error("Premium subscription product not found");const r=await Re.order(Ce.PREMIUM_MONTHLY);return console.log(" Premium purchase initiated:",r),{success:!0}}catch(t){return console.error(" Premium purchase failed:",t),{success:!1,error:(t==null?void 0:t.message)||"Failed to purchase premium subscription"}}}async buyHealingKit(){try{if(!this.initialized)throw new Error("Purchase service not initialized");if(console.log(" Initiating healing kit purchase..."),!Re.get(Ce.HEALING_KIT))throw new Error("Healing Kit product not found");const r=await Re.order(Ce.HEALING_KIT);return console.log(" Healing Kit purchase initiated:",r),{success:!0}}catch(t){return console.error(" Healing Kit purchase failed:",t),{success:!1,error:(t==null?void 0:t.message)||"Failed to purchase Healing Kit"}}}}const Vi=new TD,Uj=f.createContext(void 0),Oe=()=>{const e=f.useContext(Uj);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},ID=({children:e})=>{const[t,r]=f.useState(null),[n,s]=f.useState(null),[a,i]=f.useState(!0),[l,c]=f.useState(()=>{const j=localStorage.getItem("isPremium");return j?JSON.parse(j):!1}),[u,d]=f.useState(()=>{const j=localStorage.getItem("hasHealingKit");return j?JSON.parse(j):!1}),[h,m]=f.useState(()=>{const j=localStorage.getItem("subscriptionStatus");return j?JSON.parse(j):"free"}),y=async j=>{try{await J.from("conversation_history").delete().eq("user_id",j),console.log("[AuthContext] Cleared all conversations for user on login")}catch(N){console.error("[AuthContext] Error clearing conversations:",N)}},b=async()=>{if(t)try{console.log("[AuthContext] Checking subscription for user:",t.id);const{data:j,error:N}=await J.from("subscribers").select("*").eq("user_id",t.id).maybeSingle();let S=!1;!N&&j?(console.log("[AuthContext] RAW Subscriber data:",JSON.stringify(j)),j.subscribed===!0?(S=!0,console.log("[AuthContext]  Premium ACTIVE (subscribed=true)")):j.plan_type==="premium"&&j.payment_status==="active"?(S=!0,console.log("[AuthContext]  Premium ACTIVE (plan_type=premium, payment_status=active)")):console.log("[AuthContext]  NO PREMIUM - Data:",j)):N?console.error("[AuthContext] Error fetching subscriber:",N):console.log("[AuthContext] No subscriber record found for user");const{data:_,error:E}=await J.rpc("user_has_healing_kit",{user_uuid:t.id});let I=!1;E?console.error("[AuthContext] Error checking healing kit:",E):(console.log("[AuthContext] Healing kit status:",_),I=_===!0),c(S),m(S?"premium":"free"),d(I),localStorage.setItem("isPremium",JSON.stringify(S)),localStorage.setItem("subscriptionStatus",JSON.stringify(S?"premium":"free")),localStorage.setItem("hasHealingKit",JSON.stringify(I)),console.log("[AuthContext] Subscription check complete - Premium:",S,"Healing Kit:",I)}catch(j){console.error("[AuthContext] Error checking subscription:",j)}};f.useEffect(()=>{const{data:{subscription:j}}=J.auth.onAuthStateChange(async(N,S)=>{var _;if(console.log("[AuthContext] Auth state change:",N,(_=S==null?void 0:S.user)==null?void 0:_.email),s(S),r((S==null?void 0:S.user)??null),i(!1),N==="SIGNED_IN"&&(S!=null&&S.user)&&!S.user.email_confirmed_at){console.log("[AuthContext] Forcing sign out - email not verified"),await J.auth.signOut();return}if(S!=null&&S.user&&(N==="SIGNED_IN"||N==="INITIAL_SESSION")){console.log("[AuthContext] User session detected, checking subscription immediately");try{await Vi.initialize(S.user.id),console.log("[AuthContext] Purchase service initialized successfully")}catch(E){console.error("[AuthContext] Failed to initialize purchase service:",E)}setTimeout(()=>b(),0)}else N==="SIGNED_OUT"&&(console.log("[AuthContext] User signed out, clearing state"),t&&await y(t.id),c(!1),d(!1),m("free"),localStorage.removeItem("isPremium"),localStorage.removeItem("hasHealingKit"),localStorage.removeItem("subscriptionStatus"))});return J.auth.getSession().then(async({data:{session:N},error:S})=>{if(S){console.error("[AuthContext] Error getting session:",S),await J.auth.signOut({scope:"local"}),localStorage.clear(),s(null),r(null),i(!1);return}if(s(N),r((N==null?void 0:N.user)??null),N!=null&&N.user)try{await Vi.initialize(N.user.id),console.log("[AuthContext] Purchase service initialized for existing session")}catch(_){console.error("[AuthContext] Failed to initialize purchase service:",_)}i(!1),N!=null&&N.user?(console.log("[AuthContext] Found existing session for:",N.user.email),setTimeout(()=>b(),0)):console.log("[AuthContext] No existing session found")}).catch(async N=>{console.error("[AuthContext] Failed to get session:",N),await J.auth.signOut({scope:"local"}),localStorage.clear(),s(null),r(null),i(!1)}),()=>j.unsubscribe()},[]),f.useEffect(()=>{t&&b()},[t]);const x={user:t,session:n,signIn:async(j,N)=>{var S;try{console.log("[AuthContext] Attempting sign in for:",j);const{data:_,error:E}=await J.auth.signInWithPassword({email:j,password:N});return E?(console.error("[AuthContext] Sign in error:",E),{error:E}):_.user&&!_.user.email_confirmed_at?(console.log("[AuthContext] Email not verified, signing out"),await J.auth.signOut(),{error:{message:"Please verify your email before signing in. Check your inbox for the verification code."}}):(console.log("[AuthContext] Sign in successful for:",(S=_.user)==null?void 0:S.email),{error:null})}catch(_){return console.error("[AuthContext] Unexpected sign in error:",_),{error:{message:(_==null?void 0:_.message)||"An unexpected error occurred during sign in"}}}},signUp:async(j,N,S)=>{const _=`${window.location.origin}/`,{data:E,error:I}=await J.auth.signUp({email:j,password:N,options:{emailRedirectTo:_,data:{full_name:S}}});return E!=null&&E.user&&E.user.identities&&E.user.identities.length===0?{error:{message:"An account with this email already exists. Please sign in instead."}}:(E!=null&&E.user&&!E.user.email_confirmed_at&&await J.auth.signOut(),{error:I})},signOut:async()=>{try{r(null),s(null),c(!1),d(!1),m("free"),localStorage.removeItem("isPremium"),localStorage.removeItem("hasHealingKit"),localStorage.removeItem("subscriptionStatus"),t&&await y(t.id),await J.auth.signOut(),window.location.href="/"}catch(j){console.error("Error during sign out:",j),localStorage.clear(),window.location.href="/"}},forceSignOut:async()=>{try{console.log("[AuthContext] Force sign out initiated"),r(null),s(null),c(!1),d(!1),m("free"),localStorage.clear(),sessionStorage.clear(),await J.auth.signOut(),window.location.href="/"}catch(j){console.error("Error during force sign out:",j),localStorage.clear(),sessionStorage.clear(),window.location.href="/"}},loading:a,isPremium:l,hasHealingKit:u,subscriptionStatus:h,checkSubscription:b};return o.jsx(Uj.Provider,{value:x,children:e})},AD=sl("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",warm:"bg-gradient-to-r from-primary to-primary-glow text-primary-foreground shadow-warm hover:shadow-float transform hover:scale-[1.02] transition-all duration-300 hover:animate-pulse-warm",healing:"bg-gradient-to-r from-secondary to-accent text-secondary-foreground shadow-gentle hover:shadow-warm transition-all duration-300",gentle:"bg-background border border-primary/20 text-foreground hover:bg-primary/5 hover:border-primary/40 shadow-card hover:shadow-gentle transition-all duration-300",flirty:"bg-gradient-to-r from-pink-400 to-pink-500 text-white shadow-warm hover:shadow-float hover:from-pink-500 hover:to-pink-600 transition-all duration-300 hover:scale-[1.02]",therapist:"bg-gradient-to-r from-purple-400 to-purple-500 text-white shadow-warm hover:shadow-float hover:from-purple-500 hover:to-purple-600 transition-all duration-300 hover:scale-[1.02]",tough:"bg-gradient-to-r from-orange-400 to-orange-500 text-white shadow-warm hover:shadow-float hover:from-orange-500 hover:to-orange-600 transition-all duration-300 hover:scale-[1.02]",chill:"bg-gradient-to-r from-green-400 to-green-500 text-white shadow-warm hover:shadow-float hover:from-green-500 hover:to-green-600 transition-all duration-300 hover:scale-[1.02]"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),H=f.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},a)=>{const i=n?QC:"button";return o.jsx(i,{className:ie(AD({variant:t,size:r,className:e})),ref:a,...s})});H.displayName="Button";const OD=({onGetStarted:e})=>{const t=at(),{user:r}=Oe(),n=()=>{r?e==null||e():t("/auth")};return o.jsxs("section",{className:"min-h-screen flex items-center justify-center px-4 py-16 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background via-muted to-secondary"}),o.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-gradient-to-r from-primary/10 to-primary-glow/10 rounded-full blur-3xl animate-float-gentle"}),o.jsx("div",{className:"absolute bottom-32 right-16 w-48 h-48 bg-gradient-to-r from-secondary/15 to-accent/15 rounded-full blur-3xl animate-float-gentle",style:{animationDelay:"1s"}}),o.jsx("div",{className:"absolute top-1/2 left-1/4 w-24 h-24 bg-gradient-to-r from-accent/10 to-primary/10 rounded-full blur-2xl animate-pulse-warm"}),o.jsxs("div",{className:"max-w-5xl mx-auto text-center space-y-12 animate-fade-in relative z-10",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex justify-center mb-6",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"p-6 rounded-full bg-gradient-to-r from-primary to-primary-glow shadow-float animate-float-gentle",children:o.jsx(pe,{className:"w-12 h-12 text-primary-foreground"})}),o.jsx("div",{className:"absolute -top-2 -right-2 text-2xl animate-bounce-gentle",style:{animationDelay:"0.5s"},children:""}),o.jsx("div",{className:"absolute -bottom-1 -left-1 text-xl animate-pulse-warm",style:{animationDelay:"1s"},children:""})]})}),o.jsxs("h1",{className:"text-3xl sm:text-5xl md:text-6xl lg:text-8xl font-bold text-foreground tracking-tight leading-tight px-4 sm:px-0",children:["Heart",o.jsx("span",{className:"bg-gradient-to-r from-primary via-primary to-primary bg-clip-text text-transparent font-black drop-shadow-sm",children:"Lift"})]}),o.jsxs("p",{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl text-muted-foreground max-w-3xl mx-auto leading-relaxed font-bold px-4 sm:px-0",children:["Helping your heart heal, grow, and thrive ",o.jsx("br",{className:"block mb-2 sm:mb-3"}),o.jsx("span",{className:"text-base sm:text-lg lg:text-xl block sm:inline mt-2 sm:mt-0 font-medium",children:"Navigate love, heartbreak, and communication with AI coaches who truly understand you"})]})]}),o.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 lg:gap-6 max-w-4xl mx-auto px-4 sm:px-0",children:[{icon:ku,title:"AI Coaches with Soul",description:"Four unique personalities ready to support your relationship journey",emoji:"",gradient:"from-pink-400/20 to-rose-400/20"},{icon:pe,title:"Healing Toolkit",description:"No-contact tracker, daily check-ins, and personalised recovery plans",emoji:"",gradient:"from-green-400/20 to-emerald-400/20"},{icon:fa,title:"Growth Tracking",description:"Visualize your emotional journey and celebrate every milestone",emoji:"",gradient:"from-purple-400/20 to-indigo-400/20"}].map((s,a)=>o.jsxs("div",{className:"group p-3 sm:p-4 lg:p-6 xl:p-8 bg-card backdrop-blur-sm rounded-2xl border border-border/40 hover:border-primary/20 hover:shadow-warm transition-all duration-500 hover:scale-[1.02] animate-slide-up relative overflow-hidden",style:{animationDelay:`${a*200}ms`},children:[o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${s.gradient} opacity-40`}),o.jsxs("div",{className:"relative z-10",children:[o.jsxs("div",{className:"flex items-center justify-center mb-4",children:[o.jsx(s.icon,{className:"w-10 h-10 sm:w-12 sm:h-12 text-primary group-hover:animate-bounce-gentle stroke-[1.5]"}),o.jsx("span",{className:"text-2xl sm:text-3xl ml-2",children:s.emoji})]}),o.jsx("h3",{className:"font-bold text-base sm:text-lg mb-2 sm:mb-3 group-hover:text-primary transition-colors",children:s.title}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground leading-relaxed",children:s.description})]})]},s.title))}),o.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[o.jsx("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center items-center",children:o.jsx(H,{variant:"warm",size:"lg",className:"px-6 sm:px-10 py-4 sm:py-4 text-base sm:text-lg font-semibold group relative overflow-hidden w-full sm:w-auto min-h-[48px] shadow-md hover:shadow-lg transition-all duration-300 hover:scale-105",onClick:n,children:o.jsx("span",{className:"relative z-10 flex items-center gap-2",children:r?o.jsxs(o.Fragment,{children:[o.jsx(pe,{className:"w-5 h-5 group-hover:animate-pulse-warm"}),r.created_at&&new Date().getTime()-new Date(r.created_at).getTime()<24*60*60*1e3?"Start Your Journey":"Continue Your Journey"]}):o.jsx(o.Fragment,{children:" Start Your Healing Journey"})})})}),o.jsx("div",{className:"flex justify-center",children:o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-emerald-50 to-green-50 rounded-full border border-emerald-200 shadow-sm",children:[o.jsx("span",{className:"text-lg",children:""}),o.jsx("span",{className:"font-semibold text-emerald-700 text-sm sm:text-base",children:"Free to start"})]})})]}),o.jsx("div",{className:"flex items-center justify-center pt-8 pb-4",children:o.jsxs("span",{className:"flex items-center gap-2 text-muted-foreground text-base sm:text-lg",children:[o.jsx("span",{className:"text-xl",children:""}),o.jsx("span",{children:"Premium from 11.99/month"})]})}),o.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 pt-4 pb-8",children:[o.jsxs("span",{className:"text-muted-foreground text-sm",children:["Need help? Contact us at"," ",o.jsx("a",{href:"mailto:support@heart-lift.com",className:"text-primary hover:text-primary/80 underline transition-colors",children:"support@heart-lift.com"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("a",{href:"/privacy-policy",className:"text-muted-foreground hover:text-primary text-xs underline transition-colors",children:"Privacy Policy"}),o.jsx("span",{className:"text-muted-foreground text-xs",children:""}),o.jsx("a",{href:"/terms-of-service",className:"text-muted-foreground hover:text-primary text-xs underline transition-colors",children:"Terms of Service"})]})]})]})]})},W=f.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ie("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));W.displayName="Card";const Z=f.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ie("flex flex-col space-y-1.5 p-6",e),...t}));Z.displayName="CardHeader";const ee=f.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:ie("text-2xl font-semibold leading-none tracking-tight",e),...t}));ee.displayName="CardTitle";const qe=f.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:ie("text-sm text-muted-foreground",e),...t}));qe.displayName="CardDescription";const Y=f.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ie("p-6 pt-0",e),...t}));Y.displayName="CardContent";const DD=f.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ie("flex items-center p-6 pt-0",e),...t}));DD.displayName="CardFooter";const MD=()=>{const{user:e}=Oe(),[t,r]=f.useState({}),[n,s]=f.useState(!0);return f.useEffect(()=>{if(!e){s(!1);return}(async()=>{try{const{data:l,error:c}=await J.from("conversation_history").select("coach_id, created_at").eq("user_id",e.id).order("created_at",{ascending:!1});if(c)throw c;const u={};l&&l.forEach(d=>{d.coach_id&&!u[d.coach_id]&&(u[d.coach_id]=new Date(d.created_at))}),r(u)}catch(l){console.error("Error fetching last interactions:",l)}finally{s(!1)}})()},[e]),{getLastInteractionText:i=>{const l=t[i];if(!l)return"Available";const u=new Date().getTime()-l.getTime(),d=Math.floor(u/6e4),h=Math.floor(u/36e5),m=Math.floor(u/864e5);if(d<5)return"Online now";if(d<60)return`Last spoke ${d} min${d!==1?"s":""} ago`;if(h<24)return`Last spoke ${h} hour${h!==1?"s":""} ago`;if(m===1)return"Last spoke yesterday";if(m<7)return`Last spoke ${m} days ago`;if(m<30){const y=Math.floor(m/7);return`Last spoke ${y} week${y!==1?"s":""} ago`}else{const y=Math.floor(m/30);return`Last spoke ${y} month${y!==1?"s":""} ago`}},loading:n}},LD=[{id:"flirty",name:"Luna Love",icon:pe,emoji:"",description:"Your confidence coach for dating, flirting, and magnetic attraction",personality:"Playful, empowering, flirty, and charmingly bold",specialties:["Dating confidence","Flirting tips","Self-love","Planning fun, adventurous dates"],greetings:["Hi {firstName}! Ready to turn heads today? ","Hey {firstName}, feeling that spark yet? Let's bring it out! ","Hi {firstName}! You've got main character energy and I'm here for it.","Hello {firstName}, let's add a little confidence magic to your day."],color:"from-pink-400 to-rose-500",bgColor:"from-pink-50 to-rose-50",accent:"text-pink-600",shadowColor:"shadow-pink-200/50",backstory:"Luna Love is your confidence coach for dating, flirting, and magnetic attraction. She believes life is a party and you deserve to be the star. Luna always sprinkles sparkle into her words, uses emojis liberally, and never misses a chance to boost your confidence. She's bold but kind, flirty but supportive.",tone:'High energy, witty, playful, slightly cheeky. Uses nicknames ("gorgeous", "superstar"), emojis , and dramatic flair. Luna loves excitement, fun, and helping you shine.',strengths:["Dating confidence","Flirting tips","Self-love","Planning fun, adventurous dates"],quirks:["Always throws in a sparkly emoji ","Speaks like a bestie hyping you up before a party","Loves bold colors, cocktails, dance floors, rooftop bars"],abilities:["Give quick dating confidence boosts","Suggest flirty conversation starters","Plan fun, adventurous date ideas tailored to the user's mood, budget, and vibe","Offer playful self-love reminders"],scenarios:[{trigger:"plan a date",response:"Ooooh, date night!  Tell me the vibe you're feeling:  Glam night out (dress to impress)  Cute & creative (arts, classes, DIY fun)  Chill & cozy (picnic, stargazing, blankets)  Spontaneous adventure (day trip, rooftop, live show) I'll whip up some irresistible ideas for you!"},{trigger:"feeling nervous",response:"Babe, nerves are just excitement in disguise . Take a deep breath, throw on your fave outfit, and remember: YOU are the magic tonight . Want me to drop a confidence-boosting mantra?"}],exampleDialogues:[{user:"Luna, can you plan me a fun first date?",coach:"Absolutely, gorgeous!  First dates should sparkle. If you're up for playful fun, how about mini-golf + milkshakes?  Or if you're feeling glam, cocktails at a rooftop bar with skyline views . Which vibe is calling to you?"},{user:"I'm worried my date will be boring.",coach:"Impossible! With YOU there, boring isn't an option . But just in case, here's a cheeky plan: suggest a game of '2 truths & a lie' over dinner . Instant fun, instant flirty energy!"}]},{id:"therapist",name:"Dr. Sage",icon:Yr,emoji:"",description:"Relationship wellbeing coach specializing in attachment and relationship patterns",personality:"Compassionate, insightful, and evidence-based",specialties:["Attachment theory","Communication skills","Healing trauma","Intimacy-focused date planning"],greetings:["Hi {firstName}, I'm here to help you understand yourself better.","Hello {firstName}. Let's take a moment to pause and reflect together.","Hi {firstName}, what's been on your mind lately? I'm listening.","Hi {firstName}. You've taken the first step just by showing up and that matters."],color:"from-purple-400 to-indigo-500",bgColor:"from-purple-50 to-indigo-50",accent:"text-purple-600",shadowColor:"shadow-purple-200/50",backstory:"Dr. Sage is a relationship wellbeing coach specializing in attachment and relationship patterns. They help you understand yourself and your partner at a deep level.",tone:"Gentle, wise, calm, reflective. Uses validating language and evidence-based insights. No emojis overloadjust thoughtful guidance.",strengths:["Attachment theory","Communication skills","Healing trauma","Intimacy-focused date planning"],quirks:["Often references research or psychology","Encourages journaling or reflection"],abilities:["Guide users through reflective exercises","Explain attachment styles and patterns","Plan dates that deepen emotional connection"],scenarios:[{trigger:"plan a date",response:"For deep connection, consider: - Heartfelt conversation over coffee or tea  - Couples journaling + sharing - Cooking a meal together  - Visiting an art exhibit and reflecting on what resonates"}],exampleDialogues:[{user:"Dr. Sage, plan us a date.",coach:"A quiet dinner where you ask each other meaningful questions could strengthen your bond. Would you like me to suggest prompts?"},{user:"I feel anxious before dates.",coach:"That's natural. Anxiety often comes from attachment triggers. Let's explore what feels unsafe for you, then plan a date that supports safety."}]},{id:"tough-love",name:"Phoenix Fire",icon:Ai,emoji:"",description:"Your no-BS mentor for radical self-transformation and boundary setting",personality:"Direct, motivating, and courageously honest",specialties:["Tough love coaching","Setting boundaries","Self-respect","Bold, adventurous date planning"],greetings:["Hey {firstName}! I'm Phoenix, your no BS mentor for self transformation. Ready to light things up? ","Hi {firstName}, I'm here to help you set boundaries, own your power, and make real change.","Hello {firstName}! Time for some straight talk. Let's cut through the noise and get you feeling strong again.","Hey {firstName}, growth takes courage and you already have what it takes."],color:"from-orange-400 to-red-500",bgColor:"from-orange-50 to-red-50",accent:"text-orange-600",shadowColor:"shadow-orange-200/50",backstory:"Phoenix Fire is your no-BS mentor for radical self-transformation. They thrive on honesty, empowerment, and helping you set strong boundaries. Phoenix pushes you out of your comfort zonealways with love, never with fluff.",tone:'Bold, fiery, motivational. Uses phrases like "level up," "real talk," and "own your power." Limited emojis for emphasis.',strengths:["Tough love coaching","Setting boundaries","Self-respect","Bold, adventurous date planning"],quirks:["Calls out excuses directly","Loves challenges, adrenaline, and transformation"],abilities:["Challenge users to step outside comfort zones","Coach on boundaries and respect","Plan bold, unforgettable dates"],scenarios:[{trigger:"plan a date",response:"Let's cut the fluff. You want a date that leaves you buzzing? Try: - Rock climbing or indoor bouldering  - Karaoke showdown  - Spicy food challenge  - Road trip to somewhere new "}],exampleDialogues:[{user:"Phoenix, I want a date idea.",coach:"Stop playing it safe. Go for karaoke night nothing builds connection like courage on stage."},{user:"I feel insecure.",coach:"Own it. You're stronger than you think . Book that bold date and prove it."}]},{id:"chill",name:"River Calm",icon:Q0,emoji:"",description:"Your laid-back friend for mindful healing and gentle perspective",personality:"Zen, supportive, and naturally wise",specialties:["Mindfulness","Gentle healing","Offering perspective","Tranquil, grounding date planning"],greetings:["Hello {firstName}, I'm River. Take a deep breath and let's find your calm together.","Hi {firstName}. I'm here to offer you a peaceful space to reflect and release what's been heavy.","Hey {firstName}, take a moment to pause and reconnect. Let's find your balance again.","Hi {firstName}. You've arrived in a safe and gentle space. What's been flowing through your mind today?"],color:"from-emerald-400 to-teal-500",bgColor:"from-emerald-50 to-teal-50",accent:"text-emerald-600",shadowColor:"shadow-emerald-200/50",backstory:"River Calm is your laid-back friend for mindful healing and gentle perspective. They remind you to breathe, slow down, and nurture connection with presence.",tone:"Warm, supportive, slow-paced. Encourages grounding, mindfulness, and gentle healing. Uses nature-inspired metaphors and soft emojis .",strengths:["Mindfulness","Gentle healing","Offering perspective","Tranquil, grounding date planning"],quirks:["Always reminds you to breathe","Loves nature and simple pleasures"],abilities:["Guide users through calming practices","Suggest grounding reflections","Plan tranquil, nurturing dates"],scenarios:[{trigger:"plan a date",response:"Let's keep it gentle and nourishing: - Sunset picnic by the water  - Nature walk with mindful pauses  - Stargazing with blankets  - Tea ceremony at home "}],exampleDialogues:[{user:"River, can you plan a date?",coach:"How about a quiet evening under the stars warm blankets, soft music, and no rush."},{user:"I feel stressed about dating.",coach:"Take a deep breath . Stress is a waveyou don't need to fight it, just let it pass. Want me to suggest a calming date idea?"}]}],Cv=({onSelectCoach:e,selectedCoach:t,compact:r=!1})=>{const{getLastInteractionText:n,loading:s}=MD();return o.jsxs("div",{className:"space-y-8 animate-fade-in",children:[!r&&o.jsxs("div",{className:"text-center space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[o.jsx(ht,{className:"w-6 h-6 text-primary animate-pulse-warm"}),o.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Meet Your Coaches"}),o.jsx(ht,{className:"w-6 h-6 text-primary animate-pulse-warm"})]}),o.jsx("p",{className:"text-muted-foreground text-lg",children:"Each coach brings their unique personality and wisdom to guide your journey"})]}),o.jsx("div",{className:`grid gap-4 sm:gap-6 ${r?"grid-cols-2 sm:grid-cols-4 lg:grid-cols-1":"grid-cols-1 sm:grid-cols-2"}`,children:LD.map((a,i)=>{const l=a.icon,c=t===a.id;return o.jsxs(W,{className:`cursor-pointer transition-all duration-500 hover:scale-[1.02] group relative overflow-hidden animate-fade-in-scale ${c?"ring-2 ring-primary shadow-float bg-gradient-to-br "+a.bgColor:"hover:shadow-warm bg-card"}`,style:{animationDelay:`${i*150}ms`},onClick:()=>e(a.id),children:[o.jsx("div",{className:`absolute -top-10 -right-10 w-20 h-20 bg-gradient-to-r ${a.color} rounded-full opacity-10 group-hover:scale-150 transition-transform duration-700`}),o.jsx(Z,{className:`pb-2 sm:pb-6 relative ${r?"p-2 sm:p-8":"p-4 sm:p-8"}`,children:o.jsxs("div",{className:`flex items-start ${r?"flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-6":"space-x-4 sm:space-x-6"}`,children:[o.jsxs("div",{className:`relative ${r?"p-2 sm:p-4":"p-3 sm:p-4"} rounded-2xl bg-gradient-to-r ${a.color} shadow-lg group-hover:animate-bounce-gentle ${r?"mx-auto sm:mx-0":""}`,children:[o.jsx(l,{className:`${r?"w-4 h-4 sm:w-8 sm:h-8":"w-6 h-6 sm:w-8 sm:h-8"} text-white`}),o.jsx("div",{className:`absolute -top-1 -right-1 ${r?"text-sm sm:text-2xl":"text-xl sm:text-2xl"}`,children:a.emoji})]}),o.jsxs("div",{className:`flex-1 ${r?"text-center sm:text-left":""}`,children:[o.jsx(ee,{className:`${r?"text-base sm:text-2xl":"text-lg sm:text-2xl"} mb-1 sm:mb-2 group-hover:text-primary transition-colors`,children:a.name}),o.jsx(qe,{className:`${r?"text-xs sm:text-base hidden sm:block":"text-sm sm:text-base"} font-medium ${a.accent}`,children:a.personality}),o.jsx("div",{className:`flex items-center gap-1 mt-1 ${r?"justify-center sm:justify-start text-xs":"text-xs sm:text-sm"}`,children:s?o.jsx("span",{className:"text-muted-foreground italic",children:"Loading..."}):n(a.id).includes("Online")?o.jsxs(o.Fragment,{children:[o.jsxs("span",{className:"relative flex h-2 w-2",children:[o.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),o.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),o.jsx("span",{className:"text-green-600 font-medium",children:n(a.id)})]}):o.jsx("span",{className:"text-muted-foreground italic",children:n(a.id)})})]}),c&&o.jsx(ha,{className:`${r?"w-4 h-4 sm:w-6 sm:h-6":"w-5 h-5 sm:w-6 sm:h-6"} text-primary animate-pulse-warm`})]})}),o.jsxs(Y,{className:`space-y-2 sm:space-y-6 ${r?"p-2 sm:p-8":"p-4 sm:p-8"}`,children:[!r&&o.jsx("p",{className:"text-sm sm:text-base text-muted-foreground leading-relaxed",children:a.description}),!r&&o.jsx("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:a.specialties.map(u=>o.jsx("span",{className:`px-2 py-1 sm:px-3 sm:py-2 text-xs sm:text-sm rounded-full bg-gradient-to-r ${a.color} text-white shadow-sm`,children:u},u))}),!r&&o.jsx("div",{className:`p-3 sm:p-4 rounded-lg bg-gradient-to-r ${a.bgColor} border border-current border-opacity-10`,children:o.jsxs("p",{className:`text-sm sm:text-base italic ${a.accent} font-medium`,children:['"',a.greetings[0],'"']})}),o.jsx(H,{variant:c?a.id:"gentle",size:r?"sm":"lg",className:`w-full transition-all duration-300 ${r?"text-xs sm:text-base h-8 sm:h-12":"h-12 sm:h-14 text-base sm:text-lg"}`,onClick:u=>{u.stopPropagation(),e(a.id)},children:c?o.jsxs("span",{className:"flex items-center gap-1 sm:gap-2",children:[o.jsx(ha,{className:`${r?"w-3 h-3 sm:w-4 sm:h-4":"w-4 h-4"}`}),o.jsx("span",{className:r?"hidden sm:inline":"",children:"Your Coach"}),o.jsx("span",{className:r?"sm:hidden":"hidden",children:""})]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{className:r?"hidden sm:inline":"",children:`Chat with ${a.name.split(" ")[0]}`}),o.jsx("span",{className:r?"sm:hidden":"hidden",children:a.name.split(" ")[0]})]})})]})]},a.id)})})]})},ut=f.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:ie("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));ut.displayName="Input";var $D=f.createContext(void 0);function Ra(e){const t=f.useContext($D);return e||t||"ltr"}function Uf(e,[t,r]){return Math.min(r,Math.max(t,e))}function UD(e,t){return f.useReducer((r,n)=>t[r][n]??r,e)}var Ep="ScrollArea",[Fj]=$t(Ep),[FD,xr]=Fj(Ep),zj=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:a=600,...i}=e,[l,c]=f.useState(null),[u,d]=f.useState(null),[h,m]=f.useState(null),[y,b]=f.useState(null),[g,w]=f.useState(null),[p,v]=f.useState(0),[x,j]=f.useState(0),[N,S]=f.useState(!1),[_,E]=f.useState(!1),I=xe(t,z=>c(z)),k=Ra(s);return o.jsx(FD,{scope:r,type:n,dir:k,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:m,scrollbarX:y,onScrollbarXChange:b,scrollbarXEnabled:N,onScrollbarXEnabledChange:S,scrollbarY:g,onScrollbarYChange:w,scrollbarYEnabled:_,onScrollbarYEnabledChange:E,onCornerWidthChange:v,onCornerHeightChange:j,children:o.jsx(ae.div,{dir:k,...i,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":p+"px","--radix-scroll-area-corner-height":x+"px",...e.style}})})});zj.displayName=Ep;var Hj="ScrollAreaViewport",Bj=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...a}=e,i=xr(Hj,r),l=f.useRef(null),c=xe(t,l,i.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(ae.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});Bj.displayName=Hj;var on="ScrollAreaScrollbar",Cp=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=xr(on,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=s,l=e.orientation==="horizontal";return f.useEffect(()=>(l?a(!0):i(!0),()=>{l?a(!1):i(!1)}),[l,a,i]),s.type==="hover"?o.jsx(zD,{...n,ref:t,forceMount:r}):s.type==="scroll"?o.jsx(HD,{...n,ref:t,forceMount:r}):s.type==="auto"?o.jsx(Wj,{...n,ref:t,forceMount:r}):s.type==="always"?o.jsx(kp,{...n,ref:t}):null});Cp.displayName=on;var zD=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=xr(on,e.__scopeScrollArea),[a,i]=f.useState(!1);return f.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},d=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(wt,{present:r||a,children:o.jsx(Wj,{"data-state":a?"visible":"hidden",...n,ref:t})})}),HD=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=xr(on,e.__scopeScrollArea),a=e.orientation==="horizontal",i=Ku(()=>c("SCROLL_END"),100),[l,c]=UD("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),f.useEffect(()=>{const u=s.viewport,d=a?"scrollLeft":"scrollTop";if(u){let h=u[d];const m=()=>{const y=u[d];h!==y&&(c("SCROLL"),i()),h=y};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[s.viewport,a,c,i]),o.jsx(wt,{present:r||l!=="hidden",children:o.jsx(kp,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Q(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Q(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Wj=f.forwardRef((e,t)=>{const r=xr(on,e.__scopeScrollArea),{forceMount:n,...s}=e,[a,i]=f.useState(!1),l=e.orientation==="horizontal",c=Ku(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?u:d)}},10);return ya(r.viewport,c),ya(r.content,c),o.jsx(wt,{present:n||a,children:o.jsx(kp,{"data-state":a?"visible":"hidden",...s,ref:t})})}),kp=f.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=xr(on,e.__scopeScrollArea),a=f.useRef(null),i=f.useRef(0),[l,c]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Yj(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function h(m,y){return KD(m,i.current,l,y)}return r==="horizontal"?o.jsx(BD,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const m=s.viewport.scrollLeft,y=kv(m,l,s.dir);a.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=h(m,s.dir))}}):r==="vertical"?o.jsx(WD,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const m=s.viewport.scrollTop,y=kv(m,l);a.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=h(m))}}):null}),BD=f.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=xr(on,e.__scopeScrollArea),[i,l]=f.useState(),c=f.useRef(null),u=xe(t,c,a.onScrollbarXChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(qj,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Gu(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(a.viewport){const m=a.viewport.scrollLeft+d.deltaX;e.onWheelScroll(m),Jj(m,h)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Zc(i.paddingLeft),paddingEnd:Zc(i.paddingRight)}})}})}),WD=f.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=xr(on,e.__scopeScrollArea),[i,l]=f.useState(),c=f.useRef(null),u=xe(t,c,a.onScrollbarYChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(qj,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Gu(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(a.viewport){const m=a.viewport.scrollTop+d.deltaY;e.onWheelScroll(m),Jj(m,h)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Zc(i.paddingTop),paddingEnd:Zc(i.paddingBottom)}})}})}),[VD,Vj]=Fj(on),qj=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...m}=e,y=xr(on,r),[b,g]=f.useState(null),w=xe(t,I=>g(I)),p=f.useRef(null),v=f.useRef(""),x=y.viewport,j=n.content-n.viewport,N=Je(d),S=Je(c),_=Ku(h,10);function E(I){if(p.current){const k=I.clientX-p.current.left,z=I.clientY-p.current.top;u({x:k,y:z})}}return f.useEffect(()=>{const I=k=>{const z=k.target;(b==null?void 0:b.contains(z))&&N(k,j)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[x,b,j,N]),f.useEffect(S,[n,S]),ya(b,_),ya(y.content,_),o.jsx(VD,{scope:r,scrollbar:b,hasThumb:s,onThumbChange:Je(a),onThumbPointerUp:Je(i),onThumbPositionChange:S,onThumbPointerDown:Je(l),children:o.jsx(ae.div,{...m,ref:w,style:{position:"absolute",...m.style},onPointerDown:Q(e.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),p.current=b.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),E(I))}),onPointerMove:Q(e.onPointerMove,E),onPointerUp:Q(e.onPointerUp,I=>{const k=I.target;k.hasPointerCapture(I.pointerId)&&k.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=v.current,y.viewport&&(y.viewport.style.scrollBehavior=""),p.current=null})})})}),Xc="ScrollAreaThumb",Gj=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Vj(Xc,e.__scopeScrollArea);return o.jsx(wt,{present:r||s.hasThumb,children:o.jsx(qD,{ref:t,...n})})}),qD=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,a=xr(Xc,r),i=Vj(Xc,r),{onThumbPositionChange:l}=i,c=xe(t,h=>i.onThumbChange(h)),u=f.useRef(void 0),d=Ku(()=>{u.current&&(u.current(),u.current=void 0)},100);return f.useEffect(()=>{const h=a.viewport;if(h){const m=()=>{if(d(),!u.current){const y=YD(h,l);u.current=y,l()}};return l(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[a.viewport,d,l]),o.jsx(ae.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Q(e.onPointerDownCapture,h=>{const y=h.target.getBoundingClientRect(),b=h.clientX-y.left,g=h.clientY-y.top;i.onThumbPointerDown({x:b,y:g})}),onPointerUp:Q(e.onPointerUp,i.onThumbPointerUp)})});Gj.displayName=Xc;var Pp="ScrollAreaCorner",Kj=f.forwardRef((e,t)=>{const r=xr(Pp,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx(GD,{...e,ref:t}):null});Kj.displayName=Pp;var GD=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=xr(Pp,r),[a,i]=f.useState(0),[l,c]=f.useState(0),u=!!(a&&l);return ya(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),ya(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),i(d)}),u?o.jsx(ae.div,{...n,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Zc(e){return e?parseInt(e,10):0}function Yj(e,t){const r=e/t;return isNaN(r)?0:r}function Gu(e){const t=Yj(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function KD(e,t,r,n="ltr"){const s=Gu(r),a=s/2,i=t||a,l=s-i,c=r.scrollbar.paddingStart+i,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,h=n==="ltr"?[0,d]:[d*-1,0];return Qj([c,u],h)(e)}function kv(e,t,r="ltr"){const n=Gu(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,i=t.content-t.viewport,l=a-n,c=r==="ltr"?[0,i]:[i*-1,0],u=Uf(e,c);return Qj([0,i],[0,l])(u)}function Qj(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function Jj(e,t){return e>0&&e<t}var YD=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},i=r.left!==a.left,l=r.top!==a.top;(i||l)&&t(),r=a,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function Ku(e,t){const r=Je(e),n=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(n.current),[]),f.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function ya(e,t){const r=Je(t);ft(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var Xj=zj,QD=Bj,JD=Kj;const Rp=f.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(Xj,{ref:n,className:ie("relative overflow-hidden",e),...r,children:[o.jsx(QD,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(Zj,{}),o.jsx(JD,{})]}));Rp.displayName=Xj.displayName;const Zj=f.forwardRef(({className:e,orientation:t="vertical",...r},n)=>o.jsx(Cp,{ref:n,orientation:t,className:ie("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(Gj,{className:"relative flex-1 rounded-full bg-border"})}));Zj.displayName=Cp.displayName;var nh="focusScope.autoFocusOnMount",sh="focusScope.autoFocusOnUnmount",Pv={bubbles:!1,cancelable:!0},XD="FocusScope",Yu=f.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[l,c]=f.useState(null),u=Je(s),d=Je(a),h=f.useRef(null),m=xe(t,g=>c(g)),y=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(n){let g=function(x){if(y.paused||!l)return;const j=x.target;l.contains(j)?h.current=j:Un(h.current,{select:!0})},w=function(x){if(y.paused||!l)return;const j=x.relatedTarget;j!==null&&(l.contains(j)||Un(h.current,{select:!0}))},p=function(x){if(document.activeElement===document.body)for(const N of x)N.removedNodes.length>0&&Un(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const v=new MutationObserver(p);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),v.disconnect()}}},[n,l,y.paused]),f.useEffect(()=>{if(l){Tv.add(y);const g=document.activeElement;if(!l.contains(g)){const p=new CustomEvent(nh,Pv);l.addEventListener(nh,u),l.dispatchEvent(p),p.defaultPrevented||(ZD(sM(eN(l)),{select:!0}),document.activeElement===g&&Un(l))}return()=>{l.removeEventListener(nh,u),setTimeout(()=>{const p=new CustomEvent(sh,Pv);l.addEventListener(sh,d),l.dispatchEvent(p),p.defaultPrevented||Un(g??document.body,{select:!0}),l.removeEventListener(sh,d),Tv.remove(y)},0)}}},[l,u,d,y]);const b=f.useCallback(g=>{if(!r&&!n||y.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,p=document.activeElement;if(w&&p){const v=g.currentTarget,[x,j]=eM(v);x&&j?!g.shiftKey&&p===j?(g.preventDefault(),r&&Un(x,{select:!0})):g.shiftKey&&p===x&&(g.preventDefault(),r&&Un(j,{select:!0})):p===v&&g.preventDefault()}},[r,n,y.paused]);return o.jsx(ae.div,{tabIndex:-1,...i,ref:m,onKeyDown:b})});Yu.displayName=XD;function ZD(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Un(n,{select:t}),document.activeElement!==r)return}function eM(e){const t=eN(e),r=Rv(t,e),n=Rv(t.reverse(),e);return[r,n]}function eN(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Rv(e,t){for(const r of e)if(!tM(r,{upTo:t}))return r}function tM(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function rM(e){return e instanceof HTMLInputElement&&"select"in e}function Un(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&rM(e)&&t&&e.select()}}var Tv=nM();function nM(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Iv(e,t),e.unshift(t)},remove(t){var r;e=Iv(e,t),(r=e[0])==null||r.resume()}}}function Iv(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function sM(e){return e.filter(t=>t.tagName!=="A")}var oh=0;function Tp(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Av()),document.body.insertAdjacentElement("beforeend",e[1]??Av()),oh++,()=>{oh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),oh--}},[])}function Av(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var hc="right-scroll-bar-position",fc="width-before-scroll-bar",oM="with-scroll-bars-hidden",aM="--removed-body-scroll-bar-size";function ah(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function iM(e,t){var r=f.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var lM=typeof window<"u"?f.useLayoutEffect:f.useEffect,Ov=new WeakMap;function cM(e,t){var r=iM(null,function(n){return e.forEach(function(s){return ah(s,n)})});return lM(function(){var n=Ov.get(r);if(n){var s=new Set(n),a=new Set(e),i=r.current;s.forEach(function(l){a.has(l)||ah(l,null)}),a.forEach(function(l){s.has(l)||ah(l,i)})}Ov.set(r,e)},[e]),r}function uM(e){return e}function dM(e,t){t===void 0&&(t=uM);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var i=t(a,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(a){for(n=!0;r.length;){var i=r;r=[],i.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(a),i=r}var c=function(){var d=i;i=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return s}function hM(e){e===void 0&&(e={});var t=dM(null);return t.options=Qr({async:!0,ssr:!1},e),t}var tN=function(e){var t=e.sideCar,r=kj(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return f.createElement(n,Qr({},r))};tN.isSideCarExport=!0;function fM(e,t){return e.useMedium(t),tN}var rN=hM(),ih=function(){},Qu=f.forwardRef(function(e,t){var r=f.useRef(null),n=f.useState({onScrollCapture:ih,onWheelCapture:ih,onTouchMoveCapture:ih}),s=n[0],a=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,m=e.sideCar,y=e.noRelative,b=e.noIsolation,g=e.inert,w=e.allowPinchZoom,p=e.as,v=p===void 0?"div":p,x=e.gapMode,j=kj(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=m,S=cM([r,t]),_=Qr(Qr({},j),s);return f.createElement(f.Fragment,null,d&&f.createElement(N,{sideCar:rN,removeScrollBar:u,shards:h,noRelative:y,noIsolation:b,inert:g,setCallbacks:a,allowPinchZoom:!!w,lockRef:r,gapMode:x}),i?f.cloneElement(f.Children.only(l),Qr(Qr({},_),{ref:S})):f.createElement(v,Qr({},_,{className:c,ref:S}),l))});Qu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Qu.classNames={fullWidth:fc,zeroRight:hc};var mM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function pM(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=mM();return t&&e.setAttribute("nonce",t),e}function gM(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function yM(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var vM=function(){var e=0,t=null;return{add:function(r){e==0&&(t=pM())&&(gM(t,r),yM(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},xM=function(){var e=vM();return function(t,r){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},nN=function(){var e=xM(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},wM={left:0,top:0,right:0,gap:0},lh=function(e){return parseInt(e||"",10)||0},bM=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[lh(r),lh(n),lh(s)]},jM=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return wM;var t=bM(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},NM=nN(),Yo="data-scroll-locked",SM=function(e,t,r,n){var s=e.left,a=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(oM,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Yo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(hc,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(fc,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(hc," .").concat(hc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(fc," .").concat(fc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Yo,`] {
    `).concat(aM,": ").concat(l,`px;
  }
`)},Dv=function(){var e=parseInt(document.body.getAttribute(Yo)||"0",10);return isFinite(e)?e:0},_M=function(){f.useEffect(function(){return document.body.setAttribute(Yo,(Dv()+1).toString()),function(){var e=Dv()-1;e<=0?document.body.removeAttribute(Yo):document.body.setAttribute(Yo,e.toString())}},[])},EM=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;_M();var a=f.useMemo(function(){return jM(s)},[s]);return f.createElement(NM,{styles:SM(a,!t,s,r?"":"!important")})},Ff=!1;if(typeof window<"u")try{var Vl=Object.defineProperty({},"passive",{get:function(){return Ff=!0,!0}});window.addEventListener("test",Vl,Vl),window.removeEventListener("test",Vl,Vl)}catch{Ff=!1}var bo=Ff?{passive:!1}:!1,CM=function(e){return e.tagName==="TEXTAREA"},sN=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!CM(e)&&r[t]==="visible")},kM=function(e){return sN(e,"overflowY")},PM=function(e){return sN(e,"overflowX")},Mv=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=oN(e,n);if(s){var a=aN(e,n),i=a[1],l=a[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},RM=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},TM=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},oN=function(e,t){return e==="v"?kM(t):PM(t)},aN=function(e,t){return e==="v"?RM(t):TM(t)},IM=function(e,t){return e==="h"&&t==="rtl"?-1:1},AM=function(e,t,r,n,s){var a=IM(e,window.getComputedStyle(t).direction),i=a*n,l=r.target,c=t.contains(l),u=!1,d=i>0,h=0,m=0;do{if(!l)break;var y=aN(e,l),b=y[0],g=y[1],w=y[2],p=g-w-a*b;(b||p)&&oN(e,l)&&(h+=p,m+=b);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(h)<1||!d&&Math.abs(m)<1)&&(u=!0),u},ql=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Lv=function(e){return[e.deltaX,e.deltaY]},$v=function(e){return e&&"current"in e?e.current:e},OM=function(e,t){return e[0]===t[0]&&e[1]===t[1]},DM=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},MM=0,jo=[];function LM(e){var t=f.useRef([]),r=f.useRef([0,0]),n=f.useRef(),s=f.useState(MM++)[0],a=f.useState(nN)[0],i=f.useRef(e);f.useEffect(function(){i.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=Wi([e.lockRef.current],(e.shards||[]).map($v),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=f.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var p=ql(g),v=r.current,x="deltaX"in g?g.deltaX:v[0]-p[0],j="deltaY"in g?g.deltaY:v[1]-p[1],N,S=g.target,_=Math.abs(x)>Math.abs(j)?"h":"v";if("touches"in g&&_==="h"&&S.type==="range")return!1;var E=Mv(_,S);if(!E)return!0;if(E?N=_:(N=_==="v"?"h":"v",E=Mv(_,S)),!E)return!1;if(!n.current&&"changedTouches"in g&&(x||j)&&(n.current=N),!N)return!0;var I=n.current||N;return AM(I,w,g,I==="h"?x:j)},[]),c=f.useCallback(function(g){var w=g;if(!(!jo.length||jo[jo.length-1]!==a)){var p="deltaY"in w?Lv(w):ql(w),v=t.current.filter(function(N){return N.name===w.type&&(N.target===w.target||w.target===N.shadowParent)&&OM(N.delta,p)})[0];if(v&&v.should){w.cancelable&&w.preventDefault();return}if(!v){var x=(i.current.shards||[]).map($v).filter(Boolean).filter(function(N){return N.contains(w.target)}),j=x.length>0?l(w,x[0]):!i.current.noIsolation;j&&w.cancelable&&w.preventDefault()}}},[]),u=f.useCallback(function(g,w,p,v){var x={name:g,delta:w,target:p,should:v,shadowParent:$M(p)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(j){return j!==x})},1)},[]),d=f.useCallback(function(g){r.current=ql(g),n.current=void 0},[]),h=f.useCallback(function(g){u(g.type,Lv(g),g.target,l(g,e.lockRef.current))},[]),m=f.useCallback(function(g){u(g.type,ql(g),g.target,l(g,e.lockRef.current))},[]);f.useEffect(function(){return jo.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,bo),document.addEventListener("touchmove",c,bo),document.addEventListener("touchstart",d,bo),function(){jo=jo.filter(function(g){return g!==a}),document.removeEventListener("wheel",c,bo),document.removeEventListener("touchmove",c,bo),document.removeEventListener("touchstart",d,bo)}},[]);var y=e.removeScrollBar,b=e.inert;return f.createElement(f.Fragment,null,b?f.createElement(a,{styles:DM(s)}):null,y?f.createElement(EM,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function $M(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const UM=fM(rN,LM);var Ju=f.forwardRef(function(e,t){return f.createElement(Qu,Qr({},e,{ref:t,sideCar:UM}))});Ju.classNames=Qu.classNames;var FM=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},No=new WeakMap,Gl=new WeakMap,Kl={},ch=0,iN=function(e){return e&&(e.host||iN(e.parentNode))},zM=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=iN(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},HM=function(e,t,r,n){var s=zM(t,Array.isArray(e)?e:[e]);Kl[r]||(Kl[r]=new WeakMap);var a=Kl[r],i=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))d(m);else try{var y=m.getAttribute(n),b=y!==null&&y!=="false",g=(No.get(m)||0)+1,w=(a.get(m)||0)+1;No.set(m,g),a.set(m,w),i.push(m),g===1&&b&&Gl.set(m,!0),w===1&&m.setAttribute(r,"true"),b||m.setAttribute(n,"true")}catch(p){console.error("aria-hidden: cannot operate on ",m,p)}})};return d(t),l.clear(),ch++,function(){i.forEach(function(h){var m=No.get(h)-1,y=a.get(h)-1;No.set(h,m),a.set(h,y),m||(Gl.has(h)||h.removeAttribute(n),Gl.delete(h)),y||h.removeAttribute(r)}),ch--,ch||(No=new WeakMap,No=new WeakMap,Gl=new WeakMap,Kl={})}},Ip=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=FM(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),HM(n,s,r,"aria-hidden")):function(){return null}},Xu="Dialog",[lN]=$t(Xu),[BM,Ur]=lN(Xu),cN=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:i=!0}=e,l=f.useRef(null),c=f.useRef(null),[u,d]=_n({prop:n,defaultProp:s??!1,onChange:a,caller:Xu});return o.jsx(BM,{scope:t,triggerRef:l,contentRef:c,contentId:en(),titleId:en(),descriptionId:en(),open:u,onOpenChange:d,onOpenToggle:f.useCallback(()=>d(h=>!h),[d]),modal:i,children:r})};cN.displayName=Xu;var uN="DialogTrigger",WM=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ur(uN,r),a=xe(t,s.triggerRef);return o.jsx(ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Dp(s.open),...n,ref:a,onClick:Q(e.onClick,s.onOpenToggle)})});WM.displayName=uN;var Ap="DialogPortal",[VM,dN]=lN(Ap,{forceMount:void 0}),hN=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=Ur(Ap,t);return o.jsx(VM,{scope:t,forceMount:r,children:f.Children.map(n,i=>o.jsx(wt,{present:r||a.open,children:o.jsx(rl,{asChild:!0,container:s,children:i})}))})};hN.displayName=Ap;var eu="DialogOverlay",fN=f.forwardRef((e,t)=>{const r=dN(eu,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Ur(eu,e.__scopeDialog);return a.modal?o.jsx(wt,{present:n||a.open,children:o.jsx(GM,{...s,ref:t})}):null});fN.displayName=eu;var qM=Js("DialogOverlay.RemoveScroll"),GM=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ur(eu,r);return o.jsx(Ju,{as:qM,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(ae.div,{"data-state":Dp(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),ro="DialogContent",mN=f.forwardRef((e,t)=>{const r=dN(ro,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Ur(ro,e.__scopeDialog);return o.jsx(wt,{present:n||a.open,children:a.modal?o.jsx(KM,{...s,ref:t}):o.jsx(YM,{...s,ref:t})})});mN.displayName=ro;var KM=f.forwardRef((e,t)=>{const r=Ur(ro,e.__scopeDialog),n=f.useRef(null),s=xe(t,r.contentRef,n);return f.useEffect(()=>{const a=n.current;if(a)return Ip(a)},[]),o.jsx(pN,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Q(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Q(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&a.preventDefault()}),onFocusOutside:Q(e.onFocusOutside,a=>a.preventDefault())})}),YM=f.forwardRef((e,t)=>{const r=Ur(ro,e.__scopeDialog),n=f.useRef(!1),s=f.useRef(!1);return o.jsx(pN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),pN=f.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...i}=e,l=Ur(ro,r),c=f.useRef(null),u=xe(t,c);return Tp(),o.jsxs(o.Fragment,{children:[o.jsx(Yu,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(ba,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Dp(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(QM,{titleId:l.titleId}),o.jsx(XM,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Op="DialogTitle",gN=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ur(Op,r);return o.jsx(ae.h2,{id:s.titleId,...n,ref:t})});gN.displayName=Op;var yN="DialogDescription",vN=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ur(yN,r);return o.jsx(ae.p,{id:s.descriptionId,...n,ref:t})});vN.displayName=yN;var xN="DialogClose",wN=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ur(xN,r);return o.jsx(ae.button,{type:"button",...n,ref:t,onClick:Q(e.onClick,()=>s.onOpenChange(!1))})});wN.displayName=xN;function Dp(e){return e?"open":"closed"}var bN="DialogTitleWarning",[Y$,jN]=KC(bN,{contentName:ro,titleName:Op,docsSlug:"dialog"}),QM=({titleId:e})=>{const t=jN(bN),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},JM="DialogDescriptionWarning",XM=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${jN(JM).contentName}}.`;return f.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},ZM=cN,eL=hN,NN=fN,SN=mN,_N=gN,EN=vN,tL=wN;const Zu=ZM,rL=eL,CN=f.forwardRef(({className:e,...t},r)=>o.jsx(NN,{ref:r,className:ie("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));CN.displayName=NN.displayName;const ll=f.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(rL,{children:[o.jsx(CN,{}),o.jsxs(SN,{ref:n,className:ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,o.jsxs(tL,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(Pu,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ll.displayName=SN.displayName;const cl=({className:e,...t})=>o.jsx("div",{className:ie("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});cl.displayName="DialogHeader";const ul=f.forwardRef(({className:e,...t},r)=>o.jsx(_N,{ref:r,className:ie("text-lg font-semibold leading-none tracking-tight",e),...t}));ul.displayName=_N.displayName;const nL=f.forwardRef(({className:e,...t},r)=>o.jsx(EN,{ref:r,className:ie("text-sm text-muted-foreground",e),...t}));nL.displayName=EN.displayName;const sL=sl("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Se({className:e,variant:t,...r}){return o.jsx("div",{className:ie(sL({variant:t}),e),...r})}const kN=({isOpen:e,onClose:t,trigger:r="usage_limit",coachName:n})=>{const[s,a]=f.useState(!1),{user:i}=Oe(),{toast:l}=Lt(),c=at(),u=ar(),d=async()=>{if(!i){l({title:"Please sign in",description:"You need to be signed in to upgrade to Premium.",variant:"destructive"});return}t();const b=u.pathname+u.search;c("/premium-purchase",{state:{from:b}})},h=[{icon:rn,title:"Unlimited AI coach conversations",description:"Remove message limits and chat freely with all your coaches",gradient:"from-blue-400 to-blue-500"},{icon:pe,title:"Regenerate AI responses",description:"Get new responses from your coach if you want a different perspective",gradient:"from-emerald-400 to-emerald-500"},{icon:Ai,title:"Guided Programmes",description:"Access structured healing programs and recovery plans",gradient:"from-orange-400 to-orange-500"},{icon:ht,title:"Personalised insights & reports",description:"Get detailed analysis and custom reports on your progress",gradient:"from-purple-400 to-purple-500"},{icon:Ue,title:"Daily attachment style quiz with AI analysis",description:"Take daily quizzes with personalised AI insights on your attachment patterns",gradient:"from-pink-400 to-pink-500"},{icon:rn,title:"Conversation analyser with AI insights",description:"Get AI-powered analysis of your conversations and relationships",gradient:"from-indigo-400 to-indigo-500"},{icon:pe,title:"Text suggestion helper for all scenarios",description:"Get AI-powered text suggestions for difficult conversations",gradient:"from-green-400 to-green-500"},{icon:Ai,title:"Priority support",description:"Get faster response times and priority customer support",gradient:"from-yellow-400 to-yellow-500"}],y=r==="usage_limit"?{title:"You've reached today's free limit ",description:"Want to keep talking? Upgrade to Premium and chat unlimited with all your coaches!",highlight:"Free users get 10 messages per day"}:{title:`${n||"Your coach"} wants to help you more! `,description:"This kind of personalised coaching is included in Premium. Ready to unlock the full experience?",highlight:"Premium includes deep insights and custom advice"};return o.jsx(Zu,{open:e,onOpenChange:t,children:o.jsxs(ll,{className:"max-w-4xl max-h-[85vh] flex flex-col p-0 overflow-hidden",children:[o.jsx(cl,{className:"px-6 pt-6 pb-4 shrink-0",children:o.jsxs(ul,{className:"text-2xl font-bold text-center flex items-center justify-center gap-2",children:[o.jsx(Ue,{className:"w-6 h-6 text-yellow-500"}),y.title]})}),o.jsxs("div",{className:"space-y-6 overflow-y-auto flex-1 px-6 pb-6",children:[o.jsxs("div",{className:"text-center space-y-2",children:[o.jsx("p",{className:"text-muted-foreground text-lg",children:y.description}),o.jsx(Se,{variant:"outline",className:"bg-primary/5",children:y.highlight})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map((b,g)=>o.jsxs(W,{className:"border-0 shadow-card hover:shadow-warm transition-all duration-300 group",children:[o.jsx(Z,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-r ${b.gradient}`,children:o.jsx(b.icon,{className:"w-5 h-5 text-white"})}),o.jsx(ee,{className:"text-sm group-hover:text-primary transition-colors",children:b.title})]})}),o.jsx(Y,{children:o.jsx("p",{className:"text-xs text-muted-foreground",children:b.description})})]},g))}),o.jsxs(W,{className:"bg-gradient-to-br from-primary via-primary-glow to-primary/90 border-0 shadow-2xl overflow-hidden relative",children:[o.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmZmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48cGF0aCBkPSJNMzYgMzRjMC0yLjIxLTEuNzktNC00LTRzLTQgMS43OS00IDQgMS43OSA0IDQgNCA0LTEuNzkgNC00eiIvPjwvZz48L2c+PC9zdmc+')] opacity-30"}),o.jsx(Y,{className:"pt-8 pb-8 relative z-10",children:o.jsxs("div",{className:"text-center space-y-6",children:[o.jsx("div",{className:"inline-block p-3 rounded-full bg-white/20 backdrop-blur-sm mb-2",children:o.jsx(Ue,{className:"w-8 h-8 text-white"})}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"text-4xl font-bold text-white drop-shadow-lg",children:["11.99",o.jsx("span",{className:"text-lg font-normal text-white/90",children:"/month"})]}),o.jsx("p",{className:"text-white/90 font-medium",children:"Cancel anytime  No hidden fees"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-4",children:[o.jsxs("div",{className:"flex flex-col items-center gap-2 p-3 rounded-xl bg-white/10 backdrop-blur-sm",children:[o.jsx(fr,{className:"w-5 h-5 text-white"}),o.jsx("span",{className:"text-sm text-white font-medium",children:"Unlimited conversations"})]}),o.jsxs("div",{className:"flex flex-col items-center gap-2 p-3 rounded-xl bg-white/10 backdrop-blur-sm",children:[o.jsx(fr,{className:"w-5 h-5 text-white"}),o.jsx("span",{className:"text-sm text-white font-medium",children:"AI insights & analysis"})]}),o.jsxs("div",{className:"flex flex-col items-center gap-2 p-3 rounded-xl bg-white/10 backdrop-blur-sm",children:[o.jsx(fr,{className:"w-5 h-5 text-white"}),o.jsx("span",{className:"text-sm text-white font-medium",children:"Guided programmes"})]}),o.jsxs("div",{className:"flex flex-col items-center gap-2 p-3 rounded-xl bg-white/10 backdrop-blur-sm",children:[o.jsx(fr,{className:"w-5 h-5 text-white"}),o.jsx("span",{className:"text-sm text-white font-medium",children:"Priority support"})]})]})]})})]})]}),o.jsxs("div",{className:"shrink-0 bg-background px-4 py-4 border-t flex flex-col sm:flex-row gap-3",children:[o.jsxs(H,{variant:"outline",onClick:t,className:"w-full sm:flex-1 h-12 text-sm",disabled:s,children:[o.jsx(Pu,{className:"w-4 h-4 mr-2"}),"Maybe later"]}),o.jsxs(H,{onClick:d,className:"w-full sm:flex-1 h-12 bg-gradient-to-r from-primary to-primary-glow hover:opacity-90 text-white shadow-lg text-sm whitespace-nowrap",disabled:s,children:[o.jsx(Ue,{className:"w-4 h-4 mr-2 shrink-0"}),s?"Loading...":"Go Premium"]})]})]})})};var Mp="Progress",Lp=100,[oL]=$t(Mp),[aL,iL]=oL(Mp),PN=f.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:a=lL,...i}=e;(s||s===0)&&!Uv(s)&&console.error(cL(`${s}`,"Progress"));const l=Uv(s)?s:Lp;n!==null&&!Fv(n,l)&&console.error(uL(`${n}`,"Progress"));const c=Fv(n,l)?n:null,u=tu(c)?a(c,l):void 0;return o.jsx(aL,{scope:r,value:c,max:l,children:o.jsx(ae.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":tu(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":IN(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});PN.displayName=Mp;var RN="ProgressIndicator",TN=f.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=iL(RN,r);return o.jsx(ae.div,{"data-state":IN(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});TN.displayName=RN;function lL(e,t){return`${Math.round(e/t*100)}%`}function IN(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function tu(e){return typeof e=="number"}function Uv(e){return tu(e)&&!isNaN(e)&&e>0}function Fv(e,t){return tu(e)&&!isNaN(e)&&e<=t&&e>=0}function cL(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Lp}\`.`}function uL(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Lp} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var AN=PN,dL=TN;const Ta=f.forwardRef(({className:e,value:t,...r},n)=>o.jsx(AN,{ref:n,className:ie("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:o.jsx(dL,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Ta.displayName=AN.displayName;const hL=({currentUsage:e,onUpgradeClick:t,isPremium:r=!1})=>{const[n,s]=f.useState(null),[a,i]=f.useState(""),{user:l}=Oe(),c=async()=>{if(!(!l||r))try{const y=await fetch(`https://heartlift-launch.emergent.host/api/usage/check/${l.id}`);if(y.ok){const b=await y.json();s({message_count:b.message_count||0,can_send_message:b.can_send_message||!0,hours_until_reset:Math.floor((b.seconds_until_reset||0)/3600)})}}catch(m){console.error("Error fetching usage data:",m)}};if(f.useEffect(()=>{c();const m=setInterval(c,3e4);return()=>clearInterval(m)},[l,r]),f.useEffect(()=>{if(!n||n.can_send_message)return;const m=()=>{const b=new Date,w=new Date(b.getTime()+n.hours_until_reset*60*60*1e3).getTime()-b.getTime();if(w<=0){i("Ready to chat!"),c();return}const p=Math.floor(w/(1e3*60*60)),v=Math.floor(w%(1e3*60*60)/(1e3*60));i(`${p}h ${v}m`)};m();const y=setInterval(m,6e4);return()=>clearInterval(y)},[n]),r)return o.jsx(W,{className:"bg-gradient-to-r from-yellow-50 to-orange-50 border-yellow-200",children:o.jsx(Y,{className:"py-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ue,{className:"w-5 h-5 text-yellow-600"}),o.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"Premium Active"})]}),o.jsxs(Se,{variant:"outline",className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:[o.jsx(Ai,{className:"w-3 h-3 mr-1"}),"Unlimited"]})]})})});const u=Math.min(e/10*100,100),d=e>=10,h=Math.max(0,10-e);return o.jsx(W,{className:`border-0 shadow-card ${d?"bg-gradient-to-r from-red-50 to-orange-50":"bg-gradient-to-r from-blue-50 to-indigo-50"}`,children:o.jsxs(Y,{className:"py-4 space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(rn,{className:`w-4 h-4 ${d?"text-red-600":"text-blue-600"}`}),o.jsxs("span",{className:"text-sm font-medium",children:[h," messages left today (10 total across all coaches)"]})]}),d&&o.jsxs(Se,{variant:"outline",className:"bg-red-100 text-red-800 border-red-200",children:[o.jsx(Wo,{className:"w-3 h-3 mr-1"}),"Limit reached"]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ta,{value:u,className:`h-2 ${d?"bg-red-100":"bg-blue-100"}`}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[o.jsx("span",{children:"Free daily limit"}),a&&o.jsxs("span",{className:`font-medium ${d?"text-red-600":"text-blue-600"}`,children:["Resets in ",a]})]})]}),d&&o.jsx("div",{className:"pt-2 border-t border-red-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-red-700",children:"Want to keep chatting?"}),o.jsxs(H,{variant:"outline",size:"sm",onClick:t,className:"bg-gradient-to-r from-primary to-primary-glow text-white border-0 hover:shadow-warm transition-all duration-300",children:[o.jsx(Ue,{className:"w-3 h-3 mr-1"}),"Go Premium"]})]})})]})})},fL=({isOpen:e,onClose:t,userName:r="there"})=>{const[n,s]=f.useState(0),a=[{icon:rn,title:"Unlimited AI Conversations",description:"Chat with all coaches as much as you want - no daily limits!",gradient:"from-blue-400 to-blue-500",bgColor:"from-blue-50 to-blue-100"},{icon:cf,title:"All Coach Personas",description:"Access Luna Love, Dr. Sage, Phoenix Fire, and River Calm anytime",gradient:"from-purple-400 to-purple-500",bgColor:"from-purple-50 to-purple-100"},{icon:pe,title:"Text Conversation Helpers",description:"Get custom message templates and rewriting suggestions",gradient:"from-pink-400 to-pink-500",bgColor:"from-pink-50 to-pink-100"},{icon:Wk,title:"Advanced Mood Analytics",description:"Weekly trends, emotion patterns, and personalised insights",gradient:"from-green-400 to-green-500",bgColor:"from-green-50 to-green-100"},{icon:ht,title:"Personalised Reports",description:"Dating patterns, attachment analysis, and healing roadmaps",gradient:"from-yellow-400 to-orange-400",bgColor:"from-yellow-50 to-orange-100"},{icon:Uc,title:"Text Helpers",description:"Message suggestions, rewriting tools, and conversation analysis",gradient:"from-indigo-400 to-indigo-500",bgColor:"from-indigo-50 to-indigo-100"}],i=a[n]||a[0],l=()=>{n<a.length-1?s(n+1):t()},c=()=>{n>0&&s(n-1)};return o.jsx(Zu,{open:e,onOpenChange:t,children:o.jsxs(ll,{className:"max-w-2xl",children:[o.jsx(cl,{children:o.jsxs(ul,{className:"text-3xl font-bold text-center flex items-center justify-center gap-2",children:[o.jsx(Ue,{className:"w-8 h-8 text-yellow-500 animate-pulse-warm"}),"Welcome to Premium, ",r,"! "]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center space-y-2",children:[o.jsx("p",{className:"text-muted-foreground text-lg",children:"Your premium coaching experience is now unlocked! Here's what you can do:"}),o.jsx(Ta,{value:(n+1)/a.length*100,className:"h-2"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[n+1," of ",a.length," features"]})]}),o.jsx(W,{className:`border-0 shadow-warm bg-gradient-to-br ${i.bgColor} animate-fade-in-scale`,children:o.jsxs(Z,{className:"text-center pb-4",children:[o.jsxs("div",{className:"mx-auto mb-4 relative",children:[o.jsx("div",{className:`p-4 rounded-full bg-gradient-to-r ${i.gradient} shadow-lg animate-float-gentle`,children:o.jsx(i.icon,{className:"w-8 h-8 text-white"})}),o.jsx("div",{className:"absolute -top-1 -right-1 text-2xl animate-bounce-gentle",children:""})]}),o.jsx(ee,{className:"text-2xl mb-2",children:i.title}),o.jsx(qe,{className:"text-base leading-relaxed",children:i.description})]})}),o.jsx("div",{className:"grid grid-cols-7 gap-2",children:a.map((u,d)=>o.jsxs("div",{className:`p-2 rounded-lg border-2 transition-all duration-300 cursor-pointer ${d===n?"border-primary bg-primary/10 shadow-gentle":d<n?"border-green-500 bg-green-50":"border-border bg-background"}`,onClick:()=>s(d),children:[o.jsx(u.icon,{className:`w-4 h-4 mx-auto ${d===n?"text-primary":d<n?"text-green-500":"text-muted-foreground"}`}),d<n&&o.jsx(fr,{className:"w-3 h-3 text-green-500 mx-auto mt-1"})]},d))}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(H,{variant:"outline",onClick:c,disabled:n===0,className:"flex items-center gap-2",children:"Previous"}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs(Se,{variant:"outline",className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:[o.jsx(Ue,{className:"w-3 h-3 mr-1"}),"Premium Active"]})}),o.jsx(H,{variant:"warm",onClick:l,className:"flex items-center gap-2",children:n===a.length-1?o.jsxs(o.Fragment,{children:[o.jsx(ht,{className:"w-4 h-4"}),"Start Exploring!"]}):o.jsxs(o.Fragment,{children:["Next",o.jsxs("span",{className:"text-xs",children:["(",a.length-n-1," left)"]})]})})]})]})]})})},mL=({variant:e="default",className:t=""})=>e==="compact"?o.jsxs(Se,{variant:"outline",className:`bg-gradient-to-r from-yellow-100 to-orange-100 text-yellow-800 border-yellow-200 animate-pulse-warm ${t}`,children:[o.jsx(Ue,{className:"w-3 h-3 mr-1"}),"Premium"]}):e==="floating"?o.jsx("div",{className:`fixed top-4 right-4 z-50 animate-float-gentle ${t}`,children:o.jsxs(Se,{variant:"outline",className:"bg-gradient-to-r from-yellow-100 to-orange-100 text-yellow-800 border-yellow-200 shadow-warm px-3 py-1",children:[o.jsx(Ue,{className:"w-4 h-4 mr-1"}),"Premium Active",o.jsx(ht,{className:"w-3 h-3 ml-1 animate-pulse-warm"})]})}):o.jsxs(Se,{variant:"outline",className:`bg-gradient-to-r from-yellow-100 to-orange-100 text-yellow-800 border-yellow-200 animate-glow ${t}`,children:[o.jsx(Ue,{className:"w-4 h-4 mr-2"}),"Premium Member",o.jsx(ht,{className:"w-3 h-3 ml-2 animate-pulse-warm"})]}),kn=f.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:ie("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));kn.displayName="Textarea";var pL="Separator",zv="horizontal",gL=["horizontal","vertical"],ON=f.forwardRef((e,t)=>{const{decorative:r,orientation:n=zv,...s}=e,a=yL(n)?n:zv,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return o.jsx(ae.div,{"data-orientation":a,...l,...s,ref:t})});ON.displayName=pL;function yL(e){return gL.includes(e)}var DN=ON;const $p=f.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>o.jsx(DN,{ref:s,decorative:r,orientation:t,className:ie("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));$p.displayName=DN.displayName;const Hv={flirty:"Luna Love",therapist:"Dr. Sage","tough-love":"Phoenix Fire",chill:"River Calm"},vL=()=>{const[e,t]=f.useState({coaches_chatted_with:[],conversation_rating:null,helpful_moments:"",areas_for_improvement:"",reflection_date:new Date().toISOString().split("T")[0]}),[r,n]=f.useState([]),[s,a]=f.useState(!1),[i,l]=f.useState(!1),[c,u]=f.useState(!1),[d,h]=f.useState(!1),{user:m}=Oe(),{toast:y}=Lt();f.useEffect(()=>{if(m){b(),g();const j=setInterval(()=>{const S=new Date().toISOString().split("T")[0];e.reflection_date!==S&&(t({coaches_chatted_with:[],conversation_rating:null,helpful_moments:"",areas_for_improvement:"",reflection_date:S}),u(!1),g())},6e4);return()=>clearInterval(j)}},[m]);const b=async()=>{if(m){a(!0);try{const j=new Date().toISOString().split("T")[0],N="https://heartlift-launch.emergent.host";console.log(`Loading today's reflection from backend: ${N}/api/reflections/today/${m.id}`);const S=await fetch(`${N}/api/reflections/today/${m.id}`);if(!S.ok)throw new Error(`Failed to load reflection: ${S.statusText}`);const _=await S.json();_&&_.id?(console.log("Loaded reflection from backend:",_),t({id:_.id,coaches_chatted_with:_.coaches_chatted_with||[],conversation_rating:_.conversation_rating,helpful_moments:_.helpful_moments||"",areas_for_improvement:_.areas_for_improvement||"",reflection_date:_.reflection_date,created_at:_.created_at}),u(!0)):(console.log("No reflection found for today"),t({coaches_chatted_with:[],conversation_rating:null,helpful_moments:"",areas_for_improvement:"",reflection_date:j}),u(!1))}catch(j){console.error("Error loading reflection:",j)}finally{a(!1)}}},g=async()=>{if(m)try{const j="https://heartlift-launch.emergent.host";console.log(`Loading past reflections from backend: ${j}/api/reflections/past/${m.id}`);const N=await fetch(`${j}/api/reflections/past/${m.id}`);if(!N.ok)throw new Error(`Failed to load past reflections: ${N.statusText}`);const S=await N.json();console.log("Loaded past reflections:",S),n(S||[])}catch(j){console.error("Error loading past reflections:",j)}},w=j=>{t(N=>({...N,coaches_chatted_with:N.coaches_chatted_with.includes(j)?N.coaches_chatted_with.filter(S=>S!==j):[...N.coaches_chatted_with,j]}))},p=j=>{t(N=>({...N,conversation_rating:j}))},v=async()=>{if(console.log("========== SAVE REFLECTION CALLED =========="),console.log("User:",m),console.log("User ID:",m==null?void 0:m.id),console.log("Reflection data:",e),!m){alert("ERROR: No user logged in!"),y({title:"Not logged in",description:"Please log in first.",variant:"destructive"});return}if(e.coaches_chatted_with.length===0){alert("ERROR: No coaches selected!"),y({title:"Please select at least one coach",description:"Let us know which coaches you chatted with today.",variant:"destructive"});return}l(!0);try{const j={user_id:m.id,reflection_date:e.reflection_date,coaches_chatted_with:e.coaches_chatted_with,conversation_rating:e.conversation_rating,helpful_moments:e.helpful_moments,areas_for_improvement:e.areas_for_improvement};console.log("Reflection data to save:",JSON.stringify(j,null,2));const N="https://heartlift-launch.emergent.host";console.log("Backend URL:",N);const S=`${N}/api/reflections/save`;console.log("Full URL:",S),alert(`About to POST to: ${S}`);const _=await fetch(S,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)});if(console.log("Response status:",_.status),console.log("Response ok:",_.ok),!_.ok){const I=await _.text();throw console.error("ERROR Response:",I),alert(`ERROR: ${_.status} - ${I}`),new Error(`Failed to save reflection: ${I}`)}const E=await _.json();console.log("SUCCESS! Saved data:",E),alert(`SUCCESS! Reflection saved with ID: ${E.id}`),u(!0),t({...e,id:E.id,created_at:E.created_at}),await b(),await g(),y({title:"Reflection saved!",description:`ID: ${E.id}`})}catch(j){console.error("CATCH ERROR:",j),alert(`CATCH ERROR: ${j instanceof Error?j.message:String(j)}`),y({title:"Error saving reflection",description:j instanceof Error?j.message:"Please try again.",variant:"destructive"})}finally{l(!1),console.log("========== SAVE REFLECTION COMPLETE ==========")}},x=j=>new Date(j).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return s?o.jsx(W,{className:"w-full",children:o.jsx(Y,{className:"flex items-center justify-center p-8",children:o.jsx("div",{className:"animate-pulse text-muted-foreground",children:"Loading today's reflection..."})})}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs(W,{className:"w-full shadow-gentle",children:[o.jsxs(Z,{children:[o.jsxs(ee,{className:"flex items-center gap-2",children:[o.jsx(yt,{className:"w-5 h-5"}),"Today's Reflection",c&&o.jsxs(Se,{variant:"secondary",className:"ml-2",children:[o.jsx(mP,{className:"w-3 h-3 mr-1"}),"Complete"]})]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[x(e.reflection_date),"  Help your coaches remember your journey by reflecting on today's conversations"]})]}),o.jsxs(Y,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"text-sm font-medium",children:"Which coaches did you chat with today? (Select all that apply)"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(Hv).map(([j,N])=>o.jsxs(H,{variant:e.coaches_chatted_with.includes(j)?"default":"outline",size:"sm",onClick:()=>w(j),className:"flex items-center gap-2",children:[o.jsx(rn,{className:"w-3 h-3"}),N]},j))})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"text-sm font-medium",children:"How helpful were your conversations today?"}),o.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(j=>o.jsx(H,{variant:"ghost",size:"sm",onClick:()=>p(j),className:"p-1",children:o.jsx(ha,{className:`w-6 h-6 ${e.conversation_rating&&j<=e.conversation_rating?"fill-yellow-400 text-yellow-400":"text-muted-foreground"}`})},j))})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"text-sm font-medium",children:"What was most helpful in your conversations today?"}),o.jsx(kn,{placeholder:"Share what insights, advice, or support stood out to you...",value:e.helpful_moments,onChange:j=>t(N=>({...N,helpful_moments:j.target.value})),rows:3})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"text-sm font-medium",children:"What would you like to explore more in future conversations?"}),o.jsx(kn,{placeholder:"Any topics, feelings, or situations you'd like your coaches to help you work through...",value:e.areas_for_improvement,onChange:j=>t(N=>({...N,areas_for_improvement:j.target.value})),rows:3})]}),o.jsx(H,{onClick:v,disabled:i,className:"w-full",children:i?"Saving...":c?"Update Reflection":"Save Reflection"}),o.jsxs(H,{onClick:()=>h(!d),variant:"outline",className:"w-full",children:[o.jsx(jy,{className:"w-4 h-4 mr-2"}),d?"Hide":"View"," Past Reflections (",r.length,")"]})]})]}),d&&o.jsxs(W,{className:"w-full shadow-gentle",children:[o.jsxs(Z,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(jy,{className:"w-5 h-5"}),o.jsxs(ee,{children:["Reflection History (",r.length,")"]})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"View your past reflections to track your journey"})]}),o.jsx(Y,{children:r.length>0?o.jsx(Rp,{className:"h-96",children:o.jsx("div",{className:"space-y-4",children:r.map((j,N)=>o.jsxs("div",{className:"border-l-2 border-primary/20 pl-4 pb-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h4",{className:"font-medium text-sm",children:x(j.reflection_date)}),o.jsx("div",{className:"flex items-center gap-2",children:j.conversation_rating&&o.jsx("div",{className:"flex items-center gap-1",children:[...Array(j.conversation_rating)].map((S,_)=>o.jsx(ha,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"},_))})})]}),j.coaches_chatted_with&&j.coaches_chatted_with.length>0&&o.jsx("div",{className:"flex flex-wrap gap-1",children:j.coaches_chatted_with.map(S=>o.jsx(Se,{variant:"outline",className:"text-xs",children:Hv[S]},S))}),j.helpful_moments&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"What was helpful:"}),o.jsx("p",{className:"text-sm",children:j.helpful_moments})]}),j.areas_for_improvement&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Areas to explore:"}),o.jsx("p",{className:"text-sm",children:j.areas_for_improvement})]})]}),N<r.length-1&&o.jsx($p,{className:"mt-4"})]},j.id||N))})}):o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx("p",{children:"No past reflections yet."}),o.jsx("p",{className:"text-sm mt-2",children:"Complete today's reflection above to start building your journey history!"})]})})]})]})},xL=({coachName:e,coachPersonality:t,coachGreetings:r,coachIcon:n,coachColor:s})=>{var ue;const[a,i]=f.useState([]),[l,c]=f.useState(""),[u,d]=f.useState(!1),[h,m]=f.useState(0),[y,b]=f.useState(10),[g,w]=f.useState(!0),[p,v]=f.useState(!1),[x,j]=f.useState(!1),[N,S]=f.useState("usage_limit"),[_,E]=f.useState(!1),I=f.useRef(null),k=f.useRef(null);f.useRef(null);const z=f.useRef(null),A=f.useRef(0),L=f.useRef(null),{user:R,isPremium:B,checkSubscription:D}=Oe(),{toast:O}=Lt();f.useEffect(()=>{a.length>A.current&&setTimeout(()=>{const T=document.querySelector("[data-radix-scroll-area-viewport]");T&&T.scrollTo({top:T.scrollHeight,behavior:"smooth"})},100),A.current=a.length},[a]);const C=()=>{var G,te;if(!R)return"";if((G=R.user_metadata)!=null&&G.full_name){const ge=R.user_metadata.full_name.split(" ")[0];return ge.charAt(0).toUpperCase()+ge.slice(1).toLowerCase()}const T=((te=R.email)==null?void 0:te.split("@")[0])||"";return T.charAt(0).toUpperCase()+T.slice(1).toLowerCase()};f.useEffect(()=>{R&&V()},[R,t]),f.useEffect(()=>{if(!B&&R){const T=setInterval(()=>{const G=new Date,te=localStorage.getItem(`lastUsageCheck_${R.id}`),le=G.toISOString().split("T")[0];te&&te!==le&&(console.log("New day detected - resetting usage count"),V()),localStorage.setItem(`lastUsageCheck_${R.id}`,le)},6e4);return()=>clearInterval(T)}},[R,B]),f.useEffect(()=>{if(B&&!x){const T=localStorage.getItem("hasSeenPremiumWelcome"),G=sessionStorage.getItem("premiumWelcomeShownThisSession");!T&&!G&&(j(!0),sessionStorage.setItem("premiumWelcomeShownThisSession","true"))}},[B]);const P=()=>{const T=C();if(console.log("Coach greetings received:",r),console.log("Coach name:",e),!r||r.length===0)return console.warn("No greetings array provided, using fallback"),T?`Hi ${T}! I'm ${e}, and I'm here to support you through whatever you're going through. What's on your heart today?`:`Hi there! I'm ${e}, and I'm here to support you through whatever you're going through. What's on your heart today?`;const G=Math.floor(Math.random()*r.length),te=r[G];console.log("Selected greeting template:",te);const le=te.replace("{firstName}",T||"there");return console.log("Final greeting:",le),le};f.useEffect(()=>{R&&t&&(c(""),d(!1),(async()=>{if(!await U())await $();else{const te=P();await J.rpc("insert_conversation_message",{p_user_id:R.id,p_coach_id:t,p_message_content:te,p_sender:"coach"}),i([{id:"1",content:te,sender:"coach",timestamp:new Date}]),E(!0)}})())},[R,t]);const U=async()=>{if(!R)return;const T=`lastRefresh_${R.id}_${t}`,G=localStorage.getItem(T),te=new Date().toDateString();if(!G)return localStorage.setItem(T,te),!1;if(G!==te)try{return await J.from("conversation_history").delete().eq("user_id",R.id).eq("coach_id",t),localStorage.setItem(T,te),!0}catch(le){return console.error("Error during daily refresh:",le),!1}return!1},$=async()=>{if(R)try{const{data:T,error:G}=await J.from("conversation_history").select("*").eq("user_id",R.id).eq("coach_id",t).order("created_at",{ascending:!0}).limit(50);if(G)throw G;const te=P();if(T&&T.length>0){const le=T.filter((ge,me)=>!(me===0&&ge.sender==="coach"));if(le.length>0){const ge=le.map((me,De)=>({id:`${me.id}-${De}`,content:me.message_content,sender:me.sender,timestamp:new Date(me.created_at)}));i([{id:"1",content:te,sender:"coach",timestamp:new Date},...ge])}else i([{id:"1",content:te,sender:"coach",timestamp:new Date}])}else i([{id:"1",content:te,sender:"coach",timestamp:new Date}]);E(!0)}catch(T){console.error("Error loading conversation history:",T);const G=P();i([{id:"1",content:G,sender:"coach",timestamp:new Date}]),E(!0)}},V=async()=>{if(R)try{const G=await fetch(`https://heartlift-launch.emergent.host/api/usage/check/${R.id}`);if(G.ok){const te=await G.json();m(te.message_count||0),b(te.remaining_messages||10),w(te.can_send_message||!1)}}catch(T){console.error("Error loading usage count:",T)}},M=async()=>{if(!l.trim()||u||!R)return;if(!g&&!B){S("usage_limit"),v(!0);return}const T={id:Date.now().toString(),content:l,sender:"user",timestamp:new Date};i(G=>[...G,T]),c(""),d(!0);try{const{data:G,error:te}=await J.auth.getSession();if(te||!G.session)throw new Error("Please sign in again to continue");await J.rpc("insert_conversation_message",{p_user_id:R.id,p_coach_id:t,p_message_content:l,p_sender:"user"});const ge=await fetch("https://heartlift-launch.emergent.host/api/ai/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:l,coach_id:t,conversation_history:a.slice(-5).map(ne=>({content:ne.content,sender:ne.sender})),user_name:C()||void 0,user_id:R.id})});if(!ge.ok)throw new Error(`Failed to get AI response: ${ge.statusText}`);const me=await ge.json(),De={id:(Date.now()+1).toString(),content:me.response,sender:"coach",timestamp:new Date};if(i(ne=>[...ne,De]),await J.rpc("insert_conversation_message",{p_user_id:R.id,p_coach_id:t,p_message_content:me.response,p_sender:"coach"}),!B){const ne="https://heartlift-launch.emergent.host";try{const ce=await fetch(`${ne}/api/usage/track`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:R.id,coach_id:t})});if(ce.ok){const Pe=await ce.json();m(Pe.message_count),b(Pe.remaining_messages),w(Pe.can_send_message),Pe.can_send_message||(S("usage_limit"),v(!0))}}catch(ce){console.error("Error tracking usage:",ce)}}}catch(G){console.error("Error sending message:",G),O({title:"Error",description:"Failed to send message. Please try again.",variant:"destructive"})}finally{d(!1)}},X=async T=>{if(!B)return;const G=a.findIndex(le=>le.id===T);if(G===-1)return;const te=a[G-1];if(!(!te||te.sender!=="user")){d(!0);try{const{data:le,error:ge}=await J.auth.getSession();if(ge||!le.session)throw new Error("Please sign in again to continue");const De=await fetch("https://heartlift-launch.emergent.host/api/ai/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:te.content,coach_id:t,conversation_history:a.slice(0,G-1).map(Pe=>({content:Pe.content,sender:Pe.sender})),user_name:C()||void 0,user_id:R==null?void 0:R.id})});if(!De.ok)throw new Error(`Failed to regenerate response: ${De.statusText}`);const ne=await De.json(),ce=[...a];ce[G]={...ce[G],content:ne.response,timestamp:new Date},i(ce)}catch(le){console.error("Error regenerating response:",le),O({title:"Error",description:"Failed to regenerate response. Please try again.",variant:"destructive"})}finally{d(!1)}}},oe=async()=>{if(R)try{await J.from("conversation_history").delete().eq("user_id",R.id).eq("coach_id",t);const T=`lastRefresh_${R.id}_${t}`;localStorage.removeItem(T);const G=`manualRefresh_${R.id}_${t}`;localStorage.setItem(G,new Date().toISOString());const te=P();await J.rpc("insert_conversation_message",{p_user_id:R.id,p_coach_id:t,p_message_content:te,p_sender:"coach"}),i([{id:"1",content:te,sender:"coach",timestamp:new Date}]),E(!1),setTimeout(()=>E(!0),100),O({title:"Conversation refreshed",description:"Started a fresh conversation with "+e})}catch(T){console.error("Error refreshing conversation:",T),O({title:"Error",description:"Failed to refresh conversation. Please try again.",variant:"destructive"})}};return o.jsxs("div",{className:"space-y-2 sm:space-y-4",children:[o.jsx(hL,{currentUsage:h,onUpgradeClick:()=>{S("usage_limit"),v(!0)},isPremium:B}),o.jsxs(W,{ref:L,className:"h-[600px] sm:h-[600px] max-h-[800px] flex flex-col shadow-gentle overflow-hidden",children:[o.jsx(Z,{className:"pb-3 flex-shrink-0",children:o.jsxs(ee,{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:`p-2 rounded-full bg-gradient-to-r ${s||"from-primary to-primary-glow"} shadow-lg`,children:n?(()=>{const T=n;return o.jsx(T,{className:"w-4 h-4 text-white"})})():o.jsx(cc,{className:"w-4 h-4 text-white"})}),o.jsx("span",{children:e}),B&&o.jsx(mL,{variant:"compact"})]}),o.jsxs(H,{variant:"ghost",size:"sm",onClick:oe,className:"flex items-center gap-2 text-muted-foreground hover:text-foreground",disabled:u,children:[o.jsx(Zs,{className:"w-4 h-4"}),"Refresh"]})]})}),o.jsxs(Y,{className:"flex-1 flex flex-col p-0 min-h-0 overflow-hidden",children:[o.jsx(Rp,{className:"flex-1 px-4 h-full",type:"auto",children:o.jsxs("div",{ref:k,className:"space-y-4 pb-4 pt-2",children:[a.map(T=>o.jsx("div",{"data-message-id":T.id,"data-sender":T.sender,className:`flex ${T.sender==="user"?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[90%] sm:max-w-[80%] rounded-lg px-3 sm:px-4 py-3 ${T.sender==="user"?"bg-primary text-primary-foreground":T.isPremiumTeaser?"bg-gradient-to-r from-yellow-100 to-orange-100 text-orange-800 border border-orange-200":"bg-secondary text-secondary-foreground"}`,children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[T.sender==="user"?o.jsx(Fc,{className:"w-3 h-3"}):o.jsx(cc,{className:"w-3 h-3"}),o.jsx("span",{className:"text-xs opacity-70",children:T.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),o.jsx("p",{className:"text-sm",children:T.content}),T.isPremiumTeaser&&o.jsx("div",{className:"mt-2 pt-2 border-t border-orange-200",children:o.jsxs(H,{variant:"outline",size:"sm",onClick:()=>{S("premium_teaser"),v(!0)},className:"bg-gradient-to-r from-primary to-primary-glow text-white border-0",children:[o.jsx(Ue,{className:"w-3 h-3 mr-1"}),"Unlock Premium"]})}),T.sender==="coach"&&B&&!T.isPremiumTeaser&&o.jsx("div",{className:"mt-2 pt-2 border-t border-border/50",children:o.jsxs(H,{variant:"outline",size:"sm",onClick:()=>X(T.id),className:"text-xs",disabled:u,children:[o.jsx(ht,{className:"w-3 h-3 mr-1"}),"Regenerate"]})})]})},T.id)),u&&o.jsx("div",{className:"flex justify-start",children:o.jsx("div",{className:"bg-secondary text-secondary-foreground rounded-lg px-4 py-2 max-w-[80%]",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(cc,{className:"w-3 h-3"}),o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse-warm"}),o.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse-warm",style:{animationDelay:"0.2s"}}),o.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse-warm",style:{animationDelay:"0.4s"}})]})]})})}),o.jsx("div",{ref:I})]})}),o.jsxs("div",{className:"p-3 sm:p-4 border-t border-border flex-shrink-0 bg-background",children:[o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(ut,{ref:z,value:l,onChange:T=>c(T.target.value),placeholder:!g&&!B?"Daily limit reached - upgrade to continue":B?"Ask me anything... (Premium)":`Share what's on your heart... (${y} left)`,onKeyDown:T=>{T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),M())},onFocus:()=>{requestAnimationFrame(()=>{if(L.current){const te=L.current.getBoundingClientRect().top+window.pageYOffset-60;window.scrollTo({top:te,behavior:"smooth"})}})},className:"flex-1 text-base sm:text-base py-3 px-4 sm:py-3 sm:px-4 min-h-[44px] sm:min-h-[44px]",disabled:!g&&!B||u,autoComplete:"off",autoCorrect:"off",autoCapitalize:"sentences"}),o.jsx(H,{onClick:M,disabled:!l.trim()||u||!g&&!B,variant:"warm",size:"icon",className:"min-h-[44px] min-w-[44px]",children:!g&&!B?o.jsx(Wo,{className:"w-4 h-4"}):o.jsx(dP,{className:"w-4 h-4"})})]}),!g&&!B&&o.jsxs("div",{className:"flex items-center gap-2 mt-2 p-2 bg-gradient-to-r from-red-50 to-orange-50 rounded-lg border border-red-200",children:[o.jsx(Y0,{className:"w-4 h-4 text-red-600"}),o.jsx("span",{className:"text-sm text-red-700",children:"Daily limit reached"}),o.jsxs(H,{variant:"outline",size:"sm",onClick:()=>v(!0),className:"ml-auto bg-gradient-to-r from-primary to-primary-glow text-white border-0",children:[o.jsx(Ue,{className:"w-3 h-3 mr-1"}),"Upgrade"]})]})]})]})]}),o.jsx(kN,{isOpen:p,onClose:()=>v(!1),trigger:N,coachName:e}),o.jsx(fL,{isOpen:x,onClose:()=>{j(!1),localStorage.setItem("hasSeenPremiumWelcome","true")},userName:((ue=R==null?void 0:R.user_metadata)==null?void 0:ue.full_name)||"there"}),o.jsx("div",{className:"mt-6",children:o.jsx(vL,{})})]})},uh=[{id:1,icon:eP,label:"Struggling",emoji:"",color:"from-blue-500 to-indigo-600",bgGlow:"shadow-blue-200/30",iconColor:"text-blue-600",message:"It's okay to not be okay. You're brave for checking in. ",lightBg:"bg-gradient-to-br from-blue-50/50 to-indigo-50/50"},{id:2,icon:lP,label:"Low",emoji:"",color:"from-purple-500 to-violet-600",bgGlow:"shadow-purple-200/30",iconColor:"text-purple-600",message:"Taking it one step at a time. You're doing your best. ",lightBg:"bg-gradient-to-br from-purple-50/50 to-violet-50/50"},{id:3,icon:hP,label:"Neutral",emoji:"",color:"from-slate-500 to-gray-600",bgGlow:"shadow-slate-200/30",iconColor:"text-slate-600",message:"Balanced and present. Sometimes neutral is exactly right. ",lightBg:"bg-gradient-to-br from-slate-50/50 to-gray-50/50"},{id:4,icon:sP,label:"Good",emoji:"",color:"from-emerald-500 to-green-600",bgGlow:"shadow-emerald-200/30",iconColor:"text-emerald-600",message:"Lovely to see you feeling good today! Keep nurturing this energy. ",lightBg:"bg-gradient-to-br from-emerald-50/50 to-green-50/50"},{id:5,icon:pe,label:"Amazing",emoji:"",color:"from-pink-500 to-rose-600",bgGlow:"shadow-pink-200/30",iconColor:"text-pink-600",message:"You're radiating joy! Share this beautiful energy with the world. ",lightBg:"bg-gradient-to-br from-pink-50/50 to-rose-50/50"}],Bv=["How is your heart feeling today? ","What's your emotional weather like right now? ","How would you describe your inner landscape today? ","On your healing journey, where are you today? ","How connected do you feel to yourself today? "],wL=()=>{const[e,t]=f.useState(null),[r]=f.useState(Bv[Math.floor(Math.random()*Bv.length)]),[n,s]=f.useState(!1),[a,i]=f.useState([]),[l,c]=f.useState(!1),[u,d]=f.useState(!1),[h,m]=f.useState(null),{user:y}=Oe(),{toast:b}=Lt();f.useEffect(()=>{y&&(g(),w())},[y]);const g=async()=>{if(y)try{const{data:x,error:j}=await J.from("mood_entries").select("*").eq("user_id",y.id).order("entry_date",{ascending:!1}).limit(30);if(j)throw j;i(x||[])}catch(x){console.error("Error loading mood history:",x)}},w=async()=>{if(!y)return;const x=new Date().toISOString().split("T")[0];try{const{data:j,error:N}=await J.from("mood_entries").select("*").eq("user_id",y.id).eq("entry_date",x).single();j&&(m(j),s(!0),t(j.mood_level))}catch{m(null),s(!1)}},p=async()=>{if(!e||!y)return;d(!0);const x=uh.find(N=>N.id===e);if(!x)return;const j=new Date().toISOString().split("T")[0];try{const{data:N,error:S}=await J.from("mood_entries").upsert({user_id:y.id,mood_level:e,mood_label:x.label,mood_emoji:x.emoji,message_received:x.message,entry_date:j},{onConflict:"user_id,entry_date",ignoreDuplicates:!1}).select().single();if(S)throw S;m(N),s(!0),await g(),b({title:"Mood saved! ",description:"Your daily check-in has been recorded."})}catch(N){b({title:"Error saving mood",description:N.message,variant:"destructive"})}finally{d(!1)}},v=e?uh.find(x=>x.id===e):null;return y?l?o.jsxs("div",{className:"space-y-4 sm:space-y-6 animate-fade-in px-2 sm:px-0",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(H,{variant:"outline",onClick:()=>c(!1),className:"flex items-center gap-2",children:[o.jsx(K0,{className:"w-4 h-4"}),"Back to Today"]}),o.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Mood History"})]}),o.jsxs(W,{className:"shadow-float bg-gradient-to-br from-card via-card/95 to-secondary/10 border-0",children:[o.jsxs(Z,{children:[o.jsxs(ee,{className:"flex items-center gap-2",children:[o.jsx(yt,{className:"w-5 h-5 text-primary"}),"Your Mood Journey"]}),o.jsxs(qe,{children:[a.length," check-ins recorded"]})]}),o.jsx(Y,{children:a.length===0?o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-muted-foreground",children:"No mood entries yet. Start your journey today! "})}):o.jsx("div",{className:"space-y-3",children:a.map(x=>{const j=new Date(x.entry_date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"});return o.jsxs("div",{className:"flex items-center justify-between p-4 rounded-2xl bg-gradient-to-r from-secondary/20 to-secondary/10 border border-secondary/30",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"text-2xl",children:x.mood_emoji}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:x.mood_label}),o.jsx("p",{className:"text-sm text-muted-foreground",children:j})]})]}),o.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((N,S)=>o.jsx("div",{className:`w-2 h-2 rounded-full ${S<x.mood_level?"bg-primary":"bg-muted"}`},S))})]},x.id)})})})]})]}):n&&v?o.jsx("div",{className:"px-2 sm:px-0 animate-fade-in-scale",children:o.jsxs(W,{className:"shadow-float bg-gradient-to-br from-card via-card/95 to-secondary/10 border-0 backdrop-blur-sm overflow-hidden relative",children:[o.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-primary via-primary-glow to-accent"}),o.jsx("div",{className:"absolute -top-20 -right-20 w-40 h-40 bg-gradient-to-r from-primary/10 to-primary-glow/10 rounded-full blur-3xl animate-pulse-warm"}),o.jsx("div",{className:"absolute -bottom-20 -left-20 w-40 h-40 bg-gradient-to-r from-accent/10 to-secondary/10 rounded-full blur-3xl animate-float-gentle"}),o.jsxs(Z,{className:"text-center space-y-6 relative z-10 pt-8 sm:pt-12",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"mx-auto p-4 sm:p-6 rounded-full bg-gradient-to-r from-primary to-primary-glow w-fit animate-pulse-warm shadow-float",children:o.jsx(pe,{className:"w-8 h-8 sm:w-10 sm:h-10 text-primary-foreground"})}),o.jsx("div",{className:"absolute -top-2 -right-2 text-2xl animate-bounce-gentle",children:""}),o.jsx("div",{className:"absolute -top-1 -left-3 text-lg animate-pulse-warm",children:""})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"text-5xl sm:text-6xl animate-bounce-gentle mb-4",children:v.emoji}),o.jsx(ee,{className:"text-2xl sm:text-3xl bg-gradient-to-r from-primary via-primary-glow to-accent bg-clip-text text-transparent",children:"Thank you for sharing! "}),o.jsx(qe,{className:"text-base sm:text-lg text-muted-foreground max-w-md mx-auto leading-relaxed",children:v.message})]})]}),o.jsxs(Y,{className:"text-center space-y-8 relative z-10 pb-8 sm:pb-12",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 max-w-md mx-auto",children:[o.jsxs("div",{className:"p-4 sm:p-6 bg-gradient-to-br from-emerald-50/80 to-green-50/80 rounded-2xl border border-emerald-100 backdrop-blur-sm",children:[o.jsx(fa,{className:"w-6 h-6 sm:w-8 sm:h-8 text-emerald-500 mx-auto mb-3 animate-bounce-gentle"}),o.jsxs("p",{className:"text-sm sm:text-base font-bold text-emerald-700",children:[a.length," Day",a.length!==1?"s":""," Tracked"]}),o.jsx("p",{className:"text-xs sm:text-sm text-emerald-600 mt-1",children:"Building healthy habits! "})]}),o.jsxs("div",{className:"p-4 sm:p-6 bg-gradient-to-br from-purple-50/80 to-pink-50/80 rounded-2xl border border-purple-100 backdrop-blur-sm",children:[o.jsx(ht,{className:"w-6 h-6 sm:w-8 sm:h-8 text-purple-500 mx-auto mb-3 animate-pulse-warm"}),o.jsx("p",{className:"text-sm sm:text-base font-bold text-purple-700",children:"Self-Care"}),o.jsx("p",{className:"text-xs sm:text-sm text-purple-600 mt-1",children:"Growing daily "})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[o.jsxs(H,{variant:"gentle",size:"lg",onClick:()=>{s(!1),t(null)},className:"px-8 sm:px-12 py-3 sm:py-4 text-base sm:text-lg font-semibold shadow-gentle hover:shadow-warm transition-all duration-300",children:[o.jsx(pe,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Update Today's Mood"]}),o.jsxs(H,{variant:"outline",size:"lg",onClick:()=>c(!0),className:"px-8 sm:px-12 py-3 sm:py-4 text-base sm:text-lg font-semibold",children:[o.jsx(yt,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"View History"]})]})]})]})}):o.jsxs("div",{className:"space-y-6 sm:space-y-8 animate-fade-in px-2 sm:px-0",children:[o.jsxs("div",{className:"text-center space-y-4 sm:space-y-6",children:[o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(fP,{className:"w-7 h-7 sm:w-8 sm:h-8 text-yellow-500 animate-pulse-warm"}),o.jsx("div",{className:"absolute -top-1 -right-1 text-xs",children:""})]}),o.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-primary via-primary-glow to-accent bg-clip-text text-transparent",children:"Daily Check-in"}),o.jsxs("div",{className:"relative",children:[o.jsx(qk,{className:"w-7 h-7 sm:w-8 sm:h-8 text-blue-400 animate-float-gentle"}),o.jsx("div",{className:"absolute -top-1 -right-1 text-xs",children:""})]})]}),o.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2",children:o.jsx(ht,{className:"w-4 h-4 text-primary/40 animate-pulse-warm"})}),o.jsx("div",{className:"absolute -top-4 right-1/4",children:o.jsx(cP,{className:"w-5 h-5 text-primary/30 animate-float-gentle"})})]}),o.jsx("div",{className:"max-w-md mx-auto",children:o.jsx("p",{className:"text-base sm:text-lg text-muted-foreground leading-relaxed font-medium",children:r})})]}),o.jsxs(W,{className:"shadow-float bg-gradient-to-br from-card via-card/95 to-secondary/10 border-0 backdrop-blur-sm overflow-hidden relative",children:[o.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-primary via-primary-glow to-accent"}),o.jsx("div",{className:"absolute -top-16 -right-16 w-32 h-32 bg-gradient-to-r from-primary/5 to-primary-glow/5 rounded-full blur-3xl"}),o.jsx("div",{className:"absolute -bottom-16 -left-16 w-32 h-32 bg-gradient-to-r from-accent/5 to-secondary/5 rounded-full blur-3xl"}),o.jsxs(Z,{className:"text-center pb-4 sm:pb-6 relative z-10",children:[o.jsxs(ee,{className:"text-xl sm:text-2xl flex items-center justify-center gap-2 sm:gap-3 mb-2",children:[o.jsx(pe,{className:"w-6 h-6 sm:w-7 sm:h-7 text-primary animate-pulse-warm"}),o.jsx("span",{className:"bg-gradient-to-r from-foreground to-foreground/80 bg-clip-text",children:"How's your heart today?"})]}),o.jsx(qe,{className:"text-sm sm:text-base text-muted-foreground leading-relaxed max-w-sm mx-auto",children:"Your feelings are valid and important. Let's check in together "})]}),o.jsxs(Y,{className:"space-y-6 sm:space-y-8 relative z-10",children:[o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3 sm:gap-4",children:uh.map((x,j)=>{const N=x.icon,S=e===x.id;return o.jsxs("button",{onClick:()=>t(x.id),className:`group relative p-4 sm:p-6 rounded-3xl border-2 transition-all duration-500 hover:scale-105 active:scale-95 animate-slide-up min-h-[44px] min-w-[44px] ${S?`border-primary shadow-float ${x.lightBg} ring-2 ring-primary/20`:"border-border/50 hover:border-primary/30 bg-card/50 hover:bg-card backdrop-blur-sm"}`,style:{animationDelay:`${j*100}ms`},children:[S&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${x.color} opacity-5 rounded-3xl`}),o.jsx("div",{className:`absolute -inset-1 bg-gradient-to-r ${x.color} opacity-10 rounded-3xl blur-sm`})]}),o.jsxs("div",{className:"relative space-y-2 sm:space-y-3",children:[o.jsx("div",{className:"text-3xl sm:text-4xl group-hover:animate-bounce-gentle transition-all duration-300 group-hover:scale-110",children:x.emoji}),o.jsx(N,{className:`w-5 h-5 sm:w-6 sm:h-6 mx-auto ${x.iconColor} group-hover:scale-110 transition-all duration-300 ${S?"scale-110":""}`}),o.jsx("p",{className:`text-xs sm:text-sm font-semibold text-center transition-colors duration-300 ${S?"text-primary":"text-muted-foreground group-hover:text-foreground"}`,children:x.label})]})]},x.id)})}),e&&v&&o.jsxs("div",{className:`text-center p-4 sm:p-6 ${v.lightBg} rounded-3xl border border-primary/10 animate-fade-in-scale relative overflow-hidden`,children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 via-transparent to-primary-glow/5"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"text-2xl mb-2",children:v.emoji}),o.jsx("p",{className:"text-sm sm:text-base text-muted-foreground leading-relaxed font-medium",children:v.message})]})]}),o.jsx("div",{className:"text-center pt-2",children:o.jsxs(H,{variant:"warm",onClick:p,disabled:!e||u,size:"lg",className:`px-8 sm:px-12 py-3 sm:py-4 text-base sm:text-lg font-semibold transition-all duration-300 ${e?"animate-pulse-warm shadow-float":""}`,children:[o.jsx(ht,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),u?"Saving...":h?"Update Today's Check-In":"Save Today's Check-In"]})}),a.length>0&&o.jsx("div",{className:"text-center border-t border-border/50 pt-4",children:o.jsxs(H,{variant:"outline",onClick:()=>c(!0),className:"text-muted-foreground hover:text-foreground",children:[o.jsx(yt,{className:"w-4 h-4 mr-2"}),"View Your Mood History (",a.length," entries)"]})})]})]})]}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx(pe,{className:"w-12 h-12 text-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Please sign in to track your daily mood check-ins"})]})},bL=[{name:"Free",price:"0",period:"forever",icon:pe,description:"Perfect for getting started on your healing journey",features:["Basic AI relationship advice","10 messages per day","Daily mood check-ins","Daily reflections","Access to all coaches","Email support"],buttonText:"Start Free",variant:"gentle",popular:!1},{name:"Premium",price:"11.99",period:"per month",icon:ht,description:"Unlimited support for your relationship growth",features:["Everything in free","Unlimited AI coach conversations","Regenerate AI responses","Guided Programmes","Personalised insights & reports","Daily attachment style quiz with AI analysis","Conversation analyser with AI insights","Text suggestion helper for all scenarios","Create personalised AI-generated visuals","Priority support"],buttonText:"Go Premium",variant:"warm",popular:!0},{name:"Healing Kit",price:"4.99",period:"one-time",icon:Ue,description:"Complete break-up recovery package",features:["30-day healing plan","Daily affirmations","Visualisation practices","No-contact tracker","Journal prompts","Priority support"],buttonText:"Get Healing Kit",variant:"healing",popular:!1}],Wv=({backTo:e="home"}={})=>{const[t,r]=f.useState(!1),{user:n,checkSubscription:s}=Oe(),a=at();ar();const i=l=>{const c=e;if(e==="home"){a("/auth");return}if(l==="Premium"){if(!n){a("/auth");return}a("/premium-purchase",{state:{from:c}})}else if(l==="Healing Kit"){if(!n){a("/auth");return}a("/healing-kit-purchase",{state:{from:c}})}};return o.jsx("section",{className:"py-16 px-4 bg-gradient-to-br from-secondary/30 to-accent/30",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs("div",{className:"text-center space-y-4 mb-12",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground",children:"Choose Your Healing Path"}),o.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Every relationship journey is unique. Find the support level that feels right for you."})]}),o.jsx("div",{className:"grid md:grid-cols-3 gap-6 sm:gap-8 max-w-5xl mx-auto",children:bL.map(l=>{const c=l.icon;return o.jsxs(W,{className:`relative overflow-hidden transition-all duration-300 hover:shadow-gentle ${l.popular?"ring-2 ring-primary shadow-warm scale-105":""}`,children:[l.popular&&o.jsx("div",{className:"absolute top-0 right-0 bg-gradient-to-r from-primary to-primary-glow text-primary-foreground px-3 py-1 text-xs font-medium rounded-bl-lg",children:"Most Popular"}),o.jsxs(Z,{className:"text-center pb-2",children:[o.jsx("div",{className:"mx-auto p-3 rounded-full bg-gradient-to-r from-primary/10 to-primary-glow/10 w-fit mb-4",children:o.jsx(c,{className:"w-6 h-6 text-primary"})}),o.jsx(ee,{className:"text-xl sm:text-2xl",children:l.name}),o.jsx("div",{className:"space-y-1",children:o.jsxs("div",{className:"flex items-baseline justify-center space-x-1",children:[o.jsx("span",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:l.price}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:["/",l.period]})]})}),o.jsx(qe,{className:"text-center text-sm sm:text-base",children:l.description})]}),o.jsxs(Y,{className:"space-y-4 sm:space-y-6",children:[o.jsx("ul",{className:"space-y-2 sm:space-y-3",children:l.features.map((u,d)=>o.jsxs("li",{className:"flex items-start space-x-2 sm:space-x-3",children:[o.jsx(fr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary mt-0.5 flex-shrink-0"}),o.jsx("span",{className:"text-xs sm:text-sm text-foreground leading-relaxed",children:u})]},d))}),o.jsx(H,{variant:l.variant,className:"w-full min-h-[44px]",size:"lg",onClick:()=>i(l.name),children:e==="home"?"Get Started":l.buttonText})]})]},l.name)})}),o.jsxs("div",{className:"text-center mt-12 space-y-4",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"All plans include our core emotional support features"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Cancel anytime  Secure payments"}),o.jsxs("p",{className:"text-xs text-muted-foreground pt-4",children:["Need help? Contact us at"," ",o.jsx("a",{href:"mailto:support@heart-lift.com",className:"text-primary hover:text-primary/80 underline transition-colors",children:"support@heart-lift.com"})]})]}),o.jsx(kN,{isOpen:t,onClose:()=>r(!1),trigger:"usage_limit"})]})})},jL=()=>{const{user:e,isPremium:t,hasHealingKit:r}=Oe();return!e||!(t||r)?null:o.jsx(W,{className:"mb-6 p-4 bg-gradient-to-r from-primary/10 via-primary-glow/10 to-secondary/10 border-primary/20",children:o.jsxs("div",{className:"flex items-center justify-center gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Xs,{className:"w-5 h-5 text-green-500"}),o.jsx("span",{className:"font-medium text-foreground",children:"Your Active Plans"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[t&&o.jsxs(Se,{variant:"default",className:"bg-gradient-to-r from-primary to-primary-glow text-primary-foreground px-3 py-1",children:[o.jsx(ht,{className:"w-4 h-4 mr-1"}),"Premium Active"]}),r&&o.jsxs(Se,{variant:"secondary",className:"bg-gradient-to-r from-healing to-healing-glow text-healing-foreground px-3 py-1",children:[o.jsx(pe,{className:"w-4 h-4 mr-1"}),"Healing Kit Active"]})]})]})})};function NL({firstName:e,onStartChat:t,onClose:r}){const n=()=>{t(),r()};return o.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:r,children:o.jsx(W,{className:"w-full max-w-md mx-auto shadow-2xl border-2 border-primary/20",onClick:s=>s.stopPropagation(),children:o.jsxs(Y,{className:"p-8 text-center space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:["Welcome, ",e,"! "]}),o.jsx("p",{className:"text-muted-foreground text-lg",children:"We're here to support your growth and healing."})]}),o.jsxs(H,{onClick:n,className:"w-full h-12 text-lg font-semibold",size:"lg",children:[o.jsx(ku,{className:"w-5 h-5 mr-2"}),"Start Chatting with Your Coach "]})]})})})}var dh="rovingFocusGroup.onEntryFocus",SL={bubbles:!1,cancelable:!0},dl="RovingFocusGroup",[zf,MN,_L]=Nu(dl),[EL,Ia]=$t(dl,[_L]),[CL,kL]=EL(dl),LN=f.forwardRef((e,t)=>o.jsx(zf.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(zf.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(PL,{...e,ref:t})})}));LN.displayName=dl;var PL=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,m=f.useRef(null),y=xe(t,m),b=Ra(a),[g,w]=_n({prop:i,defaultProp:l??null,onChange:c,caller:dl}),[p,v]=f.useState(!1),x=Je(u),j=MN(r),N=f.useRef(!1),[S,_]=f.useState(0);return f.useEffect(()=>{const E=m.current;if(E)return E.addEventListener(dh,x),()=>E.removeEventListener(dh,x)},[x]),o.jsx(CL,{scope:r,orientation:n,dir:b,loop:s,currentTabStopId:g,onItemFocus:f.useCallback(E=>w(E),[w]),onItemShiftTab:f.useCallback(()=>v(!0),[]),onFocusableItemAdd:f.useCallback(()=>_(E=>E+1),[]),onFocusableItemRemove:f.useCallback(()=>_(E=>E-1),[]),children:o.jsx(ae.div,{tabIndex:p||S===0?-1:0,"data-orientation":n,...h,ref:y,style:{outline:"none",...e.style},onMouseDown:Q(e.onMouseDown,()=>{N.current=!0}),onFocus:Q(e.onFocus,E=>{const I=!N.current;if(E.target===E.currentTarget&&I&&!p){const k=new CustomEvent(dh,SL);if(E.currentTarget.dispatchEvent(k),!k.defaultPrevented){const z=j().filter(D=>D.focusable),A=z.find(D=>D.active),L=z.find(D=>D.id===g),B=[A,L,...z].filter(Boolean).map(D=>D.ref.current);FN(B,d)}}N.current=!1}),onBlur:Q(e.onBlur,()=>v(!1))})})}),$N="RovingFocusGroupItem",UN=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,children:i,...l}=e,c=en(),u=a||c,d=kL($N,r),h=d.currentTabStopId===u,m=MN(r),{onFocusableItemAdd:y,onFocusableItemRemove:b,currentTabStopId:g}=d;return f.useEffect(()=>{if(n)return y(),()=>b()},[n,y,b]),o.jsx(zf.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:o.jsx(ae.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Q(e.onMouseDown,w=>{n?d.onItemFocus(u):w.preventDefault()}),onFocus:Q(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Q(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const p=IL(w,d.orientation,d.dir);if(p!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let x=m().filter(j=>j.focusable).map(j=>j.ref.current);if(p==="last")x.reverse();else if(p==="prev"||p==="next"){p==="prev"&&x.reverse();const j=x.indexOf(w.currentTarget);x=d.loop?AL(x,j+1):x.slice(j+1)}setTimeout(()=>FN(x))}}),children:typeof i=="function"?i({isCurrentTabStop:h,hasTabStop:g!=null}):i})})});UN.displayName=$N;var RL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function TL(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function IL(e,t,r){const n=TL(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return RL[n]}function FN(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function AL(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Up=LN,Fp=UN,ed="Tabs",[OL]=$t(ed,[Ia]),zN=Ia(),[DL,zp]=OL(ed),HN=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Ra(l),[h,m]=_n({prop:n,onChange:s,defaultProp:a??"",caller:ed});return o.jsx(DL,{scope:r,baseId:en(),value:h,onValueChange:m,orientation:i,dir:d,activationMode:c,children:o.jsx(ae.div,{dir:d,"data-orientation":i,...u,ref:t})})});HN.displayName=ed;var BN="TabsList",WN=f.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,a=zp(BN,r),i=zN(r);return o.jsx(Up,{asChild:!0,...i,orientation:a.orientation,dir:a.dir,loop:n,children:o.jsx(ae.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});WN.displayName=BN;var VN="TabsTrigger",qN=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=e,i=zp(VN,r),l=zN(r),c=YN(i.baseId,n),u=QN(i.baseId,n),d=n===i.value;return o.jsx(Fp,{asChild:!0,...l,focusable:!s,active:d,children:o.jsx(ae.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:Q(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?i.onValueChange(n):h.preventDefault()}),onKeyDown:Q(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&i.onValueChange(n)}),onFocus:Q(e.onFocus,()=>{const h=i.activationMode!=="manual";!d&&!s&&h&&i.onValueChange(n)})})})});qN.displayName=VN;var GN="TabsContent",KN=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...i}=e,l=zp(GN,r),c=YN(l.baseId,n),u=QN(l.baseId,n),d=n===l.value,h=f.useRef(d);return f.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),o.jsx(wt,{present:s||d,children:({present:m})=>o.jsx(ae.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:m&&a})})});KN.displayName=GN;function YN(e,t){return`${e}-trigger-${t}`}function QN(e,t){return`${e}-content-${t}`}var ML=HN,JN=WN,XN=qN,ZN=KN;const Hp=ML,td=f.forwardRef(({className:e,...t},r)=>o.jsx(JN,{ref:r,className:ie("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));td.displayName=JN.displayName;const yn=f.forwardRef(({className:e,...t},r)=>o.jsx(XN,{ref:r,className:ie("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-gradient-to-r data-[state=active]:from-primary data-[state=active]:to-primary-glow data-[state=active]:text-primary-foreground data-[state=active]:shadow-md",e),...t}));yn.displayName=XN.displayName;const vn=f.forwardRef(({className:e,...t},r)=>o.jsx(ZN,{ref:r,className:ie("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));vn.displayName=ZN.displayName;var Hf=["Enter"," "],LL=["ArrowDown","PageUp","Home"],e1=["ArrowUp","PageDown","End"],$L=[...LL,...e1],UL={ltr:[...Hf,"ArrowRight"],rtl:[...Hf,"ArrowLeft"]},FL={ltr:["ArrowLeft"],rtl:["ArrowRight"]},hl="Menu",[qi,zL,HL]=Nu(hl),[co,t1]=$t(hl,[HL,_a,Ia]),rd=_a(),r1=Ia(),[BL,uo]=co(hl),[WL,fl]=co(hl),n1=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:a,modal:i=!0}=e,l=rd(t),[c,u]=f.useState(null),d=f.useRef(!1),h=Je(a),m=Ra(s);return f.useEffect(()=>{const y=()=>{d.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>d.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),o.jsx(Rb,{...l,children:o.jsx(BL,{scope:t,open:r,onOpenChange:h,content:c,onContentChange:u,children:o.jsx(WL,{scope:t,onClose:f.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:m,modal:i,children:n})})})};n1.displayName=hl;var VL="MenuAnchor",Bp=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=rd(r);return o.jsx(ip,{...s,...n,ref:t})});Bp.displayName=VL;var Wp="MenuPortal",[qL,s1]=co(Wp,{forceMount:void 0}),o1=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,a=uo(Wp,t);return o.jsx(qL,{scope:t,forceMount:r,children:o.jsx(wt,{present:r||a.open,children:o.jsx(rl,{asChild:!0,container:s,children:n})})})};o1.displayName=Wp;var pr="MenuContent",[GL,Vp]=co(pr),a1=f.forwardRef((e,t)=>{const r=s1(pr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=uo(pr,e.__scopeMenu),i=fl(pr,e.__scopeMenu);return o.jsx(qi.Provider,{scope:e.__scopeMenu,children:o.jsx(wt,{present:n||a.open,children:o.jsx(qi.Slot,{scope:e.__scopeMenu,children:i.modal?o.jsx(KL,{...s,ref:t}):o.jsx(YL,{...s,ref:t})})})})}),KL=f.forwardRef((e,t)=>{const r=uo(pr,e.__scopeMenu),n=f.useRef(null),s=xe(t,n);return f.useEffect(()=>{const a=n.current;if(a)return Ip(a)},[]),o.jsx(qp,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Q(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),YL=f.forwardRef((e,t)=>{const r=uo(pr,e.__scopeMenu);return o.jsx(qp,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),QL=Js("MenuContent.ScrollLock"),qp=f.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,onDismiss:y,disableOutsideScroll:b,...g}=e,w=uo(pr,r),p=fl(pr,r),v=rd(r),x=r1(r),j=zL(r),[N,S]=f.useState(null),_=f.useRef(null),E=xe(t,_,w.onContentChange),I=f.useRef(0),k=f.useRef(""),z=f.useRef(0),A=f.useRef(null),L=f.useRef("right"),R=f.useRef(0),B=b?Ju:f.Fragment,D=b?{as:QL,allowPinchZoom:!0}:void 0,O=P=>{var T,G;const U=k.current+P,$=j().filter(te=>!te.disabled),V=document.activeElement,M=(T=$.find(te=>te.ref.current===V))==null?void 0:T.textValue,X=$.map(te=>te.textValue),oe=l5(X,U,M),ue=(G=$.find(te=>te.textValue===oe))==null?void 0:G.ref.current;(function te(le){k.current=le,window.clearTimeout(I.current),le!==""&&(I.current=window.setTimeout(()=>te(""),1e3))})(U),ue&&setTimeout(()=>ue.focus())};f.useEffect(()=>()=>window.clearTimeout(I.current),[]),Tp();const C=f.useCallback(P=>{var $,V;return L.current===(($=A.current)==null?void 0:$.side)&&u5(P,(V=A.current)==null?void 0:V.area)},[]);return o.jsx(GL,{scope:r,searchRef:k,onItemEnter:f.useCallback(P=>{C(P)&&P.preventDefault()},[C]),onItemLeave:f.useCallback(P=>{var U;C(P)||((U=_.current)==null||U.focus(),S(null))},[C]),onTriggerLeave:f.useCallback(P=>{C(P)&&P.preventDefault()},[C]),pointerGraceTimerRef:z,onPointerGraceIntentChange:f.useCallback(P=>{A.current=P},[]),children:o.jsx(B,{...D,children:o.jsx(Yu,{asChild:!0,trapped:s,onMountAutoFocus:Q(a,P=>{var U;P.preventDefault(),(U=_.current)==null||U.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:o.jsx(ba,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,onDismiss:y,children:o.jsx(Up,{asChild:!0,...x,dir:p.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:S,onEntryFocus:Q(c,P=>{p.isUsingKeyboardRef.current||P.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(lp,{role:"menu","aria-orientation":"vertical","data-state":j1(w.open),"data-radix-menu-content":"",dir:p.dir,...v,...g,ref:E,style:{outline:"none",...g.style},onKeyDown:Q(g.onKeyDown,P=>{const $=P.target.closest("[data-radix-menu-content]")===P.currentTarget,V=P.ctrlKey||P.altKey||P.metaKey,M=P.key.length===1;$&&(P.key==="Tab"&&P.preventDefault(),!V&&M&&O(P.key));const X=_.current;if(P.target!==X||!$L.includes(P.key))return;P.preventDefault();const ue=j().filter(T=>!T.disabled).map(T=>T.ref.current);e1.includes(P.key)&&ue.reverse(),a5(ue)}),onBlur:Q(e.onBlur,P=>{P.currentTarget.contains(P.target)||(window.clearTimeout(I.current),k.current="")}),onPointerMove:Q(e.onPointerMove,Gi(P=>{const U=P.target,$=R.current!==P.clientX;if(P.currentTarget.contains(U)&&$){const V=P.clientX>R.current?"right":"left";L.current=V,R.current=P.clientX}}))})})})})})})});a1.displayName=pr;var JL="MenuGroup",Gp=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(ae.div,{role:"group",...n,ref:t})});Gp.displayName=JL;var XL="MenuLabel",i1=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(ae.div,{...n,ref:t})});i1.displayName=XL;var ru="MenuItem",Vv="menu.itemSelect",nd=f.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,a=f.useRef(null),i=fl(ru,e.__scopeMenu),l=Vp(ru,e.__scopeMenu),c=xe(t,a),u=f.useRef(!1),d=()=>{const h=a.current;if(!r&&h){const m=new CustomEvent(Vv,{bubbles:!0,cancelable:!0});h.addEventListener(Vv,y=>n==null?void 0:n(y),{once:!0}),Gm(h,m),m.defaultPrevented?u.current=!1:i.onClose()}};return o.jsx(l1,{...s,ref:c,disabled:r,onClick:Q(e.onClick,d),onPointerDown:h=>{var m;(m=e.onPointerDown)==null||m.call(e,h),u.current=!0},onPointerUp:Q(e.onPointerUp,h=>{var m;u.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:Q(e.onKeyDown,h=>{const m=l.searchRef.current!=="";r||m&&h.key===" "||Hf.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});nd.displayName=ru;var l1=f.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...a}=e,i=Vp(ru,r),l=r1(r),c=f.useRef(null),u=xe(t,c),[d,h]=f.useState(!1),[m,y]=f.useState("");return f.useEffect(()=>{const b=c.current;b&&y((b.textContent??"").trim())},[a.children]),o.jsx(qi.ItemSlot,{scope:r,disabled:n,textValue:s??m,children:o.jsx(Fp,{asChild:!0,...l,focusable:!n,children:o.jsx(ae.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:Q(e.onPointerMove,Gi(b=>{n?i.onItemLeave(b):(i.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Q(e.onPointerLeave,Gi(b=>i.onItemLeave(b))),onFocus:Q(e.onFocus,()=>h(!0)),onBlur:Q(e.onBlur,()=>h(!1))})})})}),ZL="MenuCheckboxItem",c1=f.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return o.jsx(m1,{scope:e.__scopeMenu,checked:r,children:o.jsx(nd,{role:"menuitemcheckbox","aria-checked":nu(r)?"mixed":r,...s,ref:t,"data-state":Yp(r),onSelect:Q(s.onSelect,()=>n==null?void 0:n(nu(r)?!0:!r),{checkForDefaultPrevented:!1})})})});c1.displayName=ZL;var u1="MenuRadioGroup",[e5,t5]=co(u1,{value:void 0,onValueChange:()=>{}}),d1=f.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,a=Je(n);return o.jsx(e5,{scope:e.__scopeMenu,value:r,onValueChange:a,children:o.jsx(Gp,{...s,ref:t})})});d1.displayName=u1;var h1="MenuRadioItem",f1=f.forwardRef((e,t)=>{const{value:r,...n}=e,s=t5(h1,e.__scopeMenu),a=r===s.value;return o.jsx(m1,{scope:e.__scopeMenu,checked:a,children:o.jsx(nd,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":Yp(a),onSelect:Q(n.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,r)},{checkForDefaultPrevented:!1})})})});f1.displayName=h1;var Kp="MenuItemIndicator",[m1,r5]=co(Kp,{checked:!1}),p1=f.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,a=r5(Kp,r);return o.jsx(wt,{present:n||nu(a.checked)||a.checked===!0,children:o.jsx(ae.span,{...s,ref:t,"data-state":Yp(a.checked)})})});p1.displayName=Kp;var n5="MenuSeparator",g1=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(ae.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});g1.displayName=n5;var s5="MenuArrow",y1=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=rd(r);return o.jsx(cp,{...s,...n,ref:t})});y1.displayName=s5;var o5="MenuSub",[Q$,v1]=co(o5),ti="MenuSubTrigger",x1=f.forwardRef((e,t)=>{const r=uo(ti,e.__scopeMenu),n=fl(ti,e.__scopeMenu),s=v1(ti,e.__scopeMenu),a=Vp(ti,e.__scopeMenu),i=f.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=f.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return f.useEffect(()=>d,[d]),f.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),o.jsx(Bp,{asChild:!0,...u,children:o.jsx(l1,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":j1(r.open),...e,ref:ju(t,s.onTriggerChange),onClick:h=>{var m;(m=e.onClick)==null||m.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Q(e.onPointerMove,Gi(h=>{a.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(a.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Q(e.onPointerLeave,Gi(h=>{var y,b;d();const m=(y=r.content)==null?void 0:y.getBoundingClientRect();if(m){const g=(b=r.content)==null?void 0:b.dataset.side,w=g==="right",p=w?-5:5,v=m[w?"left":"right"],x=m[w?"right":"left"];a.onPointerGraceIntentChange({area:[{x:h.clientX+p,y:h.clientY},{x:v,y:m.top},{x,y:m.top},{x,y:m.bottom},{x:v,y:m.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(h),h.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Q(e.onKeyDown,h=>{var y;const m=a.searchRef.current!=="";e.disabled||m&&h.key===" "||UL[n.dir].includes(h.key)&&(r.onOpenChange(!0),(y=r.content)==null||y.focus(),h.preventDefault())})})})});x1.displayName=ti;var w1="MenuSubContent",b1=f.forwardRef((e,t)=>{const r=s1(pr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=uo(pr,e.__scopeMenu),i=fl(pr,e.__scopeMenu),l=v1(w1,e.__scopeMenu),c=f.useRef(null),u=xe(t,c);return o.jsx(qi.Provider,{scope:e.__scopeMenu,children:o.jsx(wt,{present:n||a.open,children:o.jsx(qi.Slot,{scope:e.__scopeMenu,children:o.jsx(qp,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;i.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Q(e.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Q(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:Q(e.onKeyDown,d=>{var y;const h=d.currentTarget.contains(d.target),m=FL[i.dir].includes(d.key);h&&m&&(a.onOpenChange(!1),(y=l.trigger)==null||y.focus(),d.preventDefault())})})})})})});b1.displayName=w1;function j1(e){return e?"open":"closed"}function nu(e){return e==="indeterminate"}function Yp(e){return nu(e)?"indeterminate":e?"checked":"unchecked"}function a5(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function i5(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function l5(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=i5(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function c5(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a],c=t[i],u=l.x,d=l.y,h=c.x,m=c.y;d>n!=m>n&&r<(h-u)*(n-d)/(m-d)+u&&(s=!s)}return s}function u5(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return c5(r,t)}function Gi(e){return t=>t.pointerType==="mouse"?e(t):void 0}var d5=n1,h5=Bp,f5=o1,m5=a1,p5=Gp,g5=i1,y5=nd,v5=c1,x5=d1,w5=f1,b5=p1,j5=g1,N5=y1,S5=x1,_5=b1,sd="DropdownMenu",[E5]=$t(sd,[t1]),Ut=t1(),[C5,N1]=E5(sd),S1=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:a,onOpenChange:i,modal:l=!0}=e,c=Ut(t),u=f.useRef(null),[d,h]=_n({prop:s,defaultProp:a??!1,onChange:i,caller:sd});return o.jsx(C5,{scope:t,triggerId:en(),triggerRef:u,contentId:en(),open:d,onOpenChange:h,onOpenToggle:f.useCallback(()=>h(m=>!m),[h]),modal:l,children:o.jsx(d5,{...c,open:d,onOpenChange:h,dir:n,modal:l,children:r})})};S1.displayName=sd;var _1="DropdownMenuTrigger",E1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,a=N1(_1,r),i=Ut(r);return o.jsx(h5,{asChild:!0,...i,children:o.jsx(ae.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:ju(t,a.triggerRef),onPointerDown:Q(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:Q(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});E1.displayName=_1;var k5="DropdownMenuPortal",C1=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Ut(t);return o.jsx(f5,{...n,...r})};C1.displayName=k5;var k1="DropdownMenuContent",P1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=N1(k1,r),a=Ut(r),i=f.useRef(!1);return o.jsx(m5,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...n,ref:t,onCloseAutoFocus:Q(e.onCloseAutoFocus,l=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:Q(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});P1.displayName=k1;var P5="DropdownMenuGroup",R5=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ut(r);return o.jsx(p5,{...s,...n,ref:t})});R5.displayName=P5;var T5="DropdownMenuLabel",R1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ut(r);return o.jsx(g5,{...s,...n,ref:t})});R1.displayName=T5;var I5="DropdownMenuItem",T1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ut(r);return o.jsx(y5,{...s,...n,ref:t})});T1.displayName=I5;var A5="DropdownMenuCheckboxItem",I1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ut(r);return o.jsx(v5,{...s,...n,ref:t})});I1.displayName=A5;var O5="DropdownMenuRadioGroup",D5=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ut(r);return o.jsx(x5,{...s,...n,ref:t})});D5.displayName=O5;var M5="DropdownMenuRadioItem",A1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ut(r);return o.jsx(w5,{...s,...n,ref:t})});A1.displayName=M5;var L5="DropdownMenuItemIndicator",O1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ut(r);return o.jsx(b5,{...s,...n,ref:t})});O1.displayName=L5;var $5="DropdownMenuSeparator",D1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ut(r);return o.jsx(j5,{...s,...n,ref:t})});D1.displayName=$5;var U5="DropdownMenuArrow",F5=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ut(r);return o.jsx(N5,{...s,...n,ref:t})});F5.displayName=U5;var z5="DropdownMenuSubTrigger",M1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ut(r);return o.jsx(S5,{...s,...n,ref:t})});M1.displayName=z5;var H5="DropdownMenuSubContent",L1=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ut(r);return o.jsx(_5,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});L1.displayName=H5;var B5=S1,W5=E1,V5=C1,$1=P1,U1=R1,F1=T1,z1=I1,H1=A1,B1=O1,W1=D1,V1=M1,q1=L1;const q5=B5,G5=W5,K5=f.forwardRef(({className:e,inset:t,children:r,...n},s)=>o.jsxs(V1,{ref:s,className:ie("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,o.jsx(Eu,{className:"ml-auto h-4 w-4"})]}));K5.displayName=V1.displayName;const Y5=f.forwardRef(({className:e,...t},r)=>o.jsx(q1,{ref:r,className:ie("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Y5.displayName=q1.displayName;const G1=f.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(V5,{children:o.jsx($1,{ref:n,sideOffset:t,className:ie("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));G1.displayName=$1.displayName;const mc=f.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(F1,{ref:n,className:ie("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));mc.displayName=F1.displayName;const Q5=f.forwardRef(({className:e,children:t,checked:r,...n},s)=>o.jsxs(z1,{ref:s,className:ie("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(B1,{children:o.jsx(fr,{className:"h-4 w-4"})})}),t]}));Q5.displayName=z1.displayName;const J5=f.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(H1,{ref:n,className:ie("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(B1,{children:o.jsx(Cu,{className:"h-2 w-2 fill-current"})})}),t]}));J5.displayName=H1.displayName;const X5=f.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(U1,{ref:n,className:ie("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));X5.displayName=U1.displayName;const K1=f.forwardRef(({className:e,...t},r)=>o.jsx(W1,{ref:r,className:ie("-mx-1 my-1 h-px bg-muted",e),...t}));K1.displayName=W1.displayName;const Ga={flirty:{name:"Luna Love",personality:"flirty",greetings:["Hi {firstName}! Ready to turn heads today? ","Hey {firstName}, feeling that spark yet? Let's bring it out! ","Hi {firstName}! You've got main character energy and I'm here for it.","Hello {firstName}, let's add a little confidence magic to your day."],icon:pe,color:"from-pink-400 to-rose-500"},therapist:{name:"Dr. Sage",personality:"therapist",greetings:["Hi {firstName}, I'm here to help you understand yourself better.","Hello {firstName}. Let's take a moment to pause and reflect together.","Hi {firstName}, what's been on your mind lately? I'm listening.","Hi {firstName}. You've taken the first step just by showing up and that matters."],icon:Yr,color:"from-purple-400 to-indigo-500"},"tough-love":{name:"Phoenix Fire",personality:"tough-love",greetings:["Hey {firstName}! I'm Phoenix, your no BS mentor for self transformation. Ready to light things up? ","Hi {firstName}, I'm here to help you set boundaries, own your power, and make real change.","Hello {firstName}! Time for some straight talk. Let's cut through the noise and get you feeling strong again.","Hey {firstName}, growth takes courage and you already have what it takes."],icon:Ai,color:"from-orange-400 to-red-500"},chill:{name:"River Calm",personality:"chill",greetings:["Hello {firstName}, I'm River. Take a deep breath and let's find your calm together.","Hi {firstName}. I'm here to offer you a peaceful space to reflect and release what's been heavy.","Hey {firstName}, take a moment to pause and reconnect. Let's find your balance again.","Hi {firstName}. You've arrived in a safe and gentle space. What's been flowing through your mind today?"],icon:Q0,color:"from-emerald-400 to-teal-500"}},Z5=()=>{var w,p,v,x,j;const[e,t]=f.useState("therapist"),[r,n]=f.useState(()=>new URLSearchParams(window.location.search).get("tab")||"home"),[s,a]=f.useState(!1),{isPremium:i,hasHealingKit:l,user:c,signOut:u}=Oe(),d=at(),h=ar();f.useEffect(()=>{const S=new URLSearchParams(h.search).get("tab")||"home";n(S)},[h.search]),f.useEffect(()=>{r!=="home"&&window.scrollTo({top:0,behavior:"smooth"})},[r]),f.useEffect(()=>{c&&r!=="home"&&(localStorage.getItem(`welcomeShown_${c.id}`)||a(!0))},[c,r]);const m=()=>{n("chat")},y=()=>{n("chat")},b=()=>{a(!1),c&&localStorage.setItem(`welcomeShown_${c.id}`,"true")},g=()=>{var S,_;if(!c)return"";if((S=c.user_metadata)!=null&&S.full_name){const I=c.user_metadata.full_name.split(" ")[0];return I.charAt(0).toUpperCase()+I.slice(1).toLowerCase()}const N=((_=c.email)==null?void 0:_.split("@")[0])||"";return N.charAt(0).toUpperCase()+N.slice(1).toLowerCase()};return r==="home"?o.jsxs("div",{className:"min-h-screen",children:[o.jsx(OD,{onGetStarted:m}),o.jsx(Wv,{backTo:"home"})]}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-muted/30 to-secondary/30",children:[s&&o.jsx(NL,{firstName:g(),onStartChat:y,onClose:b}),o.jsxs("div",{className:"container mx-auto px-3 sm:px-4 py-4 sm:py-8",style:{paddingTop:"calc(env(safe-area-inset-top, 20px) + 2rem)"},children:[o.jsx("div",{className:"mt-8",children:o.jsx(jL,{})}),c&&o.jsx("div",{className:"mb-8 mt-8 text-center",children:o.jsxs("p",{className:"text-lg sm:text-xl text-foreground",children:["Welcome back, ",o.jsx("span",{className:"font-semibold bg-gradient-to-r from-primary to-primary-glow bg-clip-text text-transparent",children:g()}),"!",o.jsx("span",{className:"block sm:inline sm:ml-1 text-muted-foreground",children:"Your coaches are here to support you today"})]})}),(i||l)&&o.jsxs("div",{className:"flex justify-center gap-2 mb-6",children:[i&&o.jsx(Gc,{to:"/advanced-tools",children:o.jsxs(H,{variant:"outline",className:"flex items-center gap-2",children:[o.jsx(Ue,{className:"w-4 h-4"}),"Advanced Tools"]})}),l&&o.jsx(Gc,{to:"/healing-kit",children:o.jsxs(H,{variant:"outline",className:"flex items-center gap-2 hover:shadow-md transition-all",children:[o.jsx(pe,{className:"w-4 h-4 text-primary animate-heart-pulse"}),"Healing Kit"]})})]}),o.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-8",children:[o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[o.jsx("div",{className:"p-1.5 sm:p-2 rounded-full bg-gradient-to-r from-primary to-primary-glow",children:o.jsx(pe,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary-foreground"})}),o.jsxs("h1",{className:"text-xl sm:text-2xl font-bold",children:["Heart",o.jsx("span",{className:"bg-gradient-to-r from-primary via-primary to-primary bg-clip-text text-transparent font-black",children:"Lift"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(H,{variant:"gentle",size:"sm",onClick:()=>n("home"),className:"text-xs sm:text-sm min-h-[44px] px-4",children:[o.jsx("span",{className:"hidden sm:inline",children:" Home"}),o.jsx("span",{className:"sm:hidden",children:"Home"})]}),c&&o.jsxs(q5,{children:[o.jsx(G5,{asChild:!0,children:o.jsxs(H,{variant:"outline",size:"sm",className:"flex items-center gap-2 min-h-[44px]",children:[o.jsx(Fc,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Account"})]})}),o.jsxs(G1,{align:"end",children:[o.jsx(mc,{disabled:!0,className:"opacity-60",children:c.email}),o.jsx(K1,{}),o.jsxs(mc,{onClick:()=>d("/subscription-management"),className:"cursor-pointer",children:[o.jsx(Fc,{className:"w-4 h-4 mr-2"}),"Manage Account"]}),o.jsxs(mc,{onClick:u,className:"text-red-600 cursor-pointer",children:[o.jsx(aP,{className:"w-4 h-4 mr-2"}),"Sign out"]})]})]})]})]}),o.jsxs(Hp,{value:r,onValueChange:n,className:"space-y-4 sm:space-y-6",children:[o.jsxs(td,{className:"grid w-full max-w-xs sm:max-w-md mx-auto grid-cols-4 h-14 sm:h-10 sticky top-0 z-10 backdrop-blur-sm",children:[o.jsxs(yn,{value:"chat",className:"flex flex-col sm:flex-row items-center justify-center sm:space-x-1 p-2 min-h-[44px]",children:[o.jsx(ku,{className:"w-4 h-4 sm:w-4 sm:h-4"}),o.jsx("span",{className:"text-xs sm:text-sm mt-1 sm:mt-0 sm:hidden lg:inline",children:"Chat"})]}),o.jsxs(yn,{value:"mood",className:"flex flex-col sm:flex-row items-center justify-center sm:space-x-1 p-2 min-h-[44px]",children:[o.jsx(fa,{className:"w-4 h-4 sm:w-4 sm:h-4"}),o.jsx("span",{className:"text-xs sm:text-sm mt-1 sm:mt-0 sm:hidden lg:inline",children:"Mood"})]}),o.jsxs(yn,{value:"coaches",className:"flex flex-col sm:flex-row items-center justify-center sm:space-x-1 p-2 min-h-[44px]",children:[o.jsx(pe,{className:"w-4 h-4 sm:w-4 sm:h-4"}),o.jsx("span",{className:"text-xs sm:text-sm mt-1 sm:mt-0 sm:hidden lg:inline",children:"Coaches"})]}),o.jsxs(yn,{value:"pricing",className:"flex flex-col sm:flex-row items-center justify-center sm:space-x-1 p-2 min-h-[44px]",children:[o.jsx(J0,{className:"w-4 h-4 sm:w-4 sm:h-4"}),o.jsx("span",{className:"text-xs sm:text-sm mt-1 sm:mt-0 sm:hidden lg:inline",children:"Plans"})]})]}),o.jsxs(vn,{value:"chat",className:"space-y-4 sm:space-y-6",children:[o.jsxs("div",{className:"text-center space-y-3 mb-6",children:[o.jsx("h2",{className:"text-3xl font-bold text-foreground",children:" Chat with Your Coaches"}),o.jsx("p",{className:"text-muted-foreground text-lg",children:"Your coaches are here anytime to guide and support you"})]}),o.jsxs("div",{className:"max-w-4xl mx-auto space-y-4 lg:space-y-0 lg:grid lg:grid-cols-3 lg:gap-6",children:[o.jsx("div",{className:"lg:col-span-1 lg:order-1",children:o.jsx(Cv,{onSelectCoach:t,selectedCoach:e,compact:!0})}),o.jsx("div",{className:"lg:col-span-2 lg:order-2",children:o.jsx(xL,{coachName:((w=Ga[e])==null?void 0:w.name)||"Dr. Sage",coachPersonality:((p=Ga[e])==null?void 0:p.personality)||"therapist",coachGreetings:(v=Ga[e])==null?void 0:v.greetings,coachIcon:((x=Ga[e])==null?void 0:x.icon)||Yr,coachColor:((j=Ga[e])==null?void 0:j.color)||"from-purple-400 to-indigo-500"},e)})]})]}),o.jsx(vn,{value:"mood",className:"space-y-6",children:o.jsx("div",{className:"max-w-2xl mx-auto",children:o.jsx(wL,{})})}),o.jsxs(vn,{value:"coaches",className:"space-y-6",children:[o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsx(Cv,{onSelectCoach:t,selectedCoach:e})}),o.jsxs("div",{className:"flex flex-col items-center justify-center pt-12 pb-8 space-y-2",children:[o.jsx("p",{className:"text-muted-foreground text-center",children:"All coaches provide personalised emotional support"}),o.jsxs("p",{className:"text-muted-foreground text-sm",children:["Need help? Contact us at"," ",o.jsx("a",{href:"mailto:support@heart-lift.com",className:"text-primary hover:text-primary/80 underline transition-colors",children:"support@heart-lift.com"})]})]})]}),o.jsx(vn,{value:"pricing",className:"space-y-6",children:o.jsx(Wv,{backTo:"coaches"})})]})]})]})};var e3="Label",Y1=f.forwardRef((e,t)=>o.jsx(ae.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Y1.displayName=e3;var Q1=Y1;const t3=sl("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),tt=f.forwardRef(({className:e,...t},r)=>o.jsx(Q1,{ref:r,className:ie(t3(),e),...t}));tt.displayName=Q1.displayName;function Qp(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var od="Checkbox",[r3]=$t(od),[n3,Jp]=r3(od);function s3(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:a,form:i,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:h}=e,[m,y]=_n({prop:r,defaultProp:s??!1,onChange:c,caller:od}),[b,g]=f.useState(null),[w,p]=f.useState(null),v=f.useRef(!1),x=b?!!i||!!b.closest("form"):!0,j={checked:m,disabled:a,setChecked:y,control:b,setControl:g,name:l,form:i,value:d,hasConsumerStoppedPropagationRef:v,required:u,defaultChecked:us(s)?!1:s,isFormControl:x,bubbleInput:w,setBubbleInput:p};return o.jsx(n3,{scope:t,...j,children:o3(h)?h(j):n})}var J1="CheckboxTrigger",X1=f.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:a,value:i,disabled:l,checked:c,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:m,isFormControl:y,bubbleInput:b}=Jp(J1,e),g=xe(s,d),w=f.useRef(c);return f.useEffect(()=>{const p=a==null?void 0:a.form;if(p){const v=()=>h(w.current);return p.addEventListener("reset",v),()=>p.removeEventListener("reset",v)}},[a,h]),o.jsx(ae.button,{type:"button",role:"checkbox","aria-checked":us(c)?"mixed":c,"aria-required":u,"data-state":nS(c),"data-disabled":l?"":void 0,disabled:l,value:i,...n,ref:g,onKeyDown:Q(t,p=>{p.key==="Enter"&&p.preventDefault()}),onClick:Q(r,p=>{h(v=>us(v)?!0:!v),b&&y&&(m.current=p.isPropagationStopped(),m.current||p.stopPropagation())})})});X1.displayName=J1;var Xp=f.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:a,required:i,disabled:l,value:c,onCheckedChange:u,form:d,...h}=e;return o.jsx(s3,{__scopeCheckbox:r,checked:s,defaultChecked:a,disabled:l,required:i,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:m})=>o.jsxs(o.Fragment,{children:[o.jsx(X1,{...h,ref:t,__scopeCheckbox:r}),m&&o.jsx(rS,{__scopeCheckbox:r})]})})});Xp.displayName=od;var Z1="CheckboxIndicator",eS=f.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,a=Jp(Z1,r);return o.jsx(wt,{present:n||us(a.checked)||a.checked===!0,children:o.jsx(ae.span,{"data-state":nS(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});eS.displayName=Z1;var tS="CheckboxBubbleInput",rS=f.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:a,defaultChecked:i,required:l,disabled:c,name:u,value:d,form:h,bubbleInput:m,setBubbleInput:y}=Jp(tS,e),b=xe(r,y),g=Qp(a),w=sp(n);f.useEffect(()=>{const v=m;if(!v)return;const x=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(x,"checked").set,S=!s.current;if(g!==a&&N){const _=new Event("click",{bubbles:S});v.indeterminate=us(a),N.call(v,us(a)?!1:a),v.dispatchEvent(_)}},[m,g,a,s]);const p=f.useRef(us(a)?!1:a);return o.jsx(ae.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??p.current,required:l,disabled:c,name:u,value:d,form:h,...t,tabIndex:-1,ref:b,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});rS.displayName=tS;function o3(e){return typeof e=="function"}function us(e){return e==="indeterminate"}function nS(e){return us(e)?"indeterminate":e?"checked":"unchecked"}const sS=f.forwardRef(({className:e,...t},r)=>o.jsx(Xp,{ref:r,className:ie("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:o.jsx(eS,{className:ie("flex items-center justify-center text-current"),children:o.jsx(fr,{className:"h-4 w-4"})})}));sS.displayName=Xp.displayName;const a3=()=>{const[e,t]=f.useState(!1),[r,n]=f.useState({fullName:"",email:"",password:""}),[s,a]=f.useState(!1),[i,l]=f.useState({email:"",password:""}),[c,u]=f.useState(""),[d,h]=f.useState(!1),{signIn:m,signUp:y}=Oe(),{toast:b}=Lt(),g=at(),w=async x=>{if(x.preventDefault(),!s){b({title:"Agreement required",description:"You must agree to the Terms of Service and Privacy Policy to continue.",variant:"destructive"});return}t(!0);const{error:j}=await y(r.email,r.password,r.fullName);j?b({title:"Sign up failed",description:j.message,variant:"destructive"}):(b({title:"Check your email!",description:"We've sent you a 6-digit verification code to complete your registration."}),g(`/verify-email?email=${encodeURIComponent(r.email)}`)),t(!1)},p=async x=>{x.preventDefault(),t(!0);try{const{error:j}=await m(i.email,i.password);j?(console.error("[Auth] Sign in error:",j),b({title:"Sign in failed",description:j.message||"Unable to sign in. Please check your email and password.",variant:"destructive"})):(b({title:"Welcome back!",description:"You're now signed in to HeartLift."}),g("/"))}catch(j){console.error("[Auth] Unexpected sign in error:",j),b({title:"Sign in error",description:"An unexpected error occurred. Please try again or contact support if the issue persists.",variant:"destructive"})}finally{t(!1)}},v=async x=>{x.preventDefault(),t(!0);try{const{error:j}=await J.auth.resetPasswordForEmail(c,{redirectTo:`${window.location.origin}/password-reset`});j?b({title:"Reset failed",description:j.message,variant:"destructive"}):(b({title:"Reset code sent!",description:"Check your email for a 6-digit verification code."}),h(!1),u(""),setTimeout(()=>g(`/password-reset?email=${encodeURIComponent(c)}`),1e3))}catch{b({title:"Something went wrong",description:"Please try again later.",variant:"destructive"})}t(!1)};return o.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-16 bg-gradient-to-br from-background via-muted to-secondary",children:o.jsxs("div",{className:"w-full max-w-md space-y-6",children:[o.jsxs(H,{variant:"gentle",onClick:()=>g("/"),className:"mb-4 min-h-[44px]",children:[o.jsx($r,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"p-3 rounded-full bg-gradient-to-r from-primary to-primary-glow shadow-warm",children:o.jsx(pe,{className:"w-6 h-6 text-primary-foreground"})})}),o.jsxs("h1",{className:"text-3xl font-bold text-foreground",children:["Join Heart",o.jsx("span",{className:"bg-gradient-to-r from-primary to-primary-glow bg-clip-text text-transparent",children:"Lift"})]}),o.jsx("p",{className:"text-muted-foreground",children:"Start your healing journey today"})]}),o.jsxs(Hp,{defaultValue:"signup",className:"w-full",children:[o.jsxs(td,{className:"grid w-full grid-cols-2",children:[o.jsx(yn,{value:"signup",children:"Sign Up"}),o.jsx(yn,{value:"signin",children:"Sign In"})]}),o.jsx(vn,{value:"signup",className:"space-y-4",children:o.jsxs(W,{className:"shadow-gentle",children:[o.jsxs(Z,{children:[o.jsx(ee,{children:"Create your account"}),o.jsx(qe,{children:"Start your journey to emotional wellness"})]}),o.jsx(Y,{children:o.jsxs("form",{onSubmit:w,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(tt,{htmlFor:"fullName",children:"Full Name"}),o.jsx(ut,{id:"fullName",type:"text",placeholder:"Enter your full name",value:r.fullName,onChange:x=>n(j=>({...j,fullName:x.target.value})),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(tt,{htmlFor:"email",children:"Email"}),o.jsx(ut,{id:"email",type:"email",placeholder:"Enter your email",value:r.email,onChange:x=>n(j=>({...j,email:x.target.value})),required:!0,className:"text-base",autoComplete:"email",autoCapitalize:"none",autoCorrect:"off"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(tt,{htmlFor:"password",children:"Password"}),o.jsx(ut,{id:"password",type:"password",placeholder:"Create a password",value:r.password,onChange:x=>n(j=>({...j,password:x.target.value})),required:!0,minLength:6,className:"text-base",autoComplete:"new-password"})]}),o.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-muted/50 rounded-lg",children:[o.jsx(sS,{id:"terms-agreement",checked:s,onCheckedChange:x=>a(x),className:"mt-1"}),o.jsxs(tt,{htmlFor:"terms-agreement",className:"text-sm leading-relaxed cursor-pointer",children:["I agree to the"," ",o.jsx(Gc,{to:"/terms-of-service",className:"text-primary hover:underline font-medium",children:"Terms of Service"})," ","and"," ",o.jsx(Gc,{to:"/privacy-policy",className:"text-primary hover:underline font-medium",children:"Privacy Policy"})]})]}),o.jsx(H,{type:"submit",variant:"warm",className:"w-full min-h-[44px]",disabled:e||!s,children:e?"Creating Account...":"Start My Healing Journey"})]})})]})}),o.jsx(vn,{value:"signin",className:"space-y-4",children:o.jsxs(W,{className:"shadow-gentle",children:[o.jsxs(Z,{children:[o.jsx(ee,{children:"Welcome back"}),o.jsx(qe,{children:"Continue your healing journey"})]}),o.jsx(Y,{children:o.jsxs("form",{onSubmit:p,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(tt,{htmlFor:"signin-email",children:"Email"}),o.jsx(ut,{id:"signin-email",type:"email",placeholder:"Enter your email",value:i.email,onChange:x=>l(j=>({...j,email:x.target.value})),required:!0,className:"text-base",autoComplete:"email",autoCapitalize:"none",autoCorrect:"off"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(tt,{htmlFor:"signin-password",children:"Password"}),o.jsx(ut,{id:"signin-password",type:"password",placeholder:"Enter your password",value:i.password,onChange:x=>l(j=>({...j,password:x.target.value})),required:!0,className:"text-base",autoComplete:"current-password"})]}),o.jsx(H,{type:"submit",variant:"warm",className:"w-full min-h-[44px]",disabled:e,children:e?"Signing In...":"Continue Healing"}),o.jsx("div",{className:"text-center",children:o.jsx(H,{type:"button",variant:"ghost",size:"sm",onClick:()=>h(!0),className:"text-sm text-muted-foreground hover:text-primary",children:"Forgot your password?"})})]})})]})})]}),d&&o.jsxs(W,{className:"shadow-gentle",children:[o.jsxs(Z,{children:[o.jsx(ee,{children:"Reset Your Password"}),o.jsx(qe,{children:"Enter your email and we'll send you a verification code"})]}),o.jsx(Y,{children:o.jsxs("form",{onSubmit:v,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(tt,{htmlFor:"forgot-email",children:"Email"}),o.jsx(ut,{id:"forgot-email",type:"email",placeholder:"Enter your email",value:c,onChange:x=>u(x.target.value),required:!0})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(H,{type:"submit",variant:"warm",className:"flex-1",disabled:e,children:e?"Sending...":"Send Code"}),o.jsx(H,{type:"button",variant:"outline",onClick:()=>{h(!1),u("")},children:"Cancel"})]})]})})]}),o.jsx("div",{className:"text-center text-sm text-muted-foreground",children:o.jsx("p",{children:"Free to start  Premium features from 11.99/month"})})]})})},i3=()=>{const e=at(),{user:t,checkSubscription:r}=Oe(),{toast:n}=Lt();Uu();const[s,a]=f.useState(!0);f.useEffect(()=>{(async()=>{if(t)try{await r(),n({title:"Premium Activated! ",description:"Your subscription is now active. Enjoy unlimited conversations!"})}catch(c){console.error("Error checking subscription:",c)}finally{a(!1)}})()},[t,n,r]);const i=[" Unlimited AI conversations with all coaches"," Personalised coaching and text suggestions"," Advanced tools and healing plans"," Text helpers & conversation analyser"];return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-primary-glow/5 flex items-center justify-center p-4",children:o.jsxs(W,{className:"max-w-2xl w-full shadow-warm",children:[o.jsxs(Z,{className:"text-center space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx(Ue,{className:"w-8 h-8 text-yellow-500"}),o.jsx(ee,{className:"text-3xl font-bold",children:"Welcome to Premium!"})]}),o.jsx("p",{className:"text-muted-foreground text-lg",children:s?"Setting up your premium account...":"Your subscription is now active and ready to use!"})]}),o.jsxs(Y,{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-primary-glow/10 rounded-lg p-6",children:[o.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[o.jsx(fr,{className:"w-5 h-5 text-green-500"}),"You now have access to:"]}),o.jsx("div",{className:"grid gap-3",children:i.map((l,c)=>o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(fr,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),o.jsx("span",{className:"text-sm",children:l})]},c))})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(H,{onClick:()=>e("/"),className:"flex-1",variant:"outline",children:[o.jsx(rP,{className:"w-4 h-4 mr-2"}),"Go Home"]}),o.jsxs(H,{onClick:()=>e("/"),className:"flex-1",variant:"warm",children:[o.jsx(rn,{className:"w-4 h-4 mr-2"}),"Start Chatting"]})]}),o.jsx("div",{className:"text-center text-sm text-muted-foreground",children:o.jsx("p",{children:"You can manage your subscription anytime from your account settings."})})]})]})})},l3=()=>{var l;const e=at(),r=(l=ar().state)==null?void 0:l.from,{user:n}=Oe(),[s,a]=f.useState(!1);f.useEffect(()=>{if(!n){e("/auth");return}},[n,e]);const i=f.useMemo(()=>["Unlimited AI coach conversations","Guided Programmes","Personalised insights & reports","Daily attachment style quiz with AI analysis","Conversation analyser with AI insights","Text suggestion helper for all scenarios","Create personalised AI-generated visuals","Priority support"],[]);return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-secondary/30 to-accent/30 p-4",children:o.jsxs("div",{className:"max-w-2xl mx-auto pt-8",children:[o.jsxs(H,{variant:"ghost",onClick:()=>{e(r==="home"?"/":"/?tab=coaches")},className:"mb-6 hover:bg-secondary/20",children:[o.jsx($r,{className:"w-4 h-4 mr-2"}),r==="home"?"Back to Home":"Back to Coaches"]}),o.jsxs(W,{className:"relative overflow-hidden border-2 border-primary/20 bg-gradient-to-br from-background to-primary/5",children:[o.jsxs("div",{className:"absolute top-0 right-0 bg-gradient-to-r from-primary to-primary-glow text-primary-foreground px-4 py-2 text-sm font-medium rounded-bl-lg",children:[o.jsx(ha,{className:"w-4 h-4 inline mr-1"}),"Most Popular"]}),o.jsxs(Z,{className:"text-center pb-6 pt-8",children:[o.jsx("div",{className:"mx-auto p-4 rounded-full bg-gradient-to-r from-primary/10 to-primary-glow/10 w-fit mb-4",children:o.jsx(ht,{className:"w-8 h-8 text-primary"})}),o.jsx(ee,{className:"text-3xl font-bold",children:"Premium Subscription"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-baseline justify-center space-x-1",children:[o.jsx("span",{className:"text-4xl font-bold text-foreground",children:"11.99"}),o.jsx("span",{className:"text-lg text-muted-foreground",children:"/month"})]}),o.jsx(Se,{variant:"secondary",className:"bg-primary/10 text-primary",children:"Cancel anytime"})]}),o.jsx(qe,{className:"text-center text-lg",children:"Unlimited support for your relationship growth"})]}),o.jsxs(Y,{className:"space-y-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h3",{className:"text-xl font-semibold flex items-center gap-2",children:[o.jsx(Ue,{className:"w-5 h-5 text-primary"}),"What's Included"]}),o.jsx("ul",{className:"space-y-3",children:i.map((c,u)=>o.jsxs("li",{className:"flex items-start space-x-2 sm:space-x-3",children:[o.jsx(fr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary mt-0.5 flex-shrink-0"}),o.jsx("span",{className:"text-sm sm:text-base text-foreground leading-relaxed",children:c})]},u))})]}),o.jsxs("div",{className:"border-t pt-6 space-y-4",children:[o.jsxs(H,{onClick:async()=>{a(!0);try{Ne.loading("Opening purchase...");const c=await Vi.buyPremium();c.success?(Ne.success("Welcome to Premium! "),setTimeout(()=>{e(r==="home"?"/":"/?tab=coaches")},1500)):Ne.error(c.error||"Purchase failed. Please try again.")}catch(c){console.error("Purchase error:",c),Ne.error((c==null?void 0:c.message)||"Unable to complete purchase")}finally{a(!1)}},disabled:s,className:"w-full h-14 text-lg bg-gradient-to-r from-primary to-primary-glow hover:opacity-90 transition-opacity",children:[o.jsx(Ue,{className:"w-5 h-5 mr-2"}),s?"Processing...":"Go Premium - 11.99/month"]}),o.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Cancel anytime in your Apple settings. Subscription auto-renews monthly."})]})]})]})]})})},c3=()=>{var l;const e=at(),r=(l=ar().state)==null?void 0:l.from,{user:n}=Oe(),[s,a]=f.useState(!1);f.useEffect(()=>{if(!n){e("/auth");return}},[n,e]);const i=f.useMemo(()=>[{icon:yt,title:"30-Day Healing Plan",description:"Daily content, prompts, and challenges to guide your recovery"},{icon:dr,title:"Visualisation Practices",description:"Step-by-step mental imagery exercises for healing and growth"},{icon:ht,title:"Daily Affirmations",description:"Powerful affirmations to rebuild your self-worth"},{icon:It,title:"No-Contact Tracker",description:"Track your progress and maintain healthy boundaries"},{icon:Bk,title:"Journal Prompts",description:"15 deep-dive prompts for self-discovery and healing"}],[]);return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-secondary/30 to-accent/30 p-4",children:o.jsxs("div",{className:"max-w-2xl mx-auto pt-8",children:[o.jsxs(H,{variant:"ghost",onClick:()=>{e(r==="home"?"/":"/?tab=coaches")},className:"mb-6 hover:bg-secondary/20",children:[o.jsx($r,{className:"w-4 h-4 mr-2"}),r==="home"?"Back to Home":"Back to Coaches"]}),o.jsxs(W,{className:"relative overflow-hidden border-2 border-primary/20 bg-gradient-to-br from-background to-primary/5",children:[o.jsx("div",{className:"absolute top-4 right-4",children:o.jsx(Se,{variant:"secondary",className:"bg-primary/10 text-primary font-semibold",children:"One-time Purchase"})}),o.jsxs(Z,{className:"text-center pb-6",children:[o.jsx("div",{className:"mx-auto p-4 rounded-full bg-gradient-to-r from-primary/10 to-primary-glow/10 w-fit mb-4",children:o.jsx(pe,{className:"w-8 h-8 text-primary"})}),o.jsx(ee,{className:"text-3xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"Healing Kit"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"flex items-baseline justify-center space-x-1",children:o.jsx("span",{className:"text-4xl font-bold text-foreground",children:"4.99"})}),o.jsx(Se,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Lifetime Access"})]}),o.jsx(qe,{className:"text-center text-lg",children:"Complete break-up recovery package"})]}),o.jsxs(Y,{className:"space-y-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-xl font-semibold",children:"What's Included"}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:i.map((c,u)=>o.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-lg bg-secondary/20 border border-secondary/30",children:[o.jsx(c.icon,{className:"w-6 h-6 text-primary mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-base",children:c.title}),o.jsx("p",{className:"text-sm text-muted-foreground",children:c.description})]})]},u))})]}),o.jsxs("div",{className:"border-t pt-6 space-y-4",children:[o.jsxs(H,{onClick:async()=>{a(!0);try{Ne.loading("Opening purchase...");const c=await Vi.buyHealingKit();c.success?(Ne.success("Healing Kit unlocked! "),setTimeout(()=>{e("/healing-kit")},1500)):Ne.error(c.error||"Purchase failed. Please try again.")}catch(c){console.error("Purchase error:",c),Ne.error((c==null?void 0:c.message)||"Unable to complete purchase")}finally{a(!1)}},disabled:s,className:"w-full h-14 text-lg bg-gradient-to-r from-primary to-primary-glow hover:opacity-90 transition-opacity",children:[o.jsx(pe,{className:"w-5 h-5 mr-2"}),s?"Processing...":"Get Healing Kit - 4.99"]}),o.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"One-time purchase. Lifetime access included."})]})]})]})]})})},u3=()=>{const[e,t]=f.useState(null),[r,n]=f.useState(!0),[s,a]=f.useState(!1),[i,l]=f.useState(""),[c,u]=f.useState(""),[d,h]=f.useState(""),[m,y]=f.useState(!1),[b,g]=f.useState(!1),[w,p]=f.useState(!1),{isPremium:v,subscriptionStatus:x,checkSubscription:j,user:N}=Oe(),{toast:S}=Lt(),_=at(),E=ar();f.useEffect(()=>{v?I():n(!1)},[v]);const I=async()=>{var B;try{const{data:D,error:O}=await J.from("subscribers").select("*").eq("user_id",(B=(await J.auth.getUser()).data.user)==null?void 0:B.id).single();if(O)throw O;t(D)}catch(D){console.error("Error fetching subscription data:",D)}finally{n(!1)}},k=async()=>{var B;a(!0);try{const D=/iPhone|iPad|iPod/.test(navigator.userAgent),O=window.location.protocol==="capacitor:"||window.location.protocol==="ionic:";if(D||O)window.open("https://apps.apple.com/account/subscriptions","_blank"),S({title:"Apple Subscription Management",description:"Opening Apple's subscription settings where you can manage or cancel your subscription."});else{const{data:C,error:P}=await J.functions.invoke("customer-portal",{headers:{Authorization:`Bearer ${(B=(await J.auth.getSession()).data.session)==null?void 0:B.access_token}`}});if(P)throw P;C!=null&&C.url&&window.open(C.url,"_blank")}}catch(D){console.error("Error opening subscription management:",D),S({title:"Subscription Management",description:"To manage your Apple subscription, go to: Settings > [Your Name] > Subscriptions on your iPhone/iPad."})}finally{a(!1)}},z=async()=>{p(!0);try{S({title:"Restoring Purchases",description:"Checking for previous purchases..."});const B=await Vi.restorePurchases();B.hasPremium||B.hasHealingKit?(await j(),S({title:" Purchases Restored!",description:`Successfully restored: ${B.hasPremium?"Premium Subscription":""} ${B.hasHealingKit?"Healing Kit":""}`.trim()}),window.location.reload()):S({title:"No Purchases Found",description:"We couldn't find any previous purchases linked to your account.",variant:"default"})}catch(B){console.error("Restore error:",B),S({title:"Restore Failed",description:"Could not restore purchases. Please try again or contact support if the issue persists.",variant:"destructive"})}finally{p(!1)}},A=async()=>{if(!i){S({title:"Error",description:"Please enter your current password",variant:"destructive"});return}if(c!==d){S({title:"Error",description:"Passwords do not match",variant:"destructive"});return}if(c.length<6){S({title:"Error",description:"Password must be at least 6 characters long",variant:"destructive"});return}g(!0);try{const{error:B}=await J.auth.signInWithPassword({email:(N==null?void 0:N.email)||"",password:i});if(B){S({title:"Error",description:"Current password is incorrect",variant:"destructive"}),g(!1);return}const{error:D}=await J.auth.updateUser({password:c});if(D)throw D;S({title:"Password Updated",description:"Your password has been successfully changed."}),l(""),u(""),h("")}catch(B){S({title:"Error",description:B.message||"Failed to update password",variant:"destructive"})}finally{g(!1)}};if(r)return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 p-4",children:o.jsx("div",{className:"container mx-auto max-w-4xl pt-8",children:o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-6"}),o.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})})});const L=()=>v?e?o.jsxs(W,{className:"mb-6",children:[o.jsx(Z,{children:o.jsxs(ee,{className:"flex items-center gap-2",children:[o.jsx(Ue,{className:"w-6 h-6 text-yellow-600"}),"Subscription Management"]})}),o.jsxs(Y,{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:o.jsx(Ue,{className:"w-6 h-6 text-yellow-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"Premium Plan"}),o.jsx(Se,{variant:"outline",className:"bg-green-100 text-green-800 border-green-200",children:"Active"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(yt,{className:"w-4 h-4 text-gray-500"}),o.jsxs("span",{children:["Started: ",R(e.premium_start_date||e.created_at)]})]}),e.subscription_end&&o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(yt,{className:"w-4 h-4 text-gray-500"}),o.jsxs("span",{children:["Next billing: ",R(e.subscription_end)]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(J0,{className:"w-4 h-4 text-gray-500"}),o.jsxs("span",{children:["Status: ",e.payment_status]})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"font-medium",children:"Premium Benefits"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),o.jsx("span",{children:" Unlimited conversations"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),o.jsx("span",{children:" Personalised coaching"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),o.jsx("span",{children:" Advanced tools"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),o.jsx("span",{children:" Guided Programmes"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),o.jsx("span",{children:" Text helpers & conversation analyser"})]})]})]})]}),o.jsxs("div",{className:"border-t pt-6",children:[o.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-4",children:[o.jsx("h4",{className:"font-medium text-amber-800 mb-2",children:"Cancellation Policy"}),o.jsx("p",{className:"text-sm text-amber-700 mb-2",children:"You can cancel your subscription at any time. Your access will continue until the end of your current billing period. No refunds are provided for partial periods."}),o.jsx("p",{className:"text-sm text-amber-700 font-medium",children:"For iOS: Manage your subscription through Apple Settings  [Your Name]  Subscriptions"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[o.jsxs(H,{variant:"outline",onClick:k,disabled:s,className:"w-full sm:flex-1",children:[o.jsx(Pu,{className:"w-4 h-4 mr-2"}),s?"Opening...":"Manage Subscription"]}),o.jsxs(H,{variant:"outline",onClick:z,disabled:w,className:"w-full sm:flex-1",children:[o.jsx(Zs,{className:`w-4 h-4 mr-2 ${w?"animate-spin":""}`}),w?"Restoring...":"Restore Purchases"]})]})]})]})]}):o.jsx(W,{className:"mb-6",children:o.jsx(Y,{className:"p-8 text-center",children:o.jsx("p",{children:"Loading subscription data..."})})}):o.jsxs(W,{className:"mb-6",children:[o.jsx(Z,{children:o.jsxs(ee,{className:"flex items-center gap-2",children:[o.jsx(Ue,{className:"w-6 h-6 text-gray-500"}),"Account Management"]})}),o.jsxs(Y,{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center",children:o.jsx(Ue,{className:"w-6 h-6 text-gray-500"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"Free Plan"}),o.jsx(Se,{variant:"outline",className:"bg-blue-100 text-blue-800 border-blue-200",children:"Active"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h4",{className:"font-medium",children:"Current Benefits"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),o.jsx("span",{children:"10 messages per day"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),o.jsx("span",{children:"Basic coaching support"})]})]})]}),o.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-secondary/5 border border-primary/20 rounded-lg p-4",children:[o.jsx("h4",{className:"font-medium text-primary mb-2",children:"Upgrade to Premium"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Get unlimited conversations, advanced tools, and personalised coaching"}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs(H,{onClick:()=>_("/premium-purchase",{state:{from:E.pathname+E.search}}),className:"w-full",children:[o.jsx(Ue,{className:"w-4 h-4 mr-2"}),"Upgrade Now"]}),o.jsxs(H,{variant:"outline",onClick:z,disabled:w,className:"w-full",children:[o.jsx(Zs,{className:`w-4 h-4 mr-2 ${w?"animate-spin":""}`}),w?"Restoring...":"Restore Purchases"]})]})]})]})]}),R=B=>new Date(B).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-4xl pt-8",children:[o.jsxs(H,{variant:"ghost",onClick:()=>_("/?tab=coaches"),className:"mb-6",children:[o.jsx($r,{className:"w-4 h-4 mr-2"}),"Back to Coaches"]}),L(),o.jsxs(W,{className:"mb-6",children:[o.jsx(Z,{children:o.jsxs(ee,{className:"flex items-center gap-2",children:[o.jsx(nP,{className:"w-5 h-5 text-primary"}),"Account Security"]})}),o.jsxs(Y,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"font-medium",children:"Change Password"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(tt,{htmlFor:"current-password",children:"Current Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(ut,{id:"current-password",type:m?"text":"password",value:i,onChange:B=>l(B.target.value),placeholder:"Enter current password"}),o.jsx(H,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>y(!m),children:m?o.jsx(Jk,{className:"h-4 w-4"}):o.jsx(Za,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(tt,{htmlFor:"new-password",children:"New Password"}),o.jsx(ut,{id:"new-password",type:m?"text":"password",value:c,onChange:B=>u(B.target.value),placeholder:"Enter new password"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(tt,{htmlFor:"confirm-password",children:"Confirm Password"}),o.jsx(ut,{id:"confirm-password",type:m?"text":"password",value:d,onChange:B=>h(B.target.value),placeholder:"Confirm new password"})]})]})]}),o.jsx(H,{onClick:A,disabled:!i||!c||!d||b,className:"w-full md:w-auto",children:b?"Updating...":"Update Password"})]}),o.jsxs("div",{className:"border-t pt-6 space-y-4",children:[o.jsx("h4",{className:"font-medium",children:"Change Email Address"}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(iP,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),o.jsx("div",{children:o.jsxs("p",{className:"text-sm text-blue-900",children:["If you would like to change your email address, please email"," ",o.jsx("a",{href:"mailto:support@heart-lift.com",className:"font-medium underline hover:text-blue-700",children:"support@heart-lift.com"})," ","and we will make the change for you."]})})]})})]})]})]})]})})},d3=({activeSection:e,onSectionChange:t})=>{const r=[{id:"plan",label:"Healing Plan",icon:It},{id:"affirmations",label:"Daily Affirmations",icon:pe},{id:"visualisations",label:"Visualisation Practices",icon:dr},{id:"tracker",label:"No Contact Tracker",icon:yt},{id:"journal",label:"Journal Prompts",icon:X0}];return o.jsx(W,{className:"p-4 mb-6",children:o.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(n=>o.jsxs(H,{variant:e===n.id?"default":"outline",onClick:()=>t(n.id),className:"flex items-center gap-2",children:[o.jsx(n.icon,{className:"w-4 h-4"}),n.label]},n.id))})})},qv=()=>{const[e,t]=f.useState([]),[r,n]=f.useState({current_day:1,completed_days:[]}),[s,a]=f.useState(!0),[i,l]=f.useState(null),{toast:c}=Lt(),{user:u}=Oe();f.useEffect(()=>{u&&(d(),h())},[u]);const d=async()=>{try{const{data:g,error:w}=await J.from("healing_plan_days").select("*").order("day_number");if(w)throw w;t(g||[]),(!g||g.length===0)&&await y()}catch(g){c({title:"Error loading healing plan",description:g.message,variant:"destructive"})}},h=async()=>{try{const{data:g,error:w}=await J.from("user_healing_progress").select("current_day, completed_days").eq("user_id",u==null?void 0:u.id).single();if(w&&w.code!=="PGRST116")throw w;g&&n(g)}catch(g){console.error("Error fetching progress:",g)}finally{a(!1)}},m=async g=>{if(u)try{const w=[...r.completed_days,g],p=Math.min(g+1,30),{error:v}=await J.from("user_healing_progress").upsert({user_id:u.id,current_day:p,completed_days:w},{onConflict:"user_id"});if(v)throw v;n({current_day:p,completed_days:w}),c({title:"Day completed! ",description:`Great job completing Day ${g}. Keep up the amazing work!`})}catch(w){c({title:"Error updating progress",description:w.message,variant:"destructive"})}},y=async()=>{console.log("Creating default healing plan...")},b=r.completed_days.length/30*100;return s?o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"animate-pulse space-y-4",children:[o.jsx("div",{className:"h-8 bg-secondary rounded w-1/3"}),o.jsx("div",{className:"h-4 bg-secondary rounded w-full"}),o.jsx("div",{className:"h-32 bg-secondary rounded"})]})}):i?o.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[o.jsx(H,{variant:"outline",onClick:()=>l(null),className:"mr-4",children:" Back to Plan"}),o.jsxs(Se,{variant:"secondary",children:["Day ",i.day_number]})]}),o.jsxs(W,{className:"border-2 border-primary/20",children:[o.jsx(Z,{children:o.jsx(ee,{className:"text-2xl bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:i.title})}),o.jsxs(Y,{className:"space-y-6",children:[o.jsx("div",{className:"prose prose-sm max-w-none",children:o.jsx("p",{className:"text-muted-foreground leading-relaxed",children:i.content})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs(W,{className:"bg-secondary/20 border-secondary/30",children:[o.jsx(Z,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(rn,{className:"w-4 h-4 text-primary"}),o.jsx(ee,{className:"text-sm",children:"Today's Prompt"})]})}),o.jsx(Y,{children:o.jsx("p",{className:"text-sm text-muted-foreground",children:i.prompt})})]}),o.jsxs(W,{className:"bg-secondary/20 border-secondary/30",children:[o.jsx(Z,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(It,{className:"w-4 h-4 text-primary"}),o.jsx(ee,{className:"text-sm",children:"Daily Challenge"})]})}),o.jsx(Y,{children:o.jsx("p",{className:"text-sm text-muted-foreground",children:i.challenge})})]}),o.jsxs(W,{className:"bg-secondary/20 border-secondary/30",children:[o.jsx(Z,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ts,{className:"w-4 h-4 text-primary"}),o.jsx(ee,{className:"text-sm",children:"Mindset Reframe"})]})}),o.jsx(Y,{children:o.jsxs("p",{className:"text-sm text-muted-foreground italic",children:['"',i.mindset_reframe,'"']})})]}),o.jsxs(W,{className:"bg-secondary/20 border-secondary/30",children:[o.jsx(Z,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(pe,{className:"w-4 h-4 text-primary"}),o.jsx(ee,{className:"text-sm",children:"Action Item"})]})}),o.jsx(Y,{children:o.jsx("p",{className:"text-sm text-muted-foreground",children:i.action_item})})]})]}),!r.completed_days.includes(i.day_number)&&o.jsx("div",{className:"flex justify-center pt-4",children:o.jsx(H,{onClick:()=>m(i.day_number),className:"bg-gradient-to-r from-primary to-secondary hover:from-primary/90 hover:to-secondary/90 text-white font-semibold px-8",children:"Mark Day Complete"})})]})]})]}):o.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent mb-2",children:"30-Day Healing Plan"}),o.jsx("p",{className:"text-muted-foreground",children:"Your personalised journey from heartbreak to healing"})]}),o.jsx(W,{className:"border-2 border-primary/20 bg-gradient-to-r from-primary/5 to-secondary/5",children:o.jsxs(Y,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"Your Progress"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.completed_days.length," of 30 days completed"]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-2xl font-bold text-primary",children:[Math.round(b),"%"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Complete"})]})]}),o.jsx(Ta,{value:b,className:"h-3"})]})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(g=>{const w=r.completed_days.includes(g.day_number),p=g.day_number===r.current_day,v=g.day_number<=r.current_day;return o.jsxs(W,{className:`cursor-pointer transition-all duration-200 ${w?"border-green-500/50 bg-green-50/50":p?"border-primary/50 bg-primary/5":v?"border-secondary/30 hover:border-primary/30 hover:bg-primary/5":"border-muted/50 bg-muted/20 opacity-60"}`,onClick:()=>v&&l(g),children:[o.jsxs(Z,{className:"pb-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Se,{variant:w?"default":p?"secondary":"outline",children:["Day ",g.day_number]}),w?o.jsx(Xs,{className:"w-5 h-5 text-green-600"}):o.jsx(Cu,{className:"w-5 h-5 text-muted-foreground"})]}),o.jsx(ee,{className:"text-lg",children:g.title})]}),o.jsx(Y,{children:o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-3",children:g.content})})]},g.id)})})]})},h3=()=>{const[e,t]=f.useState(""),[r,n]=f.useState(!0),s=async()=>{n(!0);try{const{data:a,error:i}=await J.from("daily_affirmations").select("text").order("created_at",{ascending:!1});if(i)throw i;if(a&&a.length>0){const l=Math.floor(Math.random()*a.length);t(a[l].text)}}catch{t("I am strong, worthy, and deserving of love.")}finally{n(!1)}};return f.useEffect(()=>{s()},[]),o.jsx(W,{className:"bg-gradient-to-br from-primary/10 to-secondary/10 border-primary/20",children:o.jsxs(Y,{className:"p-8 text-center",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx(ht,{className:"w-8 h-8 text-primary mx-auto mb-3"}),o.jsx("h2",{className:"text-xl font-semibold",children:"Daily Affirmation"})]}),r?o.jsx("div",{className:"animate-pulse h-16 bg-secondary/30 rounded"}):o.jsxs("blockquote",{className:"text-lg text-muted-foreground italic mb-6 leading-relaxed",children:['"',e,'"']}),o.jsxs(H,{variant:"outline",onClick:s,disabled:r,className:"gap-2",children:[o.jsx(Zs,{className:"w-4 h-4"}),"New Affirmation"]})]})})},f3=()=>{const[e,t]=f.useState([]),[r,n]=f.useState([]),[s,a]=f.useState(null),[i,l]=f.useState(!1),[c,u]=f.useState(""),[d,h]=f.useState(!0),[m,y]=f.useState(!1),[b,g]=f.useState(!1),w=f.useRef(null),{toast:p}=Lt(),{user:v}=Oe();f.useEffect(()=>{x(),v&&j()},[v]);const x=async()=>{try{const{data:A,error:L}=await J.from("visualisation_exercises").select("*").order("category",{ascending:!0}).order("variation_number",{ascending:!0});if(L)throw L;t(A||[])}catch(A){p({title:"Error loading exercises",description:A.message,variant:"destructive"})}finally{h(!1)}},j=async()=>{if(v)try{const{data:A,error:L}=await J.from("user_visualisation_progress").select("*").eq("user_id",v.id);if(L)throw L;n(A||[])}catch(A){console.error("Error fetching progress:",A)}},N=async(A,L)=>{if(v)try{const{error:R}=await J.from("user_visualisation_progress").insert({user_id:v.id,exercise_id:A,reflection_notes:L||null,completed_at:new Date().toISOString()});if(R)throw R;await j(),p({title:"Exercise completed!",description:"Great job on your visualization practice."})}catch(R){p({title:"Error saving progress",description:R.message,variant:"destructive"})}},S=A=>{const L={safe_space:{name:"Safe Space",color:"bg-blue-100 text-blue-800",icon:pe,description:"Create your sanctuary of peace and safety"},future_self:{name:"Future Self",color:"bg-green-100 text-green-800",icon:ht,description:"Envision your best possible future"},releasing_emotions:{name:"Emotional Release",color:"bg-purple-100 text-purple-800",icon:Za,description:"Gently release negative emotions"}};return L[A]||L.safe_space},_=A=>r.some(L=>L.exercise_id===A),E=A=>{a(A),l(!1),u("")},I=async()=>{s&&(await N(s.id,c),a(null),l(!1),u(""))},k=async()=>{if(!s)return;if(m){w.current&&(w.current.pause(),w.current=null),y(!1);return}const A=s.steps.join(". ");g(!0);try{const R=await fetch("https://heartlift-launch.emergent.host/api/ai/text-to-speech",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:A,voice:"shimmer"})});if(!R.ok)throw new Error(`Failed to generate audio: ${R.statusText}`);const B=await R.json();if(B.audio){const D=new Audio(`data:audio/mp3;base64,${B.audio}`);w.current=D,D.onplay=()=>{y(!0),g(!1)},D.onended=()=>{y(!1),w.current=null},D.onerror=()=>{y(!1),w.current=null,g(!1),p({title:"Audio Error",description:"Failed to play audio",variant:"destructive"})},await D.play()}}catch(L){console.error("Error playing audio:",L),g(!1),p({title:"Error",description:L instanceof Error?L.message:"Failed to generate audio guide",variant:"destructive"})}};if(d)return o.jsx("div",{className:"max-w-4xl mx-auto p-6",children:o.jsxs("div",{className:"animate-pulse space-y-4",children:[o.jsx("div",{className:"h-8 bg-secondary rounded w-1/3"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[1,2,3,4].map(A=>o.jsx("div",{className:"h-32 bg-secondary rounded"},A))})]})});const z=e.reduce((A,L)=>(A[L.category]||(A[L.category]=[]),A[L.category].push(L),A),{});return o.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent mb-2",children:"Visualisation Practices"}),o.jsx("p",{className:"text-muted-foreground",children:"Transform your mindset through the power of guided mental imagery"})]}),Object.entries(z).map(([A,L])=>{const R=S(A),B=R.icon;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(B,{className:"w-6 h-6 text-primary"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-foreground",children:R.name}),o.jsx("p",{className:"text-sm text-muted-foreground",children:R.description})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:L.map(D=>{const O=_(D.id);return o.jsxs(W,{className:`border-2 transition-all duration-200 cursor-pointer hover:shadow-md ${O?"border-green-200 bg-green-50/50":"border-secondary/30 hover:border-primary/30"}`,children:[o.jsx(Z,{className:"pb-3",children:o.jsx("div",{className:"flex items-start justify-between",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Za,{className:"w-4 h-4 text-primary"}),o.jsx(ee,{className:"text-lg",children:D.title}),O&&o.jsx(Xs,{className:"w-4 h-4 text-green-600"})]}),o.jsxs(Se,{variant:"secondary",className:`${R.color} text-xs`,children:[R.name," #",D.variation_number]})]})})}),o.jsxs(Y,{className:"space-y-4",children:[o.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:D.description}),o.jsx("div",{className:"flex items-center justify-between pt-2",children:o.jsxs(H,{onClick:()=>E(D),className:"flex items-center gap-2",variant:O?"outline":"default",children:[o.jsx(Za,{className:"w-4 h-4"}),O?"Practice Again":"Begin Practice",o.jsx(Hk,{className:"w-4 h-4"})]})})]})]},D.id)})})]},A)}),o.jsx(Zu,{open:!!s,onOpenChange:()=>a(null),children:o.jsxs(ll,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[o.jsx(cl,{children:o.jsxs(ul,{className:"flex items-center gap-2",children:[o.jsx(Za,{className:"w-5 h-5 text-primary"}),s==null?void 0:s.title]})}),s&&!i&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Full Practice"}),o.jsx(Se,{variant:"outline",children:S(s.category).name})]}),o.jsx("div",{className:"bg-primary/5 rounded-lg p-6 border border-primary/20",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"flex-1",children:o.jsx("p",{className:"text-foreground leading-relaxed whitespace-pre-line",children:s.steps.join(`

`)})}),o.jsx(H,{variant:"outline",size:"sm",onClick:k,disabled:b,className:"shrink-0",children:b?o.jsx("div",{className:"w-4 h-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}):m?o.jsx(vP,{className:"w-4 h-4"}):o.jsx(yP,{className:"w-4 h-4"})})]})}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx(H,{variant:"outline",onClick:()=>a(null),children:"Close"}),o.jsxs(H,{onClick:()=>l(!0),className:"flex items-center gap-2",children:["Complete Practice",o.jsx(Eu,{className:"w-4 h-4"})]})]})]}),s&&i&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Reflection Time"}),o.jsx("p",{className:"text-muted-foreground",children:"Take a moment to reflect on your visualization experience"})]}),o.jsx("div",{className:"space-y-4",children:s.reflection_prompts.map((A,L)=>o.jsx("div",{className:"bg-secondary/20 rounded-lg p-4",children:o.jsxs("p",{className:"font-medium mb-2",children:[" ",A]})},L))}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Your reflections (optional):"}),o.jsx(kn,{value:c,onChange:A=>u(A.target.value),placeholder:"Write down any insights, feelings, or thoughts that came up during your practice...",rows:4})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx(H,{variant:"outline",onClick:()=>l(!1),children:"Back to Exercise"}),o.jsxs(H,{onClick:I,className:"flex items-center gap-2",children:[o.jsx(X0,{className:"w-4 h-4"}),"Complete Practice"]})]})]})]})}),o.jsx(W,{className:"bg-gradient-to-r from-primary/5 to-secondary/5 border-primary/20",children:o.jsxs(Y,{className:"p-6 text-center",children:[o.jsx(ht,{className:"w-8 h-8 text-primary mx-auto mb-3"}),o.jsx("h3",{className:"font-semibold mb-2",children:"Visualization Best Practices"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Find a comfortable, quiet space. Close your eyes and allow your imagination to flow naturally. There's no right or wrong way to visualize - trust your mind's unique way of creating imagery."})]})})]})},m3=()=>{const[e,t]=f.useState(0),[r,n]=f.useState(""),{user:s}=Oe(),{toast:a}=Lt();f.useEffect(()=>{s&&(i(),l())},[s]);const i=async()=>{try{const{data:d,error:h}=await J.from("user_healing_progress").select("no_contact_start_date, no_contact_streak_days, last_contact_date").eq("user_id",s==null?void 0:s.id).single();if(h&&h.code!=="PGRST116")throw h;d&&(t(d.no_contact_streak_days||0),n(d.no_contact_start_date||""))}catch(d){console.error("Error fetching progress:",d)}},l=async()=>{if(s)try{const{data:d,error:h}=await J.from("user_healing_progress").select("no_contact_start_date, last_contact_date").eq("user_id",s.id).single();if(h&&h.code!=="PGRST116")return;if(d!=null&&d.no_contact_start_date&&!d.last_contact_date){const m=new Date(d.no_contact_start_date),b=Math.floor((new Date().getTime()-m.getTime())/(1e3*60*60*24));b!==e&&(await J.from("user_healing_progress").update({no_contact_streak_days:b}).eq("user_id",s.id),t(b))}}catch(d){console.error("Error calculating streak:",d)}},c=async()=>{if(s)try{const d=new Date().toISOString().split("T")[0],{error:h}=await J.from("user_healing_progress").upsert({user_id:s.id,no_contact_start_date:d,no_contact_streak_days:1,last_contact_date:null},{onConflict:"user_id"});if(h)throw h;n(d),t(1),a({title:"No Contact Started! ",description:"You've taken the first brave step. We're here to support you!"})}catch(d){a({title:"Error",description:d.message,variant:"destructive"})}},u=async()=>{try{const{error:d}=await J.from("user_healing_progress").upsert({user_id:s==null?void 0:s.id,no_contact_streak_days:0,last_contact_date:new Date().toISOString().split("T")[0]},{onConflict:"user_id"});if(d)throw d;t(0),a({title:"Streak reset",description:"It's okay - healing isn't linear. Start again when you're ready."})}catch(d){a({title:"Error",description:d.message,variant:"destructive"})}};return o.jsxs(W,{className:"border-2 border-primary/20",children:[o.jsx(Z,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(da,{className:"w-5 h-5 text-primary"}),o.jsx(ee,{children:"No Contact Tracker"})]})}),o.jsxs(Y,{className:"space-y-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-4xl font-bold text-primary mb-2",children:e}),o.jsx("p",{className:"text-muted-foreground",children:"Days of no contact"}),e>0&&o.jsx(Se,{variant:"secondary",className:"mt-2",children:e>=30?"Month Champion!":e>=7?"Week Strong!":"Building Strength"})]}),r&&o.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[o.jsx(yt,{className:"w-4 h-4"}),o.jsxs("span",{children:["Started: ",new Date(r).toLocaleDateString()]})]}),o.jsx("div",{className:"flex justify-center gap-2",children:e===0?o.jsxs(H,{variant:"default",size:"sm",onClick:c,className:"bg-primary text-primary-foreground",children:[o.jsx(It,{className:"w-4 h-4 mr-2"}),"Start No Contact"]}):o.jsx(H,{variant:"outline",size:"sm",onClick:u,className:"text-destructive hover:text-destructive",children:"Reset Streak"})})]})]})},p3=()=>{const{user:e}=Oe(),[t,r]=f.useState([]),[n,s]=f.useState(0),[a,i]=f.useState(""),[l,c]=f.useState([]),[u,d]=f.useState(!1);f.useEffect(()=>{e&&(h(),y())},[e]);const h=async()=>{try{const{data:N,error:S}=await J.from("journal_prompts").select("*").order("created_at",{ascending:!0});if(S)throw S;N&&N.length>0?r(N):await m()}catch(N){console.error("Error loading prompts:",N)}},m=async()=>{const N=[{prompt:"Write about the relationship patterns you've noticed in your life. What themes keep appearing, and what might they be trying to teach you?",category:"Self-Reflection",emotional_theme:"Pattern Recognition"},{prompt:"Describe a moment when you felt truly loved and accepted. What did that experience teach you about your own worth?",category:"Self-Love",emotional_theme:"Self-Worth"},{prompt:"What are three things you're grateful for about yourself today? Focus on your inner qualities rather than achievements.",category:"Gratitude",emotional_theme:"Self-Appreciation"},{prompt:"Write a letter to your past self who was going through heartbreak. What wisdom would you share?",category:"Healing",emotional_theme:"Growth"},{prompt:"What does your ideal relationship look like? Describe how you want to feel and be treated.",category:"Future Visioning",emotional_theme:"Hope"},{prompt:"Reflect on a recent conflict or difficult conversation. What were the underlying emotions and needs that weren't expressed?",category:"Communication",emotional_theme:"Understanding"},{prompt:"What fears do you have about relationships? Where do you think these fears originated, and how do they serve or limit you?",category:"Fears",emotional_theme:"Courage"},{prompt:"Write about a boundary you need to set or maintain. What makes this boundary important for your wellbeing?",category:"Boundaries",emotional_theme:"Self-Protection"},{prompt:"Describe how you've grown as a person through your relationship experiences. What strengths have you developed?",category:"Growth",emotional_theme:"Empowerment"},{prompt:"What would you tell someone else who is going through a similar situation to yours? Write this advice with compassion.",category:"Wisdom",emotional_theme:"Compassion"},{prompt:"Reflect on your attachment style. How does it show up in your relationships, and what would healing look like?",category:"Attachment",emotional_theme:"Awareness"},{prompt:"Write about a moment when you chose yourself over staying in an unhealthy situation. How did that feel?",category:"Self-Advocacy",emotional_theme:"Pride"},{prompt:"What are your core values in relationships? How can you honor these values in future connections?",category:"Values",emotional_theme:"Alignment"},{prompt:"Describe what peace feels like to you. How can you create more of this feeling in your daily life?",category:"Peace",emotional_theme:"Serenity"},{prompt:"Write about forgiveness - either forgiving someone else or forgiving yourself. What would that process look like?",category:"Forgiveness",emotional_theme:"Release"},{prompt:"What does self-compassion mean to you? How can you practice being kinder to yourself during difficult times?",category:"Self-Love",emotional_theme:"Kindness"},{prompt:"Write about a time when you felt truly confident and secure. What internal and external factors contributed to that feeling?",category:"Confidence",emotional_theme:"Security"},{prompt:"What toxic patterns are you ready to release? Write about why you're committed to breaking these cycles.",category:"Transformation",emotional_theme:"Liberation"},{prompt:"Describe your emotional support system. Who are the people that truly see and understand you?",category:"Support",emotional_theme:"Connection"},{prompt:"What would you want to tell your future self about the journey you're on now? What hopes do you have?",category:"Future Visioning",emotional_theme:"Optimism"},{prompt:"Write about a moment when you stood up for yourself. How did it feel, and what did you learn about your own strength?",category:"Self-Advocacy",emotional_theme:"Empowerment"},{prompt:"What does vulnerability look like in healthy relationships? How comfortable are you with being truly seen?",category:"Intimacy",emotional_theme:"Authenticity"},{prompt:"Reflect on your relationship with solitude. How do you feel when you're alone with your thoughts?",category:"Self-Reflection",emotional_theme:"Independence"},{prompt:"What childhood experiences shaped your understanding of love? How do these influences show up in your adult relationships?",category:"Origins",emotional_theme:"Understanding"},{prompt:"Write about a time when you felt deeply grateful for a difficult experience. What did it teach you?",category:"Gratitude",emotional_theme:"Wisdom"},{prompt:"What does emotional safety feel like to you? How can you create this for yourself and others?",category:"Safety",emotional_theme:"Security"},{prompt:"Describe your relationship with trust. What helps you feel safe to be vulnerable with someone?",category:"Trust",emotional_theme:"Safety"},{prompt:"What would unconditional self-acceptance look like in your life? What would change if you fully embraced who you are?",category:"Self-Love",emotional_theme:"Acceptance"},{prompt:"Write about the difference between being alone and being lonely. How has your relationship with solitude evolved?",category:"Independence",emotional_theme:"Self-Sufficiency"},{prompt:"What legacy do you want to leave in terms of how you love and how you allow yourself to be loved?",category:"Legacy",emotional_theme:"Purpose"}];try{const{data:S,error:_}=await J.from("journal_prompts").insert(N).select();if(_)throw _;S&&r(S)}catch(S){console.error("Error creating default prompts:",S)}},y=async()=>{if(e)try{const{data:N}=await J.from("user_healing_progress").select("journal_entries").eq("user_id",e.id).single();if(N!=null&&N.journal_entries){const S=N.journal_entries;Array.isArray(S)&&c(S)}}catch(N){console.error("Error loading saved entries:",N)}},b=async()=>{if(!e||!a.trim()){Ne.error("Please write your response before saving");return}d(!0);try{const N={promptId:t[n].id,response:a,date:new Date().toISOString()},S=[...l.filter(E=>E.promptId!==N.promptId),N],{error:_}=await J.from("user_healing_progress").upsert({user_id:e.id,journal_entries:S,updated_at:new Date().toISOString()},{onConflict:"user_id"});if(_)throw _;c(S),Ne.success("Journal entry saved!"),i(""),n<t.length-1&&s(n+1)}catch(N){console.error("Error saving entry:",N),Ne.error("Failed to save entry")}finally{d(!1)}},g=()=>{if(n>0){const N=n-1;s(N);const S=l.find(_=>{var E;return _.promptId===((E=t[N])==null?void 0:E.id)});i((S==null?void 0:S.response)||"")}},w=()=>{if(n<t.length-1){const N=n+1;s(N);const S=l.find(_=>{var E;return _.promptId===((E=t[N])==null?void 0:E.id)});i((S==null?void 0:S.response)||"")}};if(f.useEffect(()=>{if(t.length>0){const N=t[n],S=l.find(_=>_.promptId===(N==null?void 0:N.id));i((S==null?void 0:S.response)||"")}},[n,t,l]),t.length===0)return o.jsxs(W,{children:[o.jsx(Z,{children:o.jsxs(ee,{className:"flex items-center gap-2",children:[o.jsx(dr,{className:"w-5 h-5"}),"Journal Prompts"]})}),o.jsx(Y,{children:o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsxs("div",{className:"text-center",children:[o.jsx(dr,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading your journal prompts..."})]})})})]});const p=t[n],v=l.find(N=>N.promptId===(p==null?void 0:p.id)),j={"Self-Reflection":It,"Self-Love":pe,Gratitude:pe,Healing:pe,"Future Visioning":Ts,Communication:dr,Fears:It,Boundaries:It,Growth:Ts,Wisdom:Ts,Attachment:pe,"Self-Advocacy":It,Values:It,Peace:pe,Forgiveness:pe,Confidence:It,Transformation:Ts,Support:pe,Intimacy:pe,Origins:dr,Safety:It,Trust:pe,Independence:It,Legacy:Ts}[p==null?void 0:p.category]||dr;return o.jsxs("div",{className:"space-y-6",children:[o.jsx(W,{children:o.jsxs(Z,{children:[o.jsxs(ee,{className:"flex items-center gap-2",children:[o.jsx(dr,{className:"w-5 h-5 text-primary"}),"Journal Prompts"]}),o.jsxs(qe,{children:["Deep-dive prompts for self-discovery and healing (",l.length,"/",t.length," completed)"]})]})}),o.jsxs(W,{children:[o.jsx(Z,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:o.jsx(j,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsxs(ee,{className:"text-lg",children:["Prompt ",n+1," of ",t.length]}),o.jsxs(qe,{className:"flex items-center gap-2",children:[o.jsx("span",{className:"px-2 py-1 bg-primary/10 text-primary text-xs rounded-full",children:p==null?void 0:p.category}),o.jsx("span",{className:"text-muted-foreground",children:""}),o.jsx("span",{children:p==null?void 0:p.emotional_theme}),v&&o.jsx("span",{className:"text-green-600",children:" Completed"})]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(H,{variant:"outline",size:"sm",onClick:g,disabled:n===0,children:o.jsx(K0,{className:"w-4 h-4"})}),o.jsx(H,{variant:"outline",size:"sm",onClick:w,disabled:n===t.length-1,children:o.jsx(Eu,{className:"w-4 h-4"})})]})]})}),o.jsxs(Y,{className:"space-y-4",children:[o.jsx("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-4",children:o.jsx("p",{className:"text-foreground leading-relaxed",children:p==null?void 0:p.prompt})}),o.jsx(kn,{placeholder:"Write your thoughts here... Take your time and be honest with yourself.",value:a,onChange:N=>i(N.target.value),className:"min-h-[200px] resize-none"}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.length," characters"]}),o.jsxs(H,{onClick:b,disabled:!a.trim()||u,className:"flex items-center gap-2",children:[o.jsx(uP,{className:"w-4 h-4"}),u?"Saving...":v?"Update Entry":"Save Entry"]})]})]})]}),o.jsxs(W,{children:[o.jsx(Z,{children:o.jsx(ee,{className:"text-lg",children:"Your Journaling Progress"})}),o.jsxs(Y,{children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"flex-1 bg-secondary rounded-full h-2",children:o.jsx("div",{className:"bg-gradient-to-r from-primary to-primary-glow h-2 rounded-full transition-all duration-500",style:{width:`${l.length/t.length*100}%`}})}),o.jsxs("span",{className:"font-medium text-primary",children:[Math.round(l.length/t.length*100),"%"]})]}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["You've completed ",l.length," out of ",t.length," journal prompts. Keep going!"]})]})]})]})};function g3(){const{user:e,hasHealingKit:t}=Oe(),r=at(),[n,s]=f.useState("plan");if(!e)return o.jsx(tj,{to:"/auth",replace:!0});if(!t)return o.jsx("div",{className:"min-h-screen bg-gradient-subtle flex items-center justify-center p-4",children:o.jsxs(W,{className:"p-8 text-center max-w-md mx-auto",children:[o.jsx(pe,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),o.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Healing Kit Required"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"You need to purchase the Healing Kit to access these features."}),o.jsx("button",{onClick:()=>window.location.href="/",className:"bg-primary text-primary-foreground px-4 py-2 rounded-md hover:bg-primary/90",children:"Return to Home"})]})});const a=()=>{switch(n){case"plan":return o.jsx(qv,{});case"affirmations":return o.jsx(h3,{});case"visualisations":return o.jsx(f3,{});case"tracker":return o.jsx(m3,{});case"journal":return o.jsx(p3,{});default:return o.jsx(qv,{})}};return o.jsx("div",{className:"min-h-screen bg-gradient-subtle",children:o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsx("div",{className:"mt-4 mb-8",children:o.jsxs(H,{variant:"outline",onClick:()=>r("/?tab=coaches",{replace:!0}),className:"flex items-center gap-2",children:[o.jsx($r,{className:"w-4 h-4"}),"Coaches"]})}),o.jsx(W,{className:"mb-8 overflow-hidden border-2 shadow-xl",children:o.jsxs("div",{className:"bg-gradient-to-br from-healing/10 via-healing/5 to-background p-8 text-center space-y-6",children:[o.jsx("div",{className:"flex items-center justify-center gap-2",children:o.jsx("div",{className:"p-4 rounded-2xl bg-gradient-to-r from-healing to-healing-glow shadow-2xl animate-pulse",children:o.jsx(pe,{className:"w-12 h-12 text-healing-foreground"})})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h1",{className:"text-4xl sm:text-5xl font-bold bg-gradient-to-r from-healing to-healing-glow bg-clip-text text-transparent",children:"Your Healing Kit"}),o.jsx("p",{className:"text-xl font-semibold text-foreground",children:"Your personalised toolkit for emotional recovery and growth "})]}),o.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"Navigate through heartbreak and emotional challenges with proven techniques. Track your progress, practice daily affirmations, and build the foundation for healthier relationships ahead."}),o.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 sm:gap-6 pt-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx("div",{className:"w-2 h-2 bg-healing rounded-full"}),o.jsx("span",{children:"30-Day Structured Plan"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx("div",{className:"w-2 h-2 bg-healing rounded-full"}),o.jsx("span",{children:"Daily Practices"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx("div",{className:"w-2 h-2 bg-healing rounded-full"}),o.jsx("span",{children:"Progress Tracking"})]})]})]})}),o.jsx(d3,{activeSection:n,onSectionChange:s}),a()]})})}var Zp="Radio",[y3,oS]=$t(Zp),[v3,x3]=y3(Zp),aS=f.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:a,disabled:i,value:l="on",onCheck:c,form:u,...d}=e,[h,m]=f.useState(null),y=xe(t,w=>m(w)),b=f.useRef(!1),g=h?u||!!h.closest("form"):!0;return o.jsxs(v3,{scope:r,checked:s,disabled:i,children:[o.jsx(ae.button,{type:"button",role:"radio","aria-checked":s,"data-state":uS(s),"data-disabled":i?"":void 0,disabled:i,value:l,...d,ref:y,onClick:Q(e.onClick,w=>{s||c==null||c(),g&&(b.current=w.isPropagationStopped(),b.current||w.stopPropagation())})}),g&&o.jsx(cS,{control:h,bubbles:!b.current,name:n,value:l,checked:s,required:a,disabled:i,form:u,style:{transform:"translateX(-100%)"}})]})});aS.displayName=Zp;var iS="RadioIndicator",lS=f.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...s}=e,a=x3(iS,r);return o.jsx(wt,{present:n||a.checked,children:o.jsx(ae.span,{"data-state":uS(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})})});lS.displayName=iS;var w3="RadioBubbleInput",cS=f.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...s},a)=>{const i=f.useRef(null),l=xe(i,a),c=Qp(r),u=sp(t);return f.useEffect(()=>{const d=i.current;if(!d)return;const h=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&y){const b=new Event("click",{bubbles:n});y.call(d,r),d.dispatchEvent(b)}},[c,r,n]),o.jsx(ae.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});cS.displayName=w3;function uS(e){return e?"checked":"unchecked"}var b3=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ad="RadioGroup",[j3]=$t(ad,[Ia,oS]),dS=Ia(),hS=oS(),[N3,S3]=j3(ad),fS=f.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:a,required:i=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:h,...m}=e,y=dS(r),b=Ra(u),[g,w]=_n({prop:a,defaultProp:s??null,onChange:h,caller:ad});return o.jsx(N3,{scope:r,name:n,required:i,disabled:l,value:g,onValueChange:w,children:o.jsx(Up,{asChild:!0,...y,orientation:c,dir:b,loop:d,children:o.jsx(ae.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":l?"":void 0,dir:b,...m,ref:t})})})});fS.displayName=ad;var mS="RadioGroupItem",pS=f.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...s}=e,a=S3(mS,r),i=a.disabled||n,l=dS(r),c=hS(r),u=f.useRef(null),d=xe(t,u),h=a.value===s.value,m=f.useRef(!1);return f.useEffect(()=>{const y=g=>{b3.includes(g.key)&&(m.current=!0)},b=()=>m.current=!1;return document.addEventListener("keydown",y),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",y),document.removeEventListener("keyup",b)}},[]),o.jsx(Fp,{asChild:!0,...l,focusable:!i,active:h,children:o.jsx(aS,{disabled:i,required:a.required,checked:h,...c,...s,name:a.name,ref:d,onCheck:()=>a.onValueChange(s.value),onKeyDown:Q(y=>{y.key==="Enter"&&y.preventDefault()}),onFocus:Q(s.onFocus,()=>{var y;m.current&&((y=u.current)==null||y.click())})})})});pS.displayName=mS;var _3="RadioGroupIndicator",gS=f.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,s=hS(r);return o.jsx(lS,{...s,...n,ref:t})});gS.displayName=_3;var yS=fS,vS=pS,E3=gS;const xS=f.forwardRef(({className:e,...t},r)=>o.jsx(yS,{className:ie("grid gap-2",e),...t,ref:r}));xS.displayName=yS.displayName;const wS=f.forwardRef(({className:e,...t},r)=>o.jsx(vS,{ref:r,className:ie("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(E3,{className:"flex items-center justify-center",children:o.jsx(Cu,{className:"h-2.5 w-2.5 fill-current text-current"})})}));wS.displayName=vS.displayName;const C3={secure:{name:"Secure Attached",description:"You have a positive view of yourself and others. You're comfortable with intimacy while maintaining healthy independence.",characteristics:["Comfortable with emotional intimacy","Excellent communication skills","Able to express needs clearly","Trusting and reliable in relationships"],icon:pe,color:"bg-green-500"},anxious:{name:"Anxious-Preoccupied",description:"You deeply value connection and may worry about relationship security. You're emotionally expressive and seek reassurance.",characteristics:["Highly attuned to partner's emotions","Seeks frequent reassurance","Fear of abandonment present","Deeply committed when in love"],icon:cf,color:"bg-yellow-500"},avoidant:{name:"Dismissive-Avoidant",description:"You highly value independence and self-reliance. You prefer emotional distance and may find intimacy uncomfortable.",characteristics:["Values independence highly","Uncomfortable with vulnerability","Self-sufficient approach to life","Prefers to handle emotions alone"],icon:da,color:"bg-blue-500"},"compassionate-connector":{name:"Compassionate Connector",description:"You're securely attached with exceptional empathy. You naturally create safe spaces for emotional intimacy while respecting boundaries.",characteristics:["Highly empathetic and intuitive","Creates emotional safety for others","Balances giving and receiving support","Strong emotional intelligence"],icon:pe,color:"bg-pink-500"},"independent-secure":{name:"Independent Secure",description:"You're secure but particularly value autonomy. You enjoy relationships while maintaining strong sense of self and personal space.",characteristics:["Comfortable in relationships and alone","Strong sense of personal identity","Respects partner's independence","Confident in relationship security"],icon:It,color:"bg-teal-500"},"recovering-anxious":{name:"Evolving Secure",description:"You're actively healing anxious attachment patterns. You're developing confidence while maintaining your caring, attentive nature.",characteristics:["Self-awareness of attachment patterns","Working on self-soothing skills","Building internal security","Balancing needs with independence"],icon:Ts,color:"bg-orange-500"},"guarded-growing":{name:"Cautiously Opening",description:"You're moving from avoidant patterns toward security. You're learning to embrace vulnerability while honoring your need for space.",characteristics:["Gradually opening to intimacy","Recognizing value of connection","Learning to trust others","Balancing independence with closeness"],icon:da,color:"bg-indigo-500"},"relationship-focused":{name:"Partnership-Oriented",description:"You thrive in committed relationships and prioritize partnership. You're deeply invested in creating strong, lasting bonds.",characteristics:["Highly committed to relationships","Naturally collaborative","Values quality time together","Strong relationship investment"],icon:cf,color:"bg-rose-500"},"self-sufficient-secure":{name:"Contentedly Independent",description:"You're secure with a strong preference for solitude. You enjoy relationships but are equally fulfilled by your own company.",characteristics:["Comfortable with long-term singlehood","Rich internal life","Selective about relationships","Self-contained happiness"],icon:It,color:"bg-cyan-500"},"emotionally-aware":{name:"Emotionally Attuned",description:"You have exceptional emotional intelligence and self-awareness. You navigate relationships with insight and intentionality.",characteristics:["Deep self-understanding","Skilled at emotional regulation","Insightful about relationship dynamics","Intentional in communication"],icon:Yr,color:"bg-purple-500"}},k3=()=>{const{user:e}=Oe(),{toast:t}=Lt(),[r,n]=f.useState(0),[s,a]=f.useState([]),[i,l]=f.useState(!1),[c,u]=f.useState(""),[d,h]=f.useState(""),[m,y]=f.useState(null),[b,g]=f.useState(!1),[w,p]=f.useState([]),[v,x]=f.useState(!1),[j,N]=f.useState(null),[S,_]=f.useState(!1),[E,I]=f.useState([]),[k,z]=f.useState(!0),[A,L]=f.useState(null),R=()=>{const $=new Date,V=new Date($);V.setDate(V.getDate()+1),V.setHours(0,0,0,0);const M=V.getTime()-$.getTime(),X=Math.floor(M/(1e3*60*60)),oe=Math.floor(M%(1e3*60*60)/(1e3*60));return`${X}h ${oe}m`};f.useEffect(()=>{e&&(B(),O(),D())},[e]);const B=async()=>{z(!0),L(null);try{console.log("Loading daily AI-generated questions...");const V=await fetch("https://heartlift-launch.emergent.host/api/ai/quiz/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:"attachment_style",num_questions:10})});if(!V.ok)throw new Error(`Failed to generate quiz: ${V.statusText}`);const M=await V.json();if(console.log("Backend response:",M),M&&M.questions&&Array.isArray(M.questions)){I(M.questions),console.log("Successfully loaded",M.questions.length,"fresh AI-generated questions");return}throw new Error("No questions available")}catch($){console.error("Failed to load quiz questions:",$),I([{id:1,question:"How do you typically approach new relationships?",options:["With excitement and openness to connection","With hope but worry about being hurt","With caution and preference for independence","With confusion about what I want"]},{id:2,question:"When conflict arises, you tend to:",options:["Address issues directly and work toward resolution","Become anxious and seek immediate reassurance","Withdraw and avoid confrontation","Feel overwhelmed and react unpredictably"]},{id:3,question:"Your emotional regulation involves:",options:["Processing feelings and seeking appropriate support","Becoming overwhelmed and needing constant comfort","Shutting down emotions and handling things alone","Experiencing intense, conflicting emotions"]},{id:4,question:"When someone gets close emotionally, you tend to:",options:["Welcome the closeness and feel secure","Feel both excited and terrified","Create distance to maintain independence","Feel unpredictable emotions"]},{id:5,question:"Your view of yourself in relationships is:",options:["Confident and worthy of love","Dependent on others' validation","Self-reliant but emotionally distant","Inconsistent and self-doubting"]},{id:6,question:"When your partner needs space, you:",options:["Respect their need while maintaining connection","Feel rejected and seek reassurance","Feel relieved and prefer the distance","Feel confused about how to respond"]},{id:7,question:"Trust in relationships comes:",options:["Naturally with the right person","Hard - you want to trust but fear disappointment","Very slowly - you need consistent proof","In waves - sometimes you trust, sometimes you don't"]},{id:8,question:"When you're upset, you prefer to:",options:["Talk it through with your partner openly","Seek immediate comfort and reassurance","Process your feelings alone first","Sometimes seek comfort, sometimes withdraw"]},{id:9,question:"Your biggest fear in relationships is:",options:["Growing apart due to lack of communication","Being abandoned or rejected","Losing your sense of self","Not knowing if the relationship is stable"]},{id:10,question:"Physical affection in relationships feels:",options:["Natural and comforting","Amazing but sometimes you crave more","Nice but you need personal space too","Complicated - sometimes you want it, sometimes you don't"]}]),console.log("Using hardcoded fallback questions")}finally{z(!1)}},D=async()=>{if(!e)return;const $=new Date().toISOString().slice(0,10);try{const{data:V,error:M}=await J.from("quiz_results").select("id, completed_at").eq("user_id",e.id).gte("completed_at",`${$}T00:00:00`).lte("completed_at",`${$}T23:59:59`).limit(1);if(M)throw M;_(V&&V.length>0)}catch(V){console.error("Error checking today completion:",V),_(!1)}},O=async()=>{if(e)try{const{data:$,error:V}=await J.from("quiz_results").select("*").eq("user_id",e.id).order("completed_at",{ascending:!1}).limit(10);if(V)throw V;p($||[])}catch($){console.error("Error fetching past results:",$)}},C=$=>{N($),h($.attachment_style),y($.analysis),l(!0),x(!1)},P=()=>{if(c){const $=[...s,parseInt(c)];a($),u(""),r<E.length-1?n(r+1):U($)}},U=async $=>{g(!0);try{const V=$.map((ue,T)=>({question:E[T].question,answer:E[T].options[ue]})),X=await fetch("https://heartlift-launch.emergent.host/api/ai/quiz/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({questions_and_answers:V,user_id:e==null?void 0:e.id})});if(!X.ok)throw new Error(`Failed to analyze quiz: ${X.statusText}`);const oe=await X.json();if(h(oe.attachmentStyle),y(oe.analysis),l(!0),_(!0),e!=null&&e.id)try{const{error:ue}=await J.from("quiz_results").insert({user_id:e.id,attachment_style:oe.attachmentStyle,analysis:oe.analysis,questions_and_answers:V,completed_at:new Date().toISOString()});ue?console.error("Error saving quiz result:",ue):O()}catch(ue){console.error("Error saving to database:",ue)}t({title:"Analysis Complete!",description:"Your personalised attachment style report is ready."})}catch(V){console.error("Analysis error:",V);const M={secure:0,anxious:0,avoidant:0,"compassionate-connector":0,"independent-secure":0,"recovering-anxious":0,"guarded-growing":0,"relationship-focused":0,"self-sufficient-secure":0,"emotionally-aware":0};$.forEach((oe,ue)=>{const T=E[ue].options[oe].toLowerCase();T.includes("comfortable")&&T.includes("express")&&(M.secure+=2),T.includes("trust")&&T.includes("open")&&M.secure++,(T.includes("worry")||T.includes("anxious"))&&(M.anxious+=2),(T.includes("reassurance")||T.includes("fear")&&T.includes("abandon"))&&M.anxious++,(T.includes("independent")||T.includes("self-reliant"))&&(M.avoidant+=2),(T.includes("distance")||T.includes("space"))&&M.avoidant++,T.includes("support")&&T.includes("understand")&&M["compassionate-connector"]++,(T.includes("empathy")||T.includes("listen"))&&M["compassionate-connector"]++,(T.includes("balance")||T.includes("independent")&&T.includes("comfortable"))&&M["independent-secure"]++,(T.includes("working on")||T.includes("trying to"))&&M["recovering-anxious"]++,(T.includes("gradually")||T.includes("learning to"))&&M["guarded-growing"]++,T.includes("partner")&&T.includes("together")&&M["relationship-focused"]++,(T.includes("committed")||T.includes("quality time"))&&M["relationship-focused"]++,T.includes("alone")&&T.includes("content")&&M["self-sufficient-secure"]++,(T.includes("aware")||T.includes("reflect"))&&M["emotionally-aware"]++});const X=Object.entries(M).reduce((oe,ue)=>M[oe[0]]>M[ue[0]]?oe:ue)[0];if(h(X),l(!0),_(!0),e!=null&&e.id)try{await J.from("user_attachment_results").insert({user_id:e.id,attachment_style:X,quiz_date:new Date().toISOString().slice(0,10)}),await O()}catch(oe){console.error("Failed to save fallback result:",oe)}t({title:"Here are your results!",description:"Your attachment style analysis is complete."})}finally{g(!1)}};if(k)return o.jsx("div",{className:"space-y-6 max-w-4xl mx-auto",children:o.jsxs(W,{children:[o.jsxs(Z,{className:"text-center",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx(wn,{className:"w-8 h-8 animate-spin text-primary"})}),o.jsx(ee,{className:"text-2xl",children:"Loading Today's Questions..."})]}),o.jsx(Y,{className:"text-center",children:o.jsx("p",{className:"text-muted-foreground",children:"AI is generating fresh attachment style questions for you."})})]})});if(S&&!i)return o.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[o.jsxs(W,{children:[o.jsxs(Z,{className:"text-center",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("div",{className:"p-4 rounded-full bg-green-100",children:o.jsx(Xs,{className:"w-8 h-8 text-green-600"})})}),o.jsx(ee,{className:"text-2xl",children:"Daily Quiz Completed!"}),o.jsxs("div",{className:"flex items-center justify-center gap-4 mt-4",children:[o.jsxs(Se,{variant:"outline",className:"flex items-center gap-2",children:[o.jsx(yt,{className:"w-4 h-4"}),"AI-Generated Questions"]}),o.jsxs(Se,{variant:"secondary",className:"flex items-center gap-2",children:[o.jsx(Wo,{className:"w-4 h-4"}),"Next: ",R()]})]})]}),o.jsxs(Y,{className:"space-y-4 text-center",children:[o.jsx("p",{className:"text-muted-foreground",children:"You've completed today's attachment style quiz. Check back tomorrow for new questions!"}),o.jsx("div",{className:"flex gap-3 justify-center",children:o.jsx(H,{onClick:()=>x(!0),variant:"outline",children:"View Past Results"})})]})]}),v&&o.jsxs(W,{children:[o.jsx(Z,{children:o.jsx(ee,{children:"Your Quiz History"})}),o.jsxs(Y,{children:[w.length>0?o.jsx("div",{className:"space-y-4",children:w.map(($,V)=>{var M,X;return o.jsxs("button",{onClick:()=>C($),className:"w-full flex justify-between items-center p-3 border rounded-lg hover:bg-accent transition-colors cursor-pointer text-left",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium capitalize",children:(M=$.attachment_style)==null?void 0:M.replace(/-/g," ")}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date($.completed_at).toLocaleDateString()," at ",new Date($.completed_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),o.jsx(Se,{variant:"outline",className:"capitalize",children:(X=$.attachment_style)==null?void 0:X.replace(/-/g," ")})]},$.id)})}):o.jsx("p",{className:"text-muted-foreground",children:"No past results available."}),o.jsx(H,{onClick:()=>x(!1),variant:"outline",className:"mt-4 w-full",children:"Close"})]})]})]});if(b)return o.jsx(W,{className:"max-w-2xl mx-auto",children:o.jsxs(Y,{className:"flex flex-col items-center justify-center py-12",children:[o.jsx(wn,{className:"w-8 h-8 animate-spin mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Analyzing Your Responses"}),o.jsx("p",{className:"text-muted-foreground text-center",children:"Our AI is creating your personalised attachment style report..."})]})});if(i&&d){const $=C3[d];if(!$)return console.error("Unknown attachment style:",d),o.jsx(W,{className:"max-w-2xl mx-auto",children:o.jsxs(Y,{className:"text-center py-8",children:[o.jsx("p",{className:"text-destructive",children:"Unable to display results. Please try again."}),o.jsx(H,{onClick:()=>window.location.reload(),className:"mt-4",children:"Reload Page"})]})});const V=$.icon;return o.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[o.jsxs(W,{children:[o.jsxs(Z,{className:"text-center",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("div",{className:`p-4 rounded-full ${$.color}`,children:o.jsx(V,{className:"w-8 h-8 text-white"})})}),o.jsx(ee,{className:"text-2xl",children:j?"Past Quiz Result":"Your Attachment Style"}),o.jsx(Se,{variant:"secondary",className:"text-lg px-4 py-2",children:$.name}),o.jsx("div",{className:"flex items-center justify-center gap-4 mt-4",children:j?o.jsxs(Se,{variant:"outline",className:"flex items-center gap-2",children:[o.jsx(yt,{className:"w-4 h-4"}),new Date(j.completed_at).toLocaleDateString()," at ",new Date(j.completed_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}):o.jsxs(o.Fragment,{children:[o.jsxs(Se,{variant:"outline",className:"flex items-center gap-2",children:[o.jsx(yt,{className:"w-4 h-4"}),"AI-Generated Quiz"]}),o.jsxs(Se,{variant:"secondary",className:"flex items-center gap-2",children:[o.jsx(Wo,{className:"w-4 h-4"}),"Next: ",R()]})]})})]}),o.jsxs(Y,{className:"space-y-6",children:[o.jsx("p",{className:"text-muted-foreground text-center",children:$.description}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-3",children:"Key Characteristics"}),o.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:$.characteristics.map((M,X)=>o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx("div",{className:"w-2 h-2 bg-primary rounded-full flex-shrink-0"}),M]},X))})]}),o.jsx("div",{className:"flex gap-3 justify-center",children:o.jsx(H,{onClick:()=>x(!0),variant:"outline",children:"View History"})})]})]}),m&&o.jsxs(o.Fragment,{children:[o.jsxs(W,{children:[o.jsx(Z,{children:o.jsx(ee,{className:"flex items-center gap-2",children:" Full Breakdown of Your Style"})}),o.jsx(Y,{className:"space-y-4",children:o.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-2 text-green-700",children:"Strengths"}),o.jsx("ul",{className:"space-y-1",children:m.detailedBreakdown.strengths.map((M,X)=>o.jsxs("li",{className:"text-sm text-muted-foreground",children:[" ",M]},X))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-2 text-orange-700",children:"Challenges"}),o.jsx("ul",{className:"space-y-1",children:m.detailedBreakdown.challenges.map((M,X)=>o.jsxs("li",{className:"text-sm text-muted-foreground",children:[" ",M]},X))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-2 text-blue-700",children:"Relationship Patterns"}),o.jsx("ul",{className:"space-y-1",children:m.detailedBreakdown.relationshipPatterns.map((M,X)=>o.jsxs("li",{className:"text-sm text-muted-foreground",children:[" ",M]},X))})]})]})})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs(W,{children:[o.jsx(Z,{children:o.jsx(ee,{className:"flex items-center gap-2",children:" Common Triggers"})}),o.jsx(Y,{children:o.jsx("ul",{className:"space-y-2",children:m.triggers.map((M,X)=>o.jsxs("li",{className:"text-sm",children:[" ",M]},X))})})]}),o.jsxs(W,{children:[o.jsx(Z,{children:o.jsx(ee,{className:"flex items-center gap-2",children:" Coping Techniques"})}),o.jsx(Y,{children:o.jsx("div",{className:"space-y-3",children:m.copingTechniques.map((M,X)=>o.jsxs("div",{className:"border-l-2 border-primary pl-3",children:[o.jsx("h5",{className:"font-medium text-sm",children:M.technique}),o.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:M.description}),o.jsxs("p",{className:"text-xs italic",children:["Example: ",M.example]})]},X))})})]})]}),o.jsxs(W,{children:[o.jsx(Z,{children:o.jsx(ee,{className:"flex items-center gap-2",children:" Your Personalised Healing Path"})}),o.jsx(Y,{children:o.jsx("p",{className:"text-sm leading-relaxed",children:m.healingPath})})]})]}),i&&o.jsx("div",{className:"flex gap-3 justify-center mt-6",children:j?o.jsx(H,{onClick:()=>{x(!0),l(!1),N(null)},variant:"outline",children:"Back to History"}):o.jsx(H,{onClick:()=>x(!0),variant:"outline",children:"View Past Results"})}),v&&o.jsxs(W,{children:[o.jsx(Z,{children:o.jsx(ee,{children:"Your Quiz History"})}),o.jsxs(Y,{children:[w.length>0?o.jsx("div",{className:"space-y-4",children:w.map((M,X)=>{var oe,ue;return o.jsxs("button",{onClick:()=>C(M),className:"w-full flex justify-between items-center p-3 border rounded-lg hover:bg-accent transition-colors cursor-pointer text-left",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium capitalize",children:(oe=M.attachment_style)==null?void 0:oe.replace(/-/g," ")}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(M.completed_at).toLocaleDateString()," at ",new Date(M.completed_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),o.jsx(Se,{variant:"outline",className:"capitalize",children:(ue=M.attachment_style)==null?void 0:ue.replace(/-/g," ")})]},M.id)})}):o.jsx("p",{className:"text-muted-foreground",children:"No past results available."}),o.jsx(H,{onClick:()=>x(!1),variant:"outline",className:"mt-4 w-full",children:"Close"})]})]})]})}return!E||E.length===0?o.jsx("div",{className:"space-y-6 max-w-4xl mx-auto",children:o.jsxs(W,{children:[o.jsx(Z,{className:"text-center",children:o.jsx(ee,{className:"text-2xl",children:"No Questions Available"})}),o.jsxs(Y,{className:"text-center space-y-4",children:[o.jsx("p",{className:"text-muted-foreground",children:"Unable to load quiz questions. Please try refreshing the page."}),o.jsx(H,{onClick:B,variant:"outline",children:"Reload Questions"})]})]})}):o.jsxs("div",{className:"space-y-4 sm:space-y-6 max-w-2xl mx-auto px-4 sm:px-0",children:[o.jsx(W,{children:o.jsxs(Z,{className:"text-center p-4 sm:p-6",children:[o.jsxs(ee,{className:"flex items-center justify-center gap-2 text-lg sm:text-xl",children:[o.jsx(pe,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"}),"Daily Attachment Style Quiz"]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-2 sm:gap-4 mt-3 sm:mt-4",children:[o.jsxs(Se,{variant:"outline",className:"flex items-center gap-2 text-xs sm:text-sm",children:[o.jsx(yt,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"AI-Generated Questions"]}),o.jsxs(Se,{variant:"secondary",className:"flex items-center gap-2 text-xs sm:text-sm",children:[o.jsx(Wo,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"New questions in ",R()]})]}),o.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:"AI generates fresh questions daily to provide deeper insights into your attachment patterns"}),o.jsx("div",{className:"mt-3 flex justify-center",children:o.jsx(H,{variant:"ghost",onClick:()=>x(!0),size:"sm",children:"View Past Results"})})]})}),o.jsxs(W,{children:[o.jsxs(Z,{className:"p-4 sm:p-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-xs sm:text-sm text-muted-foreground",children:["Question ",r+1," of ",E.length]}),o.jsxs(Se,{variant:"outline",className:"text-xs sm:text-sm",children:[Math.round((r+1)/E.length*100),"%"]})]}),o.jsx(Ta,{value:(r+1)/E.length*100,className:"mt-2"})]}),o.jsxs(Y,{className:"space-y-4 sm:space-y-6 p-4 sm:p-6 pt-0",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-4 leading-tight",children:E[r].question}),o.jsx(xS,{value:c,onValueChange:u,className:"space-y-3 sm:space-y-2",children:E[r].options.map(($,V)=>o.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border hover:bg-muted/30 transition-colors",children:[o.jsx(wS,{value:V.toString(),id:`option-${V}`,className:"mt-0.5 flex-shrink-0"}),o.jsx(tt,{htmlFor:`option-${V}`,className:"flex-1 cursor-pointer text-sm sm:text-base leading-relaxed",children:$})]},V))})]}),o.jsx(H,{onClick:P,disabled:!c,className:"w-full py-3 text-base font-medium",size:"lg",children:r<E.length-1?"Next Question":"Complete Quiz"})]})]})]})},P3=()=>{const{user:e,isPremium:t}=Oe(),{toast:r}=Lt(),[n,s]=f.useState([]),[a,i]=f.useState({}),[l,c]=f.useState(null),[u,d]=f.useState([]),[h,m]=f.useState(null),[y,b]=f.useState(""),[g,w]=f.useState(!1),[p,v]=f.useState(null),[x,j]=f.useState(!0),[N,S]=f.useState(null);f.useEffect(()=>(e&&t&&(_(),E()),()=>{N&&clearTimeout(N)}),[e,t,N]);const _=async()=>{try{const{data:O,error:C}=await J.from("guided_programs").select("*").order("program_key");if(C)throw C;s(O||[])}catch(O){console.error("Error fetching programs:",O),r({title:"Error",description:"Failed to load guided programs",variant:"destructive"})}finally{j(!1)}},E=async()=>{if(e)try{const{data:O,error:C}=await J.from("user_guided_program_progress").select("*").eq("user_id",e.id);if(C)throw C;const P={};O==null||O.forEach(U=>{P[U.program_id]={...U,reflection_answers:U.reflection_answers||{}}}),i(P)}catch(O){console.error("Error fetching user progress:",O)}},I=async O=>{try{const{data:C,error:P}=await J.from("guided_program_modules").select("*").eq("program_id",O).order("module_number");if(P)throw P;d(C||[]);const U=a[O],$=(U==null?void 0:U.current_module)||1,V=C==null?void 0:C.find(M=>M.module_number===$);if(m(V||(C==null?void 0:C[0])||null),U&&V){const M=U.reflection_answers[V.id]||"";b(M)}}catch(C){console.error("Error fetching program modules:",C)}},k=async O=>{if(c(O),await I(O.id),!a[O.id])try{const{error:C}=await J.from("user_guided_program_progress").insert({user_id:e.id,program_id:O.id,current_module:1,completed_modules:[],reflection_answers:{}});if(C)throw C;await E()}catch(C){console.error("Error initializing progress:",C)}},z=async(O=!0)=>{if(!h||!l||!e)return;const C=a[l.id];if(!C)return;const P={...C.reflection_answers,[h.id]:y};try{const{error:U}=await J.from("user_guided_program_progress").update({reflection_answers:P}).eq("id",C.id);if(U)throw U;O&&r({title:"Reflection Saved",description:"Your reflection has been saved successfully"}),await E()}catch(U){console.error("Error saving reflection:",U),O&&r({title:"Error",description:"Failed to save reflection",variant:"destructive"})}},A=O=>{b(O),N&&clearTimeout(N);const C=setTimeout(()=>{O.trim()&&z(!1)},2e3);S(C)},L=async()=>{if(!h||!l||!e)return;await z();const O=a[l.id];if(!O)return;const C=[...O.completed_modules];C.includes(h.module_number)||C.push(h.module_number);const P=h.module_number+1,U=P>u.length,$=U;try{const V={completed_modules:C,current_module:U?h.module_number:P,program_completed:$};$&&(V.completed_at=new Date().toISOString());const{error:M}=await J.from("user_guided_program_progress").update(V).eq("id",O.id);if(M)throw M;if(await E(),$)v(l),w(!0);else{const X=u.find(oe=>oe.module_number===P);X&&(m(X),b(""))}r({title:"Module Completed!",description:$?"Congratulations! You've completed the entire program!":"Moving to the next module..."})}catch(V){console.error("Error completing module:",V),r({title:"Error",description:"Failed to complete module",variant:"destructive"})}},R=()=>{if(!l||!a[l.id])return;const C=a[l.id].reflection_answers;let P=`${l.title} - Reflection Summary

`;u.forEach(M=>{const X=C[M.id];X&&(P+=`${M.title}
`,P+=`${M.reflection_prompt}
`,P+=`Your reflection: ${X}

`)});const U=new Blob([P],{type:"text/plain"}),$=URL.createObjectURL(U),V=document.createElement("a");V.href=$,V.download=`${l.title.replace(/\s+/g,"_")}_reflections.txt`,V.click(),URL.revokeObjectURL($)},B=O=>{switch(O){case"finding_inner_security":return pe;case"rebuilding_trust":return da;case"letting_go_moving_forward":return Zk;default:return dr}},D=O=>{const C=a[O];return C?C.completed_modules.length/3*100:0};return t?x?o.jsx(W,{className:"p-8 text-center",children:o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mx-auto mb-4"}),o.jsx("div",{className:"h-4 bg-muted rounded w-1/2 mx-auto"})]})}):l?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs(H,{variant:"outline",onClick:async()=>{y.trim()&&h&&await z(!1),c(null),m(null),b("")},className:"mb-4",children:[o.jsx($r,{className:"w-4 h-4 mr-2"}),"Back to Programs"]}),o.jsx("div",{className:"text-center sm:text-left",children:o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center sm:justify-start gap-3 sm:gap-4",children:[o.jsx("span",{className:"text-4xl sm:text-3xl",children:l.emoji}),o.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-center sm:text-left leading-tight",children:l.title})]})})]}),h&&o.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[o.jsxs(W,{children:[o.jsx(Z,{children:o.jsx(ee,{className:"text-lg",children:"Modules"})}),o.jsx(Y,{className:"space-y-2",children:(u||[]).map(O=>{var U;const C=(U=a[l.id])==null?void 0:U.completed_modules.includes(O.module_number),P=h.id===O.id;return o.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer transition-colors ${P?"bg-primary/10 border border-primary/20":"hover:bg-muted/50"}`,onClick:async()=>{y.trim()&&h&&await z(!1),m(O);const $=a[l.id],V=($==null?void 0:$.reflection_answers[O.id])||"";b(V)},children:[C?o.jsx(Xs,{className:"w-5 h-5 text-green-500"}):o.jsx(Cu,{className:"w-5 h-5 text-muted-foreground"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:O.title}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Module ",O.module_number]})]})]},O.id)})})]}),o.jsx("div",{className:"lg:col-span-2 space-y-6",children:o.jsxs(W,{children:[o.jsx(Z,{children:o.jsxs(ee,{className:"flex items-center gap-2",children:[o.jsx(dr,{className:"w-5 h-5"}),h.title]})}),o.jsxs(Y,{className:"space-y-6",children:[o.jsx("div",{className:"prose prose-sm max-w-none",children:h.teaching_content.split(`

`).map((O,C)=>o.jsx("p",{className:"text-sm leading-relaxed mb-4",children:O},C))}),o.jsx($p,{}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"font-semibold text-sm",children:"Reflection"}),o.jsx("p",{className:"text-sm text-muted-foreground italic",children:h.reflection_prompt}),o.jsx(kn,{placeholder:"Share your thoughts and reflections here...",value:y,onChange:O=>A(O.target.value),className:"min-h-[120px]"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(H,{onClick:()=>z(!0),variant:"outline",size:"sm",children:"Save Reflection"}),o.jsx(H,{onClick:L,disabled:!y.trim(),size:"sm",children:"Complete Module"})]})]})]})]})})]}),o.jsx(Zu,{open:g,onOpenChange:w,children:o.jsxs(ll,{className:"max-w-md",children:[o.jsx(cl,{children:o.jsx(ul,{className:"text-center",children:" Program Complete!"})}),o.jsxs("div",{className:"text-center space-y-4",children:[o.jsxs("p",{className:"text-sm text-muted-foreground",children:["You've completed the ",o.jsx("strong",{children:p==null?void 0:p.title})," journey  take a moment to celebrate your growth. Every step you've taken brings you closer to secure and meaningful connections."]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs(H,{onClick:R,variant:"outline",children:[o.jsx(Uc,{className:"w-4 h-4 mr-2"}),"Download Reflection Summary"]}),o.jsx(H,{onClick:()=>{w(!1),c(null),m(null)},children:"Start Another Program"})]})]})]})})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Guided Programs"}),o.jsx("p",{className:"text-muted-foreground",children:"Structured journeys to help you grow, heal, and strengthen your relationships."})]}),o.jsx("div",{className:"grid gap-6 md:grid-cols-1 lg:grid-cols-3",children:(n||[]).map(O=>{var U;B(O.program_key);const C=D(O.id),P=(U=a[O.id])==null?void 0:U.program_completed;return o.jsxs(W,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:[o.jsxs(Z,{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("span",{className:"text-2xl",children:O.emoji}),o.jsx("div",{children:o.jsxs(ee,{className:"flex items-center gap-2",children:[O.title,P&&o.jsx(Xs,{className:"w-5 h-5 text-green-500"})]})})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:O.description})]}),o.jsx(Y,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[o.jsx("span",{children:"Progress"}),o.jsxs("span",{children:[Math.round(C),"%"]})]}),o.jsx(Ta,{value:C,className:"h-2"})]}),o.jsxs(H,{className:"w-full",onClick:()=>k(O),variant:P?"outline":"default",children:[P?"Review Program":C>0?"Continue":"Start Program",o.jsx(Eu,{className:"w-4 h-4 ml-2"})]})]})})]},O.id)})})]}):o.jsxs(W,{className:"p-8 text-center",children:[o.jsx(dr,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Premium Required"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"Upgrade to premium to access guided programs for growth and healing."}),o.jsx(H,{variant:"warm",onClick:()=>{const O=window.location.pathname+window.location.search;window.location.href=`/premium-purchase?from=${encodeURIComponent(O)}`},children:"Upgrade to Premium"})]})},R3=()=>{const{user:e}=Oe(),{toast:t}=Lt(),[r,n]=f.useState(""),[s,a]=f.useState(null),[i,l]=f.useState(!1),c=async()=>{if(!r.trim()){t({title:"Please enter a conversation",description:"Paste or type the conversation you'd like to analyse.",variant:"destructive"});return}l(!0);try{const d=await fetch("https://heartlift-launch.emergent.host/api/ai/analyze-conversation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({conversation_text:r.trim(),analysis_type:"general"})});if(!d.ok)throw new Error(`Failed to analyze conversation: ${d.statusText}`);const h=await d.json();a(h),t({title:"Analysis Complete",description:"Your conversation has been analysed successfully."})}catch(u){console.error("Analysis error:",u),t({title:"Analysis Failed",description:u instanceof Error?u.message:"There was an error analysing your conversation. Please try again.",variant:"destructive"})}finally{l(!1)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(W,{children:[o.jsx(Z,{children:o.jsxs(ee,{className:"flex items-center gap-2",children:[o.jsx(rn,{className:"w-5 h-5"}),"Conversation Analyser"]})}),o.jsxs(Y,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Paste your conversation below:"}),o.jsx(kn,{placeholder:`You: Hey, how was your day?
Them: Fine.
You: Just fine? You seem upset about something...

(Paste your full conversation here)`,value:r,onChange:u=>n(u.target.value),rows:8,className:"resize-none"})]}),o.jsx(H,{onClick:c,disabled:i||!r.trim(),className:"w-full",children:i?o.jsxs(o.Fragment,{children:[o.jsx(wn,{className:"w-4 h-4 mr-2 animate-spin"}),"Analysing Conversation..."]}):o.jsxs(o.Fragment,{children:[o.jsx(gP,{className:"w-4 h-4 mr-2"}),"Analyse Conversation"]})})]})]}),s&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs(W,{children:[o.jsx(Z,{children:o.jsx(ee,{className:"flex items-center gap-2",children:" Emotional Tone Analysis"})}),o.jsxs(Y,{className:"space-y-4",children:[o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-2",children:"Your Tone"}),o.jsx("p",{className:"text-muted-foreground",children:s.emotionalTone.user})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-2",children:"Their Tone"}),o.jsx("p",{className:"text-muted-foreground",children:s.emotionalTone.partner})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-2",children:"Overall Dynamic"}),o.jsx("p",{className:"text-muted-foreground",children:s.emotionalTone.overall})]})]})]}),o.jsxs(W,{children:[o.jsx(Z,{children:o.jsx(ee,{className:"flex items-center gap-2",children:" Miscommunication Patterns"})}),o.jsx(Y,{className:"space-y-4",children:s.miscommunicationPatterns.map((u,d)=>o.jsxs("div",{className:"border rounded-lg p-4",children:[o.jsx("div",{className:"flex items-center gap-2 mb-2",children:o.jsx(Se,{variant:"outline",children:u.pattern})}),o.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:u.description}),u.examples.length>0&&o.jsxs("div",{children:[o.jsx("h5",{className:"text-xs font-medium mb-1",children:"Examples:"}),o.jsx("ul",{className:"text-xs text-muted-foreground space-y-1",children:u.examples.map((h,m)=>o.jsxs("li",{className:"italic",children:['"',h,'"']},m))})]})]},d))})]}),o.jsxs(W,{children:[o.jsx(Z,{children:o.jsx(ee,{className:"flex items-center gap-2",children:" What You Could Have Said Differently"})}),o.jsx(Y,{className:"space-y-4",children:s.suggestions.map((u,d)=>o.jsxs("div",{className:"border rounded-lg p-4",children:[o.jsx("h4",{className:"font-medium mb-2 text-destructive",children:u.issue}),o.jsxs("div",{className:"bg-primary/5 rounded p-3 mb-2",children:[o.jsx("h5",{className:"text-sm font-medium mb-1",children:"Better Response:"}),o.jsxs("p",{className:"text-sm italic",children:['"',u.betterResponse,'"']})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:u.explanation})]},d))})]}),o.jsxs(W,{children:[o.jsx(Z,{children:o.jsxs(ee,{className:"flex items-center gap-2",children:[o.jsx(fa,{className:"w-5 h-5"}),"Overall Assessment"]})}),o.jsx(Y,{children:o.jsx("p",{className:"text-muted-foreground",children:s.overallAssessment})})]})]})]})};var T3=[" ","Enter","ArrowUp","ArrowDown"],I3=[" ","Enter"],no="Select",[id,ld,A3]=Nu(no),[Aa]=$t(no,[A3,_a]),cd=_a(),[O3,js]=Aa(no),[D3,M3]=Aa(no),bS=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:a,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:m,required:y,form:b}=e,g=cd(t),[w,p]=f.useState(null),[v,x]=f.useState(null),[j,N]=f.useState(!1),S=Ra(u),[_,E]=_n({prop:n,defaultProp:s??!1,onChange:a,caller:no}),[I,k]=_n({prop:i,defaultProp:l,onChange:c,caller:no}),z=f.useRef(null),A=w?b||!!w.closest("form"):!0,[L,R]=f.useState(new Set),B=Array.from(L).map(D=>D.props.value).join(";");return o.jsx(Rb,{...g,children:o.jsxs(O3,{required:y,scope:t,trigger:w,onTriggerChange:p,valueNode:v,onValueNodeChange:x,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:en(),value:I,onValueChange:k,open:_,onOpenChange:E,dir:S,triggerPointerDownPosRef:z,disabled:m,children:[o.jsx(id.Provider,{scope:t,children:o.jsx(D3,{scope:e.__scopeSelect,onNativeOptionAdd:f.useCallback(D=>{R(O=>new Set(O).add(D))},[]),onNativeOptionRemove:f.useCallback(D=>{R(O=>{const C=new Set(O);return C.delete(D),C})},[]),children:r})}),A?o.jsxs(VS,{"aria-hidden":!0,required:y,tabIndex:-1,name:d,autoComplete:h,value:I,onChange:D=>k(D.target.value),disabled:m,form:b,children:[I===void 0?o.jsx("option",{value:""}):null,Array.from(L)]},B):null]})})};bS.displayName=no;var jS="SelectTrigger",NS=f.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,a=cd(r),i=js(jS,r),l=i.disabled||n,c=xe(t,i.onTriggerChange),u=ld(r),d=f.useRef("touch"),[h,m,y]=GS(g=>{const w=u().filter(x=>!x.disabled),p=w.find(x=>x.value===i.value),v=KS(w,g,p);v!==void 0&&i.onValueChange(v.value)}),b=g=>{l||(i.onOpenChange(!0),y()),g&&(i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return o.jsx(ip,{asChild:!0,...a,children:o.jsx(ae.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":qS(i.value)?"":void 0,...s,ref:c,onClick:Q(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&b(g)}),onPointerDown:Q(s.onPointerDown,g=>{d.current=g.pointerType;const w=g.target;w.hasPointerCapture(g.pointerId)&&w.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(b(g),g.preventDefault())}),onKeyDown:Q(s.onKeyDown,g=>{const w=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(w&&g.key===" ")&&T3.includes(g.key)&&(b(),g.preventDefault())})})})});NS.displayName=jS;var SS="SelectValue",_S=f.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:i="",...l}=e,c=js(SS,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,h=xe(t,c.onValueNodeChange);return ft(()=>{u(d)},[u,d]),o.jsx(ae.span,{...l,ref:h,style:{pointerEvents:"none"},children:qS(c.value)?o.jsx(o.Fragment,{children:i}):a})});_S.displayName=SS;var L3="SelectIcon",ES=f.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return o.jsx(ae.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});ES.displayName=L3;var $3="SelectPortal",CS=e=>o.jsx(rl,{asChild:!0,...e});CS.displayName=$3;var so="SelectContent",kS=f.forwardRef((e,t)=>{const r=js(so,e.__scopeSelect),[n,s]=f.useState();if(ft(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?io.createPortal(o.jsx(PS,{scope:e.__scopeSelect,children:o.jsx(id.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),a):null}return o.jsx(RS,{...e,ref:t})});kS.displayName=so;var _r=10,[PS,Ns]=Aa(so),U3="SelectContentImpl",F3=Js("SelectContent.RemoveScroll"),RS=f.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:m,collisionPadding:y,sticky:b,hideWhenDetached:g,avoidCollisions:w,...p}=e,v=js(so,r),[x,j]=f.useState(null),[N,S]=f.useState(null),_=xe(t,T=>j(T)),[E,I]=f.useState(null),[k,z]=f.useState(null),A=ld(r),[L,R]=f.useState(!1),B=f.useRef(!1);f.useEffect(()=>{if(x)return Ip(x)},[x]),Tp();const D=f.useCallback(T=>{const[G,...te]=A().map(me=>me.ref.current),[le]=te.slice(-1),ge=document.activeElement;for(const me of T)if(me===ge||(me==null||me.scrollIntoView({block:"nearest"}),me===G&&N&&(N.scrollTop=0),me===le&&N&&(N.scrollTop=N.scrollHeight),me==null||me.focus(),document.activeElement!==ge))return},[A,N]),O=f.useCallback(()=>D([E,x]),[D,E,x]);f.useEffect(()=>{L&&O()},[L,O]);const{onOpenChange:C,triggerPointerDownPosRef:P}=v;f.useEffect(()=>{if(x){let T={x:0,y:0};const G=le=>{var ge,me;T={x:Math.abs(Math.round(le.pageX)-(((ge=P.current)==null?void 0:ge.x)??0)),y:Math.abs(Math.round(le.pageY)-(((me=P.current)==null?void 0:me.y)??0))}},te=le=>{T.x<=10&&T.y<=10?le.preventDefault():x.contains(le.target)||C(!1),document.removeEventListener("pointermove",G),P.current=null};return P.current!==null&&(document.addEventListener("pointermove",G),document.addEventListener("pointerup",te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",G),document.removeEventListener("pointerup",te,{capture:!0})}}},[x,C,P]),f.useEffect(()=>{const T=()=>C(!1);return window.addEventListener("blur",T),window.addEventListener("resize",T),()=>{window.removeEventListener("blur",T),window.removeEventListener("resize",T)}},[C]);const[U,$]=GS(T=>{const G=A().filter(ge=>!ge.disabled),te=G.find(ge=>ge.ref.current===document.activeElement),le=KS(G,T,te);le&&setTimeout(()=>le.ref.current.focus())}),V=f.useCallback((T,G,te)=>{const le=!B.current&&!te;(v.value!==void 0&&v.value===G||le)&&(I(T),le&&(B.current=!0))},[v.value]),M=f.useCallback(()=>x==null?void 0:x.focus(),[x]),X=f.useCallback((T,G,te)=>{const le=!B.current&&!te;(v.value!==void 0&&v.value===G||le)&&z(T)},[v.value]),oe=n==="popper"?Bf:TS,ue=oe===Bf?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:m,collisionPadding:y,sticky:b,hideWhenDetached:g,avoidCollisions:w}:{};return o.jsx(PS,{scope:r,content:x,viewport:N,onViewportChange:S,itemRefCallback:V,selectedItem:E,onItemLeave:M,itemTextRefCallback:X,focusSelectedItem:O,selectedItemText:k,position:n,isPositioned:L,searchRef:U,children:o.jsx(Ju,{as:F3,allowPinchZoom:!0,children:o.jsx(Yu,{asChild:!0,trapped:v.open,onMountAutoFocus:T=>{T.preventDefault()},onUnmountAutoFocus:Q(s,T=>{var G;(G=v.trigger)==null||G.focus({preventScroll:!0}),T.preventDefault()}),children:o.jsx(ba,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:T=>T.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:o.jsx(oe,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:T=>T.preventDefault(),...p,...ue,onPlaced:()=>R(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...p.style},onKeyDown:Q(p.onKeyDown,T=>{const G=T.ctrlKey||T.altKey||T.metaKey;if(T.key==="Tab"&&T.preventDefault(),!G&&T.key.length===1&&$(T.key),["ArrowUp","ArrowDown","Home","End"].includes(T.key)){let le=A().filter(ge=>!ge.disabled).map(ge=>ge.ref.current);if(["ArrowUp","End"].includes(T.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(T.key)){const ge=T.target,me=le.indexOf(ge);le=le.slice(me+1)}setTimeout(()=>D(le)),T.preventDefault()}})})})})})})});RS.displayName=U3;var z3="SelectItemAlignedPosition",TS=f.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,a=js(so,r),i=Ns(so,r),[l,c]=f.useState(null),[u,d]=f.useState(null),h=xe(t,_=>d(_)),m=ld(r),y=f.useRef(!1),b=f.useRef(!0),{viewport:g,selectedItem:w,selectedItemText:p,focusSelectedItem:v}=i,x=f.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&g&&w&&p){const _=a.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),I=a.valueNode.getBoundingClientRect(),k=p.getBoundingClientRect();if(a.dir!=="rtl"){const ge=k.left-E.left,me=I.left-ge,De=_.left-me,ne=_.width+De,ce=Math.max(ne,E.width),Pe=window.innerWidth-_r,ze=Uf(me,[_r,Math.max(_r,Pe-ce)]);l.style.minWidth=ne+"px",l.style.left=ze+"px"}else{const ge=E.right-k.right,me=window.innerWidth-I.right-ge,De=window.innerWidth-_.right-me,ne=_.width+De,ce=Math.max(ne,E.width),Pe=window.innerWidth-_r,ze=Uf(me,[_r,Math.max(_r,Pe-ce)]);l.style.minWidth=ne+"px",l.style.right=ze+"px"}const z=m(),A=window.innerHeight-_r*2,L=g.scrollHeight,R=window.getComputedStyle(u),B=parseInt(R.borderTopWidth,10),D=parseInt(R.paddingTop,10),O=parseInt(R.borderBottomWidth,10),C=parseInt(R.paddingBottom,10),P=B+D+L+C+O,U=Math.min(w.offsetHeight*5,P),$=window.getComputedStyle(g),V=parseInt($.paddingTop,10),M=parseInt($.paddingBottom,10),X=_.top+_.height/2-_r,oe=A-X,ue=w.offsetHeight/2,T=w.offsetTop+ue,G=B+D+T,te=P-G;if(G<=X){const ge=z.length>0&&w===z[z.length-1].ref.current;l.style.bottom="0px";const me=u.clientHeight-g.offsetTop-g.offsetHeight,De=Math.max(oe,ue+(ge?M:0)+me+O),ne=G+De;l.style.height=ne+"px"}else{const ge=z.length>0&&w===z[0].ref.current;l.style.top="0px";const De=Math.max(X,B+g.offsetTop+(ge?V:0)+ue)+te;l.style.height=De+"px",g.scrollTop=G-X+g.offsetTop}l.style.margin=`${_r}px 0`,l.style.minHeight=U+"px",l.style.maxHeight=A+"px",n==null||n(),requestAnimationFrame(()=>y.current=!0)}},[m,a.trigger,a.valueNode,l,u,g,w,p,a.dir,n]);ft(()=>x(),[x]);const[j,N]=f.useState();ft(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const S=f.useCallback(_=>{_&&b.current===!0&&(x(),v==null||v(),b.current=!1)},[x,v]);return o.jsx(B3,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:S,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:o.jsx(ae.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});TS.displayName=z3;var H3="SelectPopperPosition",Bf=f.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=_r,...a}=e,i=cd(r);return o.jsx(lp,{...i,...a,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Bf.displayName=H3;var[B3,eg]=Aa(so,{}),Wf="SelectViewport",IS=f.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,a=Ns(Wf,r),i=eg(Wf,r),l=xe(t,a.onViewportChange),c=f.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(id.Slot,{scope:r,children:o.jsx(ae.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Q(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&h){const y=Math.abs(c.current-d.scrollTop);if(y>0){const b=window.innerHeight-_r*2,g=parseFloat(h.style.minHeight),w=parseFloat(h.style.height),p=Math.max(g,w);if(p<b){const v=p+y,x=Math.min(b,v),j=v-x;h.style.height=x+"px",h.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});IS.displayName=Wf;var AS="SelectGroup",[W3,V3]=Aa(AS),q3=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=en();return o.jsx(W3,{scope:r,id:s,children:o.jsx(ae.div,{role:"group","aria-labelledby":s,...n,ref:t})})});q3.displayName=AS;var OS="SelectLabel",DS=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=V3(OS,r);return o.jsx(ae.div,{id:s.id,...n,ref:t})});DS.displayName=OS;var su="SelectItem",[G3,MS]=Aa(su),LS=f.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...i}=e,l=js(su,r),c=Ns(su,r),u=l.value===n,[d,h]=f.useState(a??""),[m,y]=f.useState(!1),b=xe(t,v=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,v,n,s)}),g=en(),w=f.useRef("touch"),p=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(G3,{scope:r,value:n,disabled:s,textId:g,isSelected:u,onItemTextChange:f.useCallback(v=>{h(x=>x||((v==null?void 0:v.textContent)??"").trim())},[]),children:o.jsx(id.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:o.jsx(ae.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:b,onFocus:Q(i.onFocus,()=>y(!0)),onBlur:Q(i.onBlur,()=>y(!1)),onClick:Q(i.onClick,()=>{w.current!=="mouse"&&p()}),onPointerUp:Q(i.onPointerUp,()=>{w.current==="mouse"&&p()}),onPointerDown:Q(i.onPointerDown,v=>{w.current=v.pointerType}),onPointerMove:Q(i.onPointerMove,v=>{var x;w.current=v.pointerType,s?(x=c.onItemLeave)==null||x.call(c):w.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Q(i.onPointerLeave,v=>{var x;v.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:Q(i.onKeyDown,v=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&v.key===" "||(I3.includes(v.key)&&p(),v.key===" "&&v.preventDefault())})})})})});LS.displayName=su;var ri="SelectItemText",$S=f.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...a}=e,i=js(ri,r),l=Ns(ri,r),c=MS(ri,r),u=M3(ri,r),[d,h]=f.useState(null),m=xe(t,p=>h(p),c.onItemTextChange,p=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,p,c.value,c.disabled)}),y=d==null?void 0:d.textContent,b=f.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=u;return ft(()=>(g(b),()=>w(b)),[g,w,b]),o.jsxs(o.Fragment,{children:[o.jsx(ae.span,{id:c.textId,...a,ref:m}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?io.createPortal(a.children,i.valueNode):null]})});$S.displayName=ri;var US="SelectItemIndicator",FS=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return MS(US,r).isSelected?o.jsx(ae.span,{"aria-hidden":!0,...n,ref:t}):null});FS.displayName=US;var Vf="SelectScrollUpButton",zS=f.forwardRef((e,t)=>{const r=Ns(Vf,e.__scopeSelect),n=eg(Vf,e.__scopeSelect),[s,a]=f.useState(!1),i=xe(t,n.onScrollButtonChange);return ft(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(BS,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});zS.displayName=Vf;var qf="SelectScrollDownButton",HS=f.forwardRef((e,t)=>{const r=Ns(qf,e.__scopeSelect),n=eg(qf,e.__scopeSelect),[s,a]=f.useState(!1),i=xe(t,n.onScrollButtonChange);return ft(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(BS,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});HS.displayName=qf;var BS=f.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,a=Ns("SelectScrollButton",r),i=f.useRef(null),l=ld(r),c=f.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return f.useEffect(()=>()=>c(),[c]),ft(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(ae.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Q(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:Q(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:Q(s.onPointerLeave,()=>{c()})})}),K3="SelectSeparator",WS=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(ae.div,{"aria-hidden":!0,...n,ref:t})});WS.displayName=K3;var Gf="SelectArrow",Y3=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=cd(r),a=js(Gf,r),i=Ns(Gf,r);return a.open&&i.position==="popper"?o.jsx(cp,{...s,...n,ref:t}):null});Y3.displayName=Gf;var Q3="SelectBubbleInput",VS=f.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=f.useRef(null),a=xe(n,s),i=Qp(t);return f.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&d){const h=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(h)}},[i,t]),o.jsx(ae.select,{...r,style:{...S0,...r.style},ref:a,defaultValue:t})});VS.displayName=Q3;function qS(e){return e===""||e===void 0}function GS(e){const t=Je(e),r=f.useRef(""),n=f.useRef(0),s=f.useCallback(i=>{const l=r.current+i;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=f.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function KS(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=J3(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function J3(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var X3=bS,YS=NS,Z3=_S,e$=ES,t$=CS,QS=kS,r$=IS,JS=DS,XS=LS,n$=$S,s$=FS,ZS=zS,e_=HS,t_=WS;const Gv=X3,Kv=Z3,Kf=f.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(YS,{ref:n,className:ie("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(e$,{asChild:!0,children:o.jsx(G0,{className:"h-4 w-4 opacity-50"})})]}));Kf.displayName=YS.displayName;const r_=f.forwardRef(({className:e,...t},r)=>o.jsx(ZS,{ref:r,className:ie("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Vk,{className:"h-4 w-4"})}));r_.displayName=ZS.displayName;const n_=f.forwardRef(({className:e,...t},r)=>o.jsx(e_,{ref:r,className:ie("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(G0,{className:"h-4 w-4"})}));n_.displayName=e_.displayName;const Yf=f.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>o.jsx(t$,{children:o.jsxs(QS,{ref:s,className:ie("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(r_,{}),o.jsx(r$,{className:ie("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(n_,{})]})}));Yf.displayName=QS.displayName;const o$=f.forwardRef(({className:e,...t},r)=>o.jsx(JS,{ref:r,className:ie("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));o$.displayName=JS.displayName;const Qf=f.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(XS,{ref:n,className:ie("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(s$,{children:o.jsx(fr,{className:"h-4 w-4"})})}),o.jsx(n$,{children:t})]}));Qf.displayName=XS.displayName;const a$=f.forwardRef(({className:e,...t},r)=>o.jsx(t_,{ref:r,className:ie("-mx-1 my-1 h-px bg-muted",e),...t}));a$.displayName=t_.displayName;const i$=()=>{const{toast:e}=Lt(),[t,r]=f.useState("closure"),[n,s]=f.useState("romantic"),[a,i]=f.useState(""),[l,c]=f.useState([]),[u,d]=f.useState(!1),h=[{value:"closure",label:"Closure Messages"},{value:"no_contact",label:"No-Contact Replies"},{value:"boundary",label:"Boundary-Setting Texts"},{value:"miss_you_response",label:'"I Miss You" Responses'},{value:"apologetic",label:"Apologetic Messages"},{value:"rejection",label:"Rejection Messages"},{value:"reconciliation",label:"Reconciliation Attempts"},{value:"angry_response",label:"Angry/Upset Responses"},{value:"moving_on",label:"Moving On Messages"},{value:"check_in",label:"Check-In Messages"},{value:"birthday_holiday",label:"Birthday/Holiday Messages"},{value:"neutral_reply",label:"Neutral Responses"},{value:"custom",label:"Improve My Message"}],m=[{value:"romantic",label:"Ex-Partner"},{value:"boyfriend",label:"Boyfriend"},{value:"girlfriend",label:"Girlfriend"},{value:"dating",label:"Someone You Dated"},{value:"talking_stage",label:"Talking Stage"},{value:"friend",label:"Ex-Friend"},{value:"situationship",label:"Situationship"},{value:"fwb",label:"Friends with Benefits"},{value:"hookup",label:"Hookup/Casual"}],y=async()=>{if(t==="custom"&&!a.trim()){e({title:"Please enter your message",description:"Type the message you'd like help improving.",variant:"destructive"});return}d(!0);try{const{data:w,error:p}=await J.functions.invoke("suggest-text",{body:{messageType:t,relationship:n,userMessage:a.trim()}});if(p)throw p;c(w.suggestions),e({title:"Suggestions Generated",description:"Here are some thoughtful message options for you."})}catch(w){console.error("Generation error:",w),e({title:"Generation Failed",description:"There was an error generating suggestions. Please try again.",variant:"destructive"})}finally{d(!1)}},b=async w=>{try{await navigator.clipboard.writeText(w),e({title:"Copied to clipboard",description:"Message copied successfully!"})}catch{e({title:"Copy failed",description:"Unable to copy to clipboard.",variant:"destructive"})}},g=w=>{switch(w){case"gentle":return"bg-green-100 text-green-800 border-green-200";case"firm":return"bg-red-100 text-red-800 border-red-200";case"neutral":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(W,{children:[o.jsx(Z,{children:o.jsxs(ee,{className:"flex items-center gap-2",children:[o.jsx(ku,{className:"w-5 h-5"}),"Text Suggestion Helper"]})}),o.jsxs(Y,{className:"space-y-4",children:[o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Message Type"}),o.jsxs(Gv,{value:t,onValueChange:r,children:[o.jsx(Kf,{children:o.jsx(Kv,{})}),o.jsx(Yf,{children:h.map(w=>o.jsx(Qf,{value:w.value,children:w.label},w.value))})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Relationship Type"}),o.jsxs(Gv,{value:n,onValueChange:s,children:[o.jsx(Kf,{children:o.jsx(Kv,{})}),o.jsx(Yf,{children:m.map(w=>o.jsx(Qf,{value:w.value,children:w.label},w.value))})]})]})]}),t==="custom"&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Your Message (to improve)"}),o.jsx(kn,{placeholder:"Type the message you want help improving...",value:a,onChange:w=>i(w.target.value),rows:3})]}),o.jsx(H,{onClick:y,disabled:u,className:"w-full",children:u?o.jsxs(o.Fragment,{children:[o.jsx(wn,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating Suggestions..."]}):"Generate Message Suggestions"})]})]}),l.length>0&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Suggested Messages"}),l.map((w,p)=>o.jsxs(W,{children:[o.jsx(Z,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Se,{className:g(w.tone),children:[w.tone.charAt(0).toUpperCase()+w.tone.slice(1)," Tone"]}),o.jsxs(H,{variant:"outline",size:"sm",onClick:()=>b(w.message),children:[o.jsx(Kk,{className:"w-4 h-4 mr-2"}),"Copy"]})]})}),o.jsx(Y,{children:o.jsxs("p",{className:"text-muted-foreground italic",children:['"',w.message,'"']})})]},p))]})]})},l$=()=>{var g,w;const{user:e,isPremium:t}=Oe(),[r,n]=f.useState(null),[s,a]=f.useState([]),[i,l]=f.useState(!1),[c,u]=f.useState(!1),[d,h]=f.useState("current");f.useEffect(()=>{e&&t&&m()},[e,t]);const m=async()=>{if(e){l(!0);try{const v=await fetch(`https://heartlift-launch.emergent.host/api/insights/reports/${e.id}`);if(v.ok){const x=await v.json();x&&x.length>0&&(n(x[0]),a(x))}}catch(p){console.error("Error loading reports:",p)}finally{l(!1)}}},y=async()=>{if(e){u(!0);try{Ne.info("Analyzing your conversations and generating personalised insights...");const p="https://heartlift-launch.emergent.host",v=await fetch(`${p}/api/ai/insights`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e.id})});if(!v.ok){const N=await v.text();throw console.error("Backend error response:",N),new Error(`Failed to generate insights: ${v.statusText}`)}const x=await v.json();console.log("Received insights from backend:",x);const j=await fetch(`${p}/api/insights/save`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e.id,insights:x,conversation_count:x.conversationCount||0,mood_entries_analyzed:x.moodEntriesAnalyzed||0,attachment_style:x.attachmentStyle||"exploring",healing_progress_score:x.healingProgressScore||65,analysis_period_start:new Date(Date.now()-30*24*60*60*1e3).toISOString(),analysis_period_end:new Date().toISOString()})});if(j.ok){const N=await j.json();console.log("Report saved successfully:",N),n(N),await m(),Ne.success("Your personalised insights are ready and saved!")}else{console.error("Failed to save report");const N={id:`temp-${Date.now()}`,report_type:"comprehensive",insights:x,conversation_count:x.conversationCount||0,mood_entries_analyzed:x.moodEntriesAnalyzed||0,attachment_style:x.attachmentStyle||"exploring",healing_progress_score:x.healingProgressScore||65,analysis_period_start:new Date(Date.now()-30*24*60*60*1e3).toISOString(),analysis_period_end:new Date().toISOString(),created_at:new Date().toISOString()};n(N),Ne.success("Your personalised insights are ready!")}}catch(p){console.error("Error generating insights:",p),Ne.error(`Failed to generate insights: ${p instanceof Error?p.message:"Unknown error"}`)}finally{u(!1)}}},b=p=>{var S,_,E,I,k,z;const v=`
Personal Relationship Insights Report
Generated: ${new Date(p.created_at).toLocaleDateString()}
Analysis Period: ${new Date(p.analysis_period_start).toLocaleDateString()} - ${new Date(p.analysis_period_end).toLocaleDateString()}

ATTACHMENT STYLE: ${p.attachment_style}
HEALING PROGRESS: ${p.healing_progress_score}%

DATA ANALYSED:
 ${p.conversation_count} conversations
 ${p.mood_entries_analysed} mood tracking entries

INSIGHTS SUMMARY:

COMMUNICATION STYLE: ${p.insights.communicationStyle||"Not analysed"}

KEY INSIGHTS:
Strengths:
${(((S=p.insights.keyInsights)==null?void 0:S.strengths)||[]).map(A=>` ${A}`).join(`
`)}

Areas for Growth:
${(((_=p.insights.keyInsights)==null?void 0:_.areasForGrowth)||[]).map(A=>` ${A}`).join(`
`)}

Progress Signs:
${(((E=p.insights.keyInsights)==null?void 0:E.progressSigns)||[]).map(A=>` ${A}`).join(`
`)}

MOOD TRENDS:
Pattern: ${((I=p.insights.moodTrends)==null?void 0:I.pattern)||"Not analysed"}
Triggers: ${(((k=p.insights.moodTrends)==null?void 0:k.triggers)||[]).join(", ")}
Improvements: ${(((z=p.insights.moodTrends)==null?void 0:z.improvements)||[]).join(", ")}

PERSONALISED RECOMMENDATIONS:
${(p.insights.personalisedRecommendations||[]).map(A=>`${A.category}: ${A.recommendation}
Why: ${A.why}
`).join(`
`)}

NEXT STEPS:
${(p.insights.nextSteps||[]).map(A=>` ${A}`).join(`
`)}

This report was generated by AI analysis of your conversations with HeartLift coaches and mood tracking data.
    `,x=new Blob([v],{type:"text/plain"}),j=URL.createObjectURL(x),N=document.createElement("a");N.href=j,N.download=`heartlift-insights-${new Date(p.created_at).toISOString().split("T")[0]}.txt`,document.body.appendChild(N),N.click(),document.body.removeChild(N),URL.revokeObjectURL(j),Ne.success("Report downloaded!")};return t?o.jsx("div",{className:"space-y-4 sm:space-y-6 px-4 sm:px-0",children:o.jsxs(W,{children:[o.jsxs(Z,{className:"p-4 sm:p-6",children:[o.jsxs(ee,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[o.jsx(Yr,{className:"w-5 h-5 text-primary"}),"Personalised Insights & Reports"]}),o.jsx(qe,{className:"text-sm sm:text-base",children:"AI-powered analysis of your relationship patterns and emotional growth"})]}),o.jsxs(Y,{className:"p-4 sm:p-6 pt-0",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 mb-4 sm:mb-6",children:[o.jsxs(H,{onClick:y,disabled:c,className:"flex items-center justify-center gap-2 w-full sm:w-auto",size:"lg",children:[o.jsx(Zs,{className:`w-4 h-4 ${c?"animate-spin":""}`}),c?"Generating...":"Generate New Insights"]}),r&&o.jsxs(H,{variant:"outline",onClick:()=>b(r),className:"flex items-center justify-center gap-2 w-full sm:w-auto",size:"lg",children:[o.jsx(Uc,{className:"w-4 h-4"}),"Download Report"]})]}),i&&o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsx(Zs,{className:"w-6 h-6 animate-spin text-primary"})}),o.jsxs(Hp,{value:d,onValueChange:h,className:"w-full",children:[o.jsxs(td,{className:"grid w-full grid-cols-2",children:[o.jsx(yn,{value:"current",children:"Current Report"}),o.jsx(yn,{value:"history",children:"Report History"})]}),o.jsx(vn,{value:"current",className:"space-y-4",children:r&&!i?o.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[o.jsxs(W,{children:[o.jsx(Z,{className:"pb-3 p-4 sm:p-6",children:o.jsxs(ee,{className:"text-base sm:text-lg flex items-center gap-2",children:[o.jsx(pe,{className:"w-4 h-4 text-pink-500"}),"Attachment Style"]})}),o.jsx(Y,{className:"p-4 sm:p-6 pt-0",children:o.jsx("p",{className:"font-medium text-primary text-sm sm:text-base",children:r.attachment_style})})]}),o.jsxs(W,{children:[o.jsx(Z,{className:"pb-3 p-4 sm:p-6",children:o.jsxs(ee,{className:"text-base sm:text-lg flex items-center gap-2",children:[o.jsx(fa,{className:"w-4 h-4 text-green-500"}),"Healing Progress"]})}),o.jsx(Y,{className:"p-4 sm:p-6 pt-0",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"flex-1 bg-secondary rounded-full h-2",children:o.jsx("div",{className:"bg-gradient-to-r from-primary to-primary-glow h-2 rounded-full transition-all duration-500",style:{width:`${r.healing_progress_score}%`}})}),o.jsxs("span",{className:"font-medium text-sm sm:text-base",children:[r.healing_progress_score,"%"]})]})})]}),o.jsxs(W,{className:"lg:col-span-2 bg-gradient-to-br from-primary/5 via-primary/3 to-background border-primary/20",children:[o.jsx(Z,{className:"pb-3 p-4 sm:p-6",children:o.jsxs(ee,{className:"text-base sm:text-lg flex items-center gap-2",children:[o.jsx(Yr,{className:"w-4 h-4 text-purple-500"}),"Analysis Details"]})}),o.jsx(Y,{className:"p-4 sm:p-6 pt-0",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex flex-col items-center p-4 rounded-xl bg-background/50 backdrop-blur-sm border",children:[o.jsx(yt,{className:"w-6 h-6 text-primary mb-2"}),o.jsx("span",{className:"text-2xl font-bold text-primary",children:r.conversation_count}),o.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:"Conversations Analysed"})]}),o.jsxs("div",{className:"flex flex-col items-center p-4 rounded-xl bg-background/50 backdrop-blur-sm border",children:[o.jsx(pe,{className:"w-6 h-6 text-pink-500 mb-2"}),o.jsx("span",{className:"text-2xl font-bold text-pink-500",children:r.mood_entries_analyzed}),o.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:"Mood Entries"})]})]})})]}),o.jsxs(W,{className:"lg:col-span-2",children:[o.jsx(Z,{className:"pb-3 p-4 sm:p-6",children:o.jsx(ee,{className:"text-base sm:text-lg",children:"Emotional Patterns"})}),o.jsx(Y,{className:"p-4 sm:p-6 pt-0",children:o.jsx("ul",{className:"space-y-2 sm:space-y-3",children:(r.insights.emotionalPatterns||[]).map((p,v)=>o.jsxs("li",{className:"flex items-start gap-3 p-2 rounded-lg bg-muted/30",children:[o.jsx("span",{className:"w-1.5 h-1.5 bg-primary rounded-full mt-2 flex-shrink-0"}),o.jsx("span",{className:"text-sm sm:text-base leading-relaxed",children:p})]},v))})})]}),o.jsxs(W,{className:"lg:col-span-2",children:[o.jsx(Z,{className:"pb-3 p-4 sm:p-6",children:o.jsx(ee,{className:"text-base sm:text-lg",children:"Key Insights"})}),o.jsxs(Y,{className:"space-y-4 p-4 sm:p-6 pt-0",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-2 text-green-600 text-sm sm:text-base",children:"Strengths"}),o.jsx("ul",{className:"space-y-2",children:(((g=r.insights.keyInsights)==null?void 0:g.strengths)||[]).map((p,v)=>o.jsxs("li",{className:"text-sm sm:text-base p-2 rounded-lg bg-green-50 flex items-start gap-2",children:[o.jsx(ha,{className:"w-3 h-3 sm:w-4 sm:h-4 mt-0.5 text-green-500 flex-shrink-0"}),o.jsx("span",{className:"leading-relaxed",children:p})]},v))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-2 text-orange-600 text-sm sm:text-base",children:"Areas for Growth"}),o.jsx("ul",{className:"space-y-2",children:(((w=r.insights.keyInsights)==null?void 0:w.areasForGrowth)||[]).map((p,v)=>o.jsxs("li",{className:"text-sm sm:text-base p-2 rounded-lg bg-orange-50 flex items-start gap-2",children:[o.jsx(It,{className:"w-3 h-3 sm:w-4 sm:h-4 mt-0.5 text-orange-500 flex-shrink-0"}),o.jsx("span",{className:"leading-relaxed",children:p})]},v))})]})]})]}),o.jsxs(W,{className:"lg:col-span-2",children:[o.jsx(Z,{className:"pb-3 p-4 sm:p-6",children:o.jsx(ee,{className:"text-base sm:text-lg",children:"Personalised Recommendations"})}),o.jsx(Y,{className:"p-4 sm:p-6 pt-0",children:o.jsx("div",{className:"space-y-3 sm:space-y-4",children:(r.insights.personalizedRecommendations||r.insights.personalisedRecommendations||[]).map((p,v)=>o.jsxs("div",{className:"border rounded-lg p-3 sm:p-4 bg-muted/20",children:[o.jsx("div",{className:"flex items-center gap-2 mb-2",children:o.jsx(Se,{variant:"outline",className:"text-xs sm:text-sm",children:p.category})}),o.jsx("p",{className:"font-medium mb-2 text-sm sm:text-base leading-relaxed",children:p.recommendation}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground leading-relaxed",children:p.why})]},v))})})]}),o.jsxs(W,{className:"lg:col-span-2",children:[o.jsx(Z,{className:"pb-3 p-4 sm:p-6",children:o.jsxs(ee,{className:"text-base sm:text-lg flex items-center gap-2",children:[o.jsx(yt,{className:"w-4 h-4 text-blue-500"}),"Analysis Details"]})}),o.jsx(Y,{className:"p-4 sm:p-6 pt-0",children:o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm sm:text-base",children:[o.jsxs("div",{className:"p-3 rounded-lg bg-muted/30 text-center sm:text-left",children:[o.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"Conversations Analysed"}),o.jsx("p",{className:"font-medium text-lg sm:text-xl",children:r.conversation_count})]}),o.jsxs("div",{className:"p-3 rounded-lg bg-muted/30 text-center sm:text-left",children:[o.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"Mood Entries"}),o.jsx("p",{className:"font-medium text-lg sm:text-xl",children:r.mood_entries_analysed})]}),o.jsxs("div",{className:"p-3 rounded-lg bg-muted/30 text-center sm:text-left",children:[o.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"Generated"}),o.jsx("p",{className:"font-medium text-lg sm:text-xl",children:new Date(r.created_at).toLocaleDateString()})]})]})})]})]}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Yr,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:'No insights generated yet. Click "Generate New Insights" to create your personalised report based on your conversations with coaches.'})]})}),o.jsx(vn,{value:"history",className:"space-y-4",children:s&&s.length>0?o.jsx("div",{className:"space-y-4",children:s.map(p=>o.jsx(W,{className:"bg-gradient-to-br from-primary/5 to-background hover:shadow-lg transition-shadow border-primary/10",children:o.jsx(Z,{className:"pb-3",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex items-start justify-between gap-4",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs(ee,{className:"text-lg flex items-center gap-2",children:[o.jsx(Yr,{className:"w-5 h-5 text-primary"}),"Report from ",new Date(p.created_at).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]}),o.jsxs(qe,{className:"flex flex-wrap items-center gap-3 mt-3",children:[o.jsxs("span",{className:"flex items-center gap-1.5 px-2 py-1 bg-background/50 rounded-lg",children:[o.jsx(Wo,{className:"w-3 h-3 text-blue-500"}),o.jsxs("span",{className:"text-xs",children:[p.conversation_count," chats"]})]}),o.jsxs("span",{className:"flex items-center gap-1.5 px-2 py-1 bg-background/50 rounded-lg",children:[o.jsx(pe,{className:"w-3 h-3 text-pink-500"}),o.jsxs("span",{className:"text-xs",children:[p.mood_entries_analyzed," moods"]})]}),o.jsx(Se,{variant:"outline",className:"capitalize",children:p.attachment_style})]})]})}),o.jsxs("div",{className:"space-y-3 p-3 bg-background/30 rounded-xl",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fa,{className:"w-4 h-4 text-green-500"}),o.jsxs("span",{className:"text-sm font-medium",children:["Progress: ",p.healing_progress_score,"%"]})]}),o.jsxs("div",{className:"flex gap-2 w-full",children:[o.jsxs(H,{variant:"outline",size:"sm",onClick:()=>b(p),className:"h-9 flex-1",children:[o.jsx(Uc,{className:"w-3 h-3 mr-1.5"}),"Download"]}),o.jsx(H,{variant:"default",size:"sm",onClick:()=>{n(p),h("current")},className:"h-9 flex-1",children:"View Details"})]})]})]})})},p.id))}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx(yt,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"No report history available."})]})})]})]})]})}):o.jsxs(W,{children:[o.jsxs(Z,{children:[o.jsxs(ee,{className:"flex items-center gap-2",children:[o.jsx(Yr,{className:"w-5 h-5"}),"Personalised Insights & Reports"]}),o.jsx(qe,{children:"Unlock deep analysis of your relationship patterns and emotional growth"})]}),o.jsxs(Y,{children:[o.jsx("p",{className:"text-muted-foreground mb-4",children:"Premium feature - Get personalised insights based on your conversations and mood data."}),o.jsx(H,{variant:"warm",onClick:()=>{const p=window.location.pathname+window.location.search;window.location.href=`/premium-purchase?from=${encodeURIComponent(p)}`},children:"Upgrade to Premium"})]})]})};function c$(){const{user:e}=Oe(),[t,r]=f.useState(""),[n,s]=f.useState(!1),[a,i]=f.useState(null),[l,c]=f.useState([]),[u,d]=f.useState(!1),[h,m]=f.useState(0),[y,b]=f.useState(!1),[g,w]=f.useState(!0);f.useEffect(()=>{e!=null&&e.id&&p()},[e==null?void 0:e.id]);const p=async()=>{if(e!=null&&e.id)try{const k=new Date;k.setHours(0,0,0,0);const{count:z}=await J.from("heart_visions").select("*",{count:"exact",head:!0}).eq("user_id",e.id).gte("created_at",k.toISOString());m(z||0)}catch(k){console.error("Error loading daily count:",k)}},v=async(k=!1)=>{if(e!=null&&e.id)try{b(!0);const z=k?l.length:0,A=6,{data:L,error:R}=await J.from("heart_visions").select("id, image_url, caption, prompt, created_at").eq("user_id",e.id).order("created_at",{ascending:!1}).range(z,z+A-1);if(R){console.error("Error loading gallery:",R);return}if(L){const B=L.map(D=>({id:D.id,url:D.image_url,caption:D.caption||"",prompt:D.prompt,timestamp:new Date(D.created_at).getTime()}));c(k?D=>[...D,...B]:B),w(L.length===A)}}catch(z){console.error("Error loading gallery:",z)}finally{b(!1)}},x=()=>{var k;return(k=e==null?void 0:e.user_metadata)!=null&&k.full_name?e.user_metadata.full_name.split(" ")[0]:"friend"},j=async()=>{if(!t.trim()){Ne.error("Please enter what you'd like to visualise");return}if(h>=2){Ne.error("You've reached your daily limit of 2 images. Come back tomorrow to create more!");return}s(!0),i(null);try{const z=await fetch("https://heartlift-launch.emergent.host/api/ai/heart-vision",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:t.trim(),user_name:x()})});if(!z.ok){const R=await z.json().catch(()=>({}));throw new Error(R.detail||`Failed to generate image: ${z.statusText}`)}const A=await z.json();if(!(A!=null&&A.image_base64))throw new Error("No image data in response");const L=`data:image/png;base64,${A.image_base64}`;i({url:L,caption:A.caption}),m(R=>R+1),Ne.success("Your vision has been created!")}catch(k){console.error("Error generating image:",k),Ne.error(k instanceof Error?k.message:"Unable to generate your vision. Please try again.")}finally{s(!1)}},N=[`Here's what that feeling might look like, ${x()}.`,"This image reflects your intention beautifully.","Take a moment with this  does it capture your emotion?",`Beautiful, ${x()}. Let this vision guide your heart.`,"Your feelings, visualised. What do you notice?"],S=()=>N[Math.floor(Math.random()*N.length)],_=async()=>{if(!a||!t||!(e!=null&&e.id))return;const{data:k,error:z}=await J.from("heart_visions").insert({user_id:e.id,image_url:a.url,prompt:t,caption:a.caption}).select().single();if(z){console.error("Error saving vision:",z),Ne.error("Failed to save vision");return}if(k){const A={id:k.id,url:k.image_url,caption:k.caption,prompt:k.prompt,timestamp:new Date(k.created_at).getTime()};c([A,...l]),Ne.success("Vision saved to gallery!")}},E=async k=>{const{error:z}=await J.from("heart_visions").delete().eq("id",k);if(z){console.error("Error deleting vision:",z),Ne.error("Failed to remove vision");return}c(l.filter(A=>A.id!==k)),Ne.success("Vision removed from gallery")},I=()=>{r(""),i(null)};return o.jsxs(W,{children:[o.jsx(Z,{className:"space-y-4 pb-4",children:o.jsxs("div",{className:"flex items-start gap-3 sm:items-center",children:[o.jsx("div",{className:"p-2 rounded-full bg-gradient-to-r from-primary to-primary-glow shrink-0",children:o.jsx(uc,{className:"w-5 h-5 text-primary-foreground"})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ee,{className:"text-xl sm:text-2xl",children:"HeartVisions"}),o.jsxs(qe,{className:"text-sm sm:text-base leading-relaxed",children:["Create your own emotional visuals. Type what you'd like to see, and HeartVisions will generate a personalised image that captures your feelings or intentions.",o.jsxs("span",{className:"block mt-2 text-xs font-medium",children:["You get 2 images per day  ",h,"/2 used today"]})]})]})]})}),o.jsxs(Y,{className:"space-y-6",children:[o.jsxs("div",{className:"flex gap-2 mb-4",children:[o.jsxs(H,{onClick:()=>d(!1),variant:u?"outline":"default",size:"sm",children:[o.jsx(uc,{className:"w-4 h-4 mr-2"}),"Create"]}),o.jsxs(H,{onClick:()=>{d(!0),v()},variant:u?"default":"outline",size:"sm",children:[o.jsx(Ny,{className:"w-4 h-4 mr-2"}),"Gallery"]})]}),u?o.jsxs("div",{className:"space-y-4",children:[l.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(Ny,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),o.jsx("p",{children:"No saved visions yet"}),o.jsx("p",{className:"text-sm",children:"Create and save your first vision to see it here"})]}):o.jsx("div",{className:"grid gap-4",children:l.map(k=>o.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-start gap-2",children:[o.jsxs("p",{className:"text-sm text-muted-foreground italic flex-1",children:['"',k.prompt,'"']}),o.jsx(H,{onClick:()=>E(k.id),variant:"ghost",size:"sm",className:"shrink-0",children:"Remove"})]}),o.jsx("div",{className:"rounded-lg overflow-hidden border shadow-lg",children:o.jsx("img",{src:k.url,alt:k.prompt,className:"w-full h-auto"})}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("p",{className:"text-xs text-muted-foreground",children:[new Date(k.timestamp).toLocaleDateString()," at"," ",new Date(k.timestamp).toLocaleTimeString()]}),o.jsxs(H,{onClick:async()=>{try{if("Capacitor"in window){const{Filesystem:z,Directory:A}=await to(async()=>{const{Filesystem:P,Directory:U}=await import("./index-D3DHscpS.js");return{Filesystem:P,Directory:U}},__vite__mapDeps([0,1])),{Share:L}=await to(async()=>{const{Share:P}=await import("./index-C3XPwrPc.js");return{Share:P}},__vite__mapDeps([2,1])),B=await(await fetch(k.url)).blob(),D=await new Promise(P=>{const U=new FileReader;U.onloadend=()=>P(U.result),U.readAsDataURL(B)}),O=`heartvision-${new Date(k.timestamp).getTime()}.png`,C=await z.writeFile({path:O,data:D,directory:A.Cache});await L.share({title:"Save HeartVision",text:"Save this image to your photos",url:C.uri,dialogTitle:"Save to Photos"}),Ne({title:"Image ready!",description:"Tap 'Save Image' to add to your photos"})}else{const A=await(await fetch(k.url)).blob(),L=window.URL.createObjectURL(A),R=document.createElement("a");R.href=L,R.download=`heartvision-${new Date(k.timestamp).getTime()}.png`,document.body.appendChild(R),R.click(),document.body.removeChild(R),window.URL.revokeObjectURL(L),Ne({title:"Downloaded!",description:"Image saved to downloads"})}}catch(z){console.error("Download error:",z),Ne({title:"Download failed",description:"Please try again",variant:"destructive"})}},variant:"outline",size:"sm",className:"gap-2",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),o.jsx("polyline",{points:"7 10 12 15 17 10"}),o.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Download"]})]})]},k.id))}),l.length>0&&g&&o.jsx("div",{className:"flex justify-center mt-6",children:o.jsx(H,{onClick:()=>v(!0),disabled:y,variant:"outline",className:"w-full max-w-xs",children:y?"Loading...":"Load More Images"})})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{htmlFor:"vision-prompt",className:"text-sm font-medium block",children:"What would you like to visualise today?"}),o.jsx(kn,{id:"vision-prompt",placeholder:"a peaceful sunrise over calm water",value:t,onChange:k=>r(k.target.value),className:"min-h-[100px] resize-none",disabled:n})]}),o.jsx(H,{onClick:j,disabled:n||!t.trim(),className:"w-full",size:"lg",children:n?o.jsxs(o.Fragment,{children:[o.jsx(wn,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating your vision..."]}):o.jsxs(o.Fragment,{children:[o.jsx(uc,{className:"w-4 h-4 mr-2"}),"Generate Vision"]})})]}),n&&o.jsx("div",{className:"space-y-4 animate-in fade-in duration-500",children:o.jsxs("div",{className:"p-8 rounded-lg bg-muted/50 border text-center",children:[o.jsx(wn,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-primary"}),o.jsx("p",{className:"text-lg font-medium mb-2",children:"Generating your image"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Creating a visual that captures your feelings..."})]})}),a&&!n&&o.jsxs("div",{className:"space-y-4 animate-in fade-in duration-500",children:[o.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border",children:[o.jsx("p",{className:"text-sm text-muted-foreground italic mb-3",children:a.caption||S()}),o.jsx("div",{className:"rounded-lg overflow-hidden border shadow-lg",children:o.jsx("img",{src:a.url,alt:"Your emotional vision",className:"w-full h-auto"})})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[o.jsxs(H,{onClick:_,variant:"outline",className:"flex-1",size:"lg",children:[o.jsx(pe,{className:"w-4 h-4 mr-2"}),"Save to Gallery"]}),o.jsxs(H,{onClick:I,variant:"default",className:"flex-1",size:"lg",children:[o.jsx(Zs,{className:"w-4 h-4 mr-2"}),"Generate Another"]})]})]})]})]})]})}function u$(){const{user:e,isPremium:t}=Oe(),r=at(),[n,s]=f.useState("quiz");return e?t?o.jsx("div",{className:"min-h-screen bg-gradient-subtle",children:o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsx("div",{className:"mt-4 mb-8",children:o.jsxs(H,{variant:"outline",onClick:()=>r("/?tab=coaches",{replace:!0}),className:"flex items-center gap-2",children:[o.jsx($r,{className:"w-4 h-4"}),"Coaches"]})}),o.jsx(W,{className:"mb-8 overflow-hidden border-2 shadow-xl",children:o.jsxs("div",{className:"bg-gradient-to-br from-primary/10 via-primary/5 to-background p-8 text-center space-y-6",children:[o.jsx("div",{className:"flex items-center justify-center gap-2",children:o.jsx("div",{className:"p-4 rounded-2xl bg-gradient-to-r from-primary to-primary-glow shadow-2xl animate-pulse",children:o.jsx(Ue,{className:"w-12 h-12 text-primary-foreground"})})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-center gap-3",children:[o.jsx("h1",{className:"text-4xl sm:text-5xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"Advanced Tools"}),o.jsx(Se,{variant:"default",className:"bg-gradient-to-r from-primary to-primary-glow text-primary-foreground px-4 py-1 text-sm",children:"Premium"})]}),o.jsx("p",{className:"text-xl font-semibold text-foreground",children:"Unlock deeper insights into your relationship patterns"})]}),o.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"Discover your attachment style, analyse conversations, get personalised text suggestions, and access guided programs designed to help you build healthier, more fulfilling relationships."})]})}),o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 mb-8",children:[o.jsxs(H,{variant:n==="quiz"?"default":"outline",onClick:()=>s("quiz"),className:"h-auto py-4 flex flex-col items-center gap-2 hover:scale-105 transition-transform",children:[o.jsx(pe,{className:"w-6 h-6"}),o.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Attachment Quiz"})]}),o.jsxs(H,{variant:n==="analyser"?"default":"outline",onClick:()=>s("analyser"),className:"h-auto py-4 flex flex-col items-center gap-2 hover:scale-105 transition-transform",children:[o.jsx(rn,{className:"w-6 h-6"}),o.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Conversation Analyser"})]}),o.jsxs(H,{variant:n==="suggestions"?"default":"outline",onClick:()=>s("suggestions"),className:"h-auto py-4 flex flex-col items-center gap-2 hover:scale-105 transition-transform",children:[o.jsx(cc,{className:"w-6 h-6"}),o.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Text Helper"})]}),o.jsxs(H,{variant:n==="insights"?"default":"outline",onClick:()=>s("insights"),className:"h-auto py-4 flex flex-col items-center gap-2 hover:scale-105 transition-transform",children:[o.jsx(Yr,{className:"w-6 h-6"}),o.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Insights & Reports"})]}),o.jsxs(H,{variant:n==="programs"?"default":"outline",onClick:()=>s("programs"),className:"h-auto py-4 flex flex-col items-center gap-2 hover:scale-105 transition-transform",children:[o.jsx(dr,{className:"w-6 h-6"}),o.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Guided Programs"})]}),o.jsxs(H,{variant:n==="heartvisions"?"default":"outline",onClick:()=>s("heartvisions"),className:"h-auto py-4 flex flex-col items-center gap-2 hover:scale-105 transition-transform",children:[o.jsx(uc,{className:"w-6 h-6"}),o.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"HeartVisions"})]})]}),o.jsxs("div",{className:"max-w-4xl mx-auto",children:[n==="quiz"&&o.jsx(k3,{}),n==="analyser"&&o.jsx(R3,{}),n==="suggestions"&&o.jsx(i$,{}),n==="insights"&&o.jsx(l$,{}),n==="programs"&&o.jsx(P3,{}),n==="heartvisions"&&o.jsx(c$,{})]})]})}):o.jsx("div",{className:"min-h-screen bg-gradient-subtle flex items-center justify-center p-4",children:o.jsxs(W,{className:"p-8 text-center max-w-md mx-auto",children:[o.jsx(Ue,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),o.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Premium Required"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"Upgrade to premium to access advanced psychological tools and insights."}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(H,{variant:"outline",onClick:()=>window.location.href="/",children:"Return to Home"}),o.jsx(H,{variant:"warm",onClick:()=>{const a=window.location.pathname+window.location.search;window.location.href=`/premium-purchase?from=${encodeURIComponent(a)}`},children:"Upgrade to Premium"})]})]})}):o.jsx(tj,{to:"/auth",replace:!0})}const d$=sl("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ud=f.forwardRef(({className:e,variant:t,...r},n)=>o.jsx("div",{ref:n,role:"alert",className:ie(d$({variant:t}),e),...r}));ud.displayName="Alert";const h$=f.forwardRef(({className:e,...t},r)=>o.jsx("h5",{ref:r,className:ie("mb-1 font-medium leading-none tracking-tight",e),...t}));h$.displayName="AlertTitle";const dd=f.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ie("text-sm [&_p]:leading-relaxed",e),...t}));dd.displayName="AlertDescription";var f$=Object.defineProperty,m$=Object.defineProperties,p$=Object.getOwnPropertyDescriptors,ou=Object.getOwnPropertySymbols,s_=Object.prototype.hasOwnProperty,o_=Object.prototype.propertyIsEnumerable,Yv=(e,t,r)=>t in e?f$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,g$=(e,t)=>{for(var r in t||(t={}))s_.call(t,r)&&Yv(e,r,t[r]);if(ou)for(var r of ou(t))o_.call(t,r)&&Yv(e,r,t[r]);return e},y$=(e,t)=>m$(e,p$(t)),v$=(e,t)=>{var r={};for(var n in e)s_.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&ou)for(var n of ou(e))t.indexOf(n)<0&&o_.call(e,n)&&(r[n]=e[n]);return r};function x$(e){let t=setTimeout(e,0),r=setTimeout(e,10),n=setTimeout(e,50);return[t,r,n]}function w$(e){let t=f.useRef();return f.useEffect(()=>{t.current=e}),t.current}var b$=18,a_=40,j$=`${a_}px`,N$=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function S$({containerRef:e,inputRef:t,pushPasswordManagerStrategy:r,isFocused:n}){let[s,a]=f.useState(!1),[i,l]=f.useState(!1),[c,u]=f.useState(!1),d=f.useMemo(()=>r==="none"?!1:(r==="increase-width"||r==="experimental-no-flickering")&&s&&i,[s,i,r]),h=f.useCallback(()=>{let m=e.current,y=t.current;if(!m||!y||c||r==="none")return;let b=m,g=b.getBoundingClientRect().left+b.offsetWidth,w=b.getBoundingClientRect().top+b.offsetHeight/2,p=g-b$,v=w;document.querySelectorAll(N$).length===0&&document.elementFromPoint(p,v)===m||(a(!0),u(!0))},[e,t,c,r]);return f.useEffect(()=>{let m=e.current;if(!m||r==="none")return;function y(){let g=window.innerWidth-m.getBoundingClientRect().right;l(g>=a_)}y();let b=setInterval(y,1e3);return()=>{clearInterval(b)}},[e,r]),f.useEffect(()=>{let m=n||document.activeElement===t.current;if(r==="none"||!m)return;let y=setTimeout(h,0),b=setTimeout(h,2e3),g=setTimeout(h,5e3),w=setTimeout(()=>{u(!0)},6e3);return()=>{clearTimeout(y),clearTimeout(b),clearTimeout(g),clearTimeout(w)}},[t,n,r,h]),{hasPWMBadge:s,willPushPWMBadge:d,PWM_BADGE_SPACE_WIDTH:j$}}var i_=f.createContext({}),l_=f.forwardRef((e,t)=>{var r=e,{value:n,onChange:s,maxLength:a,textAlign:i="left",pattern:l,placeholder:c,inputMode:u="numeric",onComplete:d,pushPasswordManagerStrategy:h="increase-width",pasteTransformer:m,containerClassName:y,noScriptCSSFallback:b=_$,render:g,children:w}=r,p=v$(r,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),v,x,j,N,S;let[_,E]=f.useState(typeof p.defaultValue=="string"?p.defaultValue:""),I=n??_,k=w$(I),z=f.useCallback(ne=>{s==null||s(ne),E(ne)},[s]),A=f.useMemo(()=>l?typeof l=="string"?new RegExp(l):l:null,[l]),L=f.useRef(null),R=f.useRef(null),B=f.useRef({value:I,onChange:z,isIOS:typeof window<"u"&&((x=(v=window==null?void 0:window.CSS)==null?void 0:v.supports)==null?void 0:x.call(v,"-webkit-touch-callout","none"))}),D=f.useRef({prev:[(j=L.current)==null?void 0:j.selectionStart,(N=L.current)==null?void 0:N.selectionEnd,(S=L.current)==null?void 0:S.selectionDirection]});f.useImperativeHandle(t,()=>L.current,[]),f.useEffect(()=>{let ne=L.current,ce=R.current;if(!ne||!ce)return;B.current.value!==ne.value&&B.current.onChange(ne.value),D.current.prev=[ne.selectionStart,ne.selectionEnd,ne.selectionDirection];function Pe(){if(document.activeElement!==ne){V(null),X(null);return}let je=ne.selectionStart,Ct=ne.selectionEnd,ho=ne.selectionDirection,Me=ne.maxLength,Ft=ne.value,wr=D.current.prev,Fr=-1,Yt=-1,an;if(Ft.length!==0&&je!==null&&Ct!==null){let ml=je===Ct,Tn=je===Ft.length&&Ft.length<Me;if(ml&&!Tn){let ln=je;if(ln===0)Fr=0,Yt=1,an="forward";else if(ln===Me)Fr=ln-1,Yt=ln,an="backward";else if(Me>1&&Ft.length>1){let Da=0;if(wr[0]!==null&&wr[1]!==null){an=ln<wr[1]?"backward":"forward";let pl=wr[0]===wr[1]&&wr[0]<Me;an==="backward"&&!pl&&(Da=-1)}Fr=Da+ln,Yt=Da+ln+1}}Fr!==-1&&Yt!==-1&&Fr!==Yt&&L.current.setSelectionRange(Fr,Yt,an)}let Oa=Fr!==-1?Fr:je,fo=Yt!==-1?Yt:Ct,Rn=an??ho;V(Oa),X(fo),D.current.prev=[Oa,fo,Rn]}if(document.addEventListener("selectionchange",Pe,{capture:!0}),Pe(),document.activeElement===ne&&U(!0),!document.getElementById("input-otp-style")){let je=document.createElement("style");if(je.id="input-otp-style",document.head.appendChild(je),je.sheet){let Ct="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";Ka(je.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),Ka(je.sheet,`[data-input-otp]:autofill { ${Ct} }`),Ka(je.sheet,`[data-input-otp]:-webkit-autofill { ${Ct} }`),Ka(je.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),Ka(je.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let ze=()=>{ce&&ce.style.setProperty("--root-height",`${ne.clientHeight}px`)};ze();let mt=new ResizeObserver(ze);return mt.observe(ne),()=>{document.removeEventListener("selectionchange",Pe,{capture:!0}),mt.disconnect()}},[]);let[O,C]=f.useState(!1),[P,U]=f.useState(!1),[$,V]=f.useState(null),[M,X]=f.useState(null);f.useEffect(()=>{x$(()=>{var ne,ce,Pe,ze;(ne=L.current)==null||ne.dispatchEvent(new Event("input"));let mt=(ce=L.current)==null?void 0:ce.selectionStart,je=(Pe=L.current)==null?void 0:Pe.selectionEnd,Ct=(ze=L.current)==null?void 0:ze.selectionDirection;mt!==null&&je!==null&&(V(mt),X(je),D.current.prev=[mt,je,Ct])})},[I,P]),f.useEffect(()=>{k!==void 0&&I!==k&&k.length<a&&I.length===a&&(d==null||d(I))},[a,d,k,I]);let oe=S$({containerRef:R,inputRef:L,pushPasswordManagerStrategy:h,isFocused:P}),ue=f.useCallback(ne=>{let ce=ne.currentTarget.value.slice(0,a);if(ce.length>0&&A&&!A.test(ce)){ne.preventDefault();return}typeof k=="string"&&ce.length<k.length&&document.dispatchEvent(new Event("selectionchange")),z(ce)},[a,z,k,A]),T=f.useCallback(()=>{var ne;if(L.current){let ce=Math.min(L.current.value.length,a-1),Pe=L.current.value.length;(ne=L.current)==null||ne.setSelectionRange(ce,Pe),V(ce),X(Pe)}U(!0)},[a]),G=f.useCallback(ne=>{var ce,Pe;let ze=L.current;if(!m&&(!B.current.isIOS||!ne.clipboardData||!ze))return;let mt=ne.clipboardData.getData("text/plain"),je=m?m(mt):mt;ne.preventDefault();let Ct=(ce=L.current)==null?void 0:ce.selectionStart,ho=(Pe=L.current)==null?void 0:Pe.selectionEnd,Me=(Ct!==ho?I.slice(0,Ct)+je+I.slice(ho):I.slice(0,Ct)+je+I.slice(Ct)).slice(0,a);if(Me.length>0&&A&&!A.test(Me))return;ze.value=Me,z(Me);let Ft=Math.min(Me.length,a-1),wr=Me.length;ze.setSelectionRange(Ft,wr),V(Ft),X(wr)},[a,z,A,I]),te=f.useMemo(()=>({position:"relative",cursor:p.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[p.disabled]),le=f.useMemo(()=>({position:"absolute",inset:0,width:oe.willPushPWMBadge?`calc(100% + ${oe.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:oe.willPushPWMBadge?`inset(0 ${oe.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:i,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[oe.PWM_BADGE_SPACE_WIDTH,oe.willPushPWMBadge,i]),ge=f.useMemo(()=>f.createElement("input",y$(g$({autoComplete:p.autoComplete||"one-time-code"},p),{"data-input-otp":!0,"data-input-otp-placeholder-shown":I.length===0||void 0,"data-input-otp-mss":$,"data-input-otp-mse":M,inputMode:u,pattern:A==null?void 0:A.source,"aria-placeholder":c,style:le,maxLength:a,value:I,ref:L,onPaste:ne=>{var ce;G(ne),(ce=p.onPaste)==null||ce.call(p,ne)},onChange:ue,onMouseOver:ne=>{var ce;C(!0),(ce=p.onMouseOver)==null||ce.call(p,ne)},onMouseLeave:ne=>{var ce;C(!1),(ce=p.onMouseLeave)==null||ce.call(p,ne)},onFocus:ne=>{var ce;T(),(ce=p.onFocus)==null||ce.call(p,ne)},onBlur:ne=>{var ce;U(!1),(ce=p.onBlur)==null||ce.call(p,ne)}})),[ue,T,G,u,le,a,M,$,p,A==null?void 0:A.source,I]),me=f.useMemo(()=>({slots:Array.from({length:a}).map((ne,ce)=>{var Pe;let ze=P&&$!==null&&M!==null&&($===M&&ce===$||ce>=$&&ce<M),mt=I[ce]!==void 0?I[ce]:null,je=I[0]!==void 0?null:(Pe=c==null?void 0:c[ce])!=null?Pe:null;return{char:mt,placeholderChar:je,isActive:ze,hasFakeCaret:ze&&mt===null}}),isFocused:P,isHovering:!p.disabled&&O}),[P,O,a,M,$,p.disabled,I]),De=f.useMemo(()=>g?g(me):f.createElement(i_.Provider,{value:me},w),[w,me,g]);return f.createElement(f.Fragment,null,b!==null&&f.createElement("noscript",null,f.createElement("style",null,b)),f.createElement("div",{ref:R,"data-input-otp-container":!0,style:te,className:y},De,f.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},ge)))});l_.displayName="Input";function Ka(e,t){try{e.insertRule(t)}catch{console.error("input-otp could not insert CSS rule:",t)}}var _$=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const c_=f.forwardRef(({className:e,containerClassName:t,...r},n)=>o.jsx(l_,{ref:n,containerClassName:ie("flex items-center gap-2 has-[:disabled]:opacity-50",t),className:ie("disabled:cursor-not-allowed",e),...r}));c_.displayName="InputOTP";const u_=f.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ie("flex items-center",e),...t}));u_.displayName="InputOTPGroup";const Rs=f.forwardRef(({index:e,className:t,...r},n)=>{const s=f.useContext(i_),{char:a,hasFakeCaret:i,isActive:l}=s.slots[e];return o.jsxs("div",{ref:n,className:ie("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",l&&"z-10 ring-2 ring-ring ring-offset-background",t),...r,children:[a,i&&o.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})})]})});Rs.displayName="InputOTPSlot";const E$=f.forwardRef(({...e},t)=>o.jsx("div",{ref:t,role:"separator",...e,children:o.jsx(Qk,{})}));E$.displayName="InputOTPSeparator";const C$=()=>{const e=at(),[t]=Uu(),[r,n]=f.useState("request"),[s,a]=f.useState(""),[i,l]=f.useState(""),[c,u]=f.useState(""),[d,h]=f.useState(""),[m,y]=f.useState(!1),[b,g]=f.useState(""),[w,p]=f.useState(!1);f.useEffect(()=>{const N=t.get("email");N&&(a(decodeURIComponent(N)),n("verify"))},[t]);const v=async N=>{N.preventDefault(),g(""),y(!0);try{const S=`${window.location.origin}/password-reset`,{error:_}=await J.auth.resetPasswordForEmail(s,{redirectTo:S});if(_)throw _;Ne.success("Verification code sent to your email"),n("verify")}catch(S){console.error("Send code error:",S),g(S.message||"Failed to send code. Please try again.")}finally{y(!1)}},x=async N=>{N.preventDefault(),g(""),y(!0);try{const{error:S}=await J.auth.verifyOtp({email:s,token:i,type:"recovery"});if(S)throw S;Ne.success("Code verified. Set your new password."),n("reset")}catch(S){console.error("Verify code error:",S),g(S.message||"Invalid or expired code. Please try again.")}finally{y(!1)}},j=async N=>{if(N.preventDefault(),g(""),c!==d){g("Passwords do not match");return}if(c.length<6){g("Password must be at least 6 characters long");return}y(!0);try{const{error:S}=await J.auth.updateUser({password:c});if(S)throw S;p(!0),Ne.success("Password updated successfully!"),setTimeout(()=>{e("/")},2e3)}catch(S){console.error("Password reset error:",S),g(S.message||"Failed to update password. Please try again.")}finally{y(!1)}};return w?o.jsx("div",{className:"min-h-screen bg-gradient-subtle flex items-center justify-center p-4",children:o.jsx(W,{className:"w-full max-w-md",children:o.jsxs(Y,{className:"flex flex-col items-center justify-center py-12",children:[o.jsx(Xs,{className:"w-16 h-16 text-green-500 mb-4"}),o.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Password Updated!"}),o.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Your password has been successfully updated. You will be redirected to the homepage shortly."})]})})}):o.jsx("div",{className:"min-h-screen bg-gradient-subtle flex items-center justify-center p-4",children:o.jsxs(W,{className:"w-full max-w-md",children:[o.jsxs(Z,{className:"text-center",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("div",{className:"p-3 rounded-full bg-primary/10",children:o.jsx(pe,{className:"w-8 h-8 text-primary"})})}),o.jsx(ee,{className:"text-2xl",children:"Reset Your Password"}),o.jsxs(qe,{children:[r==="request"&&"Enter your email to get a verification code",r==="verify"&&"Enter the 6-digit code we sent to your email",r==="reset"&&"Set a new password for your account"]})]}),o.jsxs(Y,{children:[b&&o.jsxs(ud,{variant:"destructive",className:"mb-4",children:[o.jsx(Y0,{className:"h-4 w-4"}),o.jsx(dd,{children:b})]}),r==="request"&&o.jsxs("form",{onSubmit:v,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(tt,{htmlFor:"email",children:"Email"}),o.jsx(ut,{id:"email",type:"email",placeholder:"you@example.com",value:s,onChange:N=>a(N.target.value),required:!0,disabled:m})]}),o.jsxs(H,{type:"submit",className:"w-full",disabled:m||!s,children:[m&&o.jsx(wn,{className:"mr-2 h-4 w-4 animate-spin"}),"Send Code"]}),o.jsx("div",{className:"text-center",children:o.jsx(H,{type:"button",variant:"link",onClick:()=>e("/"),className:"text-sm",children:"Back to Home"})})]}),r==="verify"&&o.jsxs("form",{onSubmit:x,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(tt,{htmlFor:"email",children:"Email"}),o.jsx(ut,{id:"email",type:"email",placeholder:"you@example.com",value:s,onChange:N=>a(N.target.value),required:!0,disabled:m})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(tt,{children:"Verification Code"}),o.jsx(c_,{maxLength:6,value:i,onChange:l,children:o.jsxs(u_,{children:[o.jsx(Rs,{index:0}),o.jsx(Rs,{index:1}),o.jsx(Rs,{index:2}),o.jsx(Rs,{index:3}),o.jsx(Rs,{index:4}),o.jsx(Rs,{index:5})]})})]}),o.jsxs(H,{type:"submit",className:"w-full",disabled:m||!s||i.length!==6,children:[m&&o.jsx(wn,{className:"mr-2 h-4 w-4 animate-spin"}),"Verify Code"]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(H,{type:"button",variant:"ghost",onClick:()=>n("request"),children:"Back"}),o.jsx(H,{type:"button",variant:"link",onClick:async()=>{y(!0),g("");try{const N=`${window.location.origin}/password-reset`,{error:S}=await J.auth.resetPasswordForEmail(s,{redirectTo:N});if(S)throw S;Ne.success("Code resent")}catch(N){g(N.message||"Failed to resend code")}finally{y(!1)}},children:"Resend Code"})]})]}),r==="reset"&&o.jsxs("form",{onSubmit:j,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(tt,{htmlFor:"password",children:"New Password"}),o.jsx(ut,{id:"password",type:"password",placeholder:"Enter your new password",value:c,onChange:N=>u(N.target.value),required:!0,minLength:6,disabled:m})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(tt,{htmlFor:"confirmPassword",children:"Confirm Password"}),o.jsx(ut,{id:"confirmPassword",type:"password",placeholder:"Confirm your new password",value:d,onChange:N=>h(N.target.value),required:!0,minLength:6,disabled:m})]}),o.jsxs(H,{type:"submit",className:"w-full",disabled:m||!c||!d,children:[m&&o.jsx(wn,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Password"]}),o.jsx("div",{className:"text-center",children:o.jsx(H,{type:"button",variant:"link",onClick:()=>e("/"),className:"text-sm",children:"Back to Home"})})]})]})]})})};function k$(){const[e,t]=f.useState(""),[r,n]=f.useState(""),[s,a]=f.useState(!1),[i,l]=f.useState(""),[c,u]=f.useState(!1),d=at(),[h]=Uu();f.useEffect(()=>{const y=h.get("access_token"),b=h.get("refresh_token");(!y||!b)&&l("Invalid or expired reset link. Please request a new password reset.")},[h]);const m=async y=>{if(y.preventDefault(),l(""),e!==r){l("Passwords do not match");return}if(e.length<6){l("Password must be at least 6 characters long");return}a(!0);try{const b=h.get("access_token"),g=h.get("refresh_token");if(!b||!g)throw new Error("Invalid reset link");const{error:w}=await J.auth.setSession({access_token:b,refresh_token:g});if(w)throw w;const{error:p}=await J.auth.updateUser({password:e});if(p)throw p;await J.auth.signOut(),u(!0),Ne.success("Password updated successfully!"),setTimeout(()=>{d("/auth")},2e3)}catch(b){console.error("Password reset error:",b),l(b.message||"Failed to reset password. Please try again."),Ne.error("Failed to reset password")}finally{a(!1)}};return c?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-accent/5 flex items-center justify-center p-4",children:o.jsx(W,{className:"w-full max-w-md",children:o.jsxs(Z,{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(pe,{className:"w-8 h-8 text-primary"})}),o.jsx(ee,{className:"text-2xl font-bold",children:"Password Updated!"}),o.jsx(qe,{children:"Your password has been successfully updated. You'll be redirected to sign in shortly."})]})})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-accent/5 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md space-y-6",children:[o.jsxs(H,{variant:"ghost",onClick:()=>d("/"),className:"mb-4",children:[o.jsx($r,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),o.jsxs(W,{children:[o.jsxs(Z,{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(pe,{className:"w-8 h-8 text-primary"})}),o.jsx(ee,{className:"text-2xl font-bold",children:"HeartLift"}),o.jsx(qe,{children:"Create your new password"})]}),o.jsx(Y,{children:o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[i&&o.jsx(ud,{variant:"destructive",children:o.jsx(dd,{children:i})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(tt,{htmlFor:"password",children:"New Password"}),o.jsx(ut,{id:"password",type:"password",value:e,onChange:y=>t(y.target.value),required:!0,minLength:6,disabled:s,placeholder:"Enter your new password"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(tt,{htmlFor:"confirmPassword",children:"Confirm New Password"}),o.jsx(ut,{id:"confirmPassword",type:"password",value:r,onChange:y=>n(y.target.value),required:!0,minLength:6,disabled:s,placeholder:"Confirm your new password"})]}),o.jsx(H,{type:"submit",className:"w-full",disabled:s||!e||!r,children:s?"Updating Password...":"Update Password"})]})})]})]})})}function P$(){const[e,t]=f.useState(""),[r,n]=f.useState(!1),[s,a]=f.useState(""),[i,l]=f.useState(!1),[c,u]=f.useState(!1),d=at(),[h]=Uu(),m=h.get("email");f.useEffect(()=>{m||d("/auth")},[m,d]);const y=async g=>{if(g.preventDefault(),a(""),e.length!==6){a("Please enter a 6-digit verification code");return}n(!0);try{const{error:w}=await J.auth.verifyOtp({email:m,token:e,type:"signup"});if(w)throw w;l(!0),Ne.success("Email verified successfully! You're now signed in."),setTimeout(()=>{d("/")},2e3)}catch(w){console.error("Verification error:",w),a(w.message||"Failed to verify email. Please try again."),Ne.error("Failed to verify email")}finally{n(!1)}},b=async()=>{if(m){u(!0),a("");try{const{error:g}=await J.auth.resend({type:"signup",email:m});if(g)throw g;Ne.success("Verification code resent!")}catch(g){console.error("Resend error:",g),a(g.message||"Failed to resend code. Please try again."),Ne.error("Failed to resend code")}finally{u(!1)}}};return i?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-accent/5 flex items-center justify-center p-4",children:o.jsx(W,{className:"w-full max-w-md",children:o.jsxs(Z,{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(pe,{className:"w-8 h-8 text-primary"})}),o.jsx(ee,{className:"text-2xl font-bold",children:"Email Verified!"}),o.jsx(qe,{children:"Your email has been successfully verified and you're now signed in!"})]})})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-accent/5 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md space-y-6",children:[o.jsxs(H,{variant:"ghost",onClick:()=>d("/auth"),className:"mb-4",children:[o.jsx($r,{className:"w-4 h-4 mr-2"}),"Back to Sign In"]}),o.jsxs(W,{children:[o.jsxs(Z,{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(pe,{className:"w-8 h-8 text-primary"})}),o.jsx(ee,{className:"text-2xl font-bold",children:"Verify Your Email"}),o.jsxs(qe,{children:["We've sent a 6-digit verification code to ",m]})]}),o.jsx(Y,{children:o.jsxs("form",{onSubmit:y,className:"space-y-4",children:[s&&o.jsx(ud,{variant:"destructive",children:o.jsx(dd,{children:s})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(tt,{htmlFor:"code",children:"Verification Code"}),o.jsx(ut,{id:"code",type:"text",value:e,onChange:g=>t(g.target.value.replace(/\D/g,"").slice(0,6)),required:!0,maxLength:6,disabled:r,placeholder:"Enter 6-digit code",className:"text-center text-lg tracking-widest"})]}),o.jsx(H,{type:"submit",className:"w-full",disabled:r||e.length!==6,children:r?"Verifying...":"Verify Email"}),o.jsx("div",{className:"text-center",children:o.jsx(H,{type:"button",variant:"ghost",size:"sm",onClick:b,disabled:c,className:"text-sm text-muted-foreground hover:text-primary",children:c?"Sending...":"Didn't receive the code? Resend"})})]})})]})]})})}const R$=()=>{const e=at();return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-muted to-secondary",children:o.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[o.jsx("div",{className:"flex items-center gap-4 mb-8",children:o.jsxs(H,{variant:"ghost",size:"sm",onClick:()=>e("/"),className:"flex items-center gap-2",children:[o.jsx($r,{className:"w-4 h-4"}),"Back to Home"]})}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"p-4 rounded-full bg-gradient-to-r from-primary to-primary-glow shadow-lg",children:o.jsx(da,{className:"w-8 h-8 text-primary-foreground"})})}),o.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"HeartLift Privacy Policy"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Your privacy and emotional wellbeing are our top priorities"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Effective Date: 29/10/2025 | Last Updated: 29/10/2025"})]}),o.jsxs(W,{children:[o.jsx(Z,{children:o.jsxs(ee,{className:"flex items-center gap-2",children:[o.jsx(Fc,{className:"w-5 h-5 text-primary"}),"Data We Collect"]})}),o.jsx(Y,{className:"space-y-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Account Information"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[o.jsx("li",{children:"Name, email, and password (stored via Supabase authentication)"}),o.jsx("li",{children:"User preferences and selected AI coach"}),o.jsx("li",{children:"Premium subscription status"})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Chat & Conversation Data"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[o.jsx("li",{children:"Your messages and AI coach responses (stored in Supabase)"}),o.jsx("li",{children:"Conversation timestamps and session IDs"}),o.jsx("li",{children:"Selected coach preferences and conversation history"}),o.jsx("li",{children:"Messages persist across sessions until you refresh or start a new day"})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Daily Reflections & Personal Data"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[o.jsx("li",{children:"Daily reflection entries (stored in Supabase)"}),o.jsx("li",{children:"Coaches chatted with, conversation ratings, helpful moments, areas for improvement"}),o.jsx("li",{children:"Used by AI coaches to personalize future conversations"}),o.jsx("li",{children:"You can view and access all past reflections anytime"})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Quiz & Assessment Data"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[o.jsx("li",{children:"Attachment style quiz responses and results (stored in Supabase)"}),o.jsx("li",{children:"Quiz analysis, attachment style classifications, and personalized recommendations"}),o.jsx("li",{children:"Quiz completion dates and historical results"})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Insights & Reports"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[o.jsx("li",{children:"Generated personalized insights reports (stored in Supabase)"}),o.jsx("li",{children:"Analysis of emotional patterns, communication styles, and relationship goals"}),o.jsx("li",{children:"Healing progress scores and personalized recommendations"}),o.jsx("li",{children:"All past reports accessible anytime through your account"})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Usage Tracking Data (Free Users)"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[o.jsx("li",{children:"Daily message count to enforce 10 message limit (stored in Supabase)"}),o.jsx("li",{children:"Automatically resets at midnight UTC"}),o.jsx("li",{children:"Retained for 7 days, then automatically deleted"})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Technical Data"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[o.jsx("li",{children:"Device information, operating system, app version"}),o.jsx("li",{children:"IP address and usage analytics (for improving service)"}),o.jsx("li",{children:"Error logs and performance metrics"})]})]})]})})]}),o.jsxs(W,{children:[o.jsx(Z,{children:o.jsxs(ee,{className:"flex items-center gap-2",children:[o.jsx(rn,{className:"w-5 h-5 text-primary"}),"How We Use Your Data"]})}),o.jsxs(Y,{className:"space-y-4",children:[o.jsx("p",{children:"We use your information to:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Provide personalised AI coaching:"})," Your daily reflections are accessed by AI coaches to tailor conversations to what you want to explore and work on"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Track attachment styles:"})," Quiz results help provide personalized insights and recommendations"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Generate insights reports:"})," Analyze your conversations, mood entries, and reflections to create comprehensive personalized reports"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Enforce usage limits:"})," Track message counts for free users (10 messages/day, resets at midnight UTC)"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Improve our app and AI systems:"})," Only anonymized data is used for service improvements"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Communicate important updates:"})," Security alerts, policy changes, and feature announcements"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Provide crisis support:"})," AI coaches detect sensitive topics and redirect to appropriate helplines (UK Samaritans, National Domestic Abuse Helpline, etc.)"]})]}),o.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mt-4",children:[o.jsx("p",{className:"font-semibold text-amber-800",children:"Important Note on Personalization:"}),o.jsx("p",{className:"text-sm text-amber-700 mt-2",children:"When you fill out daily reflections, your AI coaches can access your last 3 reflections to personalize conversations based on what you want to explore. This helps coaches naturally weave in topics you're working on without you having to repeat yourself."})]}),o.jsx("p",{className:"font-semibold text-primary mt-4",children:"Your chat data and reflections will NEVER be shared with third parties, sold, or used for advertising."})]})]}),o.jsxs(W,{children:[o.jsx(Z,{children:o.jsxs(ee,{className:"flex items-center gap-2",children:[o.jsx(Yk,{className:"w-5 h-5 text-primary"}),"Data Storage & Security"]})}),o.jsx(Y,{className:"space-y-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Storage Infrastructure:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Supabase (PostgreSQL):"})," User authentication, chat conversations, quiz results"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Supabase (PostgreSQL):"})," All application data including authentication, conversations, daily reflections, insights reports, usage tracking, HeartVisions gallery, and quiz results"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"OpenAI API:"})," AI coach responses processed via OpenAI GPT-4o-mini (conversation data is NOT stored by OpenAI)"]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Security Measures:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Encryption:"})," Data is encrypted both in transit (SSL/TLS) and at rest"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Access Control:"})," Only you can access your account via secure authentication"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Row Level Security (RLS):"})," Supabase enforces strict data isolation between users"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Password Protection:"})," Leaked password protection prevents use of compromised passwords"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"API Security:"})," Backend APIs use secure authentication and rate limiting"]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Data Processing:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm",children:[o.jsx("li",{children:"AI processing happens server-side through our FastAPI backend"}),o.jsx("li",{children:"Conversation context (last 5 messages) sent to AI for continuity"}),o.jsx("li",{children:"Your recent reflections (last 3) shared with AI coaches for personalization"}),o.jsx("li",{children:"No data is stored on your device except session tokens"})]})]})]})})]}),o.jsxs(W,{children:[o.jsx(Z,{children:o.jsxs(ee,{className:"flex items-center gap-2",children:[o.jsx(yt,{className:"w-5 h-5 text-primary"}),"Data Retention"]})}),o.jsxs(Y,{className:"space-y-3",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Chat Conversations:"}),o.jsx("p",{className:"text-sm",children:"Retained until you refresh the page or start a new day. Stored persistently in database to maintain conversation context across sessions."})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Daily Reflections:"}),o.jsx("p",{className:"text-sm",children:"Retained indefinitely to allow you to track your personal journey. You can view all past reflections anytime."})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Quiz Results:"}),o.jsx("p",{className:"text-sm",children:"Retained indefinitely so you can review your attachment style history and track changes over time."})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Insights Reports:"}),o.jsx("p",{className:"text-sm",children:"Retained indefinitely so you can track your personal growth journey. You can view all past insights reports anytime."})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Usage Tracking Data:"}),o.jsxs("p",{className:"text-sm",children:[o.jsx("strong",{children:"Automatically deleted after 7 days."})," Only used to enforce daily message limits for free users."]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Account Information:"}),o.jsx("p",{className:"text-sm",children:"Retained until you delete your account. After deletion, all personal data is permanently removed within 30 days."})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Technical & Analytics Data:"}),o.jsx("p",{className:"text-sm",children:"Retained 612 months, anonymized where possible."})]})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4",children:[o.jsx("p",{className:"font-semibold text-blue-800",children:"Your Data Control:"}),o.jsx("p",{className:"text-sm text-blue-700 mt-2",children:"Users can request deletion of any data at any time by contacting support@heart-lift.com. Account deletion removes all associated data permanently within 30 days."})]})]})]}),o.jsxs(W,{children:[o.jsx(Z,{children:o.jsxs(ee,{className:"flex items-center gap-2",children:[o.jsx(tP,{className:"w-5 h-5 text-primary"}),"International Data Transfers"]})}),o.jsx(Y,{children:o.jsx("p",{children:"By using HeartLift, you consent to your data being stored and processed in the United Kingdom, which may have different data protection laws than your location."})})]}),o.jsxs(W,{children:[o.jsx(Z,{children:o.jsxs(ee,{className:"flex items-center gap-2",children:[o.jsx(da,{className:"w-5 h-5 text-primary"}),"Age Restrictions"]})}),o.jsx(Y,{children:o.jsxs("p",{children:["HeartLift is intended for users ",o.jsx("strong",{children:"13 years and older"}),". We do not knowingly collect personal data from children under 13."]})})]}),o.jsxs(W,{children:[o.jsx(Z,{children:o.jsxs(ee,{className:"flex items-center gap-2",children:[o.jsx(oP,{className:"w-5 h-5 text-primary"}),"Your Rights"]})}),o.jsxs(Y,{className:"space-y-4",children:[o.jsx("p",{children:"You have full control over your personal data:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Access:"})," Request a copy of your stored data"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Deletion:"})," Request deletion of your account and all data"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Portability:"})," Export your data in a readable format"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Correction:"})," Update or correct inaccurate information"]})]}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-4",children:["To exercise these rights, contact us at"," ",o.jsx("a",{href:"mailto:support@heart-lift.com",className:"text-primary hover:text-primary/80 underline",children:"support@heart-lift.com"})]})]})]}),o.jsxs(W,{children:[o.jsx(Z,{children:o.jsxs(ee,{className:"flex items-center gap-2",children:[o.jsx(pP,{className:"w-5 h-5 text-amber-500"}),"Sensitive Data & Safety"]})}),o.jsxs(Y,{className:"space-y-4",children:[o.jsx("p",{className:"font-semibold",children:"Our AI coaches provide guidance but cannot replace professional help. They do NOT provide support for:"}),o.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:o.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-sm text-amber-700",children:[o.jsx("li",{children:"Suicide or self-harm"}),o.jsx("li",{children:"Drug or substance abuse"}),o.jsx("li",{children:"Domestic abuse or violence"}),o.jsx("li",{children:"Child abuse"}),o.jsx("li",{children:"Sexual assault or trauma"}),o.jsx("li",{children:"Eating disorders"}),o.jsx("li",{children:"Severe mental health crises"})]})}),o.jsxs("p",{className:"text-sm mt-2",children:[o.jsx("strong",{children:"When these topics are detected,"})," our AI coaches immediately stop and provide crisis helpline resources instead of attempting to provide support."]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-3",children:[o.jsx("h4",{className:"font-semibold mb-2 text-blue-800",children:"Emergency Resources (UK):"}),o.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Samaritans:"})," 116 123 (24/7, free to call)"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Crisis Text Line UK:"})," Text SHOUT to 85258"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"National Domestic Abuse Helpline:"})," 0808 2000 247"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Rape Crisis England & Wales:"})," 0808 500 2222"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"FRANK (Drug Support):"})," 0300 123 6600"]})]})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-3",children:[o.jsx("h4",{className:"font-semibold mb-2 text-blue-800",children:"Emergency Resources (US):"}),o.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"National Suicide Prevention Lifeline:"})," 988 or 1-800-273-8255"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Crisis Text Line:"})," Text HOME to 741741"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"National Domestic Violence Hotline:"})," 1-800-799-7233"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"RAINN Sexual Assault Hotline:"})," 1-800-656-4673"]})]})]})]})]}),o.jsxs(W,{children:[o.jsx(Z,{children:o.jsxs(ee,{className:"flex items-center gap-2",children:[o.jsx(Gk,{className:"w-5 h-5 text-primary"}),"Cookies & Analytics"]})}),o.jsx(Y,{children:o.jsx("p",{children:"We may use cookies and analytics to improve your experience. This data is anonymized and cannot identify you personally."})})]}),o.jsxs(W,{children:[o.jsx(Z,{children:o.jsxs(ee,{className:"flex items-center gap-2",children:[o.jsx(Xk,{className:"w-5 h-5 text-primary"}),"Policy Updates"]})}),o.jsx(Y,{children:o.jsx("p",{children:"We may update this Privacy Policy occasionally. Significant changes will be communicated via in-app notifications or email. We encourage you to review this page periodically."})})]}),o.jsxs(W,{children:[o.jsx(Z,{children:o.jsx(ee,{children:"Contact Us"})}),o.jsxs(Y,{children:[o.jsx("p",{children:"For questions about this Privacy Policy or your data:"}),o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:"Email:"})," ",o.jsx("a",{href:"mailto:support@heart-lift.com",className:"text-primary hover:text-primary/80 underline",children:"support@heart-lift.com"})]})]})]})]})]})})};function T$(){const e=at();return o.jsx("div",{className:"min-h-screen py-16 px-4 bg-gradient-to-br from-background via-muted to-secondary",children:o.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[o.jsxs(H,{variant:"gentle",onClick:()=>e(-1),className:"mb-4",children:[o.jsx($r,{className:"w-4 h-4 mr-2"}),"Back"]}),o.jsxs(W,{className:"shadow-gentle",children:[o.jsxs(Z,{children:[o.jsx(ee,{className:"text-3xl font-bold bg-gradient-to-r from-primary to-primary-glow bg-clip-text text-transparent",children:"Terms of Service"}),o.jsx("p",{className:"text-muted-foreground",children:"Last updated: 29/10/2025"})]}),o.jsxs(Y,{className:"prose prose-slate dark:prose-invert max-w-none space-y-8",children:[o.jsxs("section",{className:"pb-4 border-b border-border/50",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"1. Acceptance of Terms"}),o.jsxs("p",{className:"text-base leading-relaxed",children:["By accessing or using ",o.jsx("strong",{children:"HeartLift"}),' ("the Service"), you ',o.jsx("strong",{children:"agree to be bound"}),' by these Terms of Service ("Terms"). If you do not agree, ',o.jsx("strong",{children:"please do not use the Service"}),"."]})]}),o.jsxs("section",{className:"pb-4 border-b border-border/50",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"2. Service Description"}),o.jsxs("p",{className:"text-base leading-relaxed mb-4",children:["HeartLift provides ",o.jsx("strong",{children:"relationship wellbeing tools"})," and ",o.jsx("strong",{children:"AI-powered coaching experiences"})," to support users with relationships, breakups, and emotional growth. Features may include:"]}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2 mb-4",children:[o.jsx("li",{className:"text-base",children:"AI-powered relationship and emotional wellbeing coaching with 4 distinct coach personalities"}),o.jsx("li",{className:"text-base",children:"Daily attachment style quizzes with AI-generated questions"}),o.jsx("li",{className:"text-base",children:"Personalised insights reports analyzing your emotional patterns and growth"}),o.jsx("li",{className:"text-base",children:"Daily reflection tracking to help coaches personalize conversations"}),o.jsx("li",{className:"text-base",children:"Conversation history that persists across sessions"}),o.jsx("li",{className:"text-base",children:"Emotional wellness resources and crisis support redirection"}),o.jsx("li",{className:"text-base",children:"Free tier: 10 messages per day (resets at midnight UTC)"}),o.jsx("li",{className:"text-base",children:"Premium features for unlimited messaging and additional tools"})]}),o.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/30 p-5 rounded-lg mt-4",children:[o.jsx("p",{className:"font-bold text-lg mb-2 text-amber-900 dark:text-amber-200",children:" Important Disclaimer"}),o.jsxs("p",{className:"text-base leading-relaxed text-foreground",children:["HeartLift's AI coaches are ",o.jsx("strong",{children:"virtual wellbeing companions"}),". They are ",o.jsx("strong",{children:"NOT licensed therapists or medical professionals"}),". All guidance is for ",o.jsx("strong",{children:"informational and self-development purposes only"})," and should ",o.jsx("strong",{children:"NOT be considered therapy, counselling, or medical advice"}),"."]})]})]}),o.jsxs("section",{className:"pb-4 border-b border-border/50",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"3. Service Limitations and Crisis Support"}),o.jsxs("p",{className:"font-bold text-lg text-foreground mb-3",children:[" HeartLift ",o.jsx("strong",{children:"does NOT provide"})," professional mental health or crisis support. Our AI coaches ",o.jsx("strong",{children:"cannot and do not assist"})," with:"]}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-destructive font-semibold text-base mb-4",children:[o.jsx("li",{children:"Suicide ideation or self-harm"}),o.jsx("li",{children:"Child abuse or child safety concerns"}),o.jsx("li",{children:"Domestic violence or abuse situations"}),o.jsx("li",{children:"Drug or substance misuse"}),o.jsx("li",{children:"Sexual assault or trauma"}),o.jsx("li",{children:"Eating disorders"}),o.jsx("li",{children:"Clinical mental health conditions requiring professional treatment"})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[o.jsx("p",{className:"font-semibold text-blue-800 mb-2",children:"Automatic Crisis Detection:"}),o.jsx("p",{className:"text-sm text-blue-700",children:"Our AI coaches are programmed to detect crisis situations and immediately redirect users to appropriate professional helplines rather than attempting to provide support. This is a safety feature to ensure you get proper care when needed."})]}),o.jsxs("div",{className:"bg-destructive/15 p-6 rounded-lg border-2 border-destructive/40 mt-4",children:[o.jsx("p",{className:"font-bold text-xl mb-4 text-destructive",children:" Crisis Resources"}),o.jsxs("p",{className:"font-bold text-base mb-3 text-foreground",children:["If you are in crisis or feel unsafe, ",o.jsx("strong",{className:"underline",children:"DO NOT use HeartLift"}),". Instead, contact your local emergency services or a trusted helpline:"]}),o.jsxs("ul",{className:"list-none space-y-3 text-base",children:[o.jsxs("li",{className:"bg-background/50 p-3 rounded-md",children:[o.jsx("strong",{className:"text-foreground",children:"UK:"})," ",o.jsx("span",{className:"font-bold text-destructive",children:"999"})," (Emergency Services) / Samaritans at ",o.jsx("span",{className:"font-bold text-destructive",children:"116 123"})]}),o.jsxs("li",{className:"bg-background/50 p-3 rounded-md",children:[o.jsx("strong",{className:"text-foreground",children:"US:"})," ",o.jsx("span",{className:"font-bold text-destructive",children:"911"})," (Emergency Services) / ",o.jsx("span",{className:"font-bold text-destructive",children:"988"})," Suicide & Crisis Lifeline"]}),o.jsxs("li",{className:"bg-background/50 p-3 rounded-md",children:[o.jsx("strong",{className:"text-foreground",children:"Child Protection (UK):"})," NSPCC  ",o.jsx("span",{className:"font-bold text-destructive",children:"0808 800 5000"})]})]})]})]}),o.jsxs("section",{className:"pb-4 border-b border-border/50",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"4. User Conduct and Prohibited Content"}),o.jsx("p",{className:"text-base leading-relaxed mb-3 font-medium",children:"You agree to:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-base mb-4",children:[o.jsxs("li",{children:["Provide ",o.jsx("strong",{children:"accurate, truthful information"})," when using the Service"]}),o.jsxs("li",{children:["Use HeartLift only for ",o.jsx("strong",{children:"lawful, personal, and non-commercial purposes"})]}),o.jsxs("li",{children:["Avoid ",o.jsx("strong",{children:"harmful, abusive, or inappropriate behavior"})]}),o.jsx("li",{children:"Respect the limits of our AI wellbeing tools"}),o.jsxs("li",{children:[o.jsx("strong",{children:"Seek professional help when needed"})," for serious mental health or crisis situations"]}),o.jsxs("li",{children:["Understand that ",o.jsx("strong",{children:"daily reflections are accessed by AI coaches"})," to personalize your experience"]}),o.jsxs("li",{children:["Accept that ",o.jsx("strong",{children:"conversation history persists across sessions"})," until refresh or new day"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Free tier users:"})," Respect the 10 messages per day limit (resets at midnight UTC)"]})]}),o.jsxs("div",{className:"bg-red-50 border border-red-300 rounded-lg p-5 mt-4",children:[o.jsx("p",{className:"font-bold text-lg mb-3 text-red-800",children:" Prohibited Content (Age 13+)"}),o.jsxs("p",{className:"text-base leading-relaxed text-red-900 mb-3",children:["HeartLift is designed for ages ",o.jsx("strong",{children:"13 and older"})," and focuses on ",o.jsx("strong",{children:"emotional wellbeing and relationship support"}),". The following content is ",o.jsx("strong",{children:"strictly prohibited"}),":"]}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-base text-red-900",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Sexually explicit messages"}),", sexual acts, fantasies, or explicit descriptions"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Inappropriate romantic or sexual advances"})," toward AI coaches"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Sexual health questions"})," (STIs, contraception, etc.) - Please consult NHS Sexual Health Services or your healthcare provider"]}),o.jsxs("li",{children:["Any content that would be ",o.jsx("strong",{children:"inappropriate for ages 13+"})]}),o.jsx("li",{children:"Harassment, threats, or abusive language"}),o.jsx("li",{children:"Illegal activities or content"})]}),o.jsxs("p",{className:"text-base leading-relaxed text-red-900 mt-3 font-semibold",children:["AI coaches will ",o.jsx("strong",{children:"immediately stop and redirect"})," if you attempt to engage in prohibited content. Repeated violations may result in ",o.jsx("strong",{children:"account suspension or termination"}),"."]})]})]}),o.jsxs("section",{className:"pb-4 border-b border-border/50",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"5. Eligibility"}),o.jsxs("p",{className:"text-base leading-relaxed mb-3",children:["You must be ",o.jsx("strong",{children:"at least 13 years old"})," to use HeartLift. By using the Service, you ",o.jsx("strong",{children:"confirm that you meet this age requirement"}),"."]}),o.jsxs("p",{className:"text-base leading-relaxed",children:["HeartLift is ",o.jsx("strong",{children:"not directed at children under 13"}),", and we do ",o.jsx("strong",{children:"not knowingly collect personal data"})," from anyone under this age. If we become aware that a user under 13 has registered, we will take steps to delete their information promptly."]})]}),o.jsxs("section",{className:"pb-4 border-b border-border/50",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"6. Payment and Subscriptions"}),o.jsxs("p",{className:"text-base leading-relaxed mb-4",children:["Certain features of HeartLift require a ",o.jsx("strong",{children:"paid subscription"}),". Payments are securely processed through ",o.jsx("strong",{children:"Apple's In-App Purchase (IAP) system"}),"."]}),o.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-5 mb-4",children:[o.jsx("h3",{className:"text-xl font-bold mb-3 text-foreground",children:"HeartLift Premium Subscription"}),o.jsxs("ul",{className:"space-y-2 text-base",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Subscription Name:"})," HeartLift Premium"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Price:"})," 11.99 per month (GBP)"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Length:"})," 1 month (auto-renewable)"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Benefits:"}),o.jsxs("ul",{className:"list-disc pl-6 mt-2 space-y-1",children:[o.jsx("li",{children:"Unlimited messages with all AI coaches"}),o.jsx("li",{children:"Access to Personalized Insights & Reports"}),o.jsx("li",{children:"HeartVisions AI image generation"}),o.jsx("li",{children:"Advanced attachment style analysis"}),o.jsx("li",{children:"Priority support"})]})]})]})]}),o.jsx("h3",{className:"text-lg font-bold mb-3 text-foreground",children:"Subscription Terms:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-base",children:[o.jsx("li",{children:"Payment will be charged to your Apple ID account at confirmation of purchase"}),o.jsxs("li",{children:["Subscriptions ",o.jsx("strong",{children:"automatically renew"})," unless cancelled at least ",o.jsx("strong",{children:"24 hours before the end of the current period"})]}),o.jsxs("li",{children:["Your account will be charged for renewal ",o.jsx("strong",{children:"within 24 hours prior to the end"})," of the current billing period"]}),o.jsxs("li",{children:["You may ",o.jsx("strong",{children:"manage or cancel your subscription"})," at any time by going to your device's Account Settings  Subscriptions after purchase"]}),o.jsx("li",{children:"Any unused portion of a free trial period, if offered, will be forfeited when you purchase a subscription"}),o.jsxs("li",{children:[o.jsx("strong",{children:"No refunds:"})," Refunds are not provided for any unused portion of the subscription term, except where required by law"]})]}),o.jsxs("p",{className:"text-base leading-relaxed mt-4",children:["For more information on managing subscriptions, visit: ",o.jsx("a",{href:"https://support.apple.com/en-us/HT202039",target:"_blank",rel:"noopener noreferrer",className:"text-primary underline hover:text-primary-glow",children:"Apple Support - Manage Subscriptions"})]})]}),o.jsxs("section",{className:"pb-4 border-b border-border/50",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"7. Intellectual Property"}),o.jsxs("p",{className:"text-base leading-relaxed",children:["All content, features, designs, and functionality of HeartLift are ",o.jsx("strong",{children:"owned by us or our licensors"})," and are ",o.jsx("strong",{children:"protected by copyright, trademark, and other intellectual property laws"}),". You may ",o.jsx("strong",{children:"not reproduce, distribute, or modify"})," any part of the Service without written permission."]}),o.jsxs("p",{className:"text-base leading-relaxed mt-2",children:[o.jsx("strong",{children:" 2025 HeartLift."})," All rights reserved."]})]}),o.jsxs("section",{className:"pb-4 border-b border-border/50",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"8. Limitation of Liability"}),o.jsxs("p",{className:"text-base leading-relaxed mb-3",children:["HeartLift provides wellbeing guidance and digital support tools. We ",o.jsx("strong",{children:"make no guarantees regarding accuracy or outcomes"}),"and are ",o.jsx("strong",{children:"not liable for any loss, harm, or decision"})," made based on the information provided."]}),o.jsxs("p",{className:"text-base leading-relaxed font-medium",children:["The Service is provided ",o.jsx("strong",{children:'"as is"'})," and ",o.jsx("strong",{children:'"as available"'}),", without warranties of any kind."]})]}),o.jsxs("section",{className:"pb-4 border-b border-border/50",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"9. Data Collection and Usage"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-base leading-relaxed",children:"By using HeartLift, you acknowledge and agree that:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-base",children:[o.jsxs("li",{children:["Your ",o.jsx("strong",{children:"daily reflections are stored"})," and accessed by AI coaches to personalize future conversations"]}),o.jsxs("li",{children:["Your ",o.jsx("strong",{children:"conversation history is retained"})," until you refresh the page or start a new day"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Quiz results and analyses"})," are stored indefinitely for you to review your personal growth"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Insights reports"})," are generated from your conversations and reflections, stored indefinitely for you to track your journey"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Free users:"})," Message counts are tracked daily (automatically deleted after 7 days)"]}),o.jsxs("li",{children:["Your data is stored securely in ",o.jsx("strong",{children:"Supabase"}),", which includes authentication, conversations, quizzes, reflections, insights reports, usage tracking, and all user-generated content"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"AI processing:"})," Your messages and recent reflections are sent to OpenAI GPT-4o-mini for generating coach responses (not stored by OpenAI)"]})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4",children:[o.jsx("p",{className:"font-semibold text-blue-800 mb-2",children:"Personalization Feature:"}),o.jsx("p",{className:"text-sm text-blue-700",children:"To provide personalized coaching, your AI coaches can access your last 3 daily reflections. This helps them understand what you're working on and naturally weave those topics into conversations. This feature enhances your experience but requires sharing your reflection data with the AI system."})]}),o.jsxs("p",{className:"text-base leading-relaxed font-medium mt-4",children:["For complete details on how we collect, use, store, and protect your data, please review our",o.jsx("strong",{children:" Privacy Policy"}),"."]})]})]}),o.jsxs("section",{className:"pb-4 border-b border-border/50",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"10. Privacy"}),o.jsxs("p",{className:"text-base leading-relaxed",children:[o.jsx("strong",{children:"Your privacy is important to us."})," Please review our Privacy Policy to understand how we collect, use, and protect your personal information."]})]}),o.jsxs("section",{className:"pb-4 border-b border-border/50",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"11. Termination"}),o.jsxs("p",{className:"text-base leading-relaxed",children:["We reserve the right to ",o.jsx("strong",{children:"suspend or terminate your account"}),", at our discretion and without notice, if you ",o.jsx("strong",{children:"violate these Terms or misuse the Service"}),"."]})]}),o.jsxs("section",{className:"pb-4 border-b border-border/50",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"12. Changes to Terms"}),o.jsxs("p",{className:"text-base leading-relaxed",children:["We may ",o.jsx("strong",{children:"update these Terms from time to time"}),'. The latest version will always be posted on this page with a revised "last updated" date. ',o.jsx("strong",{children:"Continued use of the Service after changes are posted constitutes acceptance of those changes."})]})]}),o.jsxs("section",{className:"pb-4 border-b border-border/50",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"13. Governing Law"}),o.jsxs("p",{className:"text-base leading-relaxed",children:["These Terms are governed by and construed in accordance with the ",o.jsx("strong",{children:"laws of the United Kingdom"}),", without regard to its conflict of law principles."]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"14. Contact Information"}),o.jsxs("p",{className:"text-base leading-relaxed",children:["For questions, feedback, or support, please contact us at:"," ",o.jsx("a",{href:"mailto:support@heart-lift.com",className:"text-primary hover:underline font-semibold",children:"support@heart-lift.com"})]})]})]})]})]})})}const I$=()=>{const e=ar();return f.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),o.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},A$=new BT,O$=()=>o.jsx(VT,{client:A$,children:o.jsx(gT,{children:o.jsxs(ID,{children:[o.jsx(e2,{}),o.jsx(I2,{}),o.jsx(WI,{children:o.jsxs(MI,{children:[o.jsx(Pt,{path:"/",element:o.jsx(Z5,{})}),o.jsx(Pt,{path:"/auth",element:o.jsx(a3,{})}),o.jsx(Pt,{path:"/premium-success",element:o.jsx(i3,{})}),o.jsx(Pt,{path:"/premium-purchase",element:o.jsx(l3,{})}),o.jsx(Pt,{path:"/healing-kit-purchase",element:o.jsx(c3,{})}),o.jsx(Pt,{path:"/subscription-management",element:o.jsx(u3,{})}),o.jsx(Pt,{path:"/healing-kit",element:o.jsx(g3,{})}),o.jsx(Pt,{path:"/advanced-tools",element:o.jsx(u$,{})}),o.jsx(Pt,{path:"/password-reset",element:o.jsx(C$,{})}),o.jsx(Pt,{path:"/reset-password",element:o.jsx(k$,{})}),o.jsx(Pt,{path:"/verify-email",element:o.jsx(P$,{})}),o.jsx(Pt,{path:"/privacy-policy",element:o.jsx(R$,{})}),o.jsx(Pt,{path:"/terms-of-service",element:o.jsx(T$,{})}),o.jsx(Pt,{path:"*",element:o.jsx(I$,{})})]})})]})})});x0(document.getElementById("root")).render(o.jsx(O$,{}));export{to as _};
